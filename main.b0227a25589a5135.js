"use strict";(self.webpackChunkSnowbirdApp=self.webpackChunkSnowbirdApp||[]).push([[179],{2011:(ht,xe,N)=>{N.d(xe,{Dh:()=>me,GT:()=>be,cc:()=>Fe,hO:()=>Ge,on:()=>q,pX:()=>he,xv:()=>Ee});var l=N(4650),B=N(127),O=N(5813);ht=N.hmd(ht);const ce=["ngOnDestroy"],he=(ve,et,tt,Le={})=>new Proxy(ve,{get:(Re,Te)=>tt.runOutsideAngular(()=>{var We;if(ve[Te])return!(null===(We=Le?.spy)||void 0===We)&&We.get&&Le.spy.get(Te,ve[Te]),ve[Te];if(ce.indexOf(Te)>-1)return()=>{};const le=et.toPromise().then(pe=>{const Ce=pe&&pe[Te];return"function"==typeof Ce?Ce.bind(pe):Ce&&Ce.then?Ce.then(X=>tt.run(()=>X)):tt.run(()=>Ce)});return new Proxy(()=>{},{get:(pe,Ce)=>le[Ce],apply:(pe,Ce,X)=>le.then(ne=>{var _e;const ue=ne&&ne(...X);return!(null===(_e=Le?.spy)||void 0===_e)&&_e.apply&&Le.spy.apply(Te,X,ue),ue})})})}),be=(ve,et)=>{et.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(Le=>{Object.defineProperty(ve.prototype,Le,Object.getOwnPropertyDescriptor(tt.prototype||tt,Le))})})};class de{constructor(et){return et}}const me=new l.OlP("angularfire2.app.options"),Ee=new l.OlP("angularfire2.app.name");function q(ve,et,tt){const Re="object"==typeof tt&&tt||{};Re.name=Re.name||"string"==typeof tt&&tt||"[DEFAULT]";const We=B.Z.apps.filter(le=>le&&le.name===Re.name)[0]||et.runOutsideAngular(()=>B.Z.initializeApp(ve,Re));try{JSON.stringify(ve)!==JSON.stringify(We.options)&&W("error",`${We.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(We)}const W=(ve,...et)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ve](...et)},te={provide:de,useFactory:q,deps:[me,l.R0b,[new l.FiY,Ee]]};let Ge=(()=>{class ve{constructor(tt){B.Z.registerVersion("angularfire",O.q4.full,"core"),B.Z.registerVersion("angularfire",O.q4.full,"app-compat"),B.Z.registerVersion("angular",l.q4F.full,tt.toString())}static initializeApp(tt,Le){return{ngModule:ve,providers:[{provide:me,useValue:tt},{provide:Ee,useValue:Le}]}}}return ve.\u0275fac=function(tt){return new(tt||ve)(l.LFG(l.Lbi))},ve.\u0275mod=l.oAB({type:ve}),ve.\u0275inj=l.cJS({providers:[te]}),ve})();function Fe(ve,et,tt,Le,Re){const[,Te,We]=globalThis.\u0275AngularfireInstanceCache.find(le=>le[0]===ve)||[];if(Te)return function Ae(ve,et){try{return ve.toString()===et.toString()}catch{return ve===et}}(Re,We)||(Se("error",`${et} was already initialized on the ${tt} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),Se("warn",{is:Re,was:We})),Te;{const le=Le();return globalThis.\u0275AngularfireInstanceCache.push([ve,le,Re]),le}}const st=!!ht.hot,Se=(ve,...et)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ve](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,xe,N)=>{N.d(xe,{q4:()=>qi,iC:()=>Is,HU:()=>aa,vb:()=>Fr,JM:()=>Xa});var l=N(4650),B=N(5867),O=N(5861),ce=N(9681),he=N(2090),be=N(4859),de=N(1877),me=N(8766);const Ee="@firebase/installations",q="0.5.12",te=`w:${q}`,Ge="FIS_v2",et=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(I){return I instanceof he.ZR&&I.code.includes("request-failed")}function Le({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Re(I){return{token:I.token,requestStatus:2,expiresIn:ne(I.expiresIn),creationTime:Date.now()}}function Te(I,S){return We.apply(this,arguments)}function We(){return(We=(0,O.Z)(function*(I,S){const V=(yield S.json()).error;return et.create("request-failed",{requestName:I,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function le({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function pe(I,{refreshToken:S}){const k=le(I);return k.append("Authorization",function _e(I){return`${Ge} ${I}`}(S)),k}function Ce(I){return X.apply(this,arguments)}function X(){return(X=(0,O.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function ne(I){return Number(I.replace("s","000"))}function ue(I,S){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:S},{fid:k}){const V=Le(I),ee=le(I),ge=S.getImmediate({optional:!0});if(ge){const Tt=yield ge.getHeartbeatsHeader();Tt&&ee.append("x-firebase-client",Tt)}const Ze={method:"POST",headers:ee,body:JSON.stringify({fid:k,authVersion:Ge,appId:I.appId,sdkVersion:te})},mt=yield Ce(()=>fetch(V,Ze));if(mt.ok){const Tt=yield mt.json();return{fid:Tt.fid||k,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:Re(Tt.authToken)}}throw yield Te("Create Installation",mt)})).apply(this,arguments)}function je(I){return new Promise(S=>{setTimeout(S,I)})}const rn=/^[cdef][\w-]{21}$/;function Ye(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const k=function bn(I){return function vt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return rn.test(k)?k:""}catch{return""}}function Bn(I){return`${I.appName}!${I.appId}`}const un=new Map;function an(I,S){const k=Bn(I);Ii(k,S),function ko(I,S){const k=function Rn(){return!Si&&"BroadcastChannel"in self&&(Si=new BroadcastChannel("[Firebase] FID Change"),Si.onmessage=I=>{Ii(I.data.key,I.data.fid)}),Si}();k&&k.postMessage({key:I,fid:S}),function ds(){0===un.size&&Si&&(Si.close(),Si=null)}()}(k,S)}function Ii(I,S){const k=un.get(I);if(k)for(const V of k)V(S)}let Si=null;const Un="firebase-installations-store";let zr=null;function Zr(){return zr||(zr=(0,me.X3)("firebase-installations-database",1,{upgrade:(I,S)=>{0===S&&I.createObjectStore(Un)}})),zr}function nt(I,S){return _i.apply(this,arguments)}function _i(){return(_i=(0,O.Z)(function*(I,S){const k=Bn(I),ee=(yield Zr()).transaction(Un,"readwrite"),ge=ee.objectStore(Un),Pe=yield ge.get(k);return yield ge.put(S,k),yield ee.done,(!Pe||Pe.fid!==S.fid)&&an(I,S.fid),S})).apply(this,arguments)}function jn(I){return yn.apply(this,arguments)}function yn(){return(yn=(0,O.Z)(function*(I){const S=Bn(I),V=(yield Zr()).transaction(Un,"readwrite");yield V.objectStore(Un).delete(S),yield V.done})).apply(this,arguments)}function Ai(I,S){return hs.apply(this,arguments)}function hs(){return(hs=(0,O.Z)(function*(I,S){const k=Bn(I),ee=(yield Zr()).transaction(Un,"readwrite"),ge=ee.objectStore(Un),Pe=yield ge.get(k),Ze=S(Pe);return void 0===Ze?yield ge.delete(k):yield ge.put(Ze,k),yield ee.done,Ze&&(!Pe||Pe.fid!==Ze.fid)&&an(I,Ze.fid),Ze})).apply(this,arguments)}function In(I){return An.apply(this,arguments)}function An(){return(An=(0,O.Z)(function*(I){let S;const k=yield Ai(I.appConfig,V=>{const ee=Dn(V),ge=pt(I,ee);return S=ge.registrationPromise,ge.installationEntry});return""===k.fid?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}})).apply(this,arguments)}function Dn(I){return St(I||{fid:Ye(),registrationStatus:0})}function pt(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(et.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function gt(I,S){return Ft.apply(this,arguments)}(I,k);return{installationEntry:k,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Gi(I)}:{installationEntry:S}}function Ft(){return(Ft=(0,O.Z)(function*(I,S){try{const k=yield ue(I,S);return nt(I.appConfig,k)}catch(k){throw tt(k)&&409===k.customData.serverCode?yield jn(I.appConfig):yield nt(I.appConfig,{fid:S.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Gi(I){return yi.apply(this,arguments)}function yi(){return(yi=(0,O.Z)(function*(I){let S=yield Ti(I.appConfig);for(;1===S.registrationStatus;)yield je(100),S=yield Ti(I.appConfig);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:V}=yield In(I);return V||k}return S})).apply(this,arguments)}function Ti(I){return Ai(I,S=>{if(!S)throw et.create("installation-not-found");return St(S)})}function St(I){return function Pi(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Lt(I,S){return nr.apply(this,arguments)}function nr(){return(nr=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:S},k){const V=Kt(I,k),ee=pe(I,k),ge=S.getImmediate({optional:!0});if(ge){const Tt=yield ge.getHeartbeatsHeader();Tt&&ee.append("x-firebase-client",Tt)}const Ze={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:te,appId:I.appId}})},mt=yield Ce(()=>fetch(V,Ze));if(mt.ok)return Re(yield mt.json());throw yield Te("Generate Auth Token",mt)})).apply(this,arguments)}function Kt(I,{fid:S}){return`${Le(I)}/${S}/authTokens:generate`}function J(I){return G.apply(this,arguments)}function G(){return(G=(0,O.Z)(function*(I,S=!1){let k;const V=yield Ai(I.appConfig,ge=>{if(!Ct(ge))throw et.create("not-registered");const Pe=ge.authToken;if(!S&&hn(Pe))return ge;if(1===Pe.requestStatus)return k=j(I,S),ge;{if(!navigator.onLine)throw et.create("app-offline");const Ze=ti(ge);return k=Me(I,Ze),Ze}});return k?yield k:V.authToken})).apply(this,arguments)}function j(I,S){return Y.apply(this,arguments)}function Y(){return(Y=(0,O.Z)(function*(I,S){let k=yield K(I.appConfig);for(;1===k.authToken.requestStatus;)yield je(100),k=yield K(I.appConfig);const V=k.authToken;return 0===V.requestStatus?J(I,S):V})).apply(this,arguments)}function K(I){return Ai(I,S=>{if(!Ct(S))throw et.create("not-registered");return function re(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Me(I,S){return ze.apply(this,arguments)}function ze(){return(ze=(0,O.Z)(function*(I,S){try{const k=yield Lt(I,S),V=Object.assign(Object.assign({},S),{authToken:k});return yield nt(I.appConfig,V),k}catch(k){if(!tt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield nt(I.appConfig,V)}else yield jn(I.appConfig);throw k}})).apply(this,arguments)}function Ct(I){return void 0!==I&&2===I.registrationStatus}function hn(I){return 2===I.requestStatus&&!function dn(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+36e5}(I)}function ti(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}function z(){return(z=(0,O.Z)(function*(I){const S=I,{installationEntry:k,registrationPromise:V}=yield In(S);return V?V.catch(console.error):J(S).catch(console.error),k.fid})).apply(this,arguments)}function qe(){return(qe=(0,O.Z)(function*(I,S=!1){const k=I;return yield bt(k),(yield J(k,S)).token})).apply(this,arguments)}function bt(I){return Et.apply(this,arguments)}function Et(){return(Et=(0,O.Z)(function*(I){const{registrationPromise:S}=yield In(I);S&&(yield S)})).apply(this,arguments)}function to(I){return et.create("missing-app-config-values",{valueName:I})}const no="installations",io=I=>{const S=I.getProvider("app").getImmediate(),k=function Tn(I){if(!I||!I.options)throw to("App Configuration");if(!I.name)throw to("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!I.options[k])throw to(k);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S);return{app:S,appConfig:k,heartbeatServiceProvider:(0,ce._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Ro=I=>{const S=I.getProvider("app").getImmediate(),k=(0,ce._getProvider)(S,no).getImmediate();return{getId:()=>function H(I){return z.apply(this,arguments)}(k),getToken:ee=>function Ie(I){return qe.apply(this,arguments)}(k,ee)}};(function Tl(){(0,ce._registerComponent)(new be.wA(no,io,"PUBLIC")),(0,ce._registerComponent)(new be.wA("installations-internal",Ro,"PRIVATE"))})(),(0,ce.registerVersion)(Ee,q),(0,ce.registerVersion)(Ee,q,"esm2017");const ps="@firebase/remote-config",Jn=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xc{constructor(S,k,V,ee){this.client=S,this.storage=k,this.storageCache=V,this.logger=ee}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-k,ee=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${ee}.`),ee}fetch(S){var k=this;return(0,O.Z)(function*(){const[V,ee]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ee&&k.isCachedDataFresh(S.cacheMaxAgeMillis,V))return ee;S.eTag=ee&&ee.eTag;const ge=yield k.client.fetch(S),Pe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&Pe.push(k.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(Pe),ge})()}}function xa(I=navigator){return I.languages&&I.languages[0]||I.language}class ao{constructor(S,k,V,ee,ge,Pe){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=V,this.projectId=ee,this.apiKey=ge,this.appId=Pe}fetch(S){var k=this;return(0,O.Z)(function*(){var V,ee,ge;const[Pe,Ze]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Dt={sdk_version:k.sdkVersion,app_instance_id:Pe,app_instance_id_token:Ze,app_id:k.appId,language_code:xa()},Wn={method:"POST",headers:Ht,body:JSON.stringify(Dt)},hi=fetch(Tt,Wn),Gs=new Promise((Wi,Zs)=>{S.signal.addEventListener(()=>{const Jc=new Error("The operation was aborted.");Jc.name="AbortError",Zs(Jc)})});let Ss;try{yield Promise.race([hi,Gs]),Ss=yield hi}catch(Wi){let Zs="fetch-client-network";throw"AbortError"===(null===(V=Wi)||void 0===V?void 0:V.name)&&(Zs="fetch-timeout"),Jn.create(Zs,{originalErrorMessage:null===(ee=Wi)||void 0===ee?void 0:ee.message})}let mo=Ss.status;const zs=Ss.headers.get("ETag")||void 0;let es,ai;if(200===Ss.status){let Wi;try{Wi=yield Ss.json()}catch(Zs){throw Jn.create("fetch-client-parse",{originalErrorMessage:null===(ge=Zs)||void 0===ge?void 0:ge.message})}es=Wi.entries,ai=Wi.state}if("INSTANCE_STATE_UNSPECIFIED"===ai?mo=500:"NO_CHANGE"===ai?mo=304:("NO_TEMPLATE"===ai||"EMPTY_CONFIG"===ai)&&(es={}),304!==mo&&200!==mo)throw Jn.create("fetch-status",{httpStatus:mo});return{status:mo,eTag:zs,config:es}})()}}class ms{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,O.Z)(function*(){const V=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:V}){var ee=this;return(0,O.Z)(function*(){yield function _r(I,S){return new Promise((k,V)=>{const ee=Math.max(S-Date.now(),0),ge=setTimeout(k,ee);I.addEventListener(()=>{clearTimeout(ge),V(Jn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const ge=yield ee.client.fetch(S);return yield ee.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function mg(I){if(!(I instanceof he.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ge))throw ge;const Pe={throttleEndTimeMillis:Date.now()+(0,he.$s)(V),backoffCount:V+1};return yield ee.storage.setThrottleMetadata(Pe),ee.attemptFetch(S,Pe)}})()}}class yg{constructor(S,k,V,ee,ge){this.app=S,this._client=k,this._storageCache=V,this._storage=ee,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ka(I,S){var k;const V=I.target.error||void 0;return Jn.create(S,{originalErrorMessage:V&&(null===(k=V)||void 0===k?void 0:k.message)})}const Oo="app_namespace_store";class Ml{constructor(S,k,V,ee=function bg(){return new Promise((I,S)=>{var k;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=ee=>{S(ka(ee,"storage-open"))},V.onsuccess=ee=>{I(ee.target.result)},V.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(Oo,{keyPath:"compositeKey"})}}catch(V){S(Jn.create("storage-open",{originalErrorMessage:null===(k=V)||void 0===k?void 0:k.message}))}})}()){this.appId=S,this.appName=k,this.namespace=V,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,O.Z)(function*(){const V=yield k.openDbPromise;return new Promise((ee,ge)=>{var Pe;const mt=V.transaction([Oo],"readonly").objectStore(Oo),Tt=k.createCompositeKey(S);try{const Ht=mt.get(Tt);Ht.onerror=Dt=>{ge(ka(Dt,"storage-get"))},Ht.onsuccess=Dt=>{const Wn=Dt.target.result;ee(Wn?Wn.value:void 0)}}catch(Ht){ge(Jn.create("storage-get",{originalErrorMessage:null===(Pe=Ht)||void 0===Pe?void 0:Pe.message}))}})})()}set(S,k){var V=this;return(0,O.Z)(function*(){const ee=yield V.openDbPromise;return new Promise((ge,Pe)=>{var Ze;const Tt=ee.transaction([Oo],"readwrite").objectStore(Oo),Ht=V.createCompositeKey(S);try{const Dt=Tt.put({compositeKey:Ht,value:k});Dt.onerror=Wn=>{Pe(ka(Wn,"storage-set"))},Dt.onsuccess=()=>{ge()}}catch(Dt){Pe(Jn.create("storage-set",{originalErrorMessage:null===(Ze=Dt)||void 0===Ze?void 0:Ze.message}))}})})()}delete(S){var k=this;return(0,O.Z)(function*(){const V=yield k.openDbPromise;return new Promise((ee,ge)=>{var Pe;const mt=V.transaction([Oo],"readwrite").objectStore(Oo),Tt=k.createCompositeKey(S);try{const Ht=mt.delete(Tt);Ht.onerror=Dt=>{ge(ka(Dt,"storage-delete"))},Ht.onsuccess=()=>{ee()}}catch(Ht){ge(Jn.create("storage-delete",{originalErrorMessage:null===(Pe=Ht)||void 0===Pe?void 0:Pe.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Po{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,O.Z)(function*(){const k=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),ee=S.storage.getActiveConfig(),ge=yield k;ge&&(S.lastFetchStatus=ge);const Pe=yield V;Pe&&(S.lastSuccessfulFetchTimestampMillis=Pe);const Ze=yield ee;Ze&&(S.activeConfig=Ze)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function W_(){return xl.apply(this,arguments)}function xl(){return(xl=(0,O.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function ju(){(0,ce._registerComponent)(new be.wA("remote-config",function I(S,{instanceIdentifier:k}){const V=S.getProvider("app").getImmediate(),ee=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!(0,he.hl)())throw Jn.create("indexed-db-unavailable");const{projectId:ge,apiKey:Pe,appId:Ze}=V.options;if(!ge)throw Jn.create("registration-project-id");if(!Pe)throw Jn.create("registration-api-key");if(!Ze)throw Jn.create("registration-app-id");const mt=new Ml(Ze,V.name,k=k||"firebase"),Tt=new Po(mt),Ht=new de.Yd(ps);Ht.logLevel=de.in.ERROR;const Dt=new ao(ee,ce.SDK_VERSION,k,ge,Pe,Ze),Wn=new ms(Dt,mt),hi=new xc(Wn,mt,Tt,Ht),Gs=new yg(V,hi,Tt,mt,Ht);return function Hn(I){const S=(0,he.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Gs),Gs},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(ps,"0.3.11"),(0,ce.registerVersion)(ps,"0.3.11","esm2017")}();const Mi="/firebase-messaging-sw.js",Fo="/firebase-cloud-messaging-push-scope",Ls="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kl="google.c.a.c_id",kc="google.c.a.c_l",Gu="google.c.a.ts",Lo="google.c.a.e";var yr=(()=>{return(I=yr||(yr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",yr;var I})();function _s(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sr(I){const k=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(k),ee=new Uint8Array(V.length);for(let ge=0;ge<V.length;++ge)ee[ge]=V.charCodeAt(ge);return ee}const lo="fcm_token_details_db",Vo="fcm_token_object_Store";function wg(I){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,O.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ge=>ge.name).includes(lo))return null;let S=null;return(yield(0,me.X3)(lo,5,{upgrade:(V=(0,O.Z)(function*(ee,ge,Pe,Ze){var mt;if(ge<2||!ee.objectStoreNames.contains(Vo))return;const Tt=Ze.objectStore(Vo),Ht=yield Tt.index("fcmSenderId").get(I);if(yield Tt.clear(),Ht)if(2===ge){const Dt=Ht;if(!Dt.auth||!Dt.p256dh||!Dt.endpoint)return;S={token:Dt.fcmToken,createTime:null!==(mt=Dt.createTime)&&void 0!==mt?mt:Date.now(),subscriptionOptions:{auth:Dt.auth,p256dh:Dt.p256dh,endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:"string"==typeof Dt.vapidKey?Dt.vapidKey:_s(Dt.vapidKey)}}}else if(3===ge){const Dt=Ht;S={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:_s(Dt.auth),p256dh:_s(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:_s(Dt.vapidKey)}}}else if(4===ge){const Dt=Ht;S={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:_s(Dt.auth),p256dh:_s(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:_s(Dt.vapidKey)}}}}),function(ge,Pe,Ze,mt){return V.apply(this,arguments)})})).close(),yield(0,me.Lj)(lo),yield(0,me.Lj)("fcm_vapid_details_db"),yield(0,me.Lj)("undefined"),Ln(S)?S:null;var V}),Rc.apply(this,arguments)}function Ln(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Or="firebase-messaging-store";let xi=null;function Rl(){return xi||(xi=(0,me.X3)("firebase-messaging-database",1,{upgrade:(I,S)=>{0===S&&I.createObjectStore(Or)}})),xi}function Bo(I){return qr.apply(this,arguments)}function qr(){return(qr=(0,O.Z)(function*(I){const S=br(I),V=yield(yield Rl()).transaction(Or).objectStore(Or).get(S);if(V)return V;{const ee=yield wg(I.appConfig.senderId);if(ee)return yield ln(I,ee),ee}})).apply(this,arguments)}function ln(I,S){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,O.Z)(function*(I,S){const k=br(I),ee=(yield Rl()).transaction(Or,"readwrite");return yield ee.objectStore(Or).put(S,k),yield ee.done,S})).apply(this,arguments)}function Vs(I){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,O.Z)(function*(I){const S=br(I),V=(yield Rl()).transaction(Or,"readwrite");yield V.objectStore(Or).delete(S),yield V.done})).apply(this,arguments)}function br({appConfig:I}){return I.appId}const $n=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nt(I,S){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,O.Z)(function*(I,S){var k;const V=yield Fa(I),ee=Oe(S),ge={method:"POST",headers:V,body:JSON.stringify(ee)};let Pe;try{Pe=yield(yield fetch(co(I.appConfig),ge)).json()}catch(Ze){throw $n.create("token-subscribe-failed",{errorInfo:null===(k=Ze)||void 0===k?void 0:k.toString()})}if(Pe.error)throw $n.create("token-subscribe-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw $n.create("token-subscribe-no-token");return Pe.token})).apply(this,arguments)}function Dg(I,S){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(I,S){var k;const V=yield Fa(I),ee=Oe(S.subscriptionOptions),ge={method:"PATCH",headers:V,body:JSON.stringify(ee)};let Pe;try{Pe=yield(yield fetch(`${co(I.appConfig)}/${S.token}`,ge)).json()}catch(Ze){throw $n.create("token-update-failed",{errorInfo:null===(k=Ze)||void 0===k?void 0:k.toString()})}if(Pe.error)throw $n.create("token-update-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw $n.create("token-update-no-token");return Pe.token})).apply(this,arguments)}function qu(I,S){return Na.apply(this,arguments)}function Na(){return(Na=(0,O.Z)(function*(I,S){var k;const ee={method:"DELETE",headers:yield Fa(I)};try{const Pe=yield(yield fetch(`${co(I.appConfig)}/${S}`,ee)).json();if(Pe.error)throw $n.create("token-unsubscribe-failed",{errorInfo:Pe.error.message})}catch(ge){throw $n.create("token-unsubscribe-failed",{errorInfo:null===(k=ge)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function co({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Fa(I){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*({appConfig:I,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Oe({p256dh:I,auth:S,endpoint:k,vapidKey:V}){const ee={web:{endpoint:k,auth:S,p256dh:I}};return V!==Ls&&(ee.web.applicationPubKey=V),ee}const Qt=6048e5;function Ph(I){return jo.apply(this,arguments)}function jo(){return(jo=(0,O.Z)(function*(I){const S=yield Nh(I.swRegistration,I.vapidKey),k={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:_s(S.getKey("auth")),p256dh:_s(S.getKey("p256dh"))},V=yield Bo(I.firebaseDependencies);if(V){if(Cg(V.subscriptionOptions,k))return Date.now()>=V.createTime+Qt?Pl(I,{token:V.token,createTime:Date.now(),subscriptionOptions:k}):V.token;try{yield qu(I.firebaseDependencies,V.token)}catch(ee){console.warn(ee)}return Nl(I.firebaseDependencies,k)}return Nl(I.firebaseDependencies,k)})).apply(this,arguments)}function ii(I){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,O.Z)(function*(I){const S=yield Bo(I.firebaseDependencies);S&&(yield qu(I.firebaseDependencies,S.token),yield Vs(I.firebaseDependencies));const k=yield I.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Pl(I,S){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,O.Z)(function*(I,S){try{const k=yield Dg(I.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield ln(I.firebaseDependencies,V),k}catch(k){throw yield ii(I),k}})).apply(this,arguments)}function Nl(I,S){return $o.apply(this,arguments)}function $o(){return($o=(0,O.Z)(function*(I,S){const V={token:yield Nt(I,S),createTime:Date.now(),subscriptionOptions:S};return yield ln(I,V),V.token})).apply(this,arguments)}function Nh(I,S){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sr(S)})})).apply(this,arguments)}function Cg(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}function ys(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function ri(I,S){if(!S.notification)return;I.notification={};const k=S.notification.title;k&&(I.notification.title=k);const V=S.notification.body;V&&(I.notification.body=V);const ee=S.notification.image;ee&&(I.notification.image=ee)}(S,I),function Wr(I,S){!S.data||(I.data=S.data)}(S,I),function Va(I,S){var k,V,ee,ge,Pe;if(!(S.fcmOptions||null!==(k=S.notification)&&void 0!==k&&k.click_action))return;I.fcmOptions={};const Ze=null!==(ee=null===(V=S.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==ee?ee:null===(ge=S.notification)||void 0===ge?void 0:ge.click_action;Ze&&(I.fcmOptions.link=Ze);const mt=null===(Pe=S.fcmOptions)||void 0===Pe?void 0:Pe.analytics_label;mt&&(I.fcmOptions.analyticsLabel=mt)}(S,I),S}function Ba(I){return"object"==typeof I&&!!I&&kl in I}function vs(I,S){const k=[];for(let V=0;V<I.length;V++)k.push(I.charAt(V)),V<S.length&&k.push(S.charAt(V));return k.join("")}function Pc(I){return $n.create("missing-app-config-values",{valueName:I})}vs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yu{constructor(S,k,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function Wu(I){if(!I||!I.options)throw Pc("App Configuration Object");if(!I.name)throw Pc("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=I;for(const V of S)if(!k[V])throw Pc(V);return{appName:I.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:ee,installations:k,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Fh(I){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(I){var S;try{I.swRegistration=yield navigator.serviceWorker.register(Mi,{scope:Fo}),I.swRegistration.update().catch(()=>{})}catch(k){throw $n.create("failed-service-worker-registration",{browserErrorMessage:null===(S=k)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function Nc(I,S){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,O.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield Fh(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function Fc(I,S){return ja.apply(this,arguments)}function ja(){return(ja=(0,O.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=Ls)})).apply(this,arguments)}function zo(){return(zo=(0,O.Z)(function*(I,S){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield Fc(I,S?.vapidKey),yield Nc(I,S?.serviceWorkerRegistration),Ph(I)})).apply(this,arguments)}function Lh(I,S,k){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,O.Z)(function*(I,S,k){const V=Vh(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:k[kl],message_name:k[kc],message_time:k[Gu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vh(I){switch(I){case yr.NOTIFICATION_CLICKED:return"notification_open";case yr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Bs(){return(Bs=(0,O.Z)(function*(I,S){const k=S.data;if(!k.isFirebaseMessaging)return;I.onMessageHandler&&k.messageType===yr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ys(k)):I.onMessageHandler.next(ys(k)));const V=k.data;Ba(V)&&"1"===V[Lo]&&(yield Lh(I,k.messageType,V))})).apply(this,arguments)}const Us="@firebase/messaging",Pn=I=>{const S=new Yu(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Qu(I,S){return Bs.apply(this,arguments)}(S,k)),S},bs=I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:V=>function Ku(I,S){return zo.apply(this,arguments)}(S,V)}};function Lc(){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,O.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nn(){(0,ce._registerComponent)(new be.wA("messaging",Pn,"PUBLIC")),(0,ce._registerComponent)(new be.wA("messaging-internal",bs,"PRIVATE")),(0,ce.registerVersion)(Us,"0.9.16"),(0,ce.registerVersion)(Us,"0.9.16","esm2017")}();const Wo="analytics",nd="firebase_id",Hc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",id="https://www.googletagmanager.com/gtag/js",Gn=new de.Yd("@firebase/analytics");function Fl(I){return Promise.all(I.map(S=>S.catch(k=>k)))}function Ll(I,S){const k=document.createElement("script");k.src=`${id}?l=${I}&id=${S}`,k.async=!0,document.head.appendChild(k)}function Bh(I,S,k,V,ee,ge){return $a.apply(this,arguments)}function $a(){return($a=(0,O.Z)(function*(I,S,k,V,ee,ge){const Pe=V[ee];try{if(Pe)yield S[Pe];else{const mt=(yield Fl(k)).find(Tt=>Tt.measurementId===ee);mt&&(yield S[mt.appId])}}catch(Ze){Gn.error(Ze)}I("config",ee,ge)})).apply(this,arguments)}function ws(I,S,k,V,ee){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,O.Z)(function*(I,S,k,V,ee){try{let ge=[];if(ee&&ee.send_to){let Pe=ee.send_to;Array.isArray(Pe)||(Pe=[Pe]);const Ze=yield Fl(k);for(const mt of Pe){const Tt=Ze.find(Dt=>Dt.measurementId===mt),Ht=Tt&&S[Tt.appId];if(!Ht){ge=[];break}ge.push(Ht)}}0===ge.length&&(ge=Object.values(S)),yield Promise.all(ge),I("event",V,ee||{})}catch(ge){Gn.error(ge)}})).apply(this,arguments)}function rd(){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(id))return S;return null}const si=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Za=new class Gc{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Yo(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Hh(I){return zn.apply(this,arguments)}function zn(){return(zn=(0,O.Z)(function*(I){var S;const{appId:k,apiKey:V}=I,ee={method:"GET",headers:Yo(V)},ge=Hc.replace("{app-id}",k),Pe=yield fetch(ge,ee);if(200!==Pe.status&&304!==Pe.status){let Ze="";try{const mt=yield Pe.json();null!==(S=mt.error)&&void 0!==S&&S.message&&(Ze=mt.error.message)}catch{}throw si.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:Ze})}return Pe.json()})).apply(this,arguments)}function sd(I){return or.apply(this,arguments)}function or(){return(or=(0,O.Z)(function*(I,S=Za,k){const{appId:V,apiKey:ee,measurementId:ge}=I.options;if(!V)throw si.create("no-app-id");if(!ee){if(ge)return{measurementId:ge,appId:V};throw si.create("no-api-key")}const Pe=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new qa;return setTimeout((0,O.Z)(function*(){Ze.abort()}),void 0!==k?k:6e4),od({appId:V,apiKey:ee,measurementId:ge},Pe,Ze,S)})).apply(this,arguments)}function od(I,S,k){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,O.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:k},V,ee=Za){var ge,Pe;const{appId:Ze,measurementId:mt}=I;try{yield zc(V,S)}catch(Tt){if(mt)return Gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${null===(ge=Tt)||void 0===ge?void 0:ge.message}]`),{appId:Ze,measurementId:mt};throw Tt}try{const Tt=yield Hh(I);return ee.deleteThrottleMetadata(Ze),Tt}catch(Tt){const Ht=Tt;if(!Bl(Ht)){if(ee.deleteThrottleMetadata(Ze),mt)return Gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${Ht?.message}]`),{appId:Ze,measurementId:mt};throw Tt}const Dt=503===Number(null===(Pe=Ht?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,he.$s)(k,ee.intervalMillis,30):(0,he.$s)(k,ee.intervalMillis),Wn={throttleEndTimeMillis:Date.now()+Dt,backoffCount:k+1};return ee.setThrottleMetadata(Ze,Wn),Gn.debug(`Calling attemptFetch again in ${Dt} millis`),od(I,Wn,V,ee)}})).apply(this,arguments)}function zc(I,S){return new Promise((k,V)=>{const ee=Math.max(S-Date.now(),0),ge=setTimeout(k,ee);I.addEventListener(()=>{clearTimeout(ge),V(si.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Bl(I){if(!(I instanceof he.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}class qa{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let uo,jl;function Ko(){return(Ko=(0,O.Z)(function*(I,S,k,V,ee){if(ee&&ee.global)I("event",k,V);else{const ge=yield S;I("event",k,Object.assign(Object.assign({},V),{send_to:ge}))}})).apply(this,arguments)}function Xo(I){jl=I}function Zc(I){uo=I}function Hs(){return ea.apply(this,arguments)}function ea(){return(ea=(0,O.Z)(function*(){var I;if(!(0,he.hl)())return Gn.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(S){return Gn.warn(si.create("indexeddb-unavailable",{errorInfo:null===(I=S)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(I,S,k,V,ee,ge,Pe){var Ze;const mt=sd(I);mt.then(hi=>{k[hi.measurementId]=hi.appId,I.options.measurementId&&hi.measurementId!==I.options.measurementId&&Gn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${hi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hi=>Gn.error(hi)),S.push(mt);const Tt=Hs().then(hi=>{if(hi)return V.getId()}),[Ht,Dt]=yield Promise.all([mt,Tt]);rd()||Ll(ge,Ht.measurementId),jl&&(ee("consent","default",jl),Xo(void 0)),ee("js",new Date);const Wn=null!==(Ze=Pe?.config)&&void 0!==Ze?Ze:{};return Wn.origin="firebase",Wn.update=!0,null!=Dt&&(Wn[nd]=Dt),ee("config",Ht.measurementId,Wn),uo&&(ee("set",uo),Zc(void 0)),Ht.measurementId})).apply(this,arguments)}class Hl{constructor(S){this.app=S}_delete(){return delete Ni[this.app.options.appId],Promise.resolve()}}let Ni={},na=[];const fo={};let ra,Kr,ia="dataLayer",ld=!1;function zh(I,S,k){!function Eg(){const I=[];if((0,he.ru)()&&I.push("This is a browser extension environment."),(0,he.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((V,ee)=>`(${ee+1}) ${V}`).join(" "),k=si.create("invalid-analytics-context",{errorInfo:S});Gn.warn(k.message)}}();const V=I.options.appId;if(!V)throw si.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw si.create("no-api-key");Gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ni[V])throw si.create("already-exists",{id:V});if(!ld){!function Vl(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(ia);const{wrappedGtag:ge,gtagCore:Pe}=function za(I,S,k,V,ee){let ge=function(...Pe){window[V].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ge=window[ee]),window[ee]=function $c(I,S,k,V){function ge(){return(ge=(0,O.Z)(function*(Pe,Ze,mt){try{"event"===Pe?yield ws(I,S,k,Ze,mt):"config"===Pe?yield Bh(I,S,k,V,Ze,mt):"consent"===Pe?I("consent","update",mt):I("set",Ze)}catch(Tt){Gn.error(Tt)}})).apply(this,arguments)}return function ee(Pe,Ze,mt){return ge.apply(this,arguments)}}(ge,I,S,k),{gtagCore:ge,wrappedGtag:window[ee]}}(Ni,na,fo,ia,"gtag");Kr=ge,ra=Pe,ld=!0}return Ni[V]=function Gh(I,S,k,V,ee,ge,Pe){return ta.apply(this,arguments)}(I,na,fo,S,ra,ia,k),new Hl(I)}function K_(){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,O.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}const Wc="@firebase/analytics";!function Fi(){(0,ce._registerComponent)(new be.wA(Wo,(S,{options:k})=>zh(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ce._registerComponent)(new be.wA("analytics-internal",function I(S){try{const k=S.getProvider(Wo).getImmediate();return{logEvent:(V,ee,ge)=>function gn(I,S,k,V){I=(0,he.m9)(I),function Wa(I,S,k,V,ee){return Ko.apply(this,arguments)}(Kr,Ni[I.app.options.appId],S,k,V).catch(ee=>Gn.error(ee))}(k,V,ee,ge)}}catch(k){throw si.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ce.registerVersion)(Wc,"0.8.0"),(0,ce.registerVersion)(Wc,"0.8.0","esm2017")}();var Cs=N(4408),po=N(7565);const go=new class ar extends po.v{}(class Ka extends Cs.o{constructor(S,k){super(S,k),this.scheduler=S,this.work=k}schedule(S,k=0){return k>0?super.schedule(S,k):(this.delay=k,this.state=S,this.scheduler.flush(this),this)}execute(S,k){return k>0||this.closed?super.execute(S,k):this._execute(S,k)}requestAsyncId(S,k,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,k,V):S.flush(this)}});var At=N(4986),sa=N(8505),ud=N(9468),Gl=N(5363);const qi=new l.GfV("7.4.1"),Qa="__angularfire_symbol__analyticsIsSupportedValue",Nr="__angularfire_symbol__analyticsIsSupported",Es="__angularfire_symbol__remoteConfigIsSupportedValue",Li="__angularfire_symbol__remoteConfigIsSupported",Yc="__angularfire_symbol__messagingIsSupportedValue",oa="__angularfire_symbol__messagingIsSupported";function Xa(I,S,k){if(S){if(1===S.length)return S[0];const ge=S.filter(Pe=>Pe.app===k);if(1===ge.length)return ge[0]}return k.container.getProvider(I).getImmediate({optional:!0})}globalThis[Nr]||(globalThis[Nr]=K_().then(I=>globalThis[Qa]=I).catch(()=>globalThis[Qa]=!1)),globalThis[oa]||(globalThis[oa]=Lc().then(I=>globalThis[Yc]=I).catch(()=>globalThis[Yc]=!1)),globalThis[Li]||(globalThis[Li]=W_().then(I=>globalThis[Es]=I).catch(()=>globalThis[Es]=!1));const Fr=(I,S)=>{const k=S?[S]:(0,B.C6)(),V=[];return k.forEach(ee=>{ee.container.getProvider(I).instances.forEach(Pe=>{V.includes(Pe)||V.push(Pe)})}),V};function Qr(){}class Vn{constructor(S,k=go){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,V){const ee=this.zone;return this.delegate.schedule(function(Pe){ee.runGuarded(()=>{S.apply(this,[Pe])})},k,V)}}class Jr{constructor(S){this.zone=S,this.task=null}call(S,k){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qr,{},Qr,Qr)),k.pipe((0,sa.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let aa=(()=>{class I{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Vn(Zone.current)),this.insideAngular=k.run(()=>new Vn(Zone.current,At.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(k){return new(k||I)(l.LFG(l.R0b))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Xr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Is(I){return Xr(),function hd(I){return function(k){return(k=k.lift(new Jr(I.ngZone))).pipe((0,ud.R)(I.outsideAngular),(0,Gl.Q)(I.insideAngular))}}(Xr())(I)}},8554:(ht,xe,N)=>{N.d(xe,{$:()=>co,A:()=>W,B:()=>Fe,G:()=>Ro,H:()=>ir,J:()=>ms,L:()=>hn,M:()=>xl,N:()=>$u,P:()=>At,Q:()=>kl,R:()=>Q_,T:()=>kc,U:()=>Ls,V:()=>yr,W:()=>_s,X:()=>wg,Y:()=>Ra,Z:()=>Nt,_:()=>Dg,a:()=>js,a0:()=>Ph,a1:()=>ii,a2:()=>Pl,a3:()=>Nl,a4:()=>Nh,a5:()=>Cg,a6:()=>ri,a7:()=>Wr,a8:()=>Ba,a9:()=>vs,aA:()=>hi,aB:()=>mt,aC:()=>Qc,aD:()=>$s,aE:()=>wt,aI:()=>Yo,aL:()=>Lo,aa:()=>Fh,ab:()=>Nc,ac:()=>Fc,af:()=>Lh,ag:()=>Vh,ah:()=>Qu,ak:()=>Or,al:()=>Bc,an:()=>id,ao:()=>$a,ap:()=>Jt,aq:()=>Ce,ar:()=>rt,as:()=>bt,at:()=>tt,au:()=>ca,av:()=>zs,aw:()=>Le,ax:()=>le,ay:()=>ne,az:()=>dn,b:()=>si,c:()=>Yc,d:()=>Ig,e:()=>Kc,f:()=>hd,g:()=>V,h:()=>I,i:()=>ea,j:()=>Pe,k:()=>ef,l:()=>cd,m:()=>_o,o:()=>me,r:()=>Cs,s:()=>oi,u:()=>go});var l=N(5861),B=N(2090),O=N(9681),ce=N(655),he=N(1877),be=N(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new he.Yd("@firebase/auth");function et(b,...g){ve.logLevel<=he.in.ERROR&&ve.error(`Auth (${O.SDK_VERSION}): ${b}`,...g)}function tt(b,...g){throw We(b,...g)}function Le(b,...g){return We(b,...g)}function Re(b,g,_){const D=Object.assign(Object.assign({},Ae()),{[g]:_});return new B.LL("auth","Firebase",D).create(g,{appName:b.name})}function Te(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&tt(b,"argument-error"),Re(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(b,...g){if("string"!=typeof b){const _=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=b.name),b._errorFactory.create(_,...D)}return st.create(b,...g)}function le(b,g,..._){if(!b)throw We(g,..._)}function pe(b){const g="INTERNAL ASSERTION FAILED: "+b;throw et(g),new Error(g)}function Ce(b,g){b||pe(g)}const X=new Map;function ne(b){Ce(b instanceof Function,"Expected a class definition");let g=X.get(b);return g?(Ce(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,X.set(b,g),g)}function Ue(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function je(){return"http:"===vt()||"https:"===vt()}function vt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ye{constructor(g,_){this.shortDelay=g,this.longDelay=_,Ce(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(je()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bn(b,g){Ce(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Bn{static initialize(g,_,D){this.fetchImpl=g,_&&(this.headersImpl=_),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const un={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new Ye(3e4,6e4);function Wt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Gt(b,g,_,D){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(b,g,_,D,x={}){return ko(b,x,(0,l.Z)(function*(){let P={},se={};D&&("GET"===g?se=D:P={body:JSON.stringify(D)});const ke=(0,B.xO)(Object.assign({key:b.config.apiKey},se)).slice(1),Ke=yield b._getAdditionalHeaders();return Ke["Content-Type"]="application/json",b.languageCode&&(Ke["X-Firebase-Locale"]=b.languageCode),Bn.fetch()(Gr(b,b.config.apiHost,_,ke),Object.assign({method:g,headers:Ke,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function ko(b,g,_){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(b,g,_){b._canInitEmulator=!1;const D=Object.assign(Object.assign({},un),g);try{const x=new tr(b),P=yield Promise.race([_(),x.promise]);x.clearNetworkTimeout();const se=yield P.json();if("needConfirmation"in se)throw Un(b,"account-exists-with-different-credential",se);if(P.ok&&!("errorMessage"in se))return se;{const ke=P.ok?se.errorMessage:se.error.message,[Ke,ft]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw Un(b,"credential-already-in-use",se);if("EMAIL_EXISTS"===Ke)throw Un(b,"email-already-in-use",se);if("USER_DISABLED"===Ke)throw Un(b,"user-disabled",se);const qt=D[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw Re(b,qt,ft);tt(b,qt)}}catch(x){if(x instanceof B.ZR)throw x;tt(b,"network-request-failed")}})).apply(this,arguments)}function Rn(b,g,_,D){return ds.apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(b,g,_,D,x={}){const P=yield Gt(b,g,_,D,x);return"mfaPendingCredential"in P&&tt(b,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Gr(b,g,_,D){const x=`${g}${_}?${D}`;return b.config.emulator?bn(b.config,x):`${b.config.apiScheme}://${x}`}class tr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,D)=>{this.timer=setTimeout(()=>D(Le(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(b,g,_){const D={appName:b.name};_.email&&(D.email=_.email),_.phoneNumber&&(D.phoneNumber=_.phoneNumber);const x=Le(b,g,D);return x.customData._tokenResponse=_,x}function Zr(){return(Zr=(0,l.Z)(function*(b,g){return Gt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function nt(b,g){return _i.apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(b,g){return Gt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function jn(b,g){return yn.apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(b,g){return Gt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ai(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function An(){return(An=(0,l.Z)(function*(b,g=!1){const _=(0,B.m9)(b),D=yield _.getIdToken(g),x=pt(D);le(x&&x.exp&&x.auth_time&&x.iat,_.auth,"internal-error");const P="object"==typeof x.firebase?x.firebase:void 0,se=P?.sign_in_provider;return{claims:x,token:D,authTime:Ai(Dn(x.auth_time)),issuedAtTime:Ai(Dn(x.iat)),expirationTime:Ai(Dn(x.exp)),signInProvider:se||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Dn(b){return 1e3*Number(b)}function pt(b){var g;const[_,D,x]=b.split(".");if(void 0===_||void 0===D||void 0===x)return et("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,B.tV)(D);return P?JSON.parse(P):(et("Failed to decode base64 JWT payload"),null)}catch(P){return et("Caught error parsing JWT payload as JSON",null===(g=P)||void 0===g?void 0:g.toString()),null}}function Ft(b,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(D){throw D instanceof B.ZR&&yi(D)&&b.auth.currentUser===b&&(yield b.auth.signOut()),D}})).apply(this,arguments)}function yi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Ti{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const x=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),D)}iteration(){var g=this;return(0,l.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(_=D)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class St{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ai(this.lastLoginAt),this.creationTime=Ai(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pi(b){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(b){var g;const _=b.auth,D=yield b.getIdToken(),x=yield Ft(b,jn(_,{idToken:D}));le(x?.users.length,_,"internal-error");const P=x.users[0];b._notifyReloadListener(P);const se=null!==(g=P.providerUserInfo)&&void 0!==g&&g.length?G(P.providerUserInfo):[],ke=J(b.providerData,se),qt=!!b.isAnonymous&&!(b.email&&P.passwordHash||ke?.length),Mn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ke,metadata:new St(P.createdAt,P.lastLoginAt),isAnonymous:qt};Object.assign(b,Mn)})).apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(b){const g=(0,B.m9)(b);yield Pi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function J(b,g){return[...b.filter(D=>!g.some(x=>x.providerId===D.providerId)),...g]}function G(b){return b.map(g=>{var{providerId:_}=g,D=(0,ce._T)(g,["providerId"]);return{providerId:_,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Y(){return(Y=(0,l.Z)(function*(b,g){const _=yield ko(b,{},(0,l.Z)(function*(){const D=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:P}=b.config,se=Gr(b,x,"/v1/token",`key=${P}`),ke=yield b._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",Bn.fetch()(se,{method:"POST",headers:ke,body:D})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){le(g.idToken,"internal-error"),le(typeof g.idToken<"u","internal-error"),le(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function gt(b){const g=pt(b);return le(g,"internal-error"),le(typeof g.exp<"u","internal-error"),le(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var D=this;return(0,l.Z)(function*(){return le(!D.accessToken||D.refreshToken,g,"user-token-expired"),_||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var D=this;return(0,l.Z)(function*(){const{accessToken:x,refreshToken:P,expiresIn:se}=yield function j(b,g){return Y.apply(this,arguments)}(g,_);D.updateTokensAndExpiration(x,P,Number(se))})()}updateTokensAndExpiration(g,_,D){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,_){const{refreshToken:D,accessToken:x,expirationTime:P}=_,se=new K;return D&&(le("string"==typeof D,"internal-error",{appName:g}),se.refreshToken=D),x&&(le("string"==typeof x,"internal-error",{appName:g}),se.accessToken=x),P&&(le("number"==typeof P,"internal-error",{appName:g}),se.expirationTime=P),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return pe("not implemented")}}function Me(b,g){le("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class ze{constructor(g){var{uid:_,auth:D,stsTokenManager:x}=g,P=(0,ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=D,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new St(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const D=yield Ft(_,_.stsTokenManager.getToken(_.auth,g));return le(D,_.auth,"internal-error"),_.accessToken!==D&&(_.accessToken=D,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),D})()}getIdTokenResult(g){return function In(b){return An.apply(this,arguments)}(this,g)}reload(){return function nr(b){return Kt.apply(this,arguments)}(this)}_assign(g){this!==g&&(le(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new ze(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var D=this;return(0,l.Z)(function*(){let x=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),x=!0),_&&(yield Pi(D)),yield D.auth._persistUserIfCurrent(D),x&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield Ft(g,function zr(b,g){return Zr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var D,x,P,se,ke,Ke,ft,qt;const Mn=null!==(D=_.displayName)&&void 0!==D?D:void 0,As=null!==(x=_.email)&&void 0!==x?x:void 0,Wl=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,tf=null!==(se=_.photoURL)&&void 0!==se?se:void 0,Mg=null!==(ke=_.tenantId)&&void 0!==ke?ke:void 0,_d=null!==(Ke=_._redirectEventId)&&void 0!==Ke?Ke:void 0,Yl=null!==(ft=_.createdAt)&&void 0!==ft?ft:void 0,yd=null!==(qt=_.lastLoginAt)&&void 0!==qt?qt:void 0,{uid:nf,emailVerified:rf,isAnonymous:sf,providerData:xg,stsTokenManager:kg}=_;le(nf&&kg,g,"internal-error");const tu=K.fromJSON(this.name,kg);le("string"==typeof nf,g,"internal-error"),Me(Mn,g.name),Me(As,g.name),le("boolean"==typeof rf,g,"internal-error"),le("boolean"==typeof sf,g,"internal-error"),Me(Wl,g.name),Me(tf,g.name),Me(Mg,g.name),Me(_d,g.name),Me(Yl,g.name),Me(yd,g.name);const Ws=new ze({uid:nf,auth:g,email:As,emailVerified:rf,displayName:Mn,isAnonymous:sf,photoURL:tf,phoneNumber:Wl,tenantId:Mg,stsTokenManager:tu,createdAt:Yl,lastLoginAt:yd});return xg&&Array.isArray(xg)&&(Ws.providerData=xg.map(af=>Object.assign({},af))),_d&&(Ws._redirectEventId=_d),Ws}static _fromIdTokenResponse(g,_,D=!1){return(0,l.Z)(function*(){const x=new K;x.updateFromServerResponse(_);const P=new ze({uid:_.localId,auth:g,stsTokenManager:x,isAnonymous:D});return yield Pi(P),P})()}}const hn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,D){var x=this;return(0,l.Z)(function*(){x.storage[_]=D})()}_get(_){var D=this;return(0,l.Z)(function*(){const x=D.storage[_];return void 0===x?null:x})()}_remove(_){var D=this;return(0,l.Z)(function*(){delete D.storage[_]})()}_addListener(_,D){}_removeListener(_,D){}}return b.type="NONE",b})();function dn(b,g,_){return`firebase:${b}:${g}:${_}`}class ti{constructor(g,_,D){this.persistence=g,this.auth=_,this.userKey=D;const{config:x,name:P}=this.auth;this.fullUserKey=dn(this.userKey,x.apiKey,P),this.fullPersistenceKey=dn("persistence",x.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?ze._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const D=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,D?_.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,D="authUser"){return(0,l.Z)(function*(){if(!_.length)return new ti(ne(hn),g,D);const x=(yield Promise.all(_.map(function(){var ft=(0,l.Z)(function*(qt){if(yield qt._isAvailable())return qt});return function(qt){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let P=x[0]||ne(hn);const se=dn(D,g.config.apiKey,g.name);let ke=null;for(const ft of _)try{const qt=yield ft._get(se);if(qt){const Mn=ze._fromJSON(g,qt);ft!==P&&(ke=Mn),P=ft;break}}catch{}const Ke=x.filter(ft=>ft._shouldAllowMigration);return P._shouldAllowMigration&&Ke.length?(P=Ke[0],ke&&(yield P._set(se,ke.toJSON())),yield Promise.all(_.map(function(){var ft=(0,l.Z)(function*(qt){if(qt!==P)try{yield qt._remove(se)}catch{}});return function(qt){return ft.apply(this,arguments)}}())),new ti(P,g,D)):new ti(P,g,D)})()}}function re(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(qe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(H(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Et(g))return"Blackberry";if(Ve(g))return"Webos";if(z(g))return"Safari";if((g.includes("chrome/")||Ie(g))&&!g.includes("edge/"))return"Chrome";if(bt(g))return"Android";{const D=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function H(b=(0,B.z$)()){return/firefox\//i.test(b)}function z(b=(0,B.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ie(b=(0,B.z$)()){return/crios\//i.test(b)}function qe(b=(0,B.z$)()){return/iemobile/i.test(b)}function bt(b=(0,B.z$)()){return/android/i.test(b)}function Et(b=(0,B.z$)()){return/blackberry/i.test(b)}function Ve(b=(0,B.z$)()){return/webos/i.test(b)}function rt(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Jt(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function vn(b=(0,B.z$)()){return rt(b)||bt(b)||Ve(b)||Et(b)||/windows phone/i.test(b)||qe(b)}function Tn(b,g=[]){let _;switch(b){case"Browser":_=re((0,B.z$)());break;case"Worker":_=`${re((0,B.z$)())}-${b}`;break;default:_=b}const D=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${D}`}class to{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const D=P=>new Promise((se,ke)=>{try{se(g(P))}catch(Ke){ke(Ke)}});D.onAbort=_,this.queue.push(D);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,l.Z)(function*(){var D;if(_.auth.currentUser===g)return;const x=[];try{for(const P of _.queue)yield P(g),P.onAbort&&x.push(P.onAbort)}catch(P){x.reverse();for(const se of x)try{se()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=P)||void 0===D?void 0:D.message})}})()}}class no{constructor(g,_,D){this.app=g,this.heartbeatServiceProvider=_,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new io(this),this.idTokenSubscription=new io(this),this.beforeStateQueue=new to(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,_){var D=this;return _&&(this._popupRedirectResolver=ne(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var x,P;if(!D._deleted&&(D.persistenceManager=yield ti.create(D,g),!D._deleted)){if(null!==(x=D._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(_),D.lastNotifiedUid=(null===(P=D.currentUser)||void 0===P?void 0:P.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var D;const x=yield _.assertedPersistence.getCurrentUser();let P=x,se=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ke=null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId,Ke=P?._redirectEventId,ft=yield _.tryRedirectSignIn(g);(!ke||ke===Ke)&&ft?.user&&(P=ft.user,se=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(se)try{yield _.beforeStateQueue.runMiddleware(P)}catch(ke){P=x,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ke))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return le(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let D=null;try{D=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){var D;try{yield Pi(g)}catch(x){if("auth/network-request-failed"!==(null===(D=x)||void 0===D?void 0:D.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Yt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const D=g?(0,B.m9)(g):null;return D&&le(D.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(D&&D._clone(_))})()}_updateCurrentUser(g,_=!1){var D=this;return(0,l.Z)(function*(){if(!D._deleted)return g&&le(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),_||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,l.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(ne(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,_,D){return this.registerStateListener(this.authStateSubscription,g,_,D)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,D){return this.registerStateListener(this.idTokenSubscription,g,_,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var D=this;return(0,l.Z)(function*(){const x=yield D.getOrInitRedirectPersistenceManager(_);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const D=g&&ne(g)||_._popupRedirectResolver;le(D,_,"argument-error"),_.redirectPersistenceManager=yield ti.create(_,[ne(D._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var D,x;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(D=_._currentUser)||void 0===D?void 0:D._redirectEventId)===g?_._currentUser:(null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,D,x){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),se=this._isInitialized?Promise.resolve():this._initializationPromise;return le(se,this,"internal-error"),se.then(()=>P(this.currentUser)),"function"==typeof _?g.addObserver(_,D,x):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return x&&(D["X-Firebase-Client"]=x),D})()}}function wt(b){return(0,B.m9)(b)}class io{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ro(b,g,_){const D=wt(b);le(D._canInitEmulator,D,"emulator-config-failed"),le(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const x=!!_?.disableWarnings,P=Tl(g),{host:se,port:ke}=function ps(b){const g=Tl(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const D=_[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(D);if(x){const P=x[1];return{host:P,port:Qn(D.substr(P.length+1))}}{const[P,se]=D.split(":");return{host:P,port:Qn(se)}}}(g);D.config.emulator={url:`${P}//${se}${null===ke?"":`:${ke}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:se,port:ke,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function ro(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Tl(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Qn(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class ir{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return pe("not implemented")}_getIdTokenResponse(g){return pe("not implemented")}_linkToIdToken(g,_){return pe("not implemented")}_getReauthenticationResolver(g){return pe("not implemented")}}function gr(b,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(b,g){return Gt(b,"POST","/v1/accounts:resetPassword",Wt(b,g))})).apply(this,arguments)}function Tc(b,g){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(b,g){return Gt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function kh(b,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(b,g){return Gt(b,"POST","/v1/accounts:update",Wt(b,g))})).apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(b,g){return Rn(b,"POST","/v1/accounts:signInWithPassword",Wt(b,g))})).apply(this,arguments)}function zi(b,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,l.Z)(function*(b,g){return Gt(b,"POST","/v1/accounts:sendOobCode",Wt(b,g))})).apply(this,arguments)}function gs(b,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(b,g){return zi(b,g)})).apply(this,arguments)}function Rh(b,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(b,g){return zi(b,g)})).apply(this,arguments)}function mr(b,g){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(b,g){return zi(b,g)})).apply(this,arguments)}function Ta(b,g){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,l.Z)(function*(b,g){return zi(b,g)})).apply(this,arguments)}function Mc(){return(Mc=(0,l.Z)(function*(b,g){return Rn(b,"POST","/v1/accounts:signInWithEmailLink",Wt(b,g))})).apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(b,g){return Rn(b,"POST","/v1/accounts:signInWithEmailLink",Wt(b,g))})).apply(this,arguments)}class xa extends ir{constructor(g,_,D,x=null){super("password",D),this._email=g,this._password=_,this._tenantId=x}static _fromEmailAndPassword(g,_){return new xa(g,_,"password")}static _fromEmailAndCode(g,_,D=null){return new xa(g,_,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function Aa(b,g){return so.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function rr(b,g){return Mc.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:tt(g,"internal-error")}})()}_linkToIdToken(g,_){var D=this;return(0,l.Z)(function*(){switch(D.signInMethod){case"password":return Tc(g,{idToken:_,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function gg(b,g){return xc.apply(this,arguments)}(g,{idToken:_,email:D._email,oobCode:D._password});default:tt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ao(b,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(b,g){return Rn(b,"POST","/v1/accounts:signInWithIdp",Wt(b,g))})).apply(this,arguments)}class ms extends ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new ms(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):tt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:x}=_,P=(0,ce._T)(_,["providerId","signInMethod"]);if(!D||!x)return null;const se=new ms(D,x);return se.idToken=P.idToken||void 0,se.accessToken=P.accessToken||void 0,se.secret=P.secret,se.nonce=P.nonce,se.pendingToken=P.pendingToken||null,se}_getIdTokenResponse(g){return ao(g,this.buildRequest())}_linkToIdToken(g,_){const D=this.buildRequest();return D.idToken=_,ao(g,D)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ao(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,B.xO)(_)}return g}}function _g(b,g){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,l.Z)(function*(b,g){return Gt(b,"POST","/v1/accounts:sendVerificationCode",Wt(b,g))})).apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(b,g){return Rn(b,"POST","/v1/accounts:signInWithPhoneNumber",Wt(b,g))})).apply(this,arguments)}function Uu(){return(Uu=(0,l.Z)(function*(b,g){const _=yield Rn(b,"POST","/v1/accounts:signInWithPhoneNumber",Wt(b,g));if(_.temporaryProof)throw Un(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const vg={USER_NOT_FOUND:"user-not-found"};function Ml(){return(Ml=(0,l.Z)(function*(b,g){return Rn(b,"POST","/v1/accounts:signInWithPhoneNumber",Wt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),vg)})).apply(this,arguments)}class Po extends ir{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Po({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Po({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function yg(b,g){return ka.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Oo(b,g){return Uu.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function bg(b,g){return Ml.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:D,verificationCode:x}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:D,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:D,phoneNumber:x,temporaryProof:P}=g;return D||_||x||P?new Po({verificationId:_,verificationCode:D,phoneNumber:x,temporaryProof:P}):null}}class No{constructor(g){var _,D,x,P,se,ke;const Ke=(0,B.zd)((0,B.pd)(g)),ft=null!==(_=Ke.apiKey)&&void 0!==_?_:null,qt=null!==(D=Ke.oobCode)&&void 0!==D?D:null,Mn=function ju(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ke.mode)&&void 0!==x?x:null);le(ft&&qt&&Mn,"argument-error"),this.apiKey=ft,this.operation=Mn,this.code=qt,this.continueUrl=null!==(P=Ke.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(se=Ke.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(ke=Ke.tenantId)&&void 0!==ke?ke:null}static parseLink(g){const _=function Hu(b){const g=(0,B.zd)((0,B.pd)(b)).link,_=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,D=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(D?(0,B.zd)((0,B.pd)(D)).link:null)||D||_||g||b}(g);try{return new No(_)}catch{return null}}}let xl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,D){return xa._fromEmailAndPassword(_,D)}static credentialWithLink(_,D){const x=No.parseLink(D);return le(x,"argument-error"),xa._fromEmailAndCode(_,x.code,x.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Mi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Fo extends Mi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ls extends Fo{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return le("providerId"in _&&"signInMethod"in _,"argument-error"),ms._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return le(g.idToken||g.accessToken,"argument-error"),ms._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ls.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ls.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:D,oauthTokenSecret:x,pendingToken:P,nonce:se,providerId:ke}=g;if(!D&&!x&&!_&&!P||!ke)return null;try{return new Ls(ke)._credential({idToken:_,accessToken:D,nonce:se,pendingToken:P})}catch{return null}}}let $u=(()=>{class b extends Fo{constructor(){super("facebook.com")}static credential(_){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),kl=(()=>{class b extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,D){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:D,oauthAccessToken:x}=_;if(!D&&!x)return null;try{return b.credential(D,x)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),kc=(()=>{class b extends Fo{constructor(){super("github.com")}static credential(_){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Lo extends ir{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return ao(g,this.buildRequest())}_linkToIdToken(g,_){const D=this.buildRequest();return D.idToken=_,ao(g,D)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ao(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:x,pendingToken:P}=_;return D&&x&&P&&D===x?new Lo(D,P):null}static _create(g,_){return new Lo(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yr extends Mi{constructor(g){le(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return yr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return yr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Lo.fromJSON(g);return le(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:D}=g;if(!_||!D)return null;try{return Lo._create(D,_)}catch{return null}}}let _s=(()=>{class b extends Fo{constructor(){super("twitter.com")}static credential(_,D){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:D,oauthTokenSecret:x}=_;if(!D||!x)return null;try{return b.credential(D,x)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function sr(b,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(b,g){return Rn(b,"POST","/v1/accounts:signUp",Wt(b,g))})).apply(this,arguments)}class vr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,D,x=!1){return(0,l.Z)(function*(){const P=yield ze._fromIdTokenResponse(g,D,x),se=Vo(D);return new vr({user:P,providerId:se,_tokenResponse:D,operationType:_})})()}static _forOperation(g,_,D){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const x=Vo(D);return new vr({user:g,providerId:x,_tokenResponse:D,operationType:_})})()}}function Vo(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function wg(b){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,l.Z)(function*(b){var g;const _=wt(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new vr({user:_.currentUser,providerId:null,operationType:"signIn"});const D=yield sr(_,{returnSecureToken:!0}),x=yield vr._fromIdTokenResponse(_,"signIn",D,!0);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ln extends B.ZR{constructor(g,_,D,x){var P;super(_.code,_.message),this.operationType=D,this.user=x,Object.setPrototypeOf(this,Ln.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,_,D,x){return new Ln(g,_,D,x)}}function Zu(b,g,_,D){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ln._fromErrorAndOperation(b,P,g,D):P})}function Oh(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Or(b,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(b,g){const _=(0,B.m9)(b);yield qr(!0,_,g);const{providerUserInfo:D}=yield nt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),x=Oh(D||[]);return _.providerData=_.providerData.filter(P=>x.has(P.providerId)),x.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Rl(b,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(b,g,_=!1){const D=yield Ft(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return vr._forOperation(b,"link",D)})).apply(this,arguments)}function qr(b,g,_){return ln.apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(b,g,_){yield Pi(g);const x=!1===b?"provider-already-linked":"no-such-provider";le(Oh(g.providerData).has(_)===b,g.auth,x)})).apply(this,arguments)}function Ol(b,g){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,l.Z)(function*(b,g,_=!1){var D;const{auth:x}=b,P="reauthenticate";try{const se=yield Ft(b,Zu(x,P,g,b),_);le(se.idToken,x,"internal-error");const ke=pt(se.idToken);le(ke,x,"internal-error");const{sub:Ke}=ke;return le(b.uid===Ke,x,"user-mismatch"),vr._forOperation(b,P,se)}catch(se){throw"auth/user-not-found"===(null===(D=se)||void 0===D?void 0:D.code)&&tt(x,"user-mismatch"),se}})).apply(this,arguments)}function Oc(b,g){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(b,g,_=!1){const D="signIn",x=yield Zu(b,D,g),P=yield vr._fromIdTokenResponse(b,D,x);return _||(yield b._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ra(b,g){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(b,g){return Oc(wt(b),g)})).apply(this,arguments)}function Nt(b,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(b,g){const _=(0,B.m9)(b);return yield qr(!1,_,g.providerId),Rl(_,g)})).apply(this,arguments)}function Dg(b,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(b,g){return Ol((0,B.m9)(b),g)})).apply(this,arguments)}function qu(b,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(b,g){return Rn(b,"POST","/v1/accounts:signInWithCustomToken",Wt(b,g))})).apply(this,arguments)}function co(b,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,l.Z)(function*(b,g){const _=wt(b),D=yield qu(_,{token:g,returnSecureToken:!0}),x=yield vr._fromIdTokenResponse(_,"signIn",D);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class Uo{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Oe._fromServerResponse(g,_):tt(g,"internal-error")}}class Oe extends Uo{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Oe(_)}}function Qt(b,g,_){var D;le((null===(D=_.url)||void 0===D?void 0:D.length)>0,b,"invalid-continue-uri"),le(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(le(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(le(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Ph(b,g,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(b,g,_){const D=(0,B.m9)(b),x={requestType:"PASSWORD_RESET",email:g};_&&Qt(D,x,_),yield Rh(D,x)})).apply(this,arguments)}function ii(b,g,_){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(function*(b,g,_){yield gr((0,B.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Pl(b,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,l.Z)(function*(b,g){yield kh((0,B.m9)(b),{oobCode:g})})).apply(this,arguments)}function Nl(b,g){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(b,g){const _=(0,B.m9)(b),D=yield gr(_,{oobCode:g}),x=D.requestType;switch(le(x,_,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(D.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(D.mfaInfo,_,"internal-error");default:le(D.email,_,"internal-error")}let P=null;return D.mfaInfo&&(P=Uo._fromServerResponse(wt(_),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:P},operation:x}})).apply(this,arguments)}function Nh(b,g){return La.apply(this,arguments)}function La(){return(La=(0,l.Z)(function*(b,g){const{data:_}=yield Nl((0,B.m9)(b),g);return _.email})).apply(this,arguments)}function Cg(b,g,_){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(b,g,_){const D=wt(b),x=yield sr(D,{returnSecureToken:!0,email:g,password:_}),P=yield vr._fromIdTokenResponse(D,"signIn",x);return yield D._updateCurrentUser(P.user),P})).apply(this,arguments)}function ri(b,g,_){return Ra((0,B.m9)(b),xl.credential(g,_))}function Wr(b,g,_){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(b,g,_){const D=(0,B.m9)(b),x={requestType:"EMAIL_SIGNIN",email:g};le(_.handleCodeInApp,D,"argument-error"),_&&Qt(D,x,_),yield mr(D,x)})).apply(this,arguments)}function Ba(b,g){return"EMAIL_SIGNIN"===No.parseLink(g)?.operation}function vs(b,g,_){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,l.Z)(function*(b,g,_){const D=(0,B.m9)(b),x=xl.credentialWithLink(g,_||Ue());return le(x._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Ra(D,x)})).apply(this,arguments)}function Pc(b,g){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,l.Z)(function*(b,g){return Gt(b,"POST","/v1/accounts:createAuthUri",Wt(b,g))})).apply(this,arguments)}function Fh(b,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(b,g){const D={identifier:g,continueUri:je()?Ue():"http://localhost"},{signinMethods:x}=yield Pc((0,B.m9)(b),D);return x||[]})).apply(this,arguments)}function Nc(b,g){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(b,g){const _=(0,B.m9)(b),x={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Qt(_.auth,x,g);const{email:P}=yield gs(_.auth,x);P!==b.email&&(yield b.reload())})).apply(this,arguments)}function Fc(b,g,_){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(b,g,_){const D=(0,B.m9)(b),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&Qt(D.auth,P,_);const{email:se}=yield Ta(D.auth,P);se!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ku(b,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(b,g){return Gt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Lh(b,g){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const D=(0,B.m9)(b),P={idToken:yield D.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},se=yield Ft(D,Ku(D.auth,P));D.displayName=se.displayName||null,D.photoURL=se.photoUrl||null;const ke=D.providerData.find(({providerId:Ke})=>"password"===Ke);ke&&(ke.displayName=D.displayName,ke.photoURL=D.photoURL),yield D._updateTokensIfNecessary(se)})).apply(this,arguments)}function Vh(b,g){return Bs((0,B.m9)(b),g,null)}function Qu(b,g){return Bs((0,B.m9)(b),null,g)}function Bs(b,g,_){return Us.apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(b,g,_){const{auth:D}=b,P={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(P.email=g),_&&(P.password=_);const se=yield Ft(b,Tc(D,P));yield b._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class Pn{constructor(g,_,D={}){this.isNewUser=g,this.providerId=_,this.profile=D}}class bs extends Pn{constructor(g,_,D,x){super(g,_,D),this.username=x}}class Nn extends Pn{constructor(g,_){super(g,"facebook.com",_)}}class Lc extends bs{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Vc extends Pn{constructor(g,_){super(g,"google.com",_)}}class Xu extends bs{constructor(g,_,D){super(g,"twitter.com",_,D)}}function Bc(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ju(b){var g,_;if(!b)return null;const{providerId:D}=b,x=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},P=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!D&&b?.idToken){const se=null===(_=null===(g=pt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(se)return new Pn(P,"anonymous"!==se&&"custom"!==se?se:null)}if(!D)return null;switch(D){case"facebook.com":return new Nn(P,x);case"github.com":return new Lc(P,x);case"google.com":return new Vc(P,x);case"twitter.com":return new Xu(P,x,b.screenName||null);case"custom":case"anonymous":return new Pn(P,null);default:return new Pn(P,D,x)}}(_)}class wr{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new wr("enroll",g)}static _fromMfaPendingCredential(g){return new wr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,D;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return wr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return wr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Hc{constructor(g,_,D){this.session=g,this.hints=_,this.signInResolver=D}static _fromError(g,_){const D=wt(g),x=_.customData._serverResponse,P=(x.mfaInfo||[]).map(ke=>Uo._fromServerResponse(D,ke));le(x.mfaPendingCredential,D,"internal-error");const se=wr._fromMfaPendingCredential(x.mfaPendingCredential);return new Hc(se,P,function(){var ke=(0,l.Z)(function*(Ke){const ft=yield Ke._process(D,se);delete x.mfaInfo,delete x.mfaPendingCredential;const qt=Object.assign(Object.assign({},x),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(_.operationType){case"signIn":const Mn=yield vr._fromIdTokenResponse(D,_.operationType,qt);return yield D._updateCurrentUser(Mn.user),Mn;case"reauthenticate":return le(_.user,D,"internal-error"),vr._forOperation(_.user,_.operationType,qt);default:tt(D,"internal-error")}});return function(Ke){return ke.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function id(b,g){var _;const D=(0,B.m9)(b),x=g;return le(g.customData.operationType,D,"argument-error"),le(null===(_=x.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,D,"argument-error"),Hc._fromError(D,x)}function Gn(b,g){return Gt(b,"POST","/v2/accounts/mfaEnrollment:start",Wt(b,g))}class Vl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(D=>Uo._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new Vl(g)}getSession(){var g=this;return(0,l.Z)(function*(){return wr._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var D=this;return(0,l.Z)(function*(){const x=g,P=yield D.getSession(),se=yield Ft(D.user,x._process(D.user.auth,P,_));return yield D.user._updateTokensIfNecessary(se),D.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){var D;const x="string"==typeof g?g:g.uid,P=yield _.user.getIdToken(),se=yield Ft(_.user,function Ll(b,g){return Gt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(b,g))}(_.user.auth,{idToken:P,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ke})=>ke!==x),yield _.user._updateTokensIfNecessary(se);try{yield _.user.reload()}catch(ke){if("auth/user-token-expired"!==(null===(D=ke)||void 0===D?void 0:D.code))throw ke}})()}}const Bh=new WeakMap;function $a(b){const g=(0,B.m9)(b);return Bh.has(g)||Bh.set(g,Vl._fromUser(g)),Bh.get(g)}const ws="__sak";class Ga{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ws,"1"),this.storage.removeItem(ws),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const si=(()=>{class b extends Ga{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,D)=>this.onStorageEvent(_,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $c(){const b=(0,B.z$)();return z(b)||rt(b)}()&&function fs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const D of Object.keys(this.listeners)){const x=this.storage.getItem(D),P=this.localCache[D];x!==P&&_(D,P,x)}}onStorageEvent(_,D=!1){if(!_.key)return void this.forAllChangedKeys((ke,Ke,ft)=>{this.notifyListeners(ke,ft)});const x=_.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(x);if(_.newValue!==ke)null!==_.newValue?this.storage.setItem(x,_.newValue):this.storage.removeItem(x);else if(this.localCache[x]===_.newValue&&!D)return}const P=()=>{const ke=this.storage.getItem(x);!D&&this.localCache[x]===ke||this.notifyListeners(x,ke)},se=this.storage.getItem(x);!function jt(){return(0,B.w1)()&&10===document.documentMode}()||se===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,D){this.localCache[_]=D;const x=this.listeners[_];if(x)for(const P of Array.from(x))P(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,D,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:D,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,D){var x=()=>super._set,P=this;return(0,l.Z)(function*(){yield x().call(P,_,D),P.localCache[_]=JSON.stringify(D)})()}_get(_){var D=()=>super._get,x=this;return(0,l.Z)(function*(){const P=yield D().call(x,_);return x.localCache[_]=JSON.stringify(P),P})()}_remove(_){var D=()=>super._remove,x=this;return(0,l.Z)(function*(){yield D().call(x,_),delete x.localCache[_]})()}}return b.type="LOCAL",b})(),js=(()=>{class b extends Ga{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,D){}_removeListener(_,D){}}return b.type="SESSION",b})();let Za=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const D=this.receivers.find(P=>P.isListeningto(_));if(D)return D;const x=new b(_);return this.receivers.push(x),x}isListeningto(_){return this.eventTarget===_}handleEvent(_){var D=this;return(0,l.Z)(function*(){const x=_,{eventId:P,eventType:se,data:ke}=x.data,Ke=D.handlersMap[se];if(!Ke?.size)return;x.ports[0].postMessage({status:"ack",eventId:P,eventType:se});const ft=Array.from(Ke).map(function(){var Mn=(0,l.Z)(function*(As){return As(x.origin,ke)});return function(As){return Mn.apply(this,arguments)}}()),qt=yield function Gc(b){return Promise.all(b.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(D){return{fulfilled:!1,reason:D}}});return function(_){return g.apply(this,arguments)}}()))}(ft);x.ports[0].postMessage({status:"done",eventId:P,eventType:se,response:qt})})()}_subscribe(_,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(D)}_unsubscribe(_,D){this.handlersMap[_]&&D&&this.handlersMap[_].delete(D),(!D||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Yo(b="",g=10){let _="";for(let D=0;D<g;D++)_+=Math.floor(10*Math.random());return b+_}class Hh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,D=50){var x=this;return(0,l.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let se,ke;return new Promise((Ke,ft)=>{const qt=Yo("",20);P.port1.start();const Mn=setTimeout(()=>{ft(new Error("unsupported_event"))},D);ke={messageChannel:P,onMessage(As){const Wl=As;if(Wl.data.eventId===qt)switch(Wl.data.status){case"ack":clearTimeout(Mn),se=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),Ke(Wl.data.response);break;default:clearTimeout(Mn),clearTimeout(se),ft(new Error("invalid_response"))}}},x.handlers.add(ke),P.port1.addEventListener("message",ke.onMessage),x.target.postMessage({eventType:g,eventId:qt,data:_},[P.port2])}).finally(()=>{ke&&x.removeMessageHandler(ke)})})()}}function zn(){return window}function or(){return typeof zn().WorkerGlobalScope<"u"&&"function"==typeof zn().importScripts}function Ds(){return(Ds=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qa="firebaseLocalStorageDb",Wa="firebaseLocalStorage",Ko="fbase_key";class ho{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Qo(b,g){return b.transaction([Wa],g?"readwrite":"readonly").objectStore(Wa)}function Ul(){const b=indexedDB.open(qa,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const D=b.result;try{D.createObjectStore(Wa,{keyPath:Ko})}catch(x){_(x)}}),b.addEventListener("success",(0,l.Z)(function*(){const D=b.result;D.objectStoreNames.contains(Wa)?g(D):(D.close(),yield function ad(){const b=indexedDB.deleteDatabase(qa);return new ho(b).toPromise()}(),g(yield Ul()))}))})}function Ya(b,g,_){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(b,g,_){const D=Qo(b,!0).put({[Ko]:g,value:_});return new ho(D).toPromise()})).apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(b,g){const _=Qo(b,!1).get(g),D=yield new ho(_).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function jl(b,g){const _=Qo(b,!0).delete(g);return new ho(_).toPromise()}const ea=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Ul()),_.db})()}_withRetries(_){var D=this;return(0,l.Z)(function*(){let x=0;for(;;)try{const P=yield D._openDb();return yield _(P)}catch(P){if(x++>3)throw P;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return or()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Za._getInstance(function Bl(){return or()?self:null}()),_.receiver._subscribe("keyChanged",function(){var D=(0,l.Z)(function*(x,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(x,P){return D.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var D=(0,l.Z)(function*(x,P){return["keyChanged"]});return function(x,P){return D.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var D,x;if(_.activeServiceWorker=yield function od(){return Ds.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Hh(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(D=P[0])||void 0===D?void 0:D.fulfilled)&&(null===(x=P[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var D=this;return(0,l.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function zc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:_},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Ul();return yield Ya(_,ws,"1"),yield jl(_,ws),!0}catch{}return!1})()}_withPendingWrite(_){var D=this;return(0,l.Z)(function*(){D.pendingWrites++;try{yield _()}finally{D.pendingWrites--}})()}_set(_,D){var x=this;return(0,l.Z)(function*(){return x._withPendingWrite((0,l.Z)(function*(){return yield x._withRetries(P=>Ya(P,_,D)),x.localCache[_]=D,x.notifyServiceWorker(_)}))})()}_get(_){var D=this;return(0,l.Z)(function*(){const x=yield D._withRetries(P=>function $h(b,g){return Jo.apply(this,arguments)}(P,_));return D.localCache[_]=x,x})()}_remove(_){var D=this;return(0,l.Z)(function*(){return D._withPendingWrite((0,l.Z)(function*(){return yield D._withRetries(x=>jl(x,_)),delete D.localCache[_],D.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const D=yield _._withRetries(se=>{const ke=Qo(se,!1).getAll();return new ho(ke).toPromise()});if(!D)return[];if(0!==_.pendingWrites)return[];const x=[],P=new Set;for(const{fbase_key:se,value:ke}of D)P.add(se),JSON.stringify(_.localCache[se])!==JSON.stringify(ke)&&(_.notifyListeners(se,ke),x.push(se));for(const se of Object.keys(_.localCache))_.localCache[se]&&!P.has(se)&&(_.notifyListeners(se,null),x.push(se));return x})()}notifyListeners(_,D){this.localCache[_]=D;const x=this.listeners[_];if(x)for(const P of Array.from(x))P(D)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Gh(b,g){return Gt(b,"POST","/v2/accounts/mfaSignIn:start",Wt(b,g))}function Ni(){return(Ni=(0,l.Z)(function*(b){return(yield Gt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fo(b){return new Promise((g,_)=>{const D=document.createElement("script");D.setAttribute("src",b),D.onload=g,D.onerror=x=>{const P=Le("internal-error");P.customData=x,_(P)},D.type="text/javascript",D.charset="UTF-8",function na(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(D)})}function ia(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Kr=1e12;class ld{constructor(g){this.auth=g,this.counter=Kr,this._widgets=new Map}render(g,_){const D=this.counter;return this._widgets.set(D,new Sn(g,this.auth.name,_||{})),this.counter++,D}reset(g){var _;const D=g||Kr;null===(_=this._widgets.get(D))||void 0===_||_.delete(),this._widgets.delete(D)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Kr))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var D;return null===(D=_._widgets.get(g||Kr))||void 0===D||D.execute(),""})()}}class Sn{constructor(g,_,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;le(x,"argument-error",{appName:_}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Eg(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<b;D++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zh=ia("rcb"),Gw=new Ye(3e4,6e4);class K_{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=zn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return le(function Zh(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(zn().grecaptcha):new Promise((D,x)=>{const P=zn().setTimeout(()=>{x(Le(g,"network-request-failed"))},Gw.get());zn()[zh]=()=>{zn().clearTimeout(P),delete zn()[zh];const ke=zn().grecaptcha;if(!ke)return void x(Le(g,"internal-error"));const Ke=ke.render;ke.render=(ft,qt)=>{const Mn=Ke(ft,qt);return this.counter++,Mn},this.hostLanguage=_,D(ke)},fo(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:zh,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),x(Le(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=zn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class zw{load(g){return(0,l.Z)(function*(){return new ld(g)})()}clearedOneInstance(){}}const $l="recaptcha",Zw={theme:"light",type:"image"};class Q_{constructor(g,_=Object.assign({},Zw),D){this.parameters=_,this.type=$l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wt(D),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;le(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zw:new K_,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(_)||new Promise(P=>{const se=ke=>{!ke||(g.tokenChangeListeners.delete(se),P(ke))};g.tokenChangeListeners.add(se),g.isInvisible&&D.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(D=>D(_)),"function"==typeof g)g(_);else if("string"==typeof g){const D=zn()[g];"function"==typeof D&&D(_)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const D=document.createElement("div");_.appendChild(D),_=D}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){le(je()&&!or(),g.auth,"internal-error"),yield function vi(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Hl(b){return Ni.apply(this,arguments)}(g.auth);le(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gn{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Po._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function oi(b,g,_){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,l.Z)(function*(b,g,_){const D=wt(b),x=yield po(D,g,(0,B.m9)(_));return new gn(x,P=>Ra(D,P))})).apply(this,arguments)}function cd(b,g,_){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(b,g,_){const D=(0,B.m9)(b);yield qr(!1,D,"phone");const x=yield po(D.auth,g,(0,B.m9)(_));return new gn(x,P=>Nt(D,P))})).apply(this,arguments)}function Cs(b,g,_){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(b,g,_){const D=(0,B.m9)(b),x=yield po(D.auth,g,(0,B.m9)(_));return new gn(x,P=>Dg(D,P))})).apply(this,arguments)}function po(b,g,_){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(b,g,_){var D;const x=yield _.verify();try{let P;if(le("string"==typeof x,b,"argument-error"),le(_.type===$l,b,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const se=P.session;if("phoneNumber"in P)return le("enroll"===se.type,b,"internal-error"),(yield Gn(b,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{le("signin"===se.type,b,"internal-error");const ke=(null===(D=P.multiFactorHint)||void 0===D?void 0:D.uid)||P.multiFactorUid;return le(ke,b,"missing-multi-factor-info"),(yield Gh(b,{mfaPendingCredential:se.credential,mfaEnrollmentId:ke,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield _g(b,{phoneNumber:P.phoneNumber,recaptchaToken:x});return se}}finally{_._reset()}})).apply(this,arguments)}function go(b,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(b,g){yield Rl((0,B.m9)(b),g)})).apply(this,arguments)}let At=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=wt(_)}verifyPhoneNumber(_,D){return po(this.auth,_,(0,B.m9)(D))}static credential(_,D){return Po._fromVerification(_,D)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:D,temporaryProof:x}=_;return D&&x?Po._fromTokenResponse(D,x):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function sa(b,g){return g?ne(g):(le(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ud extends ir{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ao(g,this._buildIdpRequest())}_linkToIdToken(g,_){return ao(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return ao(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Gl(b){return Oc(b.auth,new ud(b),b.bypassAuthState)}function qi(b){const{auth:g,user:_}=b;return le(_,g,"internal-error"),Ol(_,new ud(b),b.bypassAuthState)}function Qa(b){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(b){const{auth:g,user:_}=b;return le(_,g,"internal-error"),Rl(_,new ud(b),b.bypassAuthState)})).apply(this,arguments)}class Es{constructor(g,_,D,x,P=!1){this.auth=g,this.resolver=D,this.user=x,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(D,x){g.pendingPromise={resolve:D,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(D,x){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:D,sessionId:x,postBody:P,tenantId:se,error:ke,type:Ke}=g;if(ke)return void _.reject(ke);const ft={auth:_.auth,requestUri:D,sessionId:x,tenantId:se||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ke)(ft))}catch(qt){_.reject(qt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Gl;case"linkViaPopup":case"linkViaRedirect":return Qa;case"reauthViaPopup":case"reauthViaRedirect":return qi;default:tt(this.auth,"internal-error")}}resolve(g){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Li=new Ye(2e3,1e4);function Yc(b,g,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(b,g,_){const D=wt(b);Te(b,g,Mi);const x=sa(D,_);return new Xa(D,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function Kc(b,g,_){return dd.apply(this,arguments)}function dd(){return(dd=(0,l.Z)(function*(b,g,_){const D=(0,B.m9)(b);Te(D.auth,g,Mi);const x=sa(D.auth,_);return new Xa(D.auth,"reauthViaPopup",g,x,D).executeNotNull()})).apply(this,arguments)}function Ig(b,g,_){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(b,g,_){const D=(0,B.m9)(b);Te(D.auth,g,Mi);const x=sa(D.auth,_);return new Xa(D.auth,"linkViaPopup",g,x,D).executeNotNull()})).apply(this,arguments)}let Xa=(()=>{class b extends Es{constructor(_,D,x,P,se){super(_,D,P,se),this.provider=x,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const D=yield _.execute();return le(D,_.auth,"internal-error"),D})()}onExecution(){var _=this;return(0,l.Z)(function*(){Ce(1===_.filter.length,"Popup operations only handle one event");const D=Yo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],D),_.authWindow.associatedEvent=D,_.resolver._originValidation(_.auth).catch(x=>{_.reject(x)}),_.resolver._isIframeWebStorageSupported(_.auth,x=>{x||_.reject(Le(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var D,x;this.pollId=null!==(x=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Li.get())};_()}}return b.currentPopupAction=null,b})();const Qr=new Map;class Vn extends Es{constructor(g,_,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let D=Qr.get(_.auth._key());if(!D){try{const P=(yield function Jr(b,g){return aa.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;D=()=>Promise.resolve(P)}catch(x){D=()=>Promise.reject(x)}Qr.set(_.auth._key(),D)}return _.bypassAuthState||Qr.set(_.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,D=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(D,g);if("unknown"!==g.type){if(g.eventId){const x=yield D.auth._redirectUserForId(g.eventId);if(x)return D.user=x,_().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function aa(){return(aa=(0,l.Z)(function*(b,g){const _=Is(g),D=la(b);if(!(yield D._isAvailable()))return!1;const x="true"===(yield D._get(_));return yield D._remove(_),x})).apply(this,arguments)}function Xr(b,g){return zl.apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(b,g){return la(b)._set(Is(g),"true")})).apply(this,arguments)}function $s(){Qr.clear()}function Qc(b,g){Qr.set(b._key(),g)}function la(b){return ne(b._redirectPersistence)}function Is(b){return dn("pendingRedirect",b.config.apiKey,b.name)}function hd(b,g,_){return function qn(b,g,_){return Zl.apply(this,arguments)}(b,g,_)}function Zl(){return(Zl=(0,l.Z)(function*(b,g,_){const D=wt(b);Te(b,g,Mi);const x=sa(D,_);return yield Xr(x,D),x._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function I(b,g,_){return function S(b,g,_){return k.apply(this,arguments)}(b,g,_)}function k(){return(k=(0,l.Z)(function*(b,g,_){const D=(0,B.m9)(b);Te(D.auth,g,Mi);const x=sa(D.auth,_);yield Xr(x,D.auth);const P=yield Ht(D);return x._openRedirect(D.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function V(b,g,_){return function ee(b,g,_){return ge.apply(this,arguments)}(b,g,_)}function ge(){return(ge=(0,l.Z)(function*(b,g,_){const D=(0,B.m9)(b);Te(D.auth,g,Mi);const x=sa(D.auth,_);yield qr(!1,D,g.providerId),yield Xr(x,D.auth);const P=yield Ht(D);return x._openRedirect(D.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function Pe(b,g){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,l.Z)(function*(b,g){return yield wt(b)._initializationPromise,mt(b,g,!1)})).apply(this,arguments)}function mt(b,g){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(b,g,_=!1){const D=wt(b),x=sa(D,g),se=yield new Vn(D,x,_).execute();return se&&!_&&(delete se.user._redirectEventId,yield D._persistUserIfCurrent(se.user),yield D._setRedirectUser(null,g)),se})).apply(this,arguments)}function Ht(b){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(b){const g=Yo(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class hi{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(_=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function mo(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ss(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var D;if(g.error&&!Ss(g)){const x=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";_.onError(Le(this.auth,x))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const D=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gs(g))}saveEventToCache(g){this.cachedEventUids.add(Gs(g)),this.lastProcessedEventTime=Date.now()}}function Gs(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Ss({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function zs(b){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(b,g={}){return Gt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const ai=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wi=/^https?/;function Jc(){return(Jc=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield zs(b);for(const _ of g)try{if(TI(_))return}catch{}tt(b,"unauthorized-domain")})).apply(this,arguments)}function TI(b){const g=Ue(),{protocol:_,hostname:D}=new URL(g);if(b.startsWith("chrome-extension://")){const se=new URL(b);return""===se.hostname&&""===D?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&se.hostname===D}if(!Wi.test(_))return!1;if(ai.test(b))return D===b;const x=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(D)}const qh=new Ye(3e4,6e4);function el(){const b=zn().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let qs=null;function Sg(b){return qs=qs||function Wh(b){return new Promise((g,_)=>{var D,x,P;function se(){el(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{el(),_(Le(b,"network-request-failed"))},timeout:qh.get()})}if(null!==(x=null===(D=zn().gapi)||void 0===D?void 0:D.iframes)&&void 0!==x&&x.Iframe)g(gapi.iframes.getContext());else{if(null===(P=zn().gapi)||void 0===P||!P.load){const ke=ia("iframefcb");return zn()[ke]=()=>{gapi.load?se():_(Le(b,"network-request-failed"))},fo(`https://apis.google.com/js/api.js?onload=${ke}`).catch(Ke=>_(Ke))}se()}}).catch(g=>{throw qs=null,g})}(b),qs}const Yh=new Ye(5e3,15e3),J_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tg(b){const g=b.config;le(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?bn(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:b.name,v:O.SDK_VERSION},x=xI.get(b.config.apiHost);x&&(D.eid=x);const P=b._getFrameworks();return P.length&&(D.fw=P.join(",")),`${_}?${(0,B.xO)(D).slice(1)}`}function Kh(){return Kh=(0,l.Z)(function*(b){const g=yield Sg(b),_=zn().gapi;return le(_,b,"internal-error"),g.open({where:document.body,url:Tg(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J_,dontclear:!0},D=>new Promise(function(){var x=(0,l.Z)(function*(P,se){yield D.restyle({setHideOnLeave:!1});const ke=Le(b,"network-request-failed"),Ke=zn().setTimeout(()=>{se(ke)},Yh.get());function ft(){zn().clearTimeout(Ke),P(D)}D.ping(ft).then(ft,()=>{se(ke)})});return function(P,se){return x.apply(this,arguments)}}()))}),Kh.apply(this,arguments)}const Qh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ty{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ca(b,g,_,D,x,P){le(b.config.authDomain,b,"auth-domain-config-required"),le(b.config.apiKey,b,"invalid-api-key");const se={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:D,v:O.SDK_VERSION,eventId:x};if(g instanceof Mi){g.setDefaultLanguage(b.languageCode),se.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(se.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ke,ft]of Object.entries(P||{}))se[Ke]=ft}if(g instanceof Fo){const Ke=g.getScopes().filter(ft=>""!==ft);Ke.length>0&&(se.scopes=Ke.join(","))}b.tenantId&&(se.tid=b.tenantId);const ke=se;for(const Ke of Object.keys(ke))void 0===ke[Ke]&&delete ke[Ke];return`${function fd({config:b}){return b.emulator?bn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,B.xO)(ke).slice(1)}`}const pd="webStorageSupport",ef=class Xh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=js,this._completeRedirectFn=mt,this._overrideRedirectResult=Qc}_openPopup(g,_,D,x){var P=this;return(0,l.Z)(function*(){var se;Ce(null===(se=P.eventManagers[g._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const ke=ca(g,_,D,Ue(),x);return function ql(b,g,_,D=500,x=600){const P=Math.max((window.screen.availHeight-x)/2,0).toString(),se=Math.max((window.screen.availWidth-D)/2,0).toString();let ke="";const Ke=Object.assign(Object.assign({},Qh),{width:D.toString(),height:x.toString(),top:P,left:se}),ft=(0,B.z$)().toLowerCase();_&&(ke=Ie(ft)?"_blank":_),H(ft)&&(g=g||"http://localhost",Ke.scrollbars="yes");const qt=Object.entries(Ke).reduce((As,[Wl,tf])=>`${As}${Wl}=${tf},`,"");if(function On(b=(0,B.z$)()){var g;return rt(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ft)&&"_self"!==ke)return function nl(b,g){const _=document.createElement("a");_.href=b,_.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(D)}(g||"",ke),new ty(null);const Mn=window.open(g||"",ke,qt);le(Mn,b,"popup-blocked");try{Mn.focus()}catch{}return new ty(Mn)}(g,ke,Yo())})()}_openRedirect(g,_,D,x){var P=this;return(0,l.Z)(function*(){return yield P._originValidation(g),function sd(b){zn().location.href=b}(ca(g,_,D,Ue(),x)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:x,promise:P}=this.eventManagers[_];return x?Promise.resolve(x):(Ce(P,"If manager is not set, promise should be"),P)}const D=this.initAndGetManager(g);return this.eventManagers[_]={promise:D},D.catch(()=>{delete this.eventManagers[_]}),D}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const D=yield function qw(b){return Kh.apply(this,arguments)}(g),x=new hi(g);return D.register("authEvent",P=>(le(P?.authEvent,g,"invalid-auth-event"),{status:x.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:x},_.iframes[g._key()]=D,x})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(pd,{type:pd},x=>{var P;const se=null===(P=x?.[0])||void 0===P?void 0:P[pd];void 0!==se&&_(!!se),tt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Zs(b){return Jc.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return vn()||z()||rt()}};class md extends class gd{constructor(g){this.factorId=g}_process(g,_,D){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,D);case"signin":return this._finalizeSignIn(g,_.credential);default:return pe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new md(g)}_finalizeEnroll(g,_,D){return function Fl(b,g){return Gt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(b,g))}(g,{idToken:_,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function ta(b,g){return Gt(b,"POST","/v2/accounts/mfaSignIn:finalize",Wt(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _o=(()=>{class b{constructor(){}static assertion(_){return md._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var rl="@firebase/auth";class kI{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(D=>{var x;g((null===(x=D)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Ww(b){(0,O._registerComponent)(new be.wA("auth",(g,{options:_})=>{const D=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:P,authDomain:se}=D.options;return((ke,Ke)=>{le(P&&!P.includes(":"),"invalid-api-key",{appName:ke.name}),le(!se?.includes(":"),"argument-error",{appName:ke.name});const ft={apiKey:P,authDomain:se,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tn(b)},qt=new no(ke,Ke,ft);return function ue(b,g){const _=g?.persistence||[],D=(Array.isArray(_)?_:[_]).map(ne);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(D,g?.popupRedirectResolver)}(qt,_),qt})(D,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,D)=>{g.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new be.wA("auth-internal",g=>{const _=wt(g.getProvider("auth").getImmediate());return new kI(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(rl,"0.20.6",function RI(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,O.registerVersion)(rl,"0.20.6","esm2017")}("Browser")},2090:(ht,xe,N)=>{N.d(xe,{$s:()=>Pi,BH:()=>Ge,G6:()=>le,L:()=>me,LL:()=>Ue,Mn:()=>Te,Sg:()=>Fe,UG:()=>Se,US:()=>be,ZB:()=>W,ZR:()=>ue,b$:()=>tt,d:()=>Le,eu:()=>Ce,hl:()=>pe,jU:()=>ve,m9:()=>Kt,ne:()=>Zr,pd:()=>Un,r3:()=>Wt,ru:()=>et,tV:()=>Ee,uI:()=>st,vZ:()=>Si,w1:()=>Re,xO:()=>Gr,xb:()=>Ii,z$:()=>Ae,zI:()=>X,zd:()=>tr});const ce=function(J){const G=[];let j=0;for(let Y=0;Y<J.length;Y++){let K=J.charCodeAt(Y);K<128?G[j++]=K:K<2048?(G[j++]=K>>6|192,G[j++]=63&K|128):55296==(64512&K)&&Y+1<J.length&&56320==(64512&J.charCodeAt(Y+1))?(K=65536+((1023&K)<<10)+(1023&J.charCodeAt(++Y)),G[j++]=K>>18|240,G[j++]=K>>12&63|128,G[j++]=K>>6&63|128,G[j++]=63&K|128):(G[j++]=K>>12|224,G[j++]=K>>6&63|128,G[j++]=63&K|128)}return G},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,G){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let K=0;K<J.length;K+=3){const Me=J[K],ze=K+1<J.length,Ct=ze?J[K+1]:0,hn=K+2<J.length,dn=hn?J[K+2]:0;let H=(15&Ct)<<2|dn>>6,z=63&dn;hn||(z=64,ze||(H=64)),Y.push(j[Me>>2],j[(3&Me)<<4|Ct>>4],j[H],j[z])}return Y.join("")},encodeString(J,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(J):this.encodeByteArray(ce(J),G)},decodeString(J,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(J):function(J){const G=[];let j=0,Y=0;for(;j<J.length;){const K=J[j++];if(K<128)G[Y++]=String.fromCharCode(K);else if(K>191&&K<224){const Me=J[j++];G[Y++]=String.fromCharCode((31&K)<<6|63&Me)}else if(K>239&&K<365){const hn=((7&K)<<18|(63&J[j++])<<12|(63&J[j++])<<6|63&J[j++])-65536;G[Y++]=String.fromCharCode(55296+(hn>>10)),G[Y++]=String.fromCharCode(56320+(1023&hn))}else{const Me=J[j++],ze=J[j++];G[Y++]=String.fromCharCode((15&K)<<12|(63&Me)<<6|63&ze)}}return G.join("")}(this.decodeStringToByteArray(J,G))},decodeStringToByteArray(J,G){this.init_();const j=G?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let K=0;K<J.length;){const Me=j[J.charAt(K++)],Ct=K<J.length?j[J.charAt(K)]:0;++K;const dn=K<J.length?j[J.charAt(K)]:64;++K;const re=K<J.length?j[J.charAt(K)]:64;if(++K,null==Me||null==Ct||null==dn||null==re)throw Error();Y.push(Me<<2|Ct>>4),64!==dn&&(Y.push(Ct<<4&240|dn>>2),64!==re&&Y.push(dn<<6&192|re))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},me=function(J){return function(J){const G=ce(J);return be.encodeByteArray(G,!0)}(J).replace(/\./g,"")},Ee=function(J){try{return be.decodeString(J,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function W(J,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return G}for(const j in G)!G.hasOwnProperty(j)||!te(j)||(J[j]=W(J[j],G[j]));return J}function te(J){return"__proto__"!==J}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,j)=>{this.resolve=G,this.reject=j})}wrapCallback(G){return(j,Y)=>{j?this.reject(j):this.resolve(Y),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(j):G(j,Y))}}}function Fe(J,G){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=G||"demo-project",K=J.iat||0,Me=J.sub||J.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:K,exp:K+3600,auth_time:K,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},J);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(ze)),""].join(".")}function Ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ve(){return"object"==typeof self&&self.self===self}function et(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return Ae().indexOf("Electron/")>=0}function Re(){const J=Ae();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Te(){return Ae().indexOf("MSAppHost/")>=0}function le(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){return"object"==typeof indexedDB}function Ce(){return new Promise((J,G)=>{try{let j=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(Y);K.onsuccess=()=>{K.result.close(),j||self.indexedDB.deleteDatabase(Y),J(!0)},K.onupgradeneeded=()=>{j=!1},K.onerror=()=>{var Me;G((null===(Me=K.error)||void 0===Me?void 0:Me.message)||"")}}catch(j){G(j)}})}function X(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ue extends Error{constructor(G,j,Y){super(j),this.code=G,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(G,j,Y){this.service=G,this.serviceName=j,this.errors=Y}create(G,...j){const Y=j[0]||{},K=`${this.service}/${G}`,Me=this.errors[G],ze=Me?function je(J,G){return J.replace(vt,(j,Y)=>{const K=G[Y];return null!=K?String(K):`<${Y}?>`})}(Me,Y):"Error";return new ue(K,`${this.serviceName}: ${ze} (${K}).`,Y)}}const vt=/\{\$([^}]+)}/g;function Wt(J,G){return Object.prototype.hasOwnProperty.call(J,G)}function Ii(J){for(const G in J)if(Object.prototype.hasOwnProperty.call(J,G))return!1;return!0}function Si(J,G){if(J===G)return!0;const j=Object.keys(J),Y=Object.keys(G);for(const K of j){if(!Y.includes(K))return!1;const Me=J[K],ze=G[K];if(Rn(Me)&&Rn(ze)){if(!Si(Me,ze))return!1}else if(Me!==ze)return!1}for(const K of Y)if(!j.includes(K))return!1;return!0}function Rn(J){return null!==J&&"object"==typeof J}function Gr(J){const G=[];for(const[j,Y]of Object.entries(J))Array.isArray(Y)?Y.forEach(K=>{G.push(encodeURIComponent(j)+"="+encodeURIComponent(K))}):G.push(encodeURIComponent(j)+"="+encodeURIComponent(Y));return G.length?"&"+G.join("&"):""}function tr(J){const G={};return J.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[K,Me]=Y.split("=");G[decodeURIComponent(K)]=decodeURIComponent(Me)}}),G}function Un(J){const G=J.indexOf("?");if(!G)return"";const j=J.indexOf("#",G);return J.substring(G,j>0?j:void 0)}function Zr(J,G){const j=new nt(J,G);return j.subscribe.bind(j)}class nt{constructor(G,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{G(this)}).catch(Y=>{this.error(Y)})}next(G){this.forEachObserver(j=>{j.next(G)})}error(G){this.forEachObserver(j=>{j.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,j,Y){let K;if(void 0===G&&void 0===j&&void 0===Y)throw new Error("Missing Observer.");K=function jn(J,G){if("object"!=typeof J||null===J)return!1;for(const j of G)if(j in J&&"function"==typeof J[j])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:j,complete:Y},void 0===K.next&&(K.next=yn),void 0===K.error&&(K.error=yn),void 0===K.complete&&(K.complete=yn);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Me}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,G)}sendOne(G,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{j(this.observers[G])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}function Pi(J,G=1e3,j=2){const Y=G*Math.pow(j,J),K=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+K)}function Kt(J){return J&&J._delegate?J._delegate:J}},9408:(ht,xe,N)=>{var l=N(4650);let B=null;function O(){return B}const de=new l.OlP("DocumentToken");let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(){return(0,l.LFG)(W)}()},providedIn:"platform"}),n})();const q=new l.OlP("Location Initialized");let W=(()=>{class n extends me{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){te()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){te()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ge(){return new W((0,l.LFG)(de))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Fe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function st(n){return n&&"?"!==n[0]?"?"+n:n}let Se=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(et)},providedIn:"root"}),n})();const ve=new l.OlP("appBaseHref");let et=(()=>{class n extends Se{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Fe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+st(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,a){const u=this.prepareExternalUrl(r+st(a));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,a){const u=this.prepareExternalUrl(r+st(a));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(me),l.LFG(ve,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tt=(()=>{class n extends Se{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Fe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,a){let u=this.prepareExternalUrl(r+st(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,a){let u=this.prepareExternalUrl(r+st(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(me),l.LFG(ve,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ae(We(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+st(i))}normalize(e){return n.stripTrailingSlash(function Te(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,We(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+st(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+st(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=st,n.joinWithSlash=Fe,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(l.LFG(Se))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Re(){return new Le((0,l.LFG)(Se))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Format=0]="Format",X[X.Standalone=1]="Standalone",X))(),ne=(()=>((ne=ne||{})[ne.Narrow=0]="Narrow",ne[ne.Abbreviated=1]="Abbreviated",ne[ne.Wide=2]="Wide",ne[ne.Short=3]="Short",ne))(),_e=(()=>((_e=_e||{})[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function un(n,t){return nt((0,l.cg1)(n)[l.wAp.DateFormat],t)}function an(n,t){return nt((0,l.cg1)(n)[l.wAp.TimeFormat],t)}function Wt(n,t){return nt((0,l.cg1)(n)[l.wAp.DateTimeFormat],t)}function Gt(n,t){const e=(0,l.cg1)(n),i=e[l.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ue.CurrencyDecimal)return e[l.wAp.NumberSymbols][ue.Decimal];if(t===ue.CurrencyGroup)return e[l.wAp.NumberSymbols][ue.Group]}return i}function tr(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function nt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function _i(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const hs=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,In={},An=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dn=(()=>((Dn=Dn||{})[Dn.Short=0]="Short",Dn[Dn.ShortGMT=1]="ShortGMT",Dn[Dn.Long=2]="Long",Dn[Dn.Extended=3]="Extended",Dn))(),pt=(()=>((pt=pt||{})[pt.FullYear=0]="FullYear",pt[pt.Month=1]="Month",pt[pt.Date=2]="Date",pt[pt.Hours=3]="Hours",pt[pt.Minutes=4]="Minutes",pt[pt.Seconds=5]="Seconds",pt[pt.FractionalSeconds=6]="FractionalSeconds",pt[pt.Day=7]="Day",pt))(),gt=(()=>((gt=gt||{})[gt.DayPeriods=0]="DayPeriods",gt[gt.Days=1]="Days",gt[gt.Months=2]="Months",gt[gt.Eras=3]="Eras",gt))();function Ft(n,t,e,i){let r=function z(n){if(qe(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,u=1]=n.split("-").map(h=>+h);return Gi(r,a-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(hs))return function Ie(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,a=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(t,u,h,m,v),t}(i)}const t=new Date(n);if(!qe(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=yi(e,t)||t;let h,u=[];for(;t;){if(h=An.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const C=u.pop();if(!C)break;t=C}}let m=r.getTimezoneOffset();i&&(m=ti(i,m),r=function H(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function re(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ti(t,r)-r))}(r,i,!0));let v="";return u.forEach(C=>{const T=function dn(n){if(hn[n])return hn[n];let t;switch(n){case"G":case"GG":case"GGG":t=Kt(gt.Eras,ne.Abbreviated);break;case"GGGG":t=Kt(gt.Eras,ne.Wide);break;case"GGGGG":t=Kt(gt.Eras,ne.Narrow);break;case"y":t=Lt(pt.FullYear,1,0,!1,!0);break;case"yy":t=Lt(pt.FullYear,2,0,!0,!0);break;case"yyy":t=Lt(pt.FullYear,3,0,!1,!0);break;case"yyyy":t=Lt(pt.FullYear,4,0,!1,!0);break;case"Y":t=Ct(1);break;case"YY":t=Ct(2,!0);break;case"YYY":t=Ct(3);break;case"YYYY":t=Ct(4);break;case"M":case"L":t=Lt(pt.Month,1,1);break;case"MM":case"LL":t=Lt(pt.Month,2,1);break;case"MMM":t=Kt(gt.Months,ne.Abbreviated);break;case"MMMM":t=Kt(gt.Months,ne.Wide);break;case"MMMMM":t=Kt(gt.Months,ne.Narrow);break;case"LLL":t=Kt(gt.Months,ne.Abbreviated,X.Standalone);break;case"LLLL":t=Kt(gt.Months,ne.Wide,X.Standalone);break;case"LLLLL":t=Kt(gt.Months,ne.Narrow,X.Standalone);break;case"w":t=ze(1);break;case"ww":t=ze(2);break;case"W":t=ze(1,!0);break;case"d":t=Lt(pt.Date,1);break;case"dd":t=Lt(pt.Date,2);break;case"c":case"cc":t=Lt(pt.Day,1);break;case"ccc":t=Kt(gt.Days,ne.Abbreviated,X.Standalone);break;case"cccc":t=Kt(gt.Days,ne.Wide,X.Standalone);break;case"ccccc":t=Kt(gt.Days,ne.Narrow,X.Standalone);break;case"cccccc":t=Kt(gt.Days,ne.Short,X.Standalone);break;case"E":case"EE":case"EEE":t=Kt(gt.Days,ne.Abbreviated);break;case"EEEE":t=Kt(gt.Days,ne.Wide);break;case"EEEEE":t=Kt(gt.Days,ne.Narrow);break;case"EEEEEE":t=Kt(gt.Days,ne.Short);break;case"a":case"aa":case"aaa":t=Kt(gt.DayPeriods,ne.Abbreviated);break;case"aaaa":t=Kt(gt.DayPeriods,ne.Wide);break;case"aaaaa":t=Kt(gt.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":t=Kt(gt.DayPeriods,ne.Abbreviated,X.Standalone,!0);break;case"bbbb":t=Kt(gt.DayPeriods,ne.Wide,X.Standalone,!0);break;case"bbbbb":t=Kt(gt.DayPeriods,ne.Narrow,X.Standalone,!0);break;case"B":case"BB":case"BBB":t=Kt(gt.DayPeriods,ne.Abbreviated,X.Format,!0);break;case"BBBB":t=Kt(gt.DayPeriods,ne.Wide,X.Format,!0);break;case"BBBBB":t=Kt(gt.DayPeriods,ne.Narrow,X.Format,!0);break;case"h":t=Lt(pt.Hours,1,-12);break;case"hh":t=Lt(pt.Hours,2,-12);break;case"H":t=Lt(pt.Hours,1);break;case"HH":t=Lt(pt.Hours,2);break;case"m":t=Lt(pt.Minutes,1);break;case"mm":t=Lt(pt.Minutes,2);break;case"s":t=Lt(pt.Seconds,1);break;case"ss":t=Lt(pt.Seconds,2);break;case"S":t=Lt(pt.FractionalSeconds,1);break;case"SS":t=Lt(pt.FractionalSeconds,2);break;case"SSS":t=Lt(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=G(Dn.Short);break;case"ZZZZZ":t=G(Dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=G(Dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=G(Dn.Long);break;default:return null}return hn[n]=t,t}(C);v+=T?T(r,e,m):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Gi(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function yi(n,t){const e=function je(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(In[e]=In[e]||{},In[e][t])return In[e][t];let i="";switch(t){case"shortDate":i=un(n,_e.Short);break;case"mediumDate":i=un(n,_e.Medium);break;case"longDate":i=un(n,_e.Long);break;case"fullDate":i=un(n,_e.Full);break;case"shortTime":i=an(n,_e.Short);break;case"mediumTime":i=an(n,_e.Medium);break;case"longTime":i=an(n,_e.Long);break;case"fullTime":i=an(n,_e.Full);break;case"short":const r=yi(n,"shortTime"),a=yi(n,"shortDate");i=Ti(Wt(n,_e.Short),[r,a]);break;case"medium":const u=yi(n,"mediumTime"),h=yi(n,"mediumDate");i=Ti(Wt(n,_e.Medium),[u,h]);break;case"long":const m=yi(n,"longTime"),v=yi(n,"longDate");i=Ti(Wt(n,_e.Long),[m,v]);break;case"full":const C=yi(n,"fullTime"),T=yi(n,"fullDate");i=Ti(Wt(n,_e.Full),[C,T])}return i&&(In[e][t]=i),i}function Ti(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function St(n,t,e="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),a+u}function Lt(n,t,e=0,i=!1,r=!1){return function(a,u){let h=function nr(n,t){switch(n){case pt.FullYear:return t.getFullYear();case pt.Month:return t.getMonth();case pt.Date:return t.getDate();case pt.Hours:return t.getHours();case pt.Minutes:return t.getMinutes();case pt.Seconds:return t.getSeconds();case pt.FractionalSeconds:return t.getMilliseconds();case pt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((e>0||h>-e)&&(h+=e),n===pt.Hours)0===h&&-12===e&&(h=12);else if(n===pt.FractionalSeconds)return function Pi(n,t){return St(n,3).substring(0,t)}(h,t);const m=Gt(u,ue.MinusSign);return St(h,t,m,i,r)}}function Kt(n,t,e=X.Format,i=!1){return function(r,a){return function J(n,t,e,i,r,a){switch(e){case gt.Months:return function Yt(n,t,e){const i=(0,l.cg1)(n),a=nt([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],t);return nt(a,e)}(t,r,i)[n.getMonth()];case gt.Days:return function rn(n,t,e){const i=(0,l.cg1)(n),a=nt([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],t);return nt(a,e)}(t,r,i)[n.getDay()];case gt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(a){const v=function Un(n){const t=(0,l.cg1)(n);return tr(t),(t[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?_i(i):[_i(i[0]),_i(i[1])])}(t),C=function zr(n,t,e){const i=(0,l.cg1)(n);tr(i);const a=nt([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],t)||[];return nt(a,e)||[]}(t,r,i),T=v.findIndex(L=>{if(Array.isArray(L)){const[U,$]=L,ie=u>=U.hours&&h>=U.minutes,De=u<$.hours||u===$.hours&&h<$.minutes;if(U.hours<$.hours){if(ie&&De)return!0}else if(ie||De)return!0}else if(L.hours===u&&L.minutes===h)return!0;return!1});if(-1!==T)return C[T]}return function vt(n,t,e){const i=(0,l.cg1)(n),a=nt([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],t);return nt(a,e)}(t,r,i)[u<12?0:1];case gt.Eras:return function Ye(n,t){return nt((0,l.cg1)(n)[l.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,a,n,t,e,i)}}function G(n){return function(t,e,i){const r=-1*i,a=Gt(e,ue.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Dn.Short:return(r>=0?"+":"")+St(u,2,a)+St(Math.abs(r%60),2,a);case Dn.ShortGMT:return"GMT"+(r>=0?"+":"")+St(u,1,a);case Dn.Long:return"GMT"+(r>=0?"+":"")+St(u,2,a)+":"+St(Math.abs(r%60),2,a);case Dn.Extended:return 0===i?"Z":(r>=0?"+":"")+St(u,2,a)+":"+St(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Me(n){return Gi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function ze(n,t=!1){return function(e,i){let r;if(t){const a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+a)/7)}else{const a=Me(e),u=function K(n){const t=Gi(n,0,1).getDay();return Gi(n,0,1+(t<=4?4:11)-t)}(a.getFullYear()),h=a.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return St(r,n,Gt(i,ue.MinusSign))}}function Ct(n,t=!1){return function(e,i){return St(Me(e).getFullYear(),n,Gt(i,ue.MinusSign),t)}}const hn={};function ti(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function qe(n){return n instanceof Date&&!isNaN(n.valueOf())}let fn=(()=>{class n{constructor(e,i,r,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class so{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zi=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new so(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const h=i.get(a);i.move(h,u),oo(h,r)}});for(let r=0,a=i.length;r<a;r++){const h=i.get(r).context;h.index=r,h.count=a,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{oo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function oo(n,t){n.context.$implicit=t.item}let Hn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Rh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ni("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ni("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Rh{constructor(){this.$implicit=null,this.ngIf=null}}function ni(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class mr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Fs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Ta=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new mr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Fs,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();const bg=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ml=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,a){if(null==e||""===e||e!=e)return null;try{return Ft(e,i,a||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw function _r(n,t){return new l.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.soG,16),l.Y36(bg,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),zu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const yr="browser";function Vo(n){return"server"===n}let Zu=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Oh((0,l.LFG)(de),window)}),n})();class Oh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function xi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Or(this.window.history)||Or(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Or(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bs extends class Qu extends class be{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function he(n){B||(B=n)}(new Bs)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ju(){return Us=Us||document.querySelector("base"),Us?Us.getAttribute("href"):null}();return null==e?null:function bs(n){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",n);const t=Pn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Us=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Tc(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let Pn,Us=null;const Nn=new l.OlP("TRANSITION_ID"),Vc=[{provide:l.ip1,useFactory:function Lc(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=O(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Nn,de,l.zs3],multi:!0}];let Bc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Uc=new l.OlP("EventManagerPlugins");let ed=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Uc),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class jc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=O().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Zo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),qo=(()=>{class n extends Zo{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(td),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(td))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function td(n){O().remove(n)}const Wo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nd=/%COMP%/g;function Ll(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ll(n,r,e):(r=r.replace(nd,n),e.push(r))}return e}function Vl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let $a=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ws(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new rd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case l.ifc.ShadowDom:return new Uh(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ll(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ed),l.LFG(qo),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ws{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Wo[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(za(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(za(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const a=Wo[r];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Wo[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Vl(i)):this.eventManager.addEventListener(t,e,Vl(i))}}function za(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class rd extends ws{constructor(t,e,i,r){super(t),this.component=i;const a=Ll(r+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr=function Gn(n){return"_ngcontent-%COMP%".replace(nd,n)}(r+"-"+i.id),this.hostAttr=function Fl(n){return"_nghost-%COMP%".replace(nd,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Uh extends ws{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ll(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const h=document.createElement("style");h.textContent=a[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let si=(()=>{class n extends jc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const jh=["alt","control","meta","shift"],js={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Za=(()=>{class n extends jc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,a.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),jh.forEach(v=>{const C=i.indexOf(v);C>-1&&(i.splice(C,1),u+=v+".")}),u+=a,0!=i.length||0===a.length)return null;const m={};return m.domEventName=r,m.fullKey=u,m}static matchEventFullKeyCode(e,i){let r=js[e.key]||e.key,a="";return i.indexOf("code.")>-1&&(r=e.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),jh.forEach(u=>{u!==r&&(0,Gc[u])(e)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(e,i,r){return a=>{n.matchEventFullKeyCode(a,e)&&r.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const qa=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:yr},{provide:l.g9A,useValue:function od(){Bs.makeCurrent()},multi:!0},{provide:de,useFactory:function zc(){return(0,l.RDi)(document),document},deps:[]}]),uo=new l.OlP(""),Wa=[{provide:l.rWj,useClass:class Xu{addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const a=t.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const h=function(m){u=u||m,a--,0==a&&i(u)};r.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Ko=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ds(){return new l.qLn},deps:[]},{provide:Uc,useClass:si,multi:!0,deps:[de,l.R0b,l.Lbi]},{provide:Uc,useClass:Za,multi:!0,deps:[de]},{provide:$a,useClass:$a,deps:[ed,qo,l.AFp]},{provide:l.FYo,useExisting:$a},{provide:Zo,useExisting:qo},{provide:qo,useClass:qo,deps:[de]},{provide:ed,useClass:ed,deps:[Uc,l.R0b]},{provide:class Bo{},useClass:Bc,deps:[]},[]];let ho=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Nn,useExisting:l.AFp},Vc]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(uo,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Ko,...Wa],imports:[zu,l.hGG]}),n})(),Yr=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Ya(){return new Yr((0,l.LFG)(de))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var gn=N(8996),oi=N(9751);const{isArray:Wc}=Array,{getPrototypeOf:cd,prototype:Fi,keys:Cs}=Object;function Ka(n){if(1===n.length){const t=n[0];if(Wc(t))return{args:t,keys:null};if(function po(n){return n&&"object"==typeof n&&cd(n)===Fi}(t)){const e=Cs(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var ar=N(8421),go=N(3269),Zn=N(5403),At=N(4004);const{isArray:sa}=Array;function Gl(n){return(0,At.U)(t=>function ud(n,t){return sa(t)?n(...t):n(t)}(n,t))}function qi(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}let Nr=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Es=(()=>{class n extends Nr{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Li=new l.OlP("NgValueAccessor"),Kc={provide:Li,useExisting:(0,l.Gpc)(()=>Ja),multi:!0},Ig=new l.OlP("CompositionEventMode");let Ja=(()=>{class n extends Nr{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dd(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ig,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[l._Bn([Kc]),l.qOj]}),n})();function Fr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Qr(n){return null!=n&&"number"==typeof n.length}const Vn=new l.OlP("NgValidators"),Jr=new l.OlP("NgAsyncValidators"),aa=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xr{static min(t){return function zl(n){return t=>{if(Fr(t.value)||Fr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function $s(n){return t=>{if(Fr(t.value)||Fr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function Qc(n){return Fr(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function la(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Is(n){return Fr(n.value)||aa.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function hd(n){return t=>Fr(t.value)||!Qr(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function qn(n){return t=>Qr(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Zl(n){if(!n)return I;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Fr(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Ze(t)}static composeAsync(t){return Tt(t)}}function I(n){return null}function S(n){return null!=n}function k(n){return(0,l.QGY)(n)?(0,gn.D)(n):n}function V(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ee(n,t){return t.map(e=>e(n))}function Pe(n){return n.map(t=>function ge(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ze(n){if(!n)return null;const t=n.filter(S);return 0==t.length?null:function(e){return V(ee(e,t))}}function mt(n){return null!=n?Ze(Pe(n)):null}function Tt(n){if(!n)return null;const t=n.filter(S);return 0==t.length?null:function(e){return function Qa(...n){const t=(0,go.jO)(n),{args:e,keys:i}=Ka(n),r=new oi.y(a=>{const{length:u}=e;if(!u)return void a.complete();const h=new Array(u);let m=u,v=u;for(let C=0;C<u;C++){let T=!1;(0,ar.Xf)(e[C]).subscribe((0,Zn.x)(a,L=>{T||(T=!0,v--),h[C]=L},()=>m--,void 0,()=>{(!m||!T)&&(v||a.next(i?qi(i,h):h),a.complete())}))}});return t?r.pipe(Gl(t)):r}(ee(e,t).map(k)).pipe((0,At.U)(V))}}function Ht(n){return null!=n?Tt(Pe(n)):null}function Dt(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Wn(n){return n._rawValidators}function hi(n){return n._rawAsyncValidators}function Gs(n){return n?Array.isArray(n)?n:[n]:[]}function Ss(n,t){return Array.isArray(n)?n.includes(t):n===t}function mo(n,t){const e=Gs(t);return Gs(n).forEach(r=>{Ss(e,r)||e.push(r)}),e}function zs(n,t){return Gs(t).filter(e=>!Ss(n,e))}class es{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ai extends es{get formDirective(){return null}get path(){return null}}class Wi extends es{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zs{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qh=(()=>{class n extends Zs{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Wi,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),el=(()=>{class n extends Zs{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ai,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const nl="VALID",Xc="INVALID",il="PENDING",ca="DISABLED";function fd(n){return(gd(n)?n.validators:n)||null}function pd(n){return Array.isArray(n)?mt(n):n||null}function Xh(n,t){return(gd(t)?t.asyncValidators:n)||null}function ef(n){return Array.isArray(n)?Ht(n):n||null}function gd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class rl{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=pd(this._rawValidators),this._composedAsyncValidatorFn=ef(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===nl}get invalid(){return this.status===Xc}get pending(){return this.status==il}get disabled(){return this.status===ca}get enabled(){return this.status!==ca}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=pd(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ef(t)}addValidators(t){this.setValidators(mo(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(mo(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zs(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zs(t,this._rawAsyncValidators))}hasValidator(t){return Ss(this._rawValidators,t)}hasAsyncValidator(t){return Ss(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=il,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ca,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=nl,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nl||this.status===il)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ca:nl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=il,this._hasOwnPendingAsyncValidator=!0;const e=k(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ca:this.errors?Xc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(il)?il:this._anyControlsHaveStatus(Xc)?Xc:nl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class eu extends rl{constructor(t,e,i){super(fd(e),Xh(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function _o(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function md(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,a)=>{i=e(i,r,a)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function b(n,t){return[...t.path,n]}function g(n,t){P(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function ke(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ft(n,t)})}(n,t),function qt(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Ke(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ft(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function x(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function _(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),se(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function D(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function P(n,t){const e=Wn(n);null!==t.validator?n.setValidators(Dt(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=hi(n);null!==t.asyncValidator?n.setAsyncValidators(Dt(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();D(t._rawValidators,r),D(t._rawAsyncValidators,r)}function se(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Wn(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==t.validator);a.length!==r.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const r=hi(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==t.asyncValidator);a.length!==r.length&&(e=!0,n.setAsyncValidators(a))}}}const i=()=>{};return D(t._rawValidators,i),D(t._rawAsyncValidators,i),e}function ft(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Mn(n,t){P(n,t)}function Yl(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function nf(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rf(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(a=>{a.constructor===Ja?e=a:function yd(n){return Object.getPrototypeOf(n.constructor)===Es}(a)?i=a:r=a}),r||i||e||null}const kg={provide:ai,useExisting:(0,l.Gpc)(()=>Ws)},tu=(()=>Promise.resolve(null))();let Ws=(()=>{class n extends ai{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new eu({},mt(e),Ht(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){tu.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),g(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){tu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){tu.then(()=>{const i=this._findContainer(e.path),r=new eu({});Mn(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){tu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){tu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,nf(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Vn,10),l.Y36(Jr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([kg]),l.qOj]}),n})();function af(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function lf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ny=class extends rl{constructor(t=null,e,i){super(fd(e),Xh(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=lf(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){af(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){af(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){lf(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},FI={provide:Wi,useExisting:(0,l.Gpc)(()=>iy)},Jw=(()=>Promise.resolve(null))();let iy=(()=>{class n extends Wi{constructor(e,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new ny,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rf(0,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Yl(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){g(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Jw.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);Jw.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?b(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ai,9),l.Y36(Vn,10),l.Y36(Jr,10),l.Y36(Li,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([FI]),l.qOj,l.TTD]}),n})(),Rg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const cf=new l.OlP("NgModelWithFormControlWarning"),ay={provide:ai,useExisting:(0,l.Gpc)(()=>bd)};let bd=(()=>{class n extends ai{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(se(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return g(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){_(e.control||null,e,!1),function sf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,nf(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(_(i||null,e),(n=>n instanceof ny)(r)&&(g(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Mn(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function As(n,t){return se(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){P(this.form,this),this._oldForm&&se(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Vn,10),l.Y36(Jr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([ay]),l.qOj,l.TTD]}),n})();const BI={provide:Wi,useExisting:(0,l.Gpc)(()=>hf)};let hf=(()=>{class n extends Wi{constructor(e,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rf(0,a)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Yl(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return b(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(ai,13),l.Y36(Vn,10),l.Y36(Jr,10),l.Y36(Li,10),l.Y36(cf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([BI]),l.qOj,l.TTD]}),n})(),f0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sy]}),n})(),fy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[f0]}),n})(),qk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:cf,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[f0]}),n})();function dt(...n){const t=(0,go.yG)(n);return(0,gn.D)(n,t)}var Mt=N(7579);class Ts extends Mt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const mf=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ru=N(4671),WI=N(9672);function _f(...n){const t=(0,go.yG)(n),e=(0,go.jO)(n),{args:i,keys:r}=Ka(n);if(0===i.length)return(0,gn.D)([],t);const a=new oi.y(function yf(n,t,e=ru.y){return i=>{m0(t,()=>{const{length:r}=n,a=new Array(r);let u=r,h=r;for(let m=0;m<r;m++)m0(t,()=>{const v=(0,gn.D)(n[m],t);let C=!1;v.subscribe((0,Zn.x)(i,T=>{a[m]=T,C||(C=!0,h--),h||i.next(e(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>qi(r,u):ru.y));return e?a.pipe(Gl(e)):a}function m0(n,t,e){n?(0,WI.f)(e,n,t):t()}var vf=N(8189);function bf(...n){return function YI(){return(0,vf.J)(1)}()((0,gn.D)(n,(0,go.yG)(n)))}function _0(n){return new oi.y(t=>{(0,ar.Xf)(n()).subscribe(t)})}var KI=N(9635),ua=N(576);function wf(n,t){const e=(0,ua.m)(n)?n:()=>n,i=r=>r.error(e());return new oi.y(t?r=>t.schedule(i,0,r):i)}var da=N(515),Vi=N(727),Yi=N(4482);function py(){return(0,Yi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Zn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,a=e;e=null,r&&(!a||r===a)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class gy extends oi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Yi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Vi.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Zn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Vi.w0.EMPTY)}return t}refCount(){return py()(this)}}function Bi(n,t){return(0,Yi.e)((e,i)=>{let r=null,a=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Zn.x)(i,m=>{r?.unsubscribe();let v=0;const C=a++;(0,ar.Xf)(n(m,C)).subscribe(r=(0,Zn.x)(i,T=>i.next(t?t(m,T,C,v++):T),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function ts(n){return n<=0?()=>da.E:(0,Yi.e)((t,e)=>{let i=0;t.subscribe((0,Zn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function xn(...n){const t=(0,go.yG)(n);return(0,Yi.e)((e,i)=>{(t?bf(n,e,t):bf(n,e)).subscribe(i)})}function Dr(n,t){return(0,Yi.e)((e,i)=>{let r=0;e.subscribe((0,Zn.x)(i,a=>n.call(t,a,r++)&&i.next(a)))})}var lr=N(5577);function Dd(n){return(0,Yi.e)((t,e)=>{let i=!1;t.subscribe((0,Zn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function cr(n=Df){return(0,Yi.e)((t,e)=>{let i=!1;t.subscribe((0,Zn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Df(){return new mf}function yo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Dr((r,a)=>n(r,a,i)):ru.y,ts(1),e?Dd(t):cr(()=>new mf))}function su(n,t){return(0,ua.m)(t)?(0,lr.z)(n,t,1):(0,lr.z)(n,1)}var ur=N(8505);function ol(n){return(0,Yi.e)((t,e)=>{let a,i=null,r=!1;i=t.subscribe((0,Zn.x)(e,void 0,void 0,u=>{a=(0,ar.Xf)(n(u,ol(n)(t))),i?(i.unsubscribe(),i=null,a.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(e))})}function QI(n,t,e,i,r){return(a,u)=>{let h=e,m=t,v=0;a.subscribe((0,Zn.x)(u,C=>{const T=v++;m=h?n(m,C,T):(h=!0,C),i&&u.next(m)},r&&(()=>{h&&u.next(m),u.complete()})))}}function Cd(n,t){return(0,Yi.e)(QI(n,t,arguments.length>=2,!0))}function my(n){return n<=0?()=>da.E:(0,Yi.e)((t,e)=>{let i=[];t.subscribe((0,Zn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function _y(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Dr((r,a)=>n(r,a,i)):ru.y,my(1),e?Dd(t):cr(()=>new mf))}function yy(n){return(0,Yi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const en="primary",Cf=Symbol("RouteTitle");class Ed{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ns(n){return new Ed(n)}function eS(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],h=n[a];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function al(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!nS(n[r],t[r]))return!1;return!0}function nS(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,a)=>i[a]===r)}return n===t}function vy(n){return Array.prototype.concat.apply([],n)}function iS(n){return n.length>0?n[n.length-1]:null}function Ui(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ha(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,gn.D)(Promise.resolve(n)):dt(n)}const rS={exact:function Ng(n,t,e){if(!ou(n.segments,t.segments)||!cl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Ng(n.children[i],t.children[i],e))return!1;return!0},subset:Dy},Id={exact:function sS(n,t){return al(n,t)},subset:function wy(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>nS(n[e],t[e]))},ignored:()=>!0};function v0(n,t,e){return rS[e.paths](n.root,t.root,e.matrixParams)&&Id[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Dy(n,t,e){return oS(n,t,t.segments,e)}function oS(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ou(r,e)||t.hasChildren()||!cl(r,e,i))}if(n.segments.length===e.length){if(!ou(n.segments,e)||!cl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Dy(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(ou(n.segments,r)&&cl(n.segments,r,i)&&n.children[en])&&oS(n.children[en],t,a,i)}}function cl(n,t,e){return t.every((i,r)=>Id[e](n[r].parameters,i.parameters))}class ul{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ns(this.queryParams)),this._queryParamMap}toString(){return lS.serialize(this)}}class tn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ui(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fg(this)}}class Ef{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ns(this.parameters)),this._parameterMap}toString(){return Ty(this)}}function ou(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let b0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Ey},providedIn:"root"}),n})();class Ey{parse(t){const e=new E0(t);return new ul(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Sd(t.root,!0)}`,i=function w0(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${If(e)}=${If(r)}`).join("&"):`${If(e)}=${If(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Iy(n){return encodeURI(n)}(t.fragment)}`:""}`}}const lS=new Ey;function Fg(n){return n.segments.map(t=>Ty(t)).join("/")}function Sd(n,t){if(!n.hasChildren())return Fg(n);if(t){const e=n.children[en]?Sd(n.children[en],!1):"",i=[];return Ui(n.children,(r,a)=>{a!==en&&i.push(`${a}:${Sd(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function aS(n,t){let e=[];return Ui(n.children,(i,r)=>{r===en&&(e=e.concat(t(i,r)))}),Ui(n.children,(i,r)=>{r!==en&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===en?[Sd(n.children[en],!1)]:[`${r}:${Sd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${Fg(n)}/${e[0]}`:`${Fg(n)}/(${e.join("//")})`}}function Lg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function If(n){return Lg(n).replace(/%3B/gi,";")}function Sy(n){return Lg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vg(n){return decodeURIComponent(n)}function Ay(n){return Vg(n.replace(/\+/g,"%20"))}function Ty(n){return`${Sy(n.path)}${function au(n){return Object.keys(n).map(t=>`;${Sy(t)}=${Sy(n[t])}`).join("")}(n.parameters)}`}const D0=/^[^\/()?;=#]+/;function Bg(n){const t=n.match(D0);return t?t[0]:""}const Kk=/^[^=?&#]+/,cS=/^[^&#]+/;class E0{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[en]=new tn(t,e)),i}parseSegment(){const t=Bg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(t),new Ef(Vg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Bg(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Bg(this.remaining);r&&(i=r,this.capture(i))}t[Vg(e)]=Vg(i)}parseQueryParam(t){const e=function Ug(n){const t=n.match(Kk);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function C0(n){const t=n.match(cS);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Ay(e),a=Ay(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(a)}else t[r]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Bg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=en);const u=this.parseChildren();e[a]=1===Object.keys(u).length?u[en]:new tn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,!1)}}function jg(n){return n.segments.length>0?new tn([],{[en]:n}):n}function Ad(n){const t={};for(const i of Object.keys(n.children)){const a=Ad(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function I0(n){if(1===n.numberOfChildren&&n.children[en]){const t=n.children[en];return new tn(n.segments.concat(t.segments),t.children)}return n}(new tn(n.segments,t))}function fa(n){return n instanceof ul}function xy(n,t,e,i,r){if(0===e.length)return lu(t.root,t.root,t.root,i,r);const a=function ky(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new T0(!0,0,n);let t=0,e=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return Ui(a.outlets,(m,v)=>{h[v]="string"==typeof m?m.split("/"):m}),[...r,{outlets:h}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,a]},[]);return new T0(e,t,i)}(e);return a.toRoot()?lu(t.root,t.root,new tn([],{}),i,r):function u(m){const v=function Qk(n,t,e,i){if(n.isAbsolute)return new Ql(t.root,!0,0);if(-1===i)return new Ql(e,e===t.root,0);return function Ry(n,t,e){let i=n,r=t,a=e;for(;a>r;){if(a-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new Ql(i,!1,r-a)}(e,i+(dl(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,t,n.snapshot?._urlSegment,m),C=v.processChildren?Af(v.segmentGroup,v.index,a.commands):Hg(v.segmentGroup,v.index,a.commands);return lu(t.root,v.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function dl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Sf(n){return"object"==typeof n&&null!=n&&n.outlets}function lu(n,t,e,i,r){let u,a={};i&&Ui(i,(m,v)=>{a[v]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),u=n===t?e:A0(n,t,e);const h=jg(Ad(u));return new ul(h,a,r)}function A0(n,t,e){const i={};return Ui(n.children,(r,a)=>{i[a]=r===t?e:A0(r,t,e)}),new tn(n.segments,i)}class T0{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&dl(i[0]))throw new l.vHH(4003,!1);const r=i.find(Sf);if(r&&r!==iS(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ql{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Hg(n,t,e){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return Af(n,t,e);const i=function hS(n,t,e){let i=0,r=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return a;const u=n.segments[r],h=e[i];if(Sf(h))break;const m=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!x0(m,v,u))return a;i+=2}else{if(!x0(m,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new tn(n.segments.slice(0,i.pathIndex),{});return a.children[en]=new tn(n.segments.slice(i.pathIndex),n.children),Af(a,0,r)}return i.match&&0===r.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?Ms(n,t,e):i.match?Af(n,0,r):Ms(n,t,e)}function Af(n,t,e){if(0===e.length)return new tn(n.segments,{});{const i=function dS(n){return Sf(n[0])?n[0].outlets:{[en]:n}}(e),r={};return Ui(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=Hg(n.children[u],t,a))}),Ui(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new tn(n.segments,r)}}function Ms(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const a=e[r];if(Sf(a)){const m=fS(a.outlets);return new tn(i,m)}if(0===r&&dl(e[0])){i.push(new Ef(n.segments[t].path,Oy(e[0]))),r++;continue}const u=Sf(a)?a.outlets[en]:`${a}`,h=r<e.length-1?e[r+1]:null;u&&h&&dl(h)?(i.push(new Ef(u,Oy(h))),r+=2):(i.push(new Ef(u,{})),r++)}return new tn(i,{})}function fS(n){const t={};return Ui(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Ms(new tn([],{}),0,e))}),t}function Oy(n){const t={};return Ui(n,(e,i)=>t[i]=`${e}`),t}function x0(n,t,e){return n==e.path&&al(t,e.parameters)}class hl{constructor(t,e){this.id=t,this.url=e}}class Py extends hl{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cu extends hl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tf extends hl{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class k0 extends hl{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pS extends hl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gS extends hl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zt extends hl{constructor(t,e,i,r,a){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class R0 extends hl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O0 extends hl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P0{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mS{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _S{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N0{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yS{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F0{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L0{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$g(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=$g(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Gg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Gg(t,this._root).map(e=>e.value)}}function $g(n,t){if(n===t.value)return t;for(const e of t.children){const i=$g(n,e);if(i)return i}return null}function Gg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Gg(n,e);if(i.length)return i.unshift(t),i}return[]}class Lr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Md(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class zg extends bS{constructor(t,e){super(t),this.snapshot=e,V0(this,t)}toString(){return this.snapshot.toString()}}function Zg(n,t){const e=function wS(n,t){const u=new qg([],{},{},"",{},en,t,null,n.root,-1,{});return new Ny("",new Lr(u,[]))}(n,t),i=new Ts([new Ef("",{})]),r=new Ts({}),a=new Ts({}),u=new Ts({}),h=new Ts(""),m=new uu(i,r,u,h,a,en,t,e.root);return m.snapshot=e.root,new zg(new Lr(m,[]),e)}class uu{constructor(t,e,i,r,a,u,h,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,At.U)(v=>v[Cf]))??dt(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(t=>ns(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(t=>ns(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DS(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],a=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Jk(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class qg{constructor(t,e,i,r,a,u,h,m,v,C,T,L){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=h,this.title=this.data?.[Cf],this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=C,this._correctedLastPathIndex=L??C,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ns(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ns(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ny extends bS{constructor(t,e){super(e),this.url=t,V0(this,e)}toString(){return B0(this._root)}}function V0(n,t){t.value._routerState=n,t.children.forEach(e=>V0(n,e))}function B0(n){const t=n.children.length>0?` { ${n.children.map(B0).join(", ")} } `:"";return`${n.value}${t}`}function Jl(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,al(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),al(t.params,e.params)||n.params.next(e.params),function tS(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!al(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),al(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fy(n,t){const e=al(n.params,t.params)&&function Cy(n,t){return ou(n,t)&&n.every((e,i)=>al(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Fy(n.parent,t.parent))}function Xl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function CS(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Xl(n,i,r);return Xl(n,i)})}(n,t,e);return new Lr(i,r)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Xl(n,h)),u}}const i=function j0(n){return new uu(new Ts(n.url),new Ts(n.params),new Ts(n.queryParams),new Ts(n.fragment),new Ts(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(a=>Xl(n,a));return new Lr(i,r)}}const Ly="ngNavigationCancelingError";function H0(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=fa(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=$0(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function $0(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ly]=!0,i.cancellationCode=t,e&&(i.url=e),i}function G0(n){return z0(n)&&fa(n.url)}function z0(n){return n&&n[Ly]}class Z0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Mf,this.attachRef=null}}let Mf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Z0,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xf=!1;let Wg=(()=>{class n{constructor(e,i,r,a,u){this.parentContexts=e,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||en,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,xf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,xf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,xf);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,xf);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new Vy(e,h,r.injector);if(i&&function Xk(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(u);this.activated=r.createComponent(v,r.length,m)}else this.activated=r.createComponent(u,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Mf),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Vy{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===uu?this.route:t===Mf?this.childContexts:this.parent.get(t,e)}}let kf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},dependencies:[Wg],encapsulation:2}),n})();function q0(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Of(n){const t=n.children&&n.children.map(Of),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==en&&(e.component=kf),e}function ki(n){return n.outlet||en}function Yg(n,t){const e=n.filter(i=>ki(i)===t);return e.push(...n.filter(i=>ki(i)!==t)),e}function kd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class eR{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Jl(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Md(e);t.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),Ui(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=Md(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=Md(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Md(e);t.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new F0(a.value.snapshot))}),t.children.length&&this.forwardEvent(new N0(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(Jl(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Jl(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=kd(r.snapshot),m=h?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=m,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Uy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jy{constructor(t,e){this.component=t,this.route=e}}function Kg(n,t,e){const i=n._root;return du(i,t?t._root:null,e,[i.value])}function ec(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,l.Z0I)(n)?t.get(n):n:i}function du(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Md(t);return n.children.forEach(u=>{(function Hy(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const m=function tR(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ou(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ou(n.url,t.url)||!al(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fy(n,t)||!al(n.queryParams,t.queryParams);default:return!Fy(n,t)}}(u,a,a.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new Uy(i)):(a.data=u.data,a._resolvedData=u._resolvedData),du(n,t,a.component?h?h.children:null:e,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new jy(h.outlet.component,u))}else u&&Pf(t,h,r),r.canActivateChecks.push(new Uy(i)),du(n,null,a.component?h?h.children:null:e,i,r)})(u,a[u.value.outlet],e,i.concat([u.value]),r),delete a[u.value.outlet]}),Ui(a,(u,h)=>Pf(u,e.getContext(h),r)),r}function Pf(n,t,e){const i=Md(n),r=n.value;Ui(i,(a,u)=>{Pf(a,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new jy(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Nf(n){return"function"==typeof n}function $y(n){return n instanceof mf||"EmptyError"===n?.name}const Rd=Symbol("INITIAL_VALUE");function Ff(){return Bi(n=>_f(n.map(t=>t.pipe(ts(1),xn(Rd)))).pipe((0,At.U)(t=>{for(const e of t)if(!0!==e){if(e===Rd)return Rd;if(!1===e||e instanceof ul)return e}return!0}),Dr(t=>t!==Rd),ts(1)))}function fl(n){return(0,KI.z)((0,ur.b)(t=>{if(fa(t))throw H0(0,t)}),(0,At.U)(t=>!0===t))}const zy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zy(n,t,e,i,r){const a=Lf(n,t,e);return a.matched?function Gy(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?dt(r.map(u=>{const h=ec(u,n);return ha(function iR(n){return n&&Nf(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(Ff(),fl()):dt(!0)}(i=q0(t,i),t,e).pipe((0,At.U)(u=>!0===u?a:{...zy})):dt(a)}function Lf(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...zy}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||eS)(e,n,t);if(!r)return{...zy};const a={};Ui(r.posParams,(h,m)=>{a[m]=h.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Vf(n,t,e,i,r="corrected"){if(e.length>0&&function tc(n,t,e){return e.some(i=>Jg(n,t,i)&&ki(i)!==en)}(n,e,i)){const u=new tn(t,function kS(n,t,e,i){const r={};r[en]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&ki(a)!==en){const u=new tn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[ki(a)]=u}return r}(n,t,i,new tn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function Q0(n,t,e){return e.some(i=>Jg(n,t,i))}(n,e,i)){const u=new tn(n.segments,function qy(n,t,e,i,r,a){const u={};for(const h of i)if(Jg(n,e,h)&&!r[ki(h)]){const m=new tn([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:t.length,u[ki(h)]=m}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const a=new tn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function Jg(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function J0(n,t,e,i){return!!(ki(n)===i||i!==en&&Jg(t,e,n))&&("**"===n.path||Lf(t,n,e).matched)}function Wy(n,t,e){return 0===t.length&&!n.children[e]}const Xg=!1;class em{constructor(t){this.segmentGroup=t||null}}class Bf{constructor(t){this.urlTree=t}}function pa(n){return wf(new em(n))}function tm(n){return wf(new Bf(n))}class RS{constructor(t,e,i,r,a){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const t=Vf(this.urlTree.root,[],[],this.config).segmentGroup,e=new tn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,en).pipe((0,At.U)(a=>this.createUrlTree(Ad(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ol(a=>{if(a instanceof Bf)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof em?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,en).pipe((0,At.U)(r=>this.createUrlTree(Ad(r),t.queryParams,t.fragment))).pipe(ol(r=>{throw r instanceof em?this.noMatchError(r):r}))}noMatchError(t){return new l.vHH(4002,Xg)}createUrlTree(t,e,i){const r=jg(t);return new ul(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,At.U)(a=>new tn([],a))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,gn.D)(r).pipe(su(a=>{const u=i.children[a],h=Yg(e,a);return this.expandSegmentGroup(t,h,u,a).pipe((0,At.U)(m=>({segment:m,outlet:a})))}),Cd((a,u)=>(a[u.outlet]=u.segment,a),{}),_y())}expandSegment(t,e,i,r,a,u){return(0,gn.D)(i).pipe(su(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,a,u).pipe(ol(v=>{if(v instanceof em)return dt(null);throw v}))),yo(h=>!!h),ol((h,m)=>{if($y(h))return Wy(e,r,a)?dt(new tn([],{})):pa(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,a,u,h){return J0(r,e,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,a,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u):pa(e):pa(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?tm(a):this.lineralizeSegments(i,a).pipe((0,lr.z)(u=>{const h=new tn(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:C}=Lf(e,r,a);if(!h)return pa(e);const T=this.applyRedirectCommands(m,r.redirectTo,C);return r.redirectTo.startsWith("/")?tm(T):this.lineralizeSegments(r,T).pipe((0,lr.z)(L=>this.expandSegment(t,e,i,L.concat(v),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,a){return"**"===i.path?(t=q0(i,t),i.loadChildren?(i._loadedRoutes?dt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,At.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new tn(r,{})))):dt(new tn(r,{}))):Zy(e,i,r,t).pipe(Bi(({matched:u,consumedSegments:h,remainingSegments:m})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,lr.z)(C=>{const T=C.injector??t,L=C.routes,{segmentGroup:U,slicedSegments:$}=Vf(e,h,m,L),ie=new tn(U.segments,U.children);if(0===$.length&&ie.hasChildren())return this.expandChildren(T,L,ie).pipe((0,At.U)(_t=>new tn(h,_t)));if(0===L.length&&0===$.length)return dt(new tn(h,{}));const De=ki(i)===a;return this.expandSegment(T,ie,L,$,De?en:a,!0).pipe((0,At.U)(ot=>new tn(h.concat(ot.segments),ot.children)))})):pa(e)))}getChildConfig(t,e,i){return e.children?dt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?dt({routes:e._loadedRoutes,injector:e._loadedInjector}):function hR(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?dt(!0):dt(r.map(u=>{const h=ec(u,n);return ha(function TS(n){return n&&Nf(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(Ff(),fl())}(t,e,i).pipe((0,lr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ur.b)(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function nm(n){return wf($0(Xg,3))}())):dt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return dt(i);if(r.numberOfChildren>1||!r.children[en])return wf(new l.vHH(4e3,Xg));r=r.children[en]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const a=this.createSegmentGroup(t,e.root,i,r);return new ul(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ui(t,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[a]=e[h]}else i[a]=r}),i}createSegmentGroup(t,e,i,r){const a=this.createSegments(t,e.segments,i,r);let u={};return Ui(e.children,(h,m)=>{u[m]=this.createSegmentGroup(t,h,i,r)}),new tn(a,u)}createSegments(t,e,i,r){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,r):this.findOrReturn(a,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l.vHH(4001,Xg);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Yy{}class Qy{constructor(t,e,i,r,a,u,h,m){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=m}recognize(){const t=Vf(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,en).pipe((0,At.U)(e=>{if(null===e)return null;const i=new qg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Lr(i,e),a=new Ny(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const e=t.value,i=DS(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,gn.D)(Object.keys(i.children)).pipe(su(r=>{const a=i.children[r],u=Yg(e,r);return this.processSegmentGroup(t,u,a,r)}),Cd((r,a)=>r&&a?(r.push(...a),r):null),function JI(n,t=!1){return(0,Yi.e)((e,i)=>{let r=0;e.subscribe((0,Zn.x)(i,a=>{const u=n(a,r++);(u||t)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),Dd(null),_y(),(0,At.U)(r=>{if(null===r)return null;const a=Jy(r);return function OS(n){n.sort((t,e)=>t.value.outlet===en?-1:e.value.outlet===en?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(t,e,i,r,a){return(0,gn.D)(e).pipe(su(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,a)),yo(u=>!!u),ol(u=>{if($y(u))return Wy(i,r,a)?dt([]):dt(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,a){if(e.redirectTo||!J0(e,i,r,a))return dt(null);let u;if("**"===e.path){const h=r.length>0?iS(r).parameters:{},m=ev(i)+r.length;u=dt({snapshot:new qg(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,is(e),ki(e),e.component??e._loadedComponent??null,e,Xy(i),m,tv(e),m),consumedSegments:[],remainingSegments:[]})}else u=Zy(i,e,r,t).pipe((0,At.U)(({matched:h,consumedSegments:m,remainingSegments:v,parameters:C})=>{if(!h)return null;const T=ev(i)+m.length;return{snapshot:new qg(m,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,is(e),ki(e),e.component??e._loadedComponent??null,e,Xy(i),T,tv(e),T),consumedSegments:m,remainingSegments:v}}));return u.pipe(Bi(h=>{if(null===h)return dt(null);const{snapshot:m,consumedSegments:v,remainingSegments:C}=h;t=e._injector??t;const T=e._loadedInjector??t,L=function fR(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:U,slicedSegments:$}=Vf(i,v,C,L.filter(De=>void 0===De.redirectTo),this.relativeLinkResolution);if(0===$.length&&U.hasChildren())return this.processChildren(T,L,U).pipe((0,At.U)(De=>null===De?null:[new Lr(m,De)]));if(0===L.length&&0===$.length)return dt([new Lr(m,[])]);const ie=ki(e)===a;return this.processSegment(T,L,U,$,ie?en:a).pipe((0,At.U)(De=>null===De?null:[new Lr(m,De)]))}))}}function PS(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Jy(n){const t=[],e=new Set;for(const i of n){if(!PS(i)){t.push(i);continue}const r=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Jy(i.children);t.push(new Lr(i.value,r))}return t.filter(i=>!e.has(i))}function Xy(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ev(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function is(n){return n.data||{}}function tv(n){return n.resolve||{}}function iD(n){return"string"==typeof n.title||null===n.title}function iv(n){return Bi(t=>{const e=n(t);return e?(0,gn.D)(e).pipe((0,At.U)(()=>t)):dt(t)})}let rv=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===en);return i}getResolvedTitleForRoute(e){return e.data[Cf]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(rD)},providedIn:"root"}),n})(),rD=(()=>{class n extends rv{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class US{}class sD extends class jS{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const im=new l.OlP("",{providedIn:"root",factory:()=>({})}),Hf=new l.OlP("ROUTES");let sv=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return dt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ha(e.loadComponent()).pipe((0,ur.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),yy(()=>{this.componentLoaders.delete(e)})),r=new gy(i,()=>new Mt.x).pipe(py());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return dt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,At.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,v,C=!1;Array.isArray(h)?v=h:(m=h.create(e).injector,v=vy(m.get(Hf,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(Of),injector:m}}),yy(()=>{this.childrenLoaders.delete(i)})),u=new gy(a,()=>new Mt.x).pipe(py());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return ha(e()).pipe((0,lr.z)(i=>i instanceof l.YKP||Array.isArray(i)?dt(i):(0,gn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class HS{}class gR{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function $S(n){throw n}function GS(n,t,e){return t.parse("/")}const zS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ov={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function aD(){const n=(0,l.f3M)(b0),t=(0,l.f3M)(Mf),e=(0,l.f3M)(Le),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),a=(0,l.f3M)(Hf,{optional:!0})??[],u=(0,l.f3M)(im,{optional:!0})??{},h=(0,l.f3M)(rD),m=(0,l.f3M)(rv,{optional:!0}),v=(0,l.f3M)(HS,{optional:!0}),C=(0,l.f3M)(US,{optional:!0}),T=new pn(null,n,t,e,i,r,vy(a));return v&&(T.urlHandlingStrategy=v),C&&(T.routeReuseStrategy=C),T.titleStrategy=m??h,function ZS(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,T),T}let pn=(()=>{class n{constructor(e,i,r,a,u,h,m){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mt.x,this.errorHandler=$S,this.malformedUriErrorHandler=GS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>dt(void 0),this.urlHandlingStrategy=new gR,this.routeReuseStrategy=new sD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(sv),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new mS(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new P0(L)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const T=u.get(l.R0b);this.isNgZoneEnabled=T instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function y0(){return new ul(new tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zg(this.currentUrlTree,this.rootComponentType),this.transitions=new Ts({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Dr(r=>0!==r.id),(0,At.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Bi(r=>{let a=!1,u=!1;return dt(r).pipe((0,ur.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Bi(h=>{const m=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return lD(h.source)&&(this.browserUrlTree=h.extractedUrl),dt(h).pipe(Bi(T=>{const L=this.transitions.getValue();return i.next(new Py(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),L!==this.transitions.getValue()?da.E:Promise.resolve(T)}),function X0(n,t,e,i){return Bi(r=>function Uf(n,t,e,i,r){return new RS(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,At.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ur.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function FS(n,t,e,i,r,a){return(0,lr.z)(u=>function eD(n,t,e,i,r,a,u="emptyOnly",h="legacy"){return new Qy(n,t,e,i,r,u,h,a).recognize().pipe(Bi(m=>null===m?function Ky(n){return new oi.y(t=>t.error(n))}(new Yy):dt(m)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,a).pipe((0,At.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ur.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(U,T)}this.browserUrlTree=T.urlAfterRedirects}const L=new pS(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(L)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:U,source:$,restoredState:ie,extras:De}=h,Je=new Py(L,this.serializeUrl(U),$,ie);i.next(Je);const ot=Zg(U,this.rootComponentType).snapshot;return dt(r={...h,targetSnapshot:ot,urlAfterRedirects:U,extras:{...De,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),da.E}),(0,ur.b)(h=>{const m=new gS(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,At.U)(h=>r={...h,guards:Kg(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function rR(n,t){return(0,lr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=e;return 0===u.length&&0===a.length?dt({...e,guardsResult:!0}):function sR(n,t,e,i){return(0,gn.D)(n).pipe((0,lr.z)(r=>function dR(n,t,e,i,r){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?dt(a.map(h=>{const m=kd(t)??r,v=ec(h,m);return ha(function MS(n){return n&&Nf(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):m.runInContext(()=>v(n,t,e,i))).pipe(yo())})).pipe(Ff()):dt(!0)}(r.component,r.route,e,t,i)),yo(r=>!0!==r,!0))}(u,i,r,n).pipe((0,lr.z)(h=>h&&function AS(n){return"boolean"==typeof n}(h)?function oR(n,t,e,i){return(0,gn.D)(t).pipe(su(r=>bf(function lR(n,t){return null!==n&&t&&t(new _S(n)),dt(!0)}(r.route.parent,i),function aR(n,t){return null!==n&&t&&t(new yS(n)),dt(!0)}(r.route,i),function uR(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>function Qg(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>_0(()=>dt(u.guards.map(m=>{const v=kd(u.node)??e,C=ec(m,v);return ha(function nR(n){return n&&Nf(n.canActivateChild)}(C)?C.canActivateChild(i,n):v.runInContext(()=>C(i,n))).pipe(yo())})).pipe(Ff())));return dt(a).pipe(Ff())}(n,r.path,e),function cR(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return dt(!0);const r=i.map(a=>_0(()=>{const u=kd(t)??e,h=ec(a,u);return ha(function Y0(n){return n&&Nf(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(yo())}));return dt(r).pipe(Ff())}(n,r.route,e))),yo(r=>!0!==r,!0))}(i,a,n,t):dt(h)),(0,At.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ur.b)(h=>{if(r.guardsResult=h.guardsResult,fa(h.guardsResult))throw H0(0,h.guardsResult);const m=new zt(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),Dr(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),iv(h=>{if(h.guards.canActivateChecks.length)return dt(h).pipe((0,ur.b)(m=>{const v=new R0(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),Bi(m=>{let v=!1;return dt(m).pipe(function pR(n,t){return(0,lr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return dt(e);let a=0;return(0,gn.D)(r).pipe(su(u=>function LS(n,t,e,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!iD(r)&&(a[Cf]=r.title),function nv(n,t,e,i){const r=function nD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return dt({});const a={};return(0,gn.D)(r).pipe((0,lr.z)(u=>function VS(n,t,e,i){const r=kd(t)??i,a=ec(n,r);return ha(a.resolve?a.resolve(t,e):r.runInContext(()=>a(t,e)))}(n[u],t,e,i).pipe(yo(),(0,ur.b)(h=>{a[u]=h}))),my(1),function XI(n){return(0,At.U)(()=>n)}(a),ol(u=>$y(u)?da.E:wf(u)))}(a,n,t,i).pipe((0,At.U)(u=>(n._resolvedData=u,n.data=DS(n,e).resolve,r&&iD(r)&&(n.data[Cf]=r.title),null)))}(u.route,i,n,t)),(0,ur.b)(()=>a++),my(1),(0,lr.z)(u=>a===r.length?dt(e):da.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ur.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,ur.b)(m=>{const v=new O0(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),iv(h=>{const m=v=>{const C=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,ur.b)(T=>{v.component=T}),(0,At.U)(()=>{})));for(const T of v.children)C.push(...m(T));return C};return _f(m(h.targetSnapshot.root)).pipe(Dd(),ts(1))}),iv(()=>this.afterPreactivation()),(0,At.U)(h=>{const m=function U0(n,t,e){const i=Xl(n,t._root,e?e._root:void 0);return new zg(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:m}}),(0,ur.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,At.U)(i=>(new eR(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ur.b)({next(){a=!0},complete(){a=!0}}),yy(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ol(h=>{if(u=!0,z0(h)){G0(h)||(this.navigated=!0,this.restoreHistory(r,!0));const m=new Tf(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(m),G0(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lD(r.source)};this.scheduleNavigation(v,"imperative",null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const m=new k0(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(m);try{r.resolve(this.errorHandler(h))}catch(v){r.reject(v)}}return da.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=e.state?.navigationId?e.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Of),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:h,preserveFragment:m}=i,v=r||this.routerState.root,C=m?this.currentUrlTree.fragment:u;let T=null;switch(h){case"merge":T={...this.currentUrlTree.queryParams,...a};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),xy(v,this.currentUrlTree,e,T,C??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=fa(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function av(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...zS}:!1===i?{...ov}:i,fa(e))return v0(this.currentUrlTree,e,r);const a=this.parseUrl(e);return v0(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const a=e[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new cu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let h,m,v;u?(h=u.resolve,m=u.reject,v=u.promise):v=new Promise((L,U)=>{h=L,m=U});const C=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),T=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.setTransition({id:C,targetPageId:T,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:h,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(L=>Promise.reject(L))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const a=new Tf(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return aD()},providedIn:"root"}),n})();function lD(n){return"imperative"!==n}let Pd=(()=>{class n{constructor(e,i,r,a,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Mt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,l.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,l.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,l.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(pn),l.Y36(uu),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class sm{}let cD=(()=>{class n{constructor(e,i,r,a,u){this.router=e,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Dr(e=>e instanceof cu),su(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,e,`Route: ${a.path}`));const u=a._injector??e,h=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,gn.D)(r).pipe((0,vf.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):dt(null);const a=r.pipe((0,lr.z)(u=>null===u?dt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,gn.D)([a,u]).pipe((0,vf.J)())}return a})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(pn),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(sm),l.LFG(sv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const om=new l.OlP("");let lv=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Py?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof cu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof L0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new L0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function pl(n,t){return{\u0275kind:n,\u0275providers:t}}function hu(n){return[{provide:Hf,multi:!0,useValue:n}]}function am(){const n=(0,l.f3M)(l.zs3);return t=>{const e=n.get(l.z2F);if(t!==e.components[0])return;const i=n.get(pn),r=n.get(cv);1===n.get(uv)&&i.initialNavigation(),n.get(KS,null,l.XFs.Optional)?.setUpPreloading(),n.get(om,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const cv=new l.OlP("",{factory:()=>new Mt.x}),uv=new l.OlP("",{providedIn:"root",factory:()=>1});const KS=new l.OlP("");function QS(n){return pl(0,[{provide:KS,useExisting:cD},{provide:sm,useExisting:n}])}const uD=new l.OlP("ROUTER_FORROOT_GUARD"),JS=[Le,{provide:b0,useClass:Ey},{provide:pn,useFactory:aD},Mf,{provide:uu,useFactory:function Gf(n){return n.routerState.root},deps:[pn]},sv];function dD(){return new l.PXZ("Router",pn)}let dv=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[JS,[],hu(e),{provide:uD,useFactory:tA,deps:[[pn,new l.FiY,new l.tp0]]},{provide:im,useValue:i||{}},i?.useHash?{provide:Se,useClass:tt}:{provide:Se,useClass:et},{provide:om,useFactory:()=>{const n=(0,l.f3M)(pn),t=(0,l.f3M)(Zu),e=(0,l.f3M)(im);return e.scrollOffset&&t.setOffset(e.scrollOffset),new lv(n,t,e)}},i?.preloadingStrategy?QS(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:dD},i?.initialNavigation?nA(i):[],[{provide:hD,useFactory:am},{provide:l.tb,multi:!0,useExisting:hD}]]}}static forChild(e){return{ngModule:n,providers:[hu(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(uD,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kf]}),n})();function tA(n){return"guarded"}function nA(n){return["disabled"===n.initialNavigation?pl(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const t=(0,l.f3M)(pn);return()=>{t.setUpLocationChangeListener()}}},{provide:uv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?pl(2,[{provide:uv,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:t=>{const e=t.get(q,Promise.resolve(null));let i=!1;return()=>e.then(()=>new Promise(a=>{const u=t.get(pn),h=t.get(cv);(function r(a){t.get(pn).events.pipe(Dr(h=>h instanceof cu||h instanceof Tf||h instanceof k0),(0,At.U)(h=>h instanceof cu||h instanceof Tf&&(0===h.code||1===h.code)&&null),Dr(h=>null!==h),ts(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),u.afterPreactivation=()=>(a(!0),i||h.closed?dt(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const hD=new l.OlP("");var rs=N(2011),ss=N(6451),fv=N(5363),Zf=N(6063);class rA extends Mt.x{constructor(t=1/0,e=1/0,i=Zf.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;e||(i.push(t),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!t.closed;u+=i?1:2)t.next(a[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*t;if(t<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=e.now();let h=0;for(let m=1;m<i.length&&i[m]<=u;m+=2)h=m;h&&i.splice(0,h+1)}}}var sA=N(3099);function cm(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,sA.B)({connector:()=>new rA(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function fD(n,t){return(0,ua.m)(t)?Bi(()=>n,t):Bi(()=>n)}var Ys=N(9468),wi=N(5813),Yn=N(5867),oe=N(5861),ma=N(9681),Xf=N(4859),nn=N(2090),gl=N(1877);const pD=new Map,uA={activated:!1,tokenObservers:[]},gD={initialized:!1,enabled:!1};function Ki(n){return pD.get(n)||uA}function Ks(n,t){pD.set(n,t)}function Vd(){return gD}class pm{constructor(t,e,i,r,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,oe.Z)(function*(){e.stop();try{e.pending=new nn.BH,yield function gm(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new nn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Cr=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gv(n){if(!Ki(n).activated)throw Cr.create("use-before-activation",{appName:n.name})}function tp(n,t){return mv.apply(this,arguments)}function mv(){return(mv=(0,oe.Z)(function*({url:n,body:t},e){var i,r;const a={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const U=yield u.getHeartbeatsHeader();U&&(a["X-Firebase-Client"]=U)}const h={method:"POST",body:JSON.stringify(t),headers:a};let m,v;try{m=yield fetch(n,h)}catch(U){throw Cr.create("fetch-network-error",{originalErrorMessage:null===(i=U)||void 0===i?void 0:i.message})}if(200!==m.status)throw Cr.create("fetch-status-error",{httpStatus:m.status});try{v=yield m.json()}catch(U){throw Cr.create("fetch-parse-error",{originalErrorMessage:null===(r=U)||void 0===r?void 0:r.message})}const C=v.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw Cr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const T=1e3*Number(C[1]),L=Date.now();return{token:v.token,expireTimeMillis:L+T,issuedAtTimeMillis:L}})).apply(this,arguments)}function vD(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const jd="firebase-app-check-store";let Hd=null;function _m(){return Hd||(Hd=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;t(Cr.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(jd,{keyPath:"compositeKey"})}}catch(i){t(Cr.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),Hd)}function ym(){return(ym=(0,oe.Z)(function*(n,t){const i=(yield _m()).transaction(jd,"readwrite"),a=i.objectStore(jd).put({compositeKey:n,value:t});return new Promise((u,h)=>{a.onsuccess=m=>{u()},i.onerror=m=>{var v;h(Cr.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const np=new gl.Yd("@firebase/app-check");function ID(n,t){return(0,nn.hl)()?function DD(n,t){return function yv(n,t){return ym.apply(this,arguments)}(function pA(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{np.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function SD(){return Vd().enabled}function AD(){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,oe.Z)(function*(){const n=Vd();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const TD={error:"UNKNOWN_ERROR"};function MD(n){return nn.US.encodeString(JSON.stringify(n),!1)}function ml(n){return bv.apply(this,arguments)}function bv(){return(bv=(0,oe.Z)(function*(n,t=!1){const e=n.app;gv(e);const i=Ki(e);let a,r=i.token;if(!r){const m=yield i.cachedTokenPromise;m&&$d(m)&&(r=m)}if(!t&&r&&$d(r))return{token:r.token};let h,u=!1;if(SD()){i.exchangeTokenPromise||(i.exchangeTokenPromise=tp(vD(e,yield AD()),n.heartbeatServiceProvider).then(v=>(i.exchangeTokenPromise=void 0,v)),u=!0);const m=yield i.exchangeTokenPromise;return yield ID(e,m),Ks(e,Object.assign(Object.assign({},i),{token:m})),{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(m=>(i.exchangeTokenPromise=void 0,m)),u=!0),r=yield i.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?np.warn(m.message):np.error(m),a=m}return r?(h={token:r.token},Ks(e,Object.assign(Object.assign({},i),{token:r})),yield ID(e,r)):h=Dv(a),u&&_A(e,h),h})).apply(this,arguments)}function Cm(n,t){const e=Ki(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ks(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function xD(n){const{app:t}=n,e=Ki(t);let i=e.tokenRefresher;i||(i=function kD(n){const{app:t}=n;return new pm((0,oe.Z)(function*(){let i;if(i=Ki(t).token?yield ml(n,!0):yield ml(n),i.error)throw i.error}),()=>!0,()=>{const e=Ki(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ks(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function _A(n,t){const e=Ki(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function $d(n){return n.expireTimeMillis-Date.now()>0}function Dv(n){return{token:MD(TD),error:n}}class _a{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ki(this.app);for(const e of t)Cm(this.app,e.next);return Promise.resolve()}}const Sv="app-check-internal";!function HD(){(0,ma._registerComponent)(new Xf.wA("app-check",n=>function yA(n,t){return new _a(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Sv).initialize()})),(0,ma._registerComponent)(new Xf.wA(Sv,n=>function vA(n){return{getToken:t=>ml(n,t),addTokenListener:t=>function wv(n,t,e,i){const{app:r}=n,a=Ki(r),u={next:e,error:i,type:t};if(Ks(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&$d(a.token)){const h=a.token;Promise.resolve().then(()=>{e({token:h.token}),xD(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>xD(n))}(n,"INTERNAL",t),removeTokenListener:t=>Cm(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ma.registerVersion)("@firebase/app-check","0.5.12")}();class Am{constructor(){return(0,wi.vb)("app-check")}}typeof window<"u"&&window;var TA=N(127);const $D=new l.OlP("angularfire2.auth.use-emulator"),Mv=new l.OlP("angularfire2.auth.settings"),xv=new l.OlP("angularfire2.auth.tenant-id"),kv=new l.OlP("angularfire2.auth.langugage-code"),Rv=new l.OlP("angularfire2.auth.use-device-language"),Ov=new l.OlP("angularfire.auth.persistence"),Pv=(n,t,e,i,r,a,u,h)=>(0,rs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,a&&m.useDeviceLanguage(),u)for(const[v,C]of Object.entries(u))m.settings[v]=C;return h&&m.setPersistence(h),m},[e,i,r,a,u,h]);let op=(()=>{class n{constructor(e,i,r,a,u,h,m,v,C,T,L,U){const $=new Mt.x,ie=dt(void 0).pipe((0,fv.Q)(u.outsideAngular),Bi(()=>a.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,At.U)(()=>(0,rs.on)(e,a,i)),(0,At.U)(De=>Pv(De,a,h,v,C,T,m,L)),cm({bufferSize:1,refCount:!1}));if(Vo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{ie.pipe(yo()).subscribe();const Je=ie.pipe(Bi(ut=>ut.getRedirectResult().then(Pt=>Pt,()=>null)),wi.iC,cm({bufferSize:1,refCount:!1})),ot=ie.pipe(Bi(ut=>new oi.y(Pt=>({unsubscribe:a.runOutsideAngular(()=>ut.onAuthStateChanged(Bt=>Pt.next(Bt),Bt=>Pt.error(Bt),()=>Pt.complete()))})))),_t=ie.pipe(Bi(ut=>new oi.y(Pt=>({unsubscribe:a.runOutsideAngular(()=>ut.onIdTokenChanged(Bt=>Pt.next(Bt),Bt=>Pt.error(Bt),()=>Pt.complete()))}))));this.authState=Je.pipe(fD(ot),(0,Ys.R)(u.outsideAngular),(0,fv.Q)(u.insideAngular)),this.user=Je.pipe(fD(_t),(0,Ys.R)(u.outsideAngular),(0,fv.Q)(u.insideAngular)),this.idToken=this.user.pipe(Bi(ut=>ut?(0,gn.D)(ut.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(Bi(ut=>ut?(0,gn.D)(ut.getIdTokenResult()):dt(null))),this.credential=(0,ss.T)(Je,$,this.authState.pipe(Dr(ut=>!ut))).pipe((0,At.U)(ut=>ut?.user?ut:null),(0,Ys.R)(u.outsideAngular),(0,fv.Q)(u.insideAngular))}return(0,rs.pX)(this,ie,a,{spy:{apply:(De,Je,ot)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&ot.then(_t=>$.next(_t))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rs.Dh),l.LFG(rs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(wi.HU),l.LFG($D,8),l.LFG(Mv,8),l.LFG(xv,8),l.LFG(kv,8),l.LFG(Rv,8),l.LFG(Ov,8),l.LFG(Am,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GD=(()=>{class n{constructor(){TA.Z.registerVersion("angularfire",wi.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[op]}),n})();const va_firebase={apiKey:"AIzaSyB216Wk_kFTzBDSxE-x-GjYPzVs1WGHzuA",authDomain:"snowbirdcarpoolapp-5c58c.firebaseapp.com",projectId:"snowbirdcarpoolapp-5c58c",storageBucket:"snowbirdcarpoolapp-5c58c.appspot.com",messagingSenderId:"595671531586",appId:"1:595671531586:web:629deed2dfc657b61b2ddb",measurementId:"G-8WF7Z50K9R"};let Nv=(()=>{class n{constructor(){this.title="SnowbirdCarpools"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"row"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"br")(3,"router-outlet")(4,"br"),l.qZA()())},dependencies:[Wg]}),n})();class Fv{constructor(t,e,i,r,a,u,h,m){this.id=t,this.driver=e,this.passengers=i,this.date=r,this.startTime=a,this.arrivalTime=u,this.direction=h,this.totalSeats=m}}var lt,fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_l={},rc=rc||{},Zt=fu||self;function Gd(){}function zD(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function zd(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var qD="closure_uid_"+(1e9*Math.random()>>>0),xt=0;function xA(n,t,e){return n.call.apply(n.bind,arguments)}function kA(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function dr(n,t,e){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xA:kA).apply(null,arguments)}function yl(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function hr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function Eo(){this.s=this.s,this.o=this.o}var fi={};Eo.prototype.s=!1,Eo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ZD(n){return Object.prototype.hasOwnProperty.call(n,qD)&&n[qD]||(n[qD]=++xt)}(this);delete fi[n]}},Eo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const RA=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},Lv=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&t.call(e,r[a],a,n)};function YD(n){return Array.prototype.concat.apply([],arguments)}function Mm(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function ap(n){return/^[\s\xa0]*$/.test(n)}var Vr,Vv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Er(n,t){return-1!=n.indexOf(t)}function Bv(n,t){return n<t?-1:n>t?1:0}e:{var KD=Zt.navigator;if(KD){var Zd=KD.userAgent;if(Zd){Vr=Zd;break e}}Vr=""}function Uv(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function QD(n){const t={};for(const e in n)t[e]=n[e];return t}var JD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lp(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let a=0;a<JD.length;a++)e=JD[a],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function xm(n){return xm[" "](n),n}xm[" "]=Gd;var cp,n,eC=Er(Vr,"Opera"),qd=Er(Vr,"Trident")||Er(Vr,"MSIE"),Wd=Er(Vr,"Edge"),pu=Wd||qd,tC=Er(Vr,"Gecko")&&!(Er(Vr.toLowerCase(),"webkit")&&!Er(Vr,"Edge"))&&!(Er(Vr,"Trident")||Er(Vr,"MSIE"))&&!Er(Vr,"Edge"),OA=Er(Vr.toLowerCase(),"webkit")&&!Er(Vr,"Edge");function nC(){var n=Zt.document;return n?n.documentMode:void 0}e:{var km="",Rm=(n=Vr,tC?/rv:([^\);]+)(\)|;)/.exec(n):Wd?/Edge\/([\d\.]+)/.exec(n):qd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):OA?/WebKit\/(\S+)/.exec(n):eC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Rm&&(km=Rm?Rm[1]:""),qd){var jv=nC();if(null!=jv&&jv>parseFloat(km)){cp=String(jv);break e}}cp=km}var iC={};var kR=Zt.document&&qd&&(nC()||parseInt(cp,10))||void 0,RR=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zt.addEventListener("test",Gd,t),Zt.removeEventListener("test",Gd,t)}catch{}return n}();function Br(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Yd(n,t){if(Br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(tC){e:{try{xm(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Om[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yd.Z.h.call(this)}}Br.prototype.h=function(){this.defaultPrevented=!0},hr(Yd,Br);var Om={2:"touch",3:"pen",4:"mouse"};Yd.prototype.h=function(){Yd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var up="closure_listenable_"+(1e6*Math.random()|0),FA=0;function rC(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++FA,this.ca=this.fa=!1}function sc(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Pm(n){this.src=n,this.g={},this.h=0}function $v(n,t){var e=t.type;if(e in n.g){var a,i=n.g[e],r=RA(i,t);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(sc(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Gv(n,t,e,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==t&&a.capture==!!e&&a.ia==i)return r}return-1}Pm.prototype.add=function(n,t,e,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=Gv(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new rC(t,this.src,a,!!i,r)).fa=e,n.push(t)),t};var zv="closure_lm_"+(1e6*Math.random()|0),Zv={};function qv(n,t,e,i,r){if(i&&i.once)return gu(n,t,e,i,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)qv(n,t[a],e,i,r);return null}return e=Yv(e),n&&n[up]?n.N(t,e,zd(i)?!!i.capture:!!i,r):sC(n,t,e,!1,i,r)}function sC(n,t,e,i,r,a){if(!t)throw Error("Invalid event type");var u=zd(r)?!!r.capture:!!r,h=Wv(n);if(h||(n[zv]=h=new Pm(n)),(e=h.add(t,e,i,u,a)).proxy)return e;if(i=function LA(){var t=lC;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)RR||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(aC(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function gu(n,t,e,i,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)gu(n,t[a],e,i,r);return null}return e=Yv(e),n&&n[up]?n.O(t,e,zd(i)?!!i.capture:!!i,r):sC(n,t,e,!0,i,r)}function oC(n,t,e,i,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)oC(n,t[a],e,i,r);else i=zd(i)?!!i.capture:!!i,e=Yv(e),n&&n[up]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Gv(a=n.g[t],e,i,r))&&(sc(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=Wv(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Gv(t,e,i,r)),(e=-1<n?t[n]:null)&&Nm(e))}function Nm(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[up])$v(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(aC(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Wv(t))?($v(e,n),0==e.h&&(e.src=null,t[zv]=null)):sc(n)}}}function aC(n){return n in Zv?Zv[n]:Zv[n]="on"+n}function lC(n,t){if(n.ca)n=!0;else{t=new Yd(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Nm(n),n=e.call(i,t)}return n}function Wv(n){return(n=n[zv])instanceof Pm?n:null}var Fm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yv(n){return"function"==typeof n?n:(n[Fm]||(n[Fm]=function(t){return n.handleEvent(t)}),n[Fm])}function Ri(){Eo.call(this),this.i=new Pm(this),this.P=this,this.I=null}function fr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Br(t,n);else if(t instanceof Br)t.target=t.target||n;else{var r=t;lp(t=new Br(i,n),r)}if(r=!0,e)for(var a=e.length-1;0<=a;a--){var u=t.g=e[a];r=dp(u,i,!0,t)&&r}if(r=dp(u=t.g=n,i,!0,t)&&r,r=dp(u,i,!1,t)&&r,e)for(a=0;a<e.length;a++)r=dp(u=t.g=e[a],i,!1,t)&&r}function dp(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ca&&u.capture==e){var h=u.listener,m=u.ia||u.src;u.fa&&$v(n.i,u),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}hr(Ri,Eo),Ri.prototype[up]=!0,Ri.prototype.removeEventListener=function(n,t,e,i){oC(this,n,t,e,i)},Ri.prototype.M=function(){if(Ri.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)sc(e[i]);delete n.g[t],n.h--}}this.I=null},Ri.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ri.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Lm=Zt.JSON.stringify;function VA(){var n=uC;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Qv,cC=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Kv,n=>n.reset());class Kv{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function UA(n){Zt.setTimeout(()=>{throw n},0)}function Vm(n,t){Qv||function jA(){var n=Zt.Promise.resolve(void 0);Qv=function(){n.then(HA)}}(),Jv||(Qv(),Jv=!0),uC.add(n,t)}var Jv=!1,uC=new class BA{constructor(){this.h=this.g=null}add(t,e){const i=cC.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function HA(){for(var n;n=VA();){try{n.h.call(n.g)}catch(e){UA(e)}var t=cC;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Jv=!1}function Bm(n,t){Ri.call(this),this.h=n||1,this.g=t||Zt,this.j=dr(this.kb,this),this.l=Date.now()}function Xv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function eb(n,t,e){if("function"==typeof n)e&&(n=dr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=dr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Zt.setTimeout(n,t||0)}function tb(n){n.g=eb(()=>{n.g=null,n.i&&(n.i=!1,tb(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}hr(Bm,Ri),(lt=Bm.prototype).da=!1,lt.S=null,lt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fr(this,"tick"),this.da&&(Xv(this),this.start()))}},lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){Bm.Z.M.call(this),Xv(this),delete this.g};class dC extends Eo{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:tb(this)}M(){super.M(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hp(n){Eo.call(this),this.h=n,this.g={}}hr(hp,Eo);var hC=[];function nb(n,t,e,i){Array.isArray(e)||(e&&(hC[0]=e.toString()),e=hC);for(var r=0;r<e.length;r++){var a=qv(t,e[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function fC(n){Uv(n.g,function(t,e){this.g.hasOwnProperty(e)&&Nm(t)},n),n.g={}}function Um(){this.g=!0}function oc(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function rb(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Lm(e)}catch{return t}}(n,e)+(i?" "+i:"")})}hp.prototype.M=function(){hp.Z.M.call(this),fC(this)},hp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Um.prototype.Aa=function(){this.g=!1},Um.prototype.info=function(){};var mu={},gC=null;function Kd(){return gC=gC||new Ri}function mC(n){Br.call(this,mu.Ma,n)}function Qd(n){const t=Kd();fr(t,new mC(t,n))}function _u(n,t){Br.call(this,mu.STAT_EVENT,n),this.stat=t}function Ir(n){const t=Kd();fr(t,new _u(t,n))}function _C(n,t){Br.call(this,mu.Na,n),this.size=t}function jm(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){n()},t)}mu.Ma="serverreachability",hr(mC,Br),mu.STAT_EVENT="statevent",hr(_u,Br),mu.Na="timingevent",hr(_C,Br);var fp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Hm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sb(){}function yC(){}sb.prototype.h=null;var zm,Jd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pp(){Br.call(this,"d")}function Gm(){Br.call(this,"c")}function gp(){}function Xd(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new hp(this),this.P=GA,this.W=new Bm(n=pu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vC}function vC(){this.i=null,this.g="",this.h=!1}hr(pp,Br),hr(Gm,Br),hr(gp,sb),gp.prototype.g=function(){return new XMLHttpRequest},gp.prototype.i=function(){return{}},zm=new gp;var GA=45e3,ob={},Zm={};function qm(n,t,e){n.K=1,n.v=Qm(xs(t)),n.s=e,n.U=!0,zA(n,null)}function zA(n,t){n.F=Date.now(),Wm(n),n.A=xs(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),CC(e.h,"t",i),n.C=0,e=n.l.H,n.h=new vC,n.g=Eu(n.l,e?t:null,!n.s),0<n.O&&(n.L=new dC(dr(n.Ia,n,n.g),n.O)),nb(n.V,n.g,"readystatechange",n.gb),t=n.H?QD(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Qd(1),function $A(n,t,e,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",h=a.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var C=v[0];v=v[1];var T=C.split("_");u=2<=T.length&&"type"==T[1]?u+(C+"=")+v+"&":u+(C+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ab(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function bC(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=ZA(n,e),r==Zm){4==t&&(n.o=4,Ir(14),i=!1),oc(n.j,n.m,null,"[Incomplete Response]");break}if(r==ob){n.o=4,Ir(15),oc(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}oc(n.j,n.m,r,null),Km(n,r)}ab(n)&&r!=Zm&&r!=ob&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ir(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),i_(t),t.L=!0,Ir(11))):(oc(n.j,n.m,e,"[Invalid Chunked Response]"),yu(n),mp(n))}function ZA(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Zm:(e=Number(t.substring(e,i)),isNaN(e)?ob:(i+=1)+e>t.length?Zm:(t=t.substr(i,e),n.C=i+e,t))}function Wm(n){n.Y=Date.now()+n.P,qA(n,n.P)}function qA(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=jm(dr(n.eb,n),t)}function Ym(n){n.B&&(Zt.clearTimeout(n.B),n.B=null)}function mp(n){0==n.l.G||n.I||r_(n.l,n)}function yu(n){Ym(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Xv(n.W),fC(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Km(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||e_(e.i,n)))if(e.I=n.N,!n.J&&e_(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;Cu(e),Mp(e)}kp(e),Ir(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=jm(dr(e.ab,e),6e3));if(1>=hb(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else lc(e,11)}else if((n.J||e.g==n)&&Cu(e),!ap(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.U=v[0],v=v[1],2==e.G)if("c"==v[0]){e.J=v[1],e.la=v[2];const C=v[3];null!=C&&(e.ma=C,e.h.info("VER="+e.ma));const T=v[4];null!=T&&(e.za=T,e.h.info("SVER="+e.za));const L=v[5];null!=L&&"number"==typeof L&&0<L&&(e.K=i=1.5*L,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const U=n.g;if(U){const $=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var a=i.i;!a.g&&(Er($,"spdy")||Er($,"quic")||Er($,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Ep(a,a.h),a.h=null))}if(i.D){const ie=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(i.sa=ie,Kn(i.F,i.D,ie))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=Ib(i,i.H?i.la:null,i.W),u.J){fb(i.i,u);var h=u,m=i.K;m&&h.setTimeout(m),h.B&&(Ym(h),Wm(h)),i.g=u}else PC(i);0<e.l.length&&sh(e)}else"stop"!=v[0]&&"close"!=v[0]||lc(e,7);else 3==e.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?lc(e,7):n_(e):"noop"!=v[0]&&e.j&&e.j.wa(v),e.A=0)}Qd(4)}catch{}}function lb(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(zD(n)||"string"==typeof n)Lv(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(zD(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function WA(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(zD(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var a=0;a<r;a++)t.call(void 0,i[a],e&&e[a],n)}}function eh(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof eh)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function cb(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];vu(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)vu(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function vu(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(lt=Xd.prototype).setTimeout=function(n){this.P=n},lt.gb=function(n){n=n.target;const t=this.L;t&&3==li(n)?t.l():this.Ia(n)},lt.Ia=function(n){try{if(n==this.g)e:{const C=li(this.g);var t=this.g.Da();const T=this.g.ba();if(!(3>C)&&(3!=C||pu||this.g&&(this.h.h||this.g.ga()||Du(this.g)))){this.I||4!=C||7==t||Qd(8==t||0>=T?3:2),Ym(this);var e=this.g.ba();this.N=e;t:if(ab(this)){var i=Du(this.g);n="";var r=i.length,a=4==li(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yu(this),mp(this);var u="";break t}this.h.i=new Zt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:a&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function ib(n,t,e,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,C,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ap(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Ir(12),yu(this),mp(this);break e}oc(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Km(this,e)}this.U?(bC(this,C,u),pu&&this.i&&3==C&&(nb(this.V,this.W,"tick",this.fb),this.W.start())):(oc(this.j,this.m,u,null),Km(this,u)),4==C&&yu(this),this.i&&!this.I&&(4==C?r_(this.l,this):(this.i=!1,Wm(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Ir(12)):(this.o=0,Ir(13)),yu(this),mp(this)}}}catch{}},lt.fb=function(){if(this.g){var n=li(this.g),t=this.g.ga();this.C<t.length&&(Ym(this),bC(this,n,t),this.i&&4!=n&&Wm(this))}},lt.cancel=function(){this.I=!0,yu(this)},lt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function pC(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Qd(3),Ir(17)),yu(this),this.o=2,mp(this)):qA(this,this.Y-n)},(lt=eh.prototype).R=function(){cb(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},lt.T=function(){return cb(this),this.g.concat()},lt.get=function(n,t){return vu(this.h,n)?this.h[n]:t},lt.set=function(n,t){vu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},lt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],a=this.get(r);n.call(t,a,r,this)}};var wC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bu(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bu){this.g=void 0!==t?t:n.g,_p(this,n.j),this.s=n.s,yp(this,n.i),vp(this,n.m),this.l=n.l,t=n.h;var e=new os;e.i=t.i,t.g&&(e.g=new eh(t.g),e.h=t.h),ub(this,e),this.o=n.o}else n&&(e=String(n).match(wC))?(this.g=!!t,_p(this,e[1]||"",!0),this.s=bp(e[2]||""),yp(this,e[3]||"",!0),vp(this,e[4]),this.l=bp(e[5]||"",!0),ub(this,e[6]||"",!0),this.o=bp(e[7]||"")):(this.g=!!t,this.h=new os(null,this.g))}function xs(n){return new bu(n)}function _p(n,t,e){n.j=e?bp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function yp(n,t,e){n.i=e?bp(t,!0):t}function vp(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function ub(n,t,e){t instanceof os?(n.h=t,function eT(n,t){t&&!n.j&&(ac(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Jm(this,i),CC(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=wp(t,XA)),n.h=new os(t,n.g))}function Kn(n,t,e){n.h.set(t,e)}function Qm(n){return Kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,QA),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function QA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bu.prototype.toString=function(){var n=[],t=this.j;t&&n.push(wp(t,DC,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(wp(t,DC,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(wp(e,"/"==e.charAt(0)?Dp:JA,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",wp(e,db)),n.join("")};var DC=/[#\/\?@]/g,JA=/[#\?:]/g,Dp=/[#\?]/g,XA=/[#\?@]/g,db=/#/g;function os(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ac(n){n.g||(n.g=new eh,n.h=0,n.i&&function YA(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var a=n[e].substring(0,i);r=n[e].substring(i+1)}else a=n[e];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Jm(n,t){ac(n),t=nh(n,t),vu(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,vu((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&cb(n)))}function th(n,t){return ac(n),t=nh(n,t),vu(n.g.h,t)}function CC(n,t,e){Jm(n,t),0<e.length&&(n.i=null,n.g.set(nh(n,t),Mm(e)),n.h+=e.length)}function nh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Cp(n){this.l=n||tT,n=Zt.PerformanceNavigationTiming?0<(n=Zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ea&&Zt.g.Ea()&&Zt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=os.prototype).add=function(n,t){ac(this),this.i=null,n=nh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},lt.forEach=function(n,t){ac(this),this.g.forEach(function(e,i){Lv(e,function(r){n.call(t,r,i,this)},this)},this)},lt.T=function(){ac(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],a=0;a<r.length;a++)e.push(t[i]);return e},lt.R=function(n){ac(this);var t=[];if("string"==typeof n)th(this,n)&&(t=YD(t,this.g.get(nh(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=YD(t,n[e])}return t},lt.set=function(n,t){return ac(this),this.i=null,th(this,n=nh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},lt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var tT=10;function EC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hb(n){return n.h?1:n.g?n.g.size:0}function e_(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Ep(n,t){n.g?n.g.add(t):n.h=t}function fb(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function IC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Mm(n.i)}function pb(){}function PR(){this.g=new pb}function gb(n,t,e){const i=e||"";try{lb(n,function(r,a){let u=r;zd(r)&&(u=Lm(r)),t.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Ip(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function wu(n){this.l=n.$b||null,this.j=n.ib||!1}function ih(n,t){Ri.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=_b,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cp.prototype.cancel=function(){if(this.i=IC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},pb.prototype.stringify=function(n){return Zt.JSON.stringify(n,void 0)},pb.prototype.parse=function(n){return Zt.JSON.parse(n,void 0)},hr(wu,sb),wu.prototype.g=function(){return new ih(this.l,this.j)},wu.prototype.i=function(n){return function(){return n}}({}),hr(ih,Ri);var _b=0;function SC(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Sp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ap(n)}function Ap(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=ih.prototype).open=function(n,t){if(this.readyState!=_b)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Ap(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Zt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sp(this)),this.readyState=_b},lt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ap(this)),this.g&&(this.readyState=3,Ap(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SC(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},lt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Sp(this):Ap(this),3==this.readyState&&SC(this)}},lt.Ua=function(n){this.g&&(this.response=this.responseText=n,Sp(this))},lt.Ta=function(n){this.g&&(this.response=n,Sp(this))},lt.ha=function(){this.g&&Sp(this)},lt.setRequestHeader=function(n,t){this.v.append(n,t)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(ih.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AC=Zt.JSON.parse;function pi(n){Ri.call(this),this.headers=new eh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yb,this.K=this.L=!1}hr(pi,Ri);var yb="",TC=/^https?$/i,MC=["POST","PUT"];function nT(n){return"content-type"==n.toLowerCase()}function vb(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,bb(n),Tp(n)}function bb(n){n.D||(n.D=!0,fr(n,"complete"),fr(n,"error"))}function kC(n){if(n.h&&typeof rc<"u"&&(!n.C[1]||4!=li(n)||2!=n.ba()))if(n.v&&4==li(n))eb(n.Fa,0,n);else if(fr(n,"readystatechange"),4==li(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(wC)[1]||null;if(!r&&Zt.self&&Zt.self.location){var a=Zt.self.location.protocol;r=a.substr(0,a.length-1)}i=!TC.test(r?r.toLowerCase():"")}e=i}if(e)fr(n,"complete"),fr(n,"success");else{n.m=6;try{var u=2<li(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.ba()+"]",bb(n)}}finally{Tp(n)}}}function Tp(n,t){if(n.g){RC(n);const e=n.g,i=n.C[0]?Gd:null;n.g=null,n.C=null,t||fr(n,"ready");try{e.onreadystatechange=i}catch{}}}function RC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Zt.clearTimeout(n.A),n.A=null)}function li(n){return n.g?n.g.readyState:0}function Du(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case yb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wb(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function iT(n){let t="";return Uv(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Kn(n,t,e))}function t_(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function rT(n){this.za=0,this.l=[],this.h=new Um,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=t_("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=t_("baseRetryDelayMs",5e3,n),this.$a=t_("retryDelaySeedMs",1e4,n),this.Ya=t_("forwardChannelMaxRetries",2,n),this.ra=t_("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Cp(n&&n.concurrentRequestLimit),this.Ca=new PR,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function n_(n){if(rh(n),3==n.G){var t=n.V++,e=xs(n.F);Kn(e,"SID",n.J),Kn(e,"RID",t),Kn(e,"TYPE","terminate"),xp(n,e),(t=new Xd(n,n.h,t,void 0)).K=2,t.v=Qm(xs(e)),e=!1,Zt.navigator&&Zt.navigator.sendBeacon&&(e=Zt.navigator.sendBeacon(t.v.toString(),"")),!e&&Zt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Eu(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Wm(t)}NC(n)}function Mp(n){n.g&&(i_(n),n.g.cancel(),n.g=null)}function rh(n){Mp(n),n.u&&(Zt.clearTimeout(n.u),n.u=null),Cu(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Zt.clearTimeout(n.m),n.m=null)}function Db(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&sh(n)}function sh(n){EC(n.i)||n.m||(n.m=!0,Vm(n.Ha,n),n.C=0)}function Cb(n,t){var e;e=t?t.m:n.V++;const i=xs(n.F);Kn(i,"SID",n.J),Kn(i,"RID",e),Kn(i,"AID",n.U),xp(n,i),n.o&&n.s&&wb(i,n.o,n.s),e=new Xd(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=OC(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Ep(n.i,e),qm(e,i,t)}function xp(n,t){n.j&&lb({},function(e,i){Kn(t,i,e)})}function OC(n,t,e){e=Math.min(n.l.length,e);var i=n.j?dr(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+e];-1==a?0<e?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let m=0;m<e;m++){let v=r[m].h;const C=r[m].g;if(v-=a,0>v)a=Math.max(0,r[m].h-100),h=!1;else try{gb(C,u,"req"+v+"_")}catch{i&&i(C)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function PC(n){n.g||n.u||(n.Y=1,Vm(n.Ga,n),n.A=0)}function kp(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=jm(dr(n.Ga,n),oT(n,n.A)),n.A++,0))}function i_(n){null!=n.B&&(Zt.clearTimeout(n.B),n.B=null)}function Eb(n){n.g=new Xd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=xs(n.oa);Kn(t,"RID","rpc"),Kn(t,"SID",n.J),Kn(t,"CI",n.N?"0":"1"),Kn(t,"AID",n.U),xp(n,t),Kn(t,"TYPE","xmlhttp"),n.o&&n.s&&wb(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Qm(xs(t)),e.s=null,e.U=!0,zA(e,n)}function Cu(n){null!=n.v&&(Zt.clearTimeout(n.v),n.v=null)}function r_(n,t){var e=null;if(n.g==t){Cu(n),i_(n),n.g=null;var i=2}else{if(!e_(n.i,t))return;e=t.D,fb(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;fr(i=Kd(),new _C(i,e,t,r)),sh(n)}else PC(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function sT(n,t){return!(hb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=jm(dr(n.Ha,n,t),oT(n,n.C)),n.C++,0)))}(n,t)||2==i&&kp(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:lc(n,5);break;case 4:lc(n,10);break;case 3:lc(n,6);break;default:lc(n,2)}}function oT(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function lc(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=dr(n.jb,n);e||(e=new bu("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||_p(e,"https"),Qm(e)),function mb(n,t){const e=new Um;if(Zt.Image){const i=new Image;i.onload=yl(Ip,e,i,"TestLoadImage: loaded",!0,t),i.onerror=yl(Ip,e,i,"TestLoadImage: error",!1,t),i.onabort=yl(Ip,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=yl(Ip,e,i,"TestLoadImage: timeout",!1,t),Zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ir(2);n.G=0,n.j&&n.j.va(t),NC(n),rh(n)}function NC(n){n.G=0,n.I=-1,n.j&&((0!=IC(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Mm(n.l),n.l.length=0),n.j.ua())}function Ib(n,t,e){let i=function KA(n){return n instanceof bu?xs(n):new bu(n,void 0)}(e);if(""!=i.i)t&&yp(i,t+"."+i.i),vp(i,i.m);else{const r=Zt.location;i=function OR(n,t,e,i){var r=new bu(null,void 0);return n&&_p(r,n),t&&yp(r,t),e&&vp(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Uv(n.aa,function(r,a){Kn(i,a,r)}),e=n.sa,(t=n.D)&&e&&Kn(i,t,e),Kn(i,"VER",n.ma),xp(n,i),i}function Eu(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new pi(e&&n.Ba&&!n.qa?new wu({ib:!0}):n.qa)).L=n.H,t}function FC(){}function Rp(){if(qd&&!(10<=Number(kR)))throw Error("Environmental error: no available transport.")}function Ur(n,t){Ri.call(this),this.g=new rT(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!ap(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ap(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Op(this)}function aT(n){pp.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function LC(){Gm.call(this),this.status=1}function Op(n){this.g=n}(lt=pi.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zm.g(),this.C=function $m(n){return n.h||(n.h=n.i())}(this.u?this.u:zm),this.g.onreadystatechange=dr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void vb(this,a)}n=e||"";const r=new eh(this.headers);i&&lb(i,function(a,u){r.set(u,a)}),i=function WD(n){e:{var t=nT;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Zt.FormData&&n instanceof Zt.FormData,!(0<=RA(MC,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RC(this),0<this.B&&((this.K=function xC(n){return qd&&function PA(){return function XD(n){var t=iC;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Vv(String(cp)).split("."),e=Vv("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",a=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Bv(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Bv(0==r[2].length,0==a[2].length)||Bv(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.pa,this)):this.A=eb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){vb(this,a)}},lt.pa=function(){typeof rc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fr(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fr(this,"complete"),fr(this,"abort"),Tp(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tp(this,!0)),pi.Z.M.call(this)},lt.Fa=function(){this.s||(this.F||this.v||this.l?kC(this):this.cb())},lt.cb=function(){kC(this)},lt.ba=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},lt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),AC(t)}},lt.Da=function(){return this.m},lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=rT.prototype).ma=8,lt.G=1,lt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},lt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Xd(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=QD(a),lp(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=OC(this,r,t),Kn(e=xs(this.F),"RID",n),Kn(e,"CVER",22),this.D&&Kn(e,"X-HTTP-Session-Id",this.D),xp(this,e),this.o&&a&&wb(e,this.o,a),Ep(this.i,r),this.Ra&&Kn(e,"TYPE","init"),this.ja?(Kn(e,"$req",t),Kn(e,"SID","null"),r.$=!0,qm(r,e,null)):qm(r,e,t),this.G=2}}else 3==this.G&&(n?Cb(this,n):0==this.l.length||EC(this.i)||Cb(this))},lt.Ga=function(){if(this.u=null,Eb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=jm(dr(this.bb,this),n)}},lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ir(10),Mp(this),Eb(this))},lt.ab=function(){null!=this.v&&(this.v=null,Mp(this),kp(this),Ir(19))},lt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ir(2)):(this.h.info("Failed to ping google.com"),Ir(1))},(lt=FC.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Oa=function(){},Rp.prototype.g=function(n,t){return new Ur(n,t)},hr(Ur,Ri),Ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Vm(dr(n.hb,n,t))),Ir(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=Ib(n,null,n.W),sh(n)},Ur.prototype.close=function(){n_(this.g)},Ur.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,Db(this.g,t)}else this.v?((t={}).__data__=Lm(n),Db(this.g,t)):Db(this.g,n)},Ur.prototype.M=function(){this.g.j=null,delete this.j,n_(this.g),delete this.g,Ur.Z.M.call(this)},hr(aT,pp),hr(LC,Gm),hr(Op,FC),Op.prototype.xa=function(){fr(this.g,"a")},Op.prototype.wa=function(n){fr(this.g,new aT(n))},Op.prototype.va=function(n){fr(this.g,new LC(n))},Op.prototype.ua=function(){fr(this.g,"b")},Rp.prototype.createWebChannel=Rp.prototype.g,Ur.prototype.send=Ur.prototype.u,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,fp.NO_ERROR=0,fp.TIMEOUT=8,fp.HTTP_ERROR=6,Hm.COMPLETE="complete",yC.EventType=Jd,Jd.OPEN="a",Jd.CLOSE="b",Jd.ERROR="c",Jd.MESSAGE="d",Ri.prototype.listen=Ri.prototype.N,pi.prototype.listenOnce=pi.prototype.O,pi.prototype.getLastError=pi.prototype.La,pi.prototype.getLastErrorCode=pi.prototype.Da,pi.prototype.getStatus=pi.prototype.ba,pi.prototype.getResponseJson=pi.prototype.Qa,pi.prototype.getResponseText=pi.prototype.ga,pi.prototype.send=pi.prototype.ea;var lT=_l.createWebChannelTransport=function(){return new Rp},cT=_l.getStatEventTarget=function(){return Kd()},Sb=_l.ErrorCode=fp,VC=_l.EventType=Hm,BC=_l.Event=mu,UC=_l.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jC=_l.FetchXmlHttpFactory=wu,Pp=_l.WebChannel=yC,uT=_l.XhrIo=pi;const HC="@firebase/firestore";class Hi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");let oh="9.9.4";const vl=new gl.Yd("@firebase/firestore");function s_(){return vl.logLevel}function $e(n,...t){if(vl.logLevel<=gl.in.DEBUG){const e=t.map(GC);vl.debug(`Firestore (${oh}): ${n}`,...e)}}function Di(n,...t){if(vl.logLevel<=gl.in.ERROR){const e=t.map(GC);vl.error(`Firestore (${oh}): ${n}`,...e)}}function Iu(n,...t){if(vl.logLevel<=gl.in.WARN){const e=t.map(GC);vl.warn(`Firestore (${oh}): ${n}`,...e)}}function GC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ct(n="Unexpected state"){const t=`FIRESTORE (${oh}) INTERNAL ASSERTION FAILED: `+n;throw Di(t),new Error(t)}function Vt(n,t){n||ct()}function it(n,t){return n}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends nn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class dT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Hi.UNAUTHENTICATED))}shutdown(){}}class o_{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class LR{constructor(t){this.t=t,this.currentUser=Hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const a=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,t.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const v=u;t.enqueueRetryable((0,oe.Z)(function*(){yield v.promise,yield a(i.currentUser)}))},m=v=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Vt("string"==typeof i.accessToken),new dT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Vt(null===t||"string"==typeof t),new Hi(t)}}class zC{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Hi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Vt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class a_{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new zC(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ab{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=a=>{null!=a.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,$e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Vt("string"==typeof e.token),this.A=e.token,new Ab(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tb(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Mb{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Tb(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%t.length))}return i}}function $t(n,t){return n<t?-1:n>t?1:0}function Su(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function hT(n){return n+"\0"}class Xn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Be(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Be(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Be(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Be(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Xn.fromMillis(Date.now())}static fromDate(t){return Xn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Xn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new Xn(0,0))}static max(){return new Ot(new Xn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Np{constructor(t,e,i){void 0===e?e=0:e>t.length&&ct(),void 0===i?i=t.length-e:i>t.length-e&&ct(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Np.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Np?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=t.get(r),u=e.get(r);if(a<u)return-1;if(a>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class sn extends Np{construct(t,e,i){return new sn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Be(we.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new sn(e)}static emptyPath(){return new sn([])}}const fT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends Np{construct(t,e,i){return new Ci(t,e,i)}static isValidIdentifier(t){return fT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ci(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Be(we.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Be(we.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Be(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(a(),r++)}if(a(),u)throw new Be(we.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ci(e)}static emptyPath(){return new Ci([])}}class Xe{constructor(t){this.path=t}static fromPath(t){return new Xe(sn.fromString(t))}static fromName(t){return new Xe(sn.fromString(t).popFirst(5))}static empty(){return new Xe(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===sn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return sn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xe(new sn(t.slice()))}}class xb{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function kb(n){return n.fields.find(t=>2===t.kind)}function Au(n){return n.fields.filter(t=>2!==t.kind)}xb.UNKNOWN_ID=-1;class Rb{constructor(t,e){this.fieldPath=t,this.kind=e}}class ah{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new ah(0,ci.min())}}function Ob(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ot.fromTimestamp(1e9===i?new Xn(e+1,0):new Xn(e,i));return new ci(r,Xe.empty(),t)}function mT(n){return new ci(n.readTime,n.key,-1)}class ci{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ci(Ot.min(),Xe.empty(),-1)}static max(){return new ci(Ot.max(),Xe.empty(),-1)}}function Pb(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Xe.comparator(n.documentKey,t.documentKey),0!==e?e:$t(n.largestBatchId,t.largestBatchId))}const l_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function $i(n){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,oe.Z)(function*(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==l_)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),Nb.apply(this,arguments)}class fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fe((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof fe?e:fe.resolve(e)}catch(e){return fe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.reject(e)}static resolve(t){return new fe((e,i)=>{e(t)})}static reject(t){return new fe((e,i)=>{i(t)})}static waitFor(t){return new fe((e,i)=>{let r=0,a=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++a,u&&a===r&&e()},m=>i(m))}),u=!0,a===r&&e()})}static or(t){let e=fe.resolve(!1);for(const i of t)e=e.next(r=>r?fe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,a)=>{i.push(e.call(this,r,a))}),this.waitFor(i)}static mapArray(t,e){return new fe((i,r)=>{const a=t.length,u=new Array(a);let h=0;for(let m=0;m<a;m++){const v=m;e(t[v]).next(C=>{u[v]=C,++h,h===a&&i(u)},C=>r(C))}})}static doWhile(t,e){return new fe((i,r)=>{const a=()=>{!0===t()?e().next(()=>{a()},r):i()};a()})}}class c_{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new pr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new lh(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Vb(i.target.error);this.P.reject(new lh(t,r))}}static open(t,e,i,r){try{return new c_(e,t.transaction(r,i))}catch(a){throw new lh(e,a)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||($e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new _T(e)}}class Io{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Io.D((0,nn.z$)())&&Di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $e("SimpleDb","Removing database:",t),cc(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,nn.hl)())return!1;if(Io.N())return!0;const t=(0,nn.z$)(),e=Io.D(t),i=0<e&&e<10,r=Io.k(t),a=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,oe.Z)(function*(){return e.db||($e("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new lh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Be(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Be(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new lh(t,h))},a.onupgradeneeded=u=>{$e("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,a.transaction,u.oldVersion,e.version).next(()=>{$e("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var a=this;return(0,oe.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{a.db=yield a.F(t);const m=c_.open(a.db,t,u?"readonly":"readwrite",i),v=r(m).next(C=>(m.V(),C)).catch(C=>(m.abort(C),fe.reject(C))).toPromise();return v.catch(()=>{}),yield m.v,v}catch(m){const v=m,C="FirebaseError"!==v.name&&h<3;if($e("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),a.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Fb{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return cc(this.U.delete())}}class lh extends Be{constructor(t,e){super(we.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function bl(n){return"IndexedDbTransactionError"===n.name}class _T{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?($e("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),cc(i)}add(t){return $e("SimpleDb","ADD",this.store.name,t,t),cc(this.store.add(t))}get(t){return cc(this.store.get(t)).next(e=>(void 0===e&&(e=null),$e("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $e("SimpleDb","DELETE",this.store.name,t),cc(this.store.delete(t))}count(){return $e("SimpleDb","COUNT",this.store.name),cc(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(u,h)=>{a.push(h)}).next(()=>a)}{const r=this.store.getAll(i.range);return new fe((a,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{a(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new fe((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(a,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new fe((i,r)=>{e.onerror=a=>{const u=Vb(a.target.error);r(u)},e.onsuccess=a=>{const u=a.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new fe((r,a)=>{t.onerror=u=>{a(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const m=new Fb(h),v=e(h.primaryKey,h.value,m);if(v instanceof fe){const C=v.catch(T=>(m.done(),fe.reject(T)));i.push(C)}m.isDone?r():null===m.G?h.continue():h.continue(m.G)}}).next(()=>fe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function cc(n){return new fe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Vb(i.target.error);e(r)}})}let Lb=!1;function Vb(n){const t=Io.D((0,nn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lb||(Lb=!0,setTimeout(()=>{throw i},0)),i}}return n}class WC{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;$e("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,oe.Z)(function*(){e.task=null;try{$e("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){bl(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield $i(i)}yield e.nt(1)}))}}class yT{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,oe.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,a=!0;return fe.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return $e("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});a=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,a)).next(h=>($e("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,a)=>{const u=mT(a);Pb(u,i)>0&&(i=u)}),new ci(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class Sr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function wl(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function uc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function u_(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}Sr.at=-1;class Cn{constructor(t,e){this.comparator=t,this.root=e||Ar.EMPTY}insert(t,e){return new Cn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(t){return new Cn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new d_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new d_(this.root,t,this.comparator,!1)}getReverseIterator(){return new d_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new d_(this.root,t,this.comparator,!0)}}class d_{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ar{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=i??Ar.RED,this.left=r??Ar.EMPTY,this.right=a??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new Ar(t??this.key,e??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===a?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ar.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1,Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ar(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(t){this.comparator=t,this.data=new Cn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new YC(this.data.getIterator())}getIteratorFrom(t){return new YC(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof kn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new kn(this.comparator);return e.data=t,e}}class YC{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ch(n){return n.hasNext()?n.getNext():void 0}class ks{constructor(t){this.fields=t,t.sort(Ci.comparator)}static empty(){return new ks([])}unionWith(t){let e=new kn(Ci.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ks(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Su(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Qi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Qi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(t);return new Qi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qi.EMPTY_BYTE_STRING=new Qi("");const QC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dc(n){if(Vt(!!n),"string"==typeof n){let t=0;const e=QC.exec(n);if(Vt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ui(n.seconds),nanos:ui(n.nanos)}}function ui(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function uh(n){return"string"==typeof n?Qi.fromBase64String(n):Qi.fromUint8Array(n)}function Fp(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Bb(n){const t=n.mapValue.fields.__previous_value__;return Fp(t)?Bb(t):t}function dh(n){const t=dc(n.mapValue.fields.__local_write_time__.timestampValue);return new Xn(t.seconds,t.nanos)}class JC{constructor(t,e,i,r,a,u,h,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class Dl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}function hh(n){return null==n}function hc(n){return 0===n&&1/n==-1/0}function Lp(n){return"number"==typeof n&&Number.isInteger(n)&&!hc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},h_={nullValue:"NULL_VALUE"};function fc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fp(n)?4:DT(n)?9007199254740991:10:ct()}function So(n,t){if(n===t)return!0;const e=fc(n);if(e!==fc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return dh(n).isEqual(dh(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=dc(i.timestampValue),u=dc(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,uh(n.bytesValue).isEqual(uh(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ui(i.geoPointValue.latitude)===ui(r.geoPointValue.latitude)&&ui(i.geoPointValue.longitude)===ui(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ui(i.integerValue)===ui(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=ui(i.doubleValue),u=ui(r.doubleValue);return a===u?hc(a)===hc(u):isNaN(a)&&isNaN(u)}return!1}(n,t);case 9:return Su(n.arrayValue.values||[],t.arrayValue.values||[],So);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(wl(a)!==wl(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===u[h]||!So(a[h],u[h])))return!1;return!0}(n,t);default:return ct()}var r}function Vp(n,t){return void 0!==(n.values||[]).find(e=>So(e,t))}function pc(n,t){if(n===t)return 0;const e=fc(n),i=fc(t);if(e!==i)return $t(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,t.booleanValue);case 2:return function(r,a){const u=ui(r.integerValue||r.doubleValue),h=ui(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return vT(n.timestampValue,t.timestampValue);case 4:return vT(dh(n),dh(t));case 5:return $t(n.stringValue,t.stringValue);case 6:return function(r,a){const u=uh(r),h=uh(a);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,a){const u=r.split("/"),h=a.split("/");for(let m=0;m<u.length&&m<h.length;m++){const v=$t(u[m],h[m]);if(0!==v)return v}return $t(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,a){const u=$t(ui(r.latitude),ui(a.latitude));return 0!==u?u:$t(ui(r.longitude),ui(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,a){const u=r.values||[],h=a.values||[];for(let m=0;m<u.length&&m<h.length;++m){const v=pc(u[m],h[m]);if(v)return v}return $t(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,a){if(r===Cl.mapValue&&a===Cl.mapValue)return 0;if(r===Cl.mapValue)return 1;if(a===Cl.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),m=a.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let C=0;C<h.length&&C<v.length;++C){const T=$t(h[C],v[C]);if(0!==T)return T;const L=pc(u[h[C]],m[v[C]]);if(0!==L)return L}return $t(h.length,v.length)}(n.mapValue,t.mapValue);default:throw ct()}}function vT(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return $t(n,t);const e=dc(n),i=dc(t),r=$t(e.seconds,i.seconds);return 0!==r?r:$t(e.nanos,i.nanos)}function Bp(n){return f_(n)}function f_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=dc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?uh(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=f_(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const h of r)u?u=!1:a+=",",a+=`${h}:${f_(i.fields[h])}`;return a+"}"}(n.mapValue):ct();var t}function Tu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ub(n){return!!n&&"integerValue"in n}function Up(n){return!!n&&"arrayValue"in n}function bT(n){return!!n&&"nullValue"in n}function wT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jb(n){return!!n&&"mapValue"in n}function p_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return uc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=p_(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=p_(n.arrayValue.values[e]);return t}return Object.assign({},n)}function DT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function CT(n){return"nullValue"in n?h_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Tu(Dl.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function g_(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Tu(Dl.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Cl:ct()}function XC(n,t){const e=pc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function eE(n,t){const e=pc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ji{constructor(t){this.value=t}static empty(){return new Ji({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!jb(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=p_(e)}setAll(t){let e=Ci.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=p_(u):r.push(h.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());jb(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return So(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];jb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){uc(e,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new Ji(p_(this.value))}}function gc(n){const t=[];return uc(n.fields,(e,i)=>{const r=new Ci([e]);if(jb(i)){const a=gc(i.mapValue).fields;if(0===a.length)t.push(r);else for(const u of a)t.push(r.child(u))}else t.push(r)}),new ks(t)}class Fn{constructor(t,e,i,r,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(t){return new Fn(t,0,Ot.min(),Ot.min(),Ji.empty(),0)}static newFoundDocument(t,e,i){return new Fn(t,1,e,Ot.min(),i,0)}static newNoDocument(t,e){return new Fn(t,2,e,Ot.min(),Ji.empty(),0)}static newUnknownDocument(t,e){return new Fn(t,3,e,Ot.min(),Ji.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hb{constructor(t,e=null,i=[],r=[],a=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=h,this.ht=null}}function m_(n,t=null,e=[],i=[],r=null,a=null,u=null){return new Hb(n,t,e,i,r,a,u)}function Mu(n){const t=it(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Bp(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),hh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Bp(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Bp(i)).join(",")),t.ht=e}return t.ht}function xu(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!oE(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!So(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!MT(n.startAt,t.startAt)&&MT(n.endAt,t.endAt)}function ku(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Gb(n,t){return n.filters.filter(e=>e instanceof Tr&&e.field.isEqual(t))}function ET(n,t,e){let i=h_,r=!0;for(const a of Gb(n,t)){let u=h_,h=!0;switch(a.op){case"<":case"<=":u=CT(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=h_}XC({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];XC({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function IT(n,t,e){let i=Cl,r=!0;for(const a of Gb(n,t)){let u=Cl,h=!0;switch(a.op){case">=":case">":u=g_(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=Cl}eE({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];eE({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class Tr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new tE(t,e,i):"array-contains"===e?new TT(t,i):"in"===e?new iE(t,i):"not-in"===e?new rE(t,i):"array-contains-any"===e?new sE(t,i):new Tr(t,e,i)}static lt(t,e,i){return"in"===e?new ST(t,i):new AT(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(pc(e,this.value)):null!==e&&fc(this.value)===fc(e)&&this.ft(pc(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ct()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tE extends Tr{constructor(t,e,i){super(t,e,i),this.key=Xe.fromName(i.referenceValue)}matches(t){const e=Xe.comparator(t.key,this.key);return this.ft(e)}}class ST extends Tr{constructor(t,e){super(t,"in",e),this.keys=nE(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class AT extends Tr{constructor(t,e){super(t,"not-in",e),this.keys=nE(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function nE(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Xe.fromName(i.referenceValue))}class TT extends Tr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Up(e)&&Vp(e.arrayValue,this.value)}}class iE extends Tr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Vp(this.value.arrayValue,e)}}class rE extends Tr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Vp(this.value.arrayValue,e)}}class sE extends Tr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Up(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Vp(this.value.arrayValue,i))}}class mc{constructor(t,e){this.position=t,this.inclusive=e}}class fh{constructor(t,e="asc"){this.field=t,this.dir=e}}function oE(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function __(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],u=n.position[r];if(i=a.field.isKeyField()?Xe.comparator(Xe.fromName(u.referenceValue),e.key):pc(u,e.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function MT(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!So(n.position[e],t.position[e]))return!1;return!0}class ba{constructor(t,e=null,i=[],r=[],a=null,u="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=m,this._t=null,this.wt=null}}function y_(n,t,e,i,r,a,u,h){return new ba(n,t,e,i,r,a,u,h)}function ph(n){return new ba(n)}function aE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function lE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function cE(n){for(const t of n.filters)if(t.dt())return t.field;return null}function zb(n){return null!==n.collectionGroup}function gh(n){const t=it(n);if(null===t._t){t._t=[];const e=cE(t),i=lE(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new fh(e)),t._t.push(new fh(Ci.keyField(),"asc"));else{let r=!1;for(const a of t.explicitOrderBy)t._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new fh(Ci.keyField(),a))}}}return t._t}function as(n){const t=it(n);if(!t.wt)if("F"===t.limitType)t.wt=m_(t.path,t.collectionGroup,gh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of gh(t))e.push(new fh(a.field,"desc"===a.dir?"asc":"desc"));const i=t.endAt?new mc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mc(t.startAt.position,t.startAt.inclusive):null;t.wt=m_(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function Zb(n,t,e){return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function v_(n,t){return xu(as(n),as(t))&&n.limitType===t.limitType}function xT(n){return`${Mu(as(n))}|lt:${n.limitType}`}function uE(n){return`Query(target=${function $b(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Bp(i.value)}`;var i}).join(", ")}]`),hh(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Bp(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Bp(e)).join(",")),`Target(${t})`}(as(n))}; limitType=${n.limitType})`}function dE(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Xe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,a,u){const h=__(r,a,u);return r.inclusive?h<=0:h<0}(e.startAt,gh(e),i)||e.endAt&&!function(r,a,u){const h=__(r,a,u);return r.inclusive?h>=0:h>0}(e.endAt,gh(e),i)));var e,i}function hE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kT(n){return(t,e)=>{let i=!1;for(const r of gh(n)){const a=VR(r,t,e);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function VR(n,t,e){const i=n.field.isKeyField()?Xe.comparator(t.key,e.key):function(r,a,u){const h=a.data.field(r),m=u.data.field(r);return null!==h&&null!==m?pc(h,m):ct()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ct()}}function RT(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(t)?"-0":t}}function OT(n){return{integerValue:""+n}}function PT(n,t){return Lp(t)?OT(t):RT(n,t)}class qb{constructor(){this._=void 0}}function s(n,t,e){return n instanceof d?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(e,t):n instanceof f?p(n,t):n instanceof y?w(n,t):function(i,r){const a=c(i,r),u=M(a)+M(i.yt);return Ub(a)&&Ub(i.yt)?OT(u):RT(i.It,u)}(n,t)}function o(n,t,e){return n instanceof f?p(n,t):n instanceof y?w(n,t):e}function c(n,t){return n instanceof E?Ub(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class d extends qb{}class f extends qb{constructor(t){super(),this.elements=t}}function p(n,t){const e=R(t);for(const i of n.elements)e.some(r=>So(r,i))||e.push(i);return{arrayValue:{values:e}}}class y extends qb{constructor(t){super(),this.elements=t}}function w(n,t){let e=R(t);for(const i of n.elements)e=e.filter(r=>!So(r,i));return{arrayValue:{values:e}}}class E extends qb{constructor(t,e){super(),this.It=t,this.yt=e}}function M(n){return ui(n.integerValue||n.doubleValue)}function R(n){return Up(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class F{constructor(t,e){this.field=t,this.transform=e}}class ae{constructor(t,e){this.version=t,this.transformResults=e}}class ye{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ye}static exists(t){return new ye(void 0,t)}static updateTime(t){return new ye(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function He(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Qe{}function at(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new _c(n.key,ye.none()):new En(n.key,n.data,ye.none());{const e=n.data,i=Ji.empty();let r=new kn(Ci.comparator);for(let a of t.fields)if(!r.has(a)){let u=e.field(a);null===u&&a.length>1&&(a=a.popLast(),u=e.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new jr(n.key,i,new ks(r.toArray()),ye.none())}}function kt(n,t,e){n instanceof En?function(i,r,a){const u=i.value.clone(),h=w_(i.fieldTransforms,r,a.transformResults);u.setAll(h),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,t,e):n instanceof jr?function(i,r,a){if(!He(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=w_(i.fieldTransforms,r,a.transformResults),h=r.data;h.setAll(b_(i)),h.setAll(u),r.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Ne(n,t,e,i){return n instanceof En?function(r,a,u,h){if(!He(r.precondition,a))return u;const m=r.value.clone(),v=D_(r.fieldTransforms,h,a);return m.setAll(v),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof jr?function(r,a,u,h){if(!He(r.precondition,a))return u;const m=D_(r.fieldTransforms,h,a),v=a.data;return v.setAll(b_(r)),v.setAll(m),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,t,e,i):(u=e,He(n.precondition,a=t)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function It(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=c(i.transform,r||null);null!=a&&(null===e&&(e=Ji.empty()),e.set(i.field,a))}return e||null}function on(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Su(e,i,(r,a)=>function Q(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof f&&i instanceof f||e instanceof y&&i instanceof y?Su(e.elements,i.elements,So):e instanceof E&&i instanceof E?So(e.yt,i.yt):e instanceof d&&i instanceof d);var e,i}(r,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class En extends Qe{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class jr extends Qe{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function b_(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function w_(n,t,e){const i=new Map;Vt(n.length===e.length);for(let r=0;r<e.length;r++){const a=n[r],u=a.transform,h=t.data.field(a.field);i.set(a.field,o(u,h,e[r]))}return i}function D_(n,t,e){const i=new Map;for(const r of n){const a=r.transform,u=e.data.field(r.field);i.set(r.field,s(a,u,t))}return i}class _c extends Qe{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jp extends Qe{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wb{constructor(t){this.count=t}}var gi,cn;function C_(n){switch(n){default:return ct();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function BR(n){if(void 0===n)return Di("GRPC error has no .code"),we.UNKNOWN;switch(n){case gi.OK:return we.OK;case gi.CANCELLED:return we.CANCELLED;case gi.UNKNOWN:return we.UNKNOWN;case gi.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case gi.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case gi.INTERNAL:return we.INTERNAL;case gi.UNAVAILABLE:return we.UNAVAILABLE;case gi.UNAUTHENTICATED:return we.UNAUTHENTICATED;case gi.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case gi.NOT_FOUND:return we.NOT_FOUND;case gi.ALREADY_EXISTS:return we.ALREADY_EXISTS;case gi.PERMISSION_DENIED:return we.PERMISSION_DENIED;case gi.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case gi.ABORTED:return we.ABORTED;case gi.OUT_OF_RANGE:return we.OUT_OF_RANGE;case gi.UNIMPLEMENTED:return we.UNIMPLEMENTED;case gi.DATA_LOSS:return we.DATA_LOSS;default:return ct()}}(cn=gi||(gi={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class mh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){uc(this.inner,(e,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return u_(this.inner)}size(){return this.innerSize}}const nL=new Cn(Xe.comparator);function Qs(){return nL}const UR=new Cn(Xe.comparator);function Yb(...n){let t=UR;for(const e of n)t=t.insert(e.key,e);return t}function jR(n){let t=UR;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function yc(){return Kb()}function HR(){return Kb()}function Kb(){return new mh(n=>n.toString(),(n,t)=>n.isEqual(t))}const iL=new Cn(Xe.comparator),rL=new kn(Xe.comparator);function Xt(...n){let t=rL;for(const e of n)t=t.add(e);return t}const sL=new kn($t);function fE(){return sL}class Qb{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Jb.createSynthesizedTargetChangeForCurrentChange(t,e)),new Qb(Ot.min(),i,fE(),Qs(),Xt())}}class Jb{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Jb(Qi.EMPTY_BYTE_STRING,e,Xt(),Xt(),Xt())}}class pE{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class $R{constructor(t,e){this.targetId=t,this.At=e}}class GR{constructor(t,e,i=Qi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class zR{constructor(){this.Rt=0,this.bt=qR(),this.Pt=Qi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=Xt(),e=Xt(),i=Xt();return this.bt.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ct()}}),new Jb(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=qR()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class oL{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Qs(),this.qt=ZR(),this.Kt=new kn($t)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:ct()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const a=r.target;if(ku(a))if(0===i){const u=new Xe(a.path);this.jt(e,u,Fn.newNoDocument(u,Ot.min()))}else Vt(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((a,u)=>{const h=this.Xt(u);if(h){if(a.current&&ku(h.target)){const m=new Xe(h.target.path);null!==this.Ut.get(m)||this.ee(u,m)||this.jt(u,m,Fn.newNoDocument(m,t))}a.Dt&&(e.set(u,a.xt()),a.Nt())}});let i=Xt();this.qt.forEach((a,u)=>{let h=!0;u.forEachWhile(m=>{const v=this.Xt(m);return!v||2===v.purpose||(h=!1,!1)}),h&&(i=i.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(t));const r=new Qb(t,e,this.Kt,this.Ut,i);return this.Ut=Qs(),this.qt=ZR(),this.Kt=new kn($t),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new zR,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new kn($t),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new zR),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function ZR(){return new Cn(Xe.comparator)}function qR(){return new Cn(Xe.comparator)}const aL={asc:"ASCENDING",desc:"DESCENDING"},lL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class cL{constructor(t,e){this.databaseId=t,this.gt=e}}function Xb(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WR(n,t){return n.gt?t.toBase64():t.toUint8Array()}function uL(n,t){return Xb(n,t.toTimestamp())}function Mr(n){return Vt(!!n),Ot.fromTimestamp(function(t){const e=dc(t);return new Xn(e.seconds,e.nanos)}(n))}function NT(n,t){return(e=n,new sn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function YR(n){const t=sn.fromString(n);return Vt(rO(t)),t}function ew(n,t){return NT(n.databaseId,t.path)}function vc(n,t){const e=YR(t);if(e.get(1)!==n.databaseId.projectId)throw new Be(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Be(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Xe(QR(e))}function FT(n,t){return NT(n.databaseId,t)}function KR(n){const t=YR(n);return 4===t.length?sn.emptyPath():QR(t)}function tw(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QR(n){return Vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function JR(n,t,e){return{name:ew(n,t),fields:e.value.mapValue.fields}}function XR(n,t,e){const i=vc(n,t.name),r=Mr(t.updateTime),a=new Ji({mapValue:{fields:t.fields}}),u=Fn.newFoundDocument(i,r,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function nw(n,t){let e;if(t instanceof En)e={update:JR(n,t.key,t.value)};else if(t instanceof _c)e={delete:ew(n,t.key)};else if(t instanceof jr)e={update:JR(n,t.key,t.data),updateMask:vL(t.fieldMask)};else{if(!(t instanceof jp))return ct();e={verify:ew(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof d)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof f)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof y)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof E)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw ct()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:uL(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ct()),e;var r}function LT(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?ye.updateTime(Mr(r.updateTime)):void 0!==r.exists?ye.exists(r.exists):ye.none():ye.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(a,u){let h=null;"setToServerValue"in u?(Vt("REQUEST_TIME"===u.setToServerValue),h=new d):"appendMissingElements"in u?h=new f(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new y(u.removeAllFromArray.values||[]):"increment"in u?h=new E(a,u.increment):ct();const m=Ci.fromServerFormat(u.fieldPath);return new F(m,h)}(n,r)):[];var r;if(t.update){const r=vc(n,t.update.name),a=new Ji({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new ks((t.updateMask.fieldPaths||[]).map(v=>Ci.fromServerFormat(v)));return new jr(r,a,u,e,i)}return new En(r,a,e,i)}if(t.delete){const r=vc(n,t.delete);return new _c(r,e)}if(t.verify){const r=vc(n,t.verify);return new jp(r,e)}return ct()}function eO(n,t){return{documents:[FT(n,t.path)]}}function tO(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=FT(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=FT(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0===m.length)return;const v=m.map(C=>function(T){if("=="===T.op){if(wT(T.value))return{unaryFilter:{field:E_(T.field),op:"IS_NAN"}};if(bT(T.value))return{unaryFilter:{field:E_(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(wT(T.value))return{unaryFilter:{field:E_(T.field),op:"IS_NOT_NAN"}};if(bT(T.value))return{unaryFilter:{field:E_(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:E_(T.field),op:mL(T.op),value:T.value}}}(C));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(t.filters);r&&(e.structuredQuery.where=r);const a=function(m){if(0!==m.length)return m.map(v=>{return{field:E_((C=v).field),direction:gL(C.dir)};var C})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const u=(v=t.limit,n.gt||hh(v)?v:{value:v});var v,h,m;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function nO(n){let t=KR(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Vt(1===i);const C=e.from[0];C.allDescendants?r=C.collectionId:t=t.child(C.collectionId)}let a=[];e.where&&(a=iO(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(C=>{return new fh(I_((T=C).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;e.limit&&(h=function(C){let T;return T="object"==typeof C?C.value:C,hh(T)?null:T}(e.limit));let m=null;var C;e.startAt&&(m=new mc((C=e.startAt).values||[],!!C.before));let v=null;return e.endAt&&(v=function(C){return new mc(C.values||[],!C.before)}(e.endAt)),y_(t,r,u,a,h,"F",m,v)}function iO(n){return n?void 0!==n.unaryFilter?[yL(n)]:void 0!==n.fieldFilter?[_L(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>iO(t)).reduce((t,e)=>t.concat(e)):ct():[]}function gL(n){return aL[n]}function mL(n){return lL[n]}function E_(n){return{fieldPath:n.canonicalString()}}function I_(n){return Ci.fromServerFormat(n.fieldPath)}function _L(n){return Tr.create(I_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function yL(n){switch(n.unaryFilter.op){case"IS_NAN":const t=I_(n.unaryFilter.field);return Tr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=I_(n.unaryFilter.field);return Tr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=I_(n.unaryFilter.field);return Tr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=I_(n.unaryFilter.field);return Tr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function vL(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function rO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Rs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=sO(t)),t=bL(n.get(e),t);return sO(t)}function bL(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function sO(n){return n+"\x01\x01"}function bc(n){const t=n.length;if(Vt(t>=2),2===t)return Vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const e=t-2,i=[];let r="";for(let a=0;a<t;){const u=n.indexOf("\x01",a);switch((u<0||u>e)&&ct(),n.charAt(u+1)){case"\x01":const h=n.substring(a,u);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:ct()}a=u+2}return new sn(i)}const oO=["userId","batchId"];function gE(n,t){return[n,Rs(t)]}function aO(n,t,e){return[n,Rs(t),e]}const wL={},DL=["prefixPath","collectionGroup","readTime","documentId"],CL=["prefixPath","collectionGroup","documentId"],EL=["collectionGroup","readTime","prefixPath","documentId"],IL=["canonicalId","targetId"],SL=["targetId","path"],AL=["path","targetId"],TL=["collectionId","parent"],ML=["indexId","uid"],xL=["uid","sequenceNumber"],kL=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RL=["indexId","uid","orderedDocumentKey"],OL=["userId","collectionPath","documentId"],PL=["userId","collectionPath","largestBatchId"],NL=["userId","collectionGroup","largestBatchId"],lO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FL=[...lO,"documentOverlays"],cO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uO=cO,LL=[...uO,"indexConfiguration","indexState","indexEntries"];class VT extends qC{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function xr(n,t){const e=it(n);return Io.O(e.ie,t)}class BT{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&kt(a,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ne(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ne(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=HR();return this.mutations.forEach(r=>{const a=t.get(r.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=e.has(r.key)?null:h;const m=at(u,h);null!==m&&i.set(r.key,m),u.isValidDocument()||u.convertToNoDocument(Ot.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Xt())}isEqual(t){return this.batchId===t.batchId&&Su(this.mutations,t.mutations,(e,i)=>on(e,i))&&Su(this.baseMutations,t.baseMutations,(e,i)=>on(e,i))}}class UT{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Vt(t.mutations.length===i.length);let r=iL;const a=t.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new UT(t,e,i,r)}}class jT{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _h{constructor(t,e,i,r,a=Ot.min(),u=Ot.min(),h=Qi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new _h(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new _h(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new _h(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class dO{constructor(t){this.re=t}}function hO(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:mE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:ew(r=n.re,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:Xb(r,a.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Hp(t.version)};else{if(!t.isUnknownDocument())return ct();i.unknownDocument={path:e.path.toArray(),version:Hp(t.version)}}var r,a;return i}function mE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Hp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $p(n){const t=new Xn(n.seconds,n.nanoseconds);return Ot.fromTimestamp(t)}function Gp(n,t){const e=(t.baseMutations||[]).map(a=>LT(n.re,a));for(let a=0;a<t.mutations.length-1;++a){const u=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(u.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const i=t.mutations.map(a=>LT(n.re,a)),r=Xn.fromMillis(t.localWriteTimeMs);return new BT(t.batchId,r,e,i)}function iw(n){const t=$p(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?$p(n.lastLimboFreeSnapshotVersion):Ot.min();let i;var r;return void 0!==n.query.documents?(Vt(1===(r=n.query).documents.length),i=as(ph(KR(r.documents[0])))):i=as(nO(n.query)),new _h(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Qi.fromBase64String(n.resumeToken))}function fO(n,t){const e=Hp(t.snapshotVersion),i=Hp(t.lastLimboFreeSnapshotVersion);let r;r=ku(t.target)?eO(n.re,t.target):tO(n.re,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Mu(t.target),readTime:e,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function HT(n){const t=nO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Zb(t,t.limit,"L"):t}function $T(n,t){return new jT(t.largestBatchId,LT(n.re,t.overlayMutation))}function pO(n,t){const e=t.path.lastSegment();return[n,Rs(t.path.popLast()),e]}function gO(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Hp(i.readTime),documentKey:Rs(i.documentKey.path),largestBatchId:i.largestBatchId}}class BL{getBundleMetadata(t,e){return mO(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:$p(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return mO(t).put({bundleId:(i=e).id,createTime:Hp(Mr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return _O(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:HT(r.bundledQuery),readTime:$p(r.readTime)};var r})}saveNamedQuery(t,e){return _O(t).put({name:(i=e).name,readTime:Hp(Mr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function mO(n){return xr(n,"bundles")}function _O(n){return xr(n,"namedQueries")}class _E{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new _E(t,e.uid||"")}getOverlay(t,e){return rw(t).get(pO(this.userId,e)).next(i=>i?$T(this.It,i):null)}getOverlays(t,e){const i=yc();return fe.forEach(e,r=>this.getOverlay(t,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((a,u)=>{const h=new jT(e,u);r.push(this.ue(t,h))}),fe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Rs(u.getCollectionPath())));const a=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(rw(t).Y("collectionPathOverlayIndex",h))}),fe.waitFor(a)}getOverlaysForCollection(t,e,i){const r=yc(),a=Rs(e),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return rw(t).W("collectionPathOverlayIndex",u).next(h=>{for(const m of h){const v=$T(this.It,m);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const a=yc();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return rw(t).Z({index:"collectionGroupOverlayIndex",range:h},(m,v,C)=>{const T=$T(this.It,v);a.size()<r||T.largestBatchId===u?(a.set(T.getKey(),T),u=T.largestBatchId):C.done()}).next(()=>a)}ue(t,e){return rw(t).put(function(i,r,a){const[u,h,m]=pO(r,a.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:nw(i.re,a.mutation)}}(this.It,this.userId,e))}}function rw(n){return xr(n,"documentOverlays")}class zp{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(ui(t.integerValue));else if("doubleValue"in t){const i=ui(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),hc(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(uh(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?DT(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):ct()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),Xe.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function UL(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function yO(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const a=UL(255&e[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(t/8)}zp.Te=new zp;class jL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=yO(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=yO(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class HL{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class $L{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class sw{constructor(){this.Be=new jL,this.Le=new HL(this.Be),this.Ue=new $L(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Zp{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Zp(this.indexId,this.documentKey,this.arrayValue,i)}}function qp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=vO(n.arrayValue,t.arrayValue),0!==e?e:(e=vO(n.directionalValue,t.directionalValue),0!==e?e:Xe.comparator(n.documentKey,t.documentKey)))}function vO(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class GL{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=kb(t);if(void 0!==e&&!this.ze(e))return!1;const i=Au(t);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class zL{constructor(){this.Ye=new GT}addToCollectionParentIndex(t,e){return this.Ye.add(e),fe.resolve()}getCollectionParents(t,e){return fe.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return fe.resolve()}deleteFieldIndex(t,e){return fe.resolve()}getDocumentsMatchingTarget(t,e){return fe.resolve(null)}getIndexType(t,e){return fe.resolve(0)}getFieldIndexes(t,e){return fe.resolve([])}getNextCollectionGroupToUpdate(t){return fe.resolve(null)}getMinOffset(t,e){return fe.resolve(ci.min())}getMinOffsetFromCollectionGroup(t,e){return fe.resolve(ci.min())}updateCollectionGroup(t,e,i){return fe.resolve()}updateIndexEntries(t,e){return fe.resolve()}}class GT{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new kn(sn.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new kn(sn.comparator)).toArray()}}const yE=new Uint8Array(0);class ZL{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new GT,this.Ze=new mh(i=>Mu(i),(i,r)=>xu(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const a={collectionId:i,parent:Rs(r)};return bO(t).put(a)}return fe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[hT(e),""],!1,!0);return bO(t).W(r).next(a=>{for(const u of a){if(u.collectionId!==e)break;i.push(bc(u.parent))}return i})}addFieldIndex(t,e){const i=vE(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const a=i.add(r);if(e.indexState){const u=aw(t);return a.next(h=>{u.put(gO(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return a.next()}deleteFieldIndex(t,e){const i=vE(t),r=aw(t),a=ow(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=ow(t);let r=!0;const a=new Map;return fe.forEach(this.tn(e),u=>this.en(t,u).next(h=>{r&&(r=!!h),a.set(u,h)})).next(()=>{if(r){let u=Xt();const h=[];return fe.forEach(a,(m,v)=>{var C;$e("IndexedDbIndexManager",`Using index ${C=m,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${Mu(e)}`);const T=function(_t,ut){const Pt=kb(ut);if(void 0===Pt)return null;for(const Bt of Gb(_t,Pt.fieldPath))switch(Bt.op){case"array-contains-any":return Bt.value.arrayValue.values||[];case"array-contains":return[Bt.value]}return null}(v,m),L=function(_t,ut){const Pt=new Map;for(const Bt of Au(ut))for(const _n of Gb(_t,Bt.fieldPath))switch(_n.op){case"==":case"in":Pt.set(Bt.fieldPath.canonicalString(),_n.value);break;case"not-in":case"!=":return Pt.set(Bt.fieldPath.canonicalString(),_n.value),Array.from(Pt.values())}return null}(v,m),U=function(_t,ut){const Pt=[];let Bt=!0;for(const _n of Au(ut)){const Ns=0===_n.kind?ET(_t,_n.fieldPath,_t.startAt):IT(_t,_n.fieldPath,_t.startAt);Pt.push(Ns.value),Bt&&(Bt=Ns.inclusive)}return new mc(Pt,Bt)}(v,m),$=function(_t,ut){const Pt=[];let Bt=!0;for(const _n of Au(ut)){const Ns=0===_n.kind?IT(_t,_n.fieldPath,_t.endAt):ET(_t,_n.fieldPath,_t.endAt);Pt.push(Ns.value),Bt&&(Bt=Ns.inclusive)}return new mc(Pt,Bt)}(v,m),ie=this.nn(m,v,U),De=this.nn(m,v,$),Je=this.sn(m,v,L),ot=this.rn(m.indexId,T,ie,U.inclusive,De,$.inclusive,Je);return fe.forEach(ot,_t=>i.J(_t,e.limit).next(ut=>{ut.forEach(Pt=>{const Bt=Xe.fromSegments(Pt.documentKey);u.has(Bt)||(u=u.add(Bt),h.push(Bt))})}))}).next(()=>h)}return fe.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,a,u,h){const m=(null!=e?e.length:1)*Math.max(i.length,a.length),v=m/(null!=e?e.length:1),C=[];for(let T=0;T<m;++T){const L=e?this.on(e[T/v]):yE,U=this.un(t,L,i[T%v],r),$=this.cn(t,L,a[T%v],u),ie=h.map(De=>this.un(t,L,De,!0));C.push(...this.createRange(U,$,ie))}return C}un(t,e,i,r){const a=new Zp(t,Xe.empty(),e,i);return r?a:a.Ke()}cn(t,e,i,r){const a=new Zp(t,Xe.empty(),e,i);return r?a.Ke():a}en(t,e){const i=new GL(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(a=>{let u=null;for(const h of a)i.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return fe.forEach(this.tn(e),r=>this.en(t,r).next(a=>{a?0!==i&&a.fields.length<function(u){let h=new kn(Ci.comparator),m=!1;for(const v of u.filters){const C=v;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?m=!0:h=h.add(C.field))}for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(m?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new sw;for(const r of Au(t)){const a=e.data.field(r.fieldPath);if(null==a)return null;const u=i.qe(r.kind);zp.Te.ce(a,u)}return i.$e()}on(t){const e=new sw;return zp.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new sw;return zp.Te.ce(Tu(this.databaseId,e),i.qe(function(r){const a=Au(r);return 0===a.length?0:a[a.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new sw);let a=0;for(const u of Au(t)){const h=i[a++];for(const m of r)if(this.ln(e,u.fieldPath)&&Up(h))r=this.fn(r,u,h);else{const v=m.qe(u.kind);zp.Te.ce(h,v)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],a=[];for(const u of i.arrayValue.values||[])for(const h of r){const m=new sw;m.seed(h.$e()),zp.Te.ce(u,m.qe(e.kind)),a.push(m)}return a}ln(t,e){return!!t.filters.find(i=>i instanceof Tr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=vE(t),r=aw(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(a=>{const u=[];return fe.forEach(a,h=>r.get([h.indexId,this.uid]).next(m=>{u.push(function(v,C){const T=C?new ah(C.sequenceNumber,new ci($p(C.readTime),new Xe(bc(C.documentKey)),C.largestBatchId)):ah.empty(),L=v.fields.map(([U,$])=>new Rb(Ci.fromServerFormat(U),$));return new xb(v.indexId,v.collectionGroup,L,T)}(h,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:$t(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=vE(t),a=aw(t);return this._n(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>fe.forEach(h,m=>a.put(gO(m.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return fe.forEach(e,(r,a)=>{const u=i.get(r.collectionGroup);return(u?fe.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),fe.forEach(h,m=>this.wn(t,r,m).next(v=>{const C=this.mn(a,m);return v.isEqual(C)?fe.resolve():this.gn(t,a,m,v,C)}))))})}yn(t,e,i,r){return ow(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return ow(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=ow(t);let a=new kn(qp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(u,h)=>{a=a.add(new Zp(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>a)}mn(t,e){let i=new kn(qp);const r=this.an(e,t);if(null==r)return i;const a=kb(e);if(null!=a){const u=t.data.field(a.fieldPath);if(Up(u))for(const h of u.arrayValue.values||[])i=i.add(new Zp(e.indexId,t.key,this.on(h),r))}else i=i.add(new Zp(e.indexId,t.key,yE,r));return i}gn(t,e,i,r,a){$e("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,m,v,C,T){const L=h.getIterator(),U=m.getIterator();let $=ch(L),ie=ch(U);for(;$||ie;){let De=!1,Je=!1;if($&&ie){const ot=v($,ie);ot<0?Je=!0:ot>0&&(De=!0)}else null!=$?Je=!0:De=!0;De?(C(ie),ie=ch(U)):Je?(T($),$=ch(L)):($=ch(L),ie=ch(U))}}(r,a,qp,h=>{u.push(this.yn(t,e,i,h))},h=>{u.push(this.pn(t,e,i,h))}),fe.waitFor(u)}_n(t){let e=1;return aw(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>qp(u,h)).filter((u,h,m)=>!h||0!==qp(u,m[h-1]));const r=[];r.push(t);for(const u of i){const h=qp(u,t),m=qp(u,e);if(0===h)r[0]=t.Ke();else if(h>0&&m<0)r.push(u),r.push(u.Ke());else if(m>0)break}r.push(e);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,yE,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,yE,[]]));return a}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(wO)}getMinOffset(t,e){return fe.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||ct())).next(wO)}}function bO(n){return xr(n,"collectionParents")}function ow(n){return xr(n,"indexEntries")}function vE(n){return xr(n,"indexConfiguration")}function aw(n){return xr(n,"indexState")}function wO(n){Vt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Pb(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ci(t.readTime,t.documentKey,e)}const DO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Js{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Js(t,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function CO(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(e.batchId);let h=0;const m=i.Z({range:u},(C,T,L)=>(h++,L.delete()));a.push(m.next(()=>{Vt(1===h)}));const v=[];for(const C of e.mutations){const T=aO(t,C.key.path,e.batchId);a.push(r.delete(T)),v.push(C.key)}return fe.waitFor(a).next(()=>v)}function bE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ct();t=n.noDocument}return JSON.stringify(t).length}Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(41943040,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);class wE{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Vt(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new wE(a,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yh(t).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const a=S_(t),u=yh(t);return u.add({}).next(h=>{Vt("number"==typeof h);const m=new BT(h,e,i,r),v=function(L,U,$){const ie=$.baseMutations.map(Je=>nw(L.re,Je)),De=$.mutations.map(Je=>nw(L.re,Je));return{userId:U,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ie,mutations:De}}(this.It,this.userId,m),C=[];let T=new kn((L,U)=>$t(L.canonicalString(),U.canonicalString()));for(const L of r){const U=aO(this.userId,L.key.path,h);T=T.add(L.key.path.popLast()),C.push(u.put(v)),C.push(a.put(U,wL))}return T.forEach(L=>{C.push(this.indexManager.addToCollectionParentIndex(t,L))}),t.addOnCommittedListener(()=>{this.In[h]=m.keys()}),fe.waitFor(C).next(()=>m)})}lookupMutationBatch(t,e){return yh(t).get(e).next(i=>i?(Vt(i.userId===this.userId),Gp(this.It,i)):null)}Tn(t,e){return this.In[e]?fe.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return yh(t).Z({index:"userMutationsIndex",range:r},(u,h,m)=>{h.userId===this.userId&&(Vt(h.batchId>=i),a=Gp(this.It,h)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return yh(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yh(t).W("userMutationsIndex",e).next(i=>i.map(r=>Gp(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=gE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),a=[];return S_(t).Z({range:r},(u,h,m)=>{const[v,C,T]=u,L=bc(C);if(v===this.userId&&e.path.isEqual(L))return yh(t).get(T).next(U=>{if(!U)throw ct();Vt(U.userId===this.userId),a.push(Gp(this.It,U))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new kn($t);const r=[];return e.forEach(a=>{const u=gE(this.userId,a.path),h=IDBKeyRange.lowerBound(u),m=S_(t).Z({range:h},(v,C,T)=>{const[L,U,$]=v,ie=bc(U);L===this.userId&&a.path.isEqual(ie)?i=i.add($):T.done()});r.push(m)}),fe.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,a=gE(this.userId,i),u=IDBKeyRange.lowerBound(a);let h=new kn($t);return S_(t).Z({range:u},(m,v,C)=>{const[T,L,U]=m,$=bc(L);T===this.userId&&i.isPrefixOf($)?$.length===r&&(h=h.add(U)):C.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(a=>{r.push(yh(t).get(a).next(u=>{if(null===u)throw ct();Vt(u.userId===this.userId),i.push(Gp(this.It,u))}))}),fe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return CO(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return S_(t).Z({range:i},(a,u,h)=>{if(a[0]===this.userId){const m=bc(a[1]);r.push(m)}else h.done()}).next(()=>{Vt(0===r.length)})})}containsKey(t,e){return EO(t,this.userId,e)}Rn(t){return IO(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function EO(n,t,e){const i=gE(t,e.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return S_(n).Z({range:a,X:!0},(h,m,v)=>{const[C,T,L]=h;C===t&&T===r&&(u=!0),v.done()}).next(()=>u)}function yh(n){return xr(n,"mutations")}function S_(n){return xr(n,"documentMutations")}function IO(n){return xr(n,"mutationQueues")}class Wp{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Wp(0)}static vn(){return new Wp(-1)}}class qL{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Wp(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Ot.fromTimestamp(new Xn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>A_(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Vt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const a=[];return A_(t).Z((u,h)=>{const m=iw(h);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,a.push(this.removeTargetData(t,m)))}).next(()=>fe.waitFor(a)).next(()=>r)}forEachTarget(t,e){return A_(t).Z((i,r)=>{const a=iw(r);e(a)})}Vn(t){return SO(t).get("targetGlobalKey").next(e=>(Vt(null!==e),e))}Sn(t,e){return SO(t).put("targetGlobalKey",e)}Dn(t,e){return A_(t).put(fO(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Mu(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return A_(t).Z({range:r,index:"queryTargetsIndex"},(u,h,m)=>{const v=iw(h);xu(e,v.target)&&(a=v,m.done())}).next(()=>a)}addMatchingKeys(t,e,i){const r=[],a=vh(t);return e.forEach(u=>{const h=Rs(u.path);r.push(a.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),fe.waitFor(r)}removeMatchingKeys(t,e,i){const r=vh(t);return fe.forEach(e,a=>{const u=Rs(a.path);return fe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,a)])})}removeMatchingKeysForTargetId(t,e){const i=vh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=vh(t);let a=Xt();return r.Z({range:i,X:!0},(u,h,m)=>{const v=bc(u[1]),C=new Xe(v);a=a.add(C)}).next(()=>a)}containsKey(t,e){const i=Rs(e.path),r=IDBKeyRange.bound([i],[hT(i)],!1,!0);let a=0;return vh(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],m,v)=>{0!==u&&(a++,v.done())}).next(()=>a>0)}se(t,e){return A_(t).get(e).next(i=>i?iw(i):null)}}function A_(n){return xr(n,"targets")}function SO(n){return xr(n,"targetGlobal")}function vh(n){return xr(n,"targetDocuments")}function AO([n,t],[e,i]){const r=$t(n,e);return 0===r?$t(t,i):r}class WL{constructor(t){this.xn=t,this.buffer=new kn(AO),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();AO(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class YL{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){var e=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,oe.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){bl(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield $i(i)}yield e.Fn(3e5)}))}}class KL{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return fe.resolve(Sr.at);const i=new WL(e);return this.$n.forEachTarget(t,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(DO)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DO):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,a,u,h,m,v;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,u=Date.now(),this.nthSequenceNumber(t,r))).next(T=>(i=T,h=Date.now(),this.removeTargets(t,i,e))).next(T=>(a=T,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(v=Date.now(),s_()<=gl.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${a} targets in `+(m-h)+`ms\n\tRemoved ${T} documents in `+(v-m)+`ms\nTotal Duration: ${v-C}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:T})))}}class QL{constructor(t,e){this.db=t,this.garbageCollector=new KL(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return DE(t,i)}removeReference(t,e,i){return DE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return DE(t,e)}Gn(t,e){return function(i,r){let a=!1;return IO(i).tt(u=>EO(i,u,r).next(h=>(h&&(a=!0),fe.resolve(!h)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(t,(u,h)=>{if(h<=e){const m=this.Gn(t,u).next(v=>{if(!v)return a++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Ot.min()),vh(t).delete([0,Rs(u.path)])))});r.push(m)}}).next(()=>fe.waitFor(r)).next(()=>i.apply(t)).next(()=>a)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return DE(t,e)}Kn(t,e){const i=vh(t);let r,a=Sr.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:m,sequenceNumber:v})=>{0===u?(a!==Sr.at&&e(new Xe(bc(r)),a),a=v,r=m):a=Sr.at}).next(()=>{a!==Sr.at&&e(new Xe(bc(r)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function DE(n,t){return vh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Rs(t.path),sequenceNumber:i}));var i}class TO{constructor(){this.changes=new mh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Fn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?fe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class JL{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Yp(t).put(i)}removeEntry(t,e,i){return Yp(t).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],mE(a),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Fn.newInvalidDocument(e);return Yp(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(lw(e))},(r,a)=>{i=this.jn(e,a)}).next(()=>i)}Wn(t,e){let i={size:0,document:Fn.newInvalidDocument(e)};return Yp(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(lw(e))},(r,a)=>{i={document:this.jn(e,a),size:bE(a)}}).next(()=>i)}getEntries(t,e){let i=Qs();return this.zn(t,e,(r,a)=>{const u=this.jn(r,a);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=Qs(),r=new Cn(Xe.comparator);return this.zn(t,e,(a,u)=>{const h=this.jn(a,u);i=i.insert(a,h),r=r.insert(a,bE(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return fe.resolve();let r=new kn(RO);e.forEach(m=>r=r.add(m));const a=IDBKeyRange.bound(lw(r.first()),lw(r.last())),u=r.getIterator();let h=u.getNext();return Yp(t).Z({index:"documentKeyIndex",range:a},(m,v,C)=>{const T=Xe.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&RO(h,T)<0;)i(h,null),h=u.getNext();h&&h.isEqual(T)&&(i(h,v),h=u.hasNext()?u.getNext():null),h?C.j(lw(h)):C.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),mE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yp(t).W(IDBKeyRange.bound(r,a,!0)).next(u=>{let h=Qs();for(const m of u){const v=this.jn(Xe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(t,e,i,r){let a=Qs();const u=kO(e,i),h=kO(e,ci.max());return Yp(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(m,v,C)=>{const T=this.jn(Xe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(T.key,T),a.size===r&&C.done()}).next(()=>a)}newChangeBuffer(t){return new XL(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return xO(t).get("remoteDocumentGlobalKey").next(e=>(Vt(!!e),e))}Qn(t,e){return xO(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function VL(n,t){let e;if(t.document)e=XR(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Xe.fromSegments(t.noDocument.path),r=$p(t.noDocument.readTime);e=Fn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ct();{const i=Xe.fromSegments(t.unknownDocument.path),r=$p(t.unknownDocument.version);e=Fn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Xn(i[0],i[1]);return Ot.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Ot.min()))return i}return Fn.newInvalidDocument(t)}}function MO(n){return new JL(n)}class XL extends TO{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new mh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new kn((a,u)=>$t(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const h=this.Xn.get(a);if(e.push(this.Yn.removeEntry(t,a,h.readTime)),u.isValidDocument()){const m=hO(this.Yn.It,u);r=r.add(a.path.popLast()),i+=bE(m)-h.size,e.push(this.Yn.addEntry(t,a,m))}else if(i-=h.size,this.trackRemovals){const m=hO(this.Yn.It,u.convertToNoDocument(Ot.min()));e.push(this.Yn.addEntry(t,a,m))}}),r.forEach(a=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,a))}),e.push(this.Yn.updateMetadata(t,i)),fe.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function xO(n){return xr(n,"remoteDocumentGlobal")}function Yp(n){return xr(n,"remoteDocumentsV14")}function lw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function kO(n,t){const e=t.documentKey.path.toArray();return[n,mE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function RO(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let a=0;a<e.length-2&&a<i.length-2;++a)if(r=$t(e[a],i[a]),r)return r;return r=$t(e.length,i.length),r||(r=$t(e[e.length-2],i[i.length-2]),r||$t(e[e.length-1],i[i.length-1]))}class eV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class OO{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Ne(i.mutation,r,ks.empty(),Xn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Xt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Xt()){const r=yc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(a=>{let u=Yb();return a.forEach((h,m)=>{u=u.insert(h,m.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=yc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Xt()))}populateOverlays(t,e,i){const r=[];return i.forEach(a=>{e.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let a=Qs();const u=Kb(),h=Kb();return e.forEach((m,v)=>{const C=i.get(v.key);r.has(v.key)&&(void 0===C||C.mutation instanceof jr)?a=a.insert(v.key,v):void 0!==C&&(u.set(v.key,C.mutation.getFieldMask()),Ne(C.mutation,v,C.mutation.getFieldMask(),Xn.now()))}),this.recalculateAndSaveOverlays(t,a).next(m=>(m.forEach((v,C)=>u.set(v,C)),e.forEach((v,C)=>{var T;return h.set(v,new eV(C,null!==(T=u.get(v))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Kb();let r=new Cn((u,h)=>u-h),a=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(m=>{const v=e.get(m);if(null===v)return;let C=i.get(m)||ks.empty();C=h.applyToLocalView(v,C),i.set(m,C);const T=(r.get(h.batchId)||Xt()).add(m);r=r.insert(h.batchId,T)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),v=m.key,C=m.value,T=HR();C.forEach(L=>{if(!a.has(L)){const U=at(e.get(L),i.get(L));null!==U&&T.set(L,U),a=a.add(L)}}),u.push(this.documentOverlayCache.saveOverlays(t,v,T))}return fe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Xe.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):zb(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-a.size):fe.resolve(yc());let h=-1,m=a;return u.next(v=>fe.forEach(v,(C,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(C)?fe.resolve():this.getBaseDocument(t,C,T).next(L=>{m=m.insert(C,L)}))).next(()=>this.populateOverlays(t,v,a)).next(()=>this.computeViews(t,m,v,Xt())).next(C=>({batchId:h,changes:jR(C)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Xe(e)).next(i=>{let r=Yb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let a=Yb();return this.indexManager.getCollectionParents(t,r).next(u=>fe.forEach(u,h=>{const m=(v=e,C=h.child(r),new ba(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(t,m,i).next(v=>{v.forEach((C,T)=>{a=a.insert(C,T)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(a=>{a.forEach((h,m)=>{const v=m.getKey();null===r.get(v)&&(r=r.insert(v,Fn.newInvalidDocument(v)))});let u=Yb();return r.forEach((h,m)=>{const v=a.get(h);void 0!==v&&Ne(v.mutation,m,ks.empty(),Xn.now()),dE(e,m)&&(u=u.insert(h,m))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):fe.resolve(Fn.newInvalidDocument(e))}}class tV{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return fe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Mr(i.createTime)}),fe.resolve()}getNamedQuery(t,e){return fe.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:HT(i.bundledQuery),readTime:Mr(i.readTime)}),fe.resolve();var i}}class nV{constructor(){this.overlays=new Cn(Xe.comparator),this.es=new Map}getOverlay(t,e){return fe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=yc();return fe.forEach(e,r=>this.getOverlay(t,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,a)=>{this.ue(t,e,a)}),fe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),fe.resolve()}getOverlaysForCollection(t,e,i){const r=yc(),a=e.length+1,u=new Xe(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===a&&m.largestBatchId>i&&r.set(m.getKey(),m)}return fe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let a=new Cn((v,C)=>v-C);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let C=a.get(v.largestBatchId);null===C&&(C=yc(),a=a.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const h=yc(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,C)=>h.set(v,C)),!(h.size()>=r)););return fe.resolve(h)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new jT(e,i));let a=this.es.get(e);void 0===a&&(a=Xt(),this.es.set(e,a)),this.es.set(e,a.add(i.key))}}class zT{constructor(){this.ns=new kn(kr.ss),this.rs=new kn(kr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new kr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new kr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Xe(new sn([])),i=new kr(e,t),r=new kr(e,t+1),a=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Xe(new sn([])),i=new kr(e,t),r=new kr(e,t+1);let a=Xt();return this.rs.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(t){const e=new kr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class kr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Xe.comparator(t.key,e.key)||$t(t._s,e._s)}static os(t,e){return $t(t._s,e._s)||Xe.comparator(t.key,e.key)}}class iV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new kn(kr.ss)}checkEmpty(t){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const a=this.ws;this.ws++;const u=new BT(a,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new kr(h.key,a)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(t,e){return fe.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),a=r<0?0:r;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new kr(e,0),r=new kr(e,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);a.push(h)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new kn($t);return e.forEach(r=>{const a=new kr(r,0),u=new kr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],h=>{i=i.add(h._s)})}),fe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;Xe.isDocumentKey(a)||(a=a.child(""));const u=new kr(new Xe(a),0);let h=new kn($t);return this.gs.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(m._s)),!0)},u),fe.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Vt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return fe.forEach(e.mutations,r=>{const a=new kr(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new kr(e,0),r=this.gs.firstAfterOrEqual(i);return fe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return fe.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class rV{constructor(t){this.Es=t,this.docs=new Cn(Xe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),a=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return fe.resolve(i?i.document.mutableCopy():Fn.newInvalidDocument(e))}getEntries(t,e){let i=Qs();return e.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Fn.newInvalidDocument(r))}),fe.resolve(i)}getAllFromCollection(t,e,i){let r=Qs();const a=new Xe(e.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||Pb(mT(m),i)<=0||(r=r.insert(m.key,m.mutableCopy()))}return fe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ct()}As(t,e){return fe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new sV(this)}getSize(t){return fe.resolve(this.size)}}class sV extends TO{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),fe.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class oV{constructor(t){this.persistence=t,this.Rs=new mh(e=>Mu(e),xu),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zT,this.targetCount=0,this.vs=Wp.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),fe.resolve()}getLastRemoteSnapshotVersion(t){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),fe.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Wp(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,fe.resolve()}updateTargetData(t,e){return this.Dn(e),fe.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,fe.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),fe.waitFor(a).next(()=>r)}getTargetCount(t){return fe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return fe.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),fe.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(u=>{a.push(r.markPotentiallyOrphaned(t,u))}),fe.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),fe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return fe.resolve(i)}containsKey(t,e){return fe.resolve(this.Ps.containsKey(e))}}class PO{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Sr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new oV(this),this.indexManager=new zL,this.remoteDocumentCache=new rV(i=>this.referenceDelegate.xs(i)),this.It=new dO(e),this.Ns=new tV(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new nV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new iV(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new aV(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Ms(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(t,e){return fe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class aV extends qC{constructor(t){super(),this.currentSequenceNumber=t}}class CE{constructor(t){this.persistence=t,this.Fs=new zT,this.$s=null}static Bs(t){return new CE(t)}get Ls(){if(this.$s)return this.$s;throw ct()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),fe.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),fe.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Ls,i=>{const r=Xe.fromPath(i);return this.Us(t,r).next(a=>{a||e.removeEntry(r,Ot.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return fe.or([()=>fe.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class lV{constructor(t){this.It=t}$(t,e,i,r){const a=new c_("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oO,{unique:!0}),h.createObjectStore("documentMutations"),NO(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=fe.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),NO(t)),u=u.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,m){return m.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oO,{unique:!0});const C=m.store("mutations"),T=v.map(L=>C.put(L));return fe.waitFor(T)})}(t,a))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(a)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(a))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,a))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(a))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:OL});m.createIndex("collectionPathOverlayIndex",PL,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",NL,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:DL});m.createIndex("documentKeyIndex",CL),m.createIndex("collectionGroupIndex",EL)}(t)).next(()=>this.Ws(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,a))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:ML}).createIndex("sequenceNumberIndex",xL,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:kL}).createIndex("documentKeyIndex",RL,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=bE(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>fe.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>fe.forEach(h,m=>{Vt(m.userId===a.userId);const v=Gp(this.It,m);return CO(t,a.userId,v).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,h)=>{const m=new sn(u),v=[0,Rs(m)];a.push(e.get(v).next(C=>C?fe.resolve():e.put({targetId:0,path:Rs(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>fe.waitFor(a))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:TL});const i=e.store("collectionParents"),r=new GT,a=u=>{if(r.add(u)){const h=u.lastSegment(),m=u.popLast();return i.put({collectionId:h,parent:Rs(m)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const m=new sn(u);return a(m.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,m],v)=>{const C=bc(h);return a(C.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const a=iw(r),u=fO(this.It,a);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const h=e.store("remoteDocumentsV14"),m=(v=u,v.document?new Xe(sn.fromString(v.document.name).popFirst(5)):v.noDocument?Xe.fromSegments(v.noDocument.path):v.unknownDocument?Xe.fromSegments(v.unknownDocument.path):ct()).path.toArray();var v;const C={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(C))}).next(()=>fe.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=MO(this.It),a=new PO(CE.Bs,this.It.re);return i.W().next(u=>{const h=new Map;return u.forEach(m=>{var v;let C=null!==(v=h.get(m.userId))&&void 0!==v?v:Xt();Gp(this.It,m).keys().forEach(T=>C=C.add(T)),h.set(m.userId,C)}),fe.forEach(h,(m,v)=>{const C=new Hi(v),T=_E.oe(this.It,C),L=a.getIndexManager(C),U=wE.oe(C,this.It,L,a.referenceDelegate);return new OO(r,U,T,L).recalculateAndSaveOverlaysForDocumentKeys(new VT(e,Sr.at),m).next()})})}}function NO(n){n.createObjectStore("targetDocuments",{keyPath:SL}).createIndex("documentTargetsIndex",AL,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IL,{unique:!0}),n.createObjectStore("targetGlobal")}const ZT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qT{constructor(t,e,i,r,a,u,h,m,v,C,T=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=a,this.window=u,this.document=h,this.Js=v,this.Ys=C,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!qT.C())throw new Be(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QL(this,r),this.ii=e+"main",this.It=new dO(m),this.ri=new Io(this.ii,this.Xs,new lV(this.It)),this.Cs=new qL(this.referenceDelegate,this.It),this.remoteDocumentCache=MO(this.It),this.Ns=new BL,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===C&&Di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(we.FAILED_PRECONDITION,ZT);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Sr(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,oe.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,oe.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,oe.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>EE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(bl(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return cw(t).get("owner").next(e=>fe.resolve(this.mi(e)))}gi(t){return EE(t).delete(this.clientId)}yi(){var t=this;return(0,oe.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=xr(i,"clientMetadata");return r.W().next(a=>{const u=t.Ii(a,18e5),h=a.filter(m=>-1===u.indexOf(m));return fe.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?fe.resolve(!0):cw(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Be(we.FAILED_PRECONDITION,ZT);return!1}}return!(!this.networkEnabled||!this.inForeground)||EE(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&$e("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,oe.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new VT(e,Sr.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>EE(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return wE.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new ZL(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return _E.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",a=15===(u=this.Xs)?LL:14===u?uO:13===u?cO:12===u?FL:11===u?lO:void ct();var u;let h;return this.ri.runTransaction(t,r,a,m=>(h=new VT(m,this.Ss?this.Ss.next():Sr.at),"readwrite-primary"===e?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw Di(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Be(we.FAILED_PRECONDITION,l_);return i(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Vi(t){return cw(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Be(we.FAILED_PRECONDITION,ZT)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cw(t).put("owner",e)}static C(){return Io.C()}_i(t){const e=cw(t);return e.get("owner").next(i=>this.mi(i)?($e("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):fe.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Di(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,nn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return $e("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Di("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Di("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function cw(n){return xr(n,"owner")}function EE(n){return xr(n,"clientMetadata")}function WT(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class YT{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Xt(),r=Xt();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new YT(t,e.fromCache,i,r)}}class FO{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(a=>a||this.Mi(t,e,r,i)).next(a=>a||this.Oi(t,e))}ki(t,e){if(aE(e))return fe.resolve(null);let i=as(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Zb(e,null,"F"),i=as(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const u=Xt(...a);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(m=>{const v=this.Fi(e,h);return this.$i(e,v,u,m.readTime)?this.ki(t,Zb(e,null,"F")):this.Bi(t,v,e,m)}))})))}Mi(t,e,i,r){return aE(e)||r.isEqual(Ot.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(a=>{const u=this.Fi(e,a);return this.$i(e,u,i,r)?this.Oi(t,e):(s_()<=gl.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uE(e)),this.Bi(t,u,e,Ob(r,-1)))})}Fi(t,e){let i=new kn(kT(t));return e.forEach((r,a)=>{dE(t,a)&&(i=i.add(a))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const a="F"===t.limitType?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(t,e){return s_()<=gl.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",uE(e)),this.Ni.getDocumentsMatchingQuery(t,e,ci.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(a=>(e.forEach(u=>{a=a.insert(u.key,u)}),a))}}class cV{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new Cn($t),this.qi=new mh(a=>Mu(a),xu),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OO(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function LO(n,t,e,i){return new cV(n,t,e,i)}function VO(n,t){return KT.apply(this,arguments)}function KT(){return KT=(0,oe.Z)(function*(n,t){const e=it(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let m=Xt();for(const v of r){u.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}for(const v of a){h.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}return e.localDocuments.getDocuments(i,m).next(v=>({ji:v,removedBatchIds:u,addedBatchIds:h}))})})}),KT.apply(this,arguments)}function uV(n,t){const e=it(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,m,v){const C=m.batch,T=C.keys();let L=fe.resolve();return T.forEach(U=>{L=L.next(()=>v.getEntry(h,U)).next($=>{const ie=m.docVersions.get(U);Vt(null!==ie),$.version.compareTo(ie)<0&&(C.applyToRemoteDocument($,m),$.isValidDocument()&&($.setReadTime(m.commitVersion),v.addEntry($)))})}),L.next(()=>u.mutationQueue.removeMutationBatch(h,C))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Xt();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function BO(n){const t=it(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function dV(n,t){const e=it(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const h=[];t.targetChanges.forEach((C,T)=>{const L=r.get(T);if(!L)return;h.push(e.Cs.removeMatchingKeys(a,C.removedDocuments,T).next(()=>e.Cs.addMatchingKeys(a,C.addedDocuments,T)));let U=L.withSequenceNumber(a.currentSequenceNumber);var $,ie,De;t.targetMismatches.has(T)?U=U.withResumeToken(Qi.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):C.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(C.resumeToken,i)),r=r.insert(T,U),ie=U,De=C,(0===($=L).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(a,U))});let m=Qs(),v=Xt();if(t.documentUpdates.forEach(C=>{t.resolvedLimboDocuments.has(C)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(a,C))}),h.push(UO(a,u,t.documentUpdates).next(C=>{m=C.Wi,v=C.zi})),!i.isEqual(Ot.min())){const C=e.Cs.getLastRemoteSnapshotVersion(a).next(T=>e.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(C)}return fe.waitFor(h).next(()=>u.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,m,v)).next(()=>m)}).then(a=>(e.Ui=r,a))}function UO(n,t,e){let i=Xt(),r=Xt();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let u=Qs();return e.forEach((h,m)=>{const v=a.get(h);m.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(Ot.min())?(t.removeEntry(h,m.readTime),u=u.insert(h,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(m),u=u.insert(h,m)):$e("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",m.version)}),{Wi:u,zi:r}})}function hV(n,t){const e=it(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function T_(n,t){const e=it(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(a=>a?(r=a,fe.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new _h(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function M_(n,t,e){return QT.apply(this,arguments)}function QT(){return QT=(0,oe.Z)(function*(n,t,e){const i=it(n),r=i.Ui.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!bl(u))throw u;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),QT.apply(this,arguments)}function IE(n,t,e){const i=it(n);let r=Ot.min(),a=Xt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,m,v){const C=it(h),T=C.qi.get(v);return void 0!==T?fe.resolve(C.Ui.get(T)):C.Cs.getTargetData(m,v)}(i,u,as(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(m=>{a=m})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:Ot.min(),e?a:Xt())).next(h=>($O(i,hE(t),h),{documents:h,Hi:a})))}function jO(n,t){const e=it(n),i=it(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",a=>i.se(a,t).next(u=>u?u.target:null))}function HO(n,t){const e=it(n),i=e.Ki.get(t)||Ot.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,Ob(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>($O(e,t,r),r))}function $O(n,t,e){let i=Ot.min();e.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(t,i)}function JT(){return JT=(0,oe.Z)(function*(n,t,e,i){const r=it(n);let a=Xt(),u=Qs();for(const v of e){const C=t.Ji(v.metadata.name);v.document&&(a=a.add(C));const T=t.Yi(v);T.setReadTime(t.Xi(v.metadata.readTime)),u=u.insert(C,T)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),m=yield T_(r,(v=i,as(ph(sn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>UO(v,h,u).next(C=>(h.apply(v),C)).next(C=>r.Cs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>r.Cs.addMatchingKeys(v,a,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,C.Wi,C.zi)).next(()=>C.Wi)))}),JT.apply(this,arguments)}function pV(n,t){return XT.apply(this,arguments)}function XT(){return XT=(0,oe.Z)(function*(n,t,e=Xt()){const i=yield T_(n,as(HT(t.bundledQuery))),r=it(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Mr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(a,t);const h=i.withResumeToken(Qi.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(a,h).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,t))})}),XT.apply(this,arguments)}function GO(n,t){return`firestore_clients_${n}_${t}`}function zO(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function eM(n,t){return`firestore_targets_${n}_${t}`}class SE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Be(r.error.code,r.error.message))),u?new SE(t,e,r.state,a):(Di("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class uw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Be(i.error.code,i.error.message))),a?new uw(t,i.state,r):(Di("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class AE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=fE();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Lp(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new AE(t,a):(Di("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class tM{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new tM(e.clientId,e.onlineState):(Di("SharedClientState",`Failed to parse online state: ${t}`),null)}}class nM{constructor(){this.activeTargetIds=fE()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iM{constructor(t,e,i,r,a){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Cn($t),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=GO(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new nM),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,oe.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const a=t.getItem(GO(t.persistenceKey,r));if(a){const u=AE.Zi(r,a);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(eM(this.persistenceKey,t));if(i){const r=uw.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(eM(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $e("SharedClientState","READ",t,e),e}setItem(t,e){$e("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$e("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,oe.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(a){let u=Sr.at;if(null!=a)try{const h=JSON.parse(a);Vt("number"==typeof h),u=h}catch(h){Di("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Sr.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Mr(i.newValue);yield Promise.all(r.map(a=>e.syncEngine.Or(a)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new SE(this.currentUser,t,e,i),a=zO(this.persistenceKey,this.currentUser,t);this.setItem(a,r.tr())}Er(t){const e=zO(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=eM(this.persistenceKey,t),a=new uw(t,e,i);this.setItem(r,a.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return AE.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return SE.Zi(new Hi(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return uw.Zi(r,e)}yr(t){return tM.Zi(t)}Mr(t){return JSON.parse(t)}Cr(t){var e=this;return(0,oe.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);$e("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),a=this.Ir(i),u=[],h=[];return a.forEach(m=>{r.has(m)||u.push(m)}),r.forEach(m=>{a.has(m)||h.push(m)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=fE();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class ZO{constructor(){this.Lr=new nM,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new nM,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gV{qr(t){}shutdown(){}}class qO{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class _V{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class yV extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,a){const u=this.ao(t,e);$e("RestConnection","Sending: ",u,i);const h={};return this.ho(h,r,a),this.lo(t,u,h,i).then(m=>($e("RestConnection","Received: ",m),m),m=>{throw Iu("RestConnection",`${t} failed with error: `,m,"url: ",u,"request:",i),m})}fo(t,e,i,r,a,u){return this.co(t,e,i,r,a)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+oh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}ao(t,e){return`${this.oo}/v1/${e}:${mV[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((a,u)=>{const h=new uT;h.listenOnce(VC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Sb.NO_ERROR:const v=h.getResponseJson();$e("Connection","XHR received:",JSON.stringify(v)),a(v);break;case Sb.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),u(new Be(we.DEADLINE_EXCEEDED,"Request time out"));break;case Sb.HTTP_ERROR:const C=h.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',C,"response text:",h.getResponseText()),C>0){const T=h.getResponseJson().error;if(T&&T.status&&T.message){const L=function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf($)>=0?$:we.UNKNOWN}(T.status);u(new Be(L,T.message))}else u(new Be(we.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Be(we.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{$e("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(r);h.send(e,"POST",m,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=lT(),u=cT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new jC({})),this.ho(h.initMessageHeaders,e,i),(0,nn.uI)()||(0,nn.b$)()||(0,nn.d)()||(0,nn.w1)()||(0,nn.Mn)()||(0,nn.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=r.join("");$e("Connection","Creating WebChannel: "+m,h);const v=a.createWebChannel(m,h);let C=!1,T=!1;const L=new _V({Hr:$=>{T?$e("Connection","Not sending because WebChannel is closed:",$):(C||($e("Connection","Opening WebChannel transport."),v.open(),C=!0),$e("Connection","WebChannel sending:",$),v.send($))},Jr:()=>v.close()}),U=($,ie,De)=>{$.listen(ie,Je=>{try{De(Je)}catch(ot){setTimeout(()=>{throw ot},0)}})};return U(v,Pp.EventType.OPEN,()=>{T||$e("Connection","WebChannel transport opened.")}),U(v,Pp.EventType.CLOSE,()=>{T||(T=!0,$e("Connection","WebChannel transport closed"),L.io())}),U(v,Pp.EventType.ERROR,$=>{T||(T=!0,Iu("Connection","WebChannel transport errored:",$),L.io(new Be(we.UNAVAILABLE,"The operation could not be completed")))}),U(v,Pp.EventType.MESSAGE,$=>{var ie;if(!T){const De=$.data[0];Vt(!!De);const Je=De,ot=Je.error||(null===(ie=Je[0])||void 0===ie?void 0:ie.error);if(ot){$e("Connection","WebChannel received error:",ot);const _t=ot.status;let ut=function(Bt){const _n=gi[Bt];if(void 0!==_n)return BR(_n)}(_t),Pt=ot.message;void 0===ut&&(ut=we.INTERNAL,Pt="Unknown error status: "+_t+" with message "+ot.message),T=!0,L.io(new Be(ut,Pt)),v.close()}else $e("Connection","WebChannel received:",De),L.ro(De)}}),U(u,BC.STAT_EVENT,$=>{$.stat===UC.PROXY?$e("Connection","Detected buffering proxy"):$.stat===UC.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function WO(){return typeof window<"u"?window:null}function TE(){return typeof document<"u"?document:null}function dw(n){return new cL(n,!0)}class rM{constructor(t,e,i=1e3,r=1.5,a=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class YO{constructor(t,e,i,r,a,u,h,m){this.Hs=t,this.Po=i,this.vo=r,this.Vo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new rM(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,oe.Z)(function*(){t.No()&&(yield t.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,oe.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,oe.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===we.RESOURCE_EXHAUSTED?(Di(e.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):e&&e.code===we.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Be(we.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.xo.Ao((0,oe.Z)(function*(){t.state=0,t.start()}))}Qo(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vV extends YO{constructor(t,e,i,r,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.It=a}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=function hL(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:ct(),r=t.targetChange.targetIds||[],a=function(m,v){return m.gt?(Vt(void 0===v||"string"==typeof v),Qi.fromBase64String(v||"")):(Vt(void 0===v||v instanceof Uint8Array),Qi.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(m){const v=void 0===m.code?we.UNKNOWN:BR(m.code);return new Be(v,m.message||"")}(u);e=new GR(i,r,a,h||null)}else if("documentChange"in t){const i=t.documentChange,r=vc(n,i.document.name),a=Mr(i.document.updateTime),u=new Ji({mapValue:{fields:i.document.fields}}),h=Fn.newFoundDocument(r,a,u);e=new pE(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=vc(n,i.document),a=i.readTime?Mr(i.readTime):Ot.min(),u=Fn.newNoDocument(r,a);e=new pE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=vc(n,i.document);e=new pE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ct();{const i=t.filter,a=new Wb(i.count||0);e=new $R(i.targetId,a)}}var m;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Ot.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Ot.min():a.readTime?Mr(a.readTime):Ot.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=tw(this.It),e.addTarget=function(r,a){let u;const h=a.target;return u=ku(h)?{documents:eO(r,h)}:{query:tO(r,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=WR(r,a.resumeToken):a.snapshotVersion.compareTo(Ot.min())>0&&(u.readTime=Xb(r,a.snapshotVersion.toTimestamp())),u}(this.It,t);const i=function pL(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=tw(this.It),e.removeTarget=t,this.Bo(e)}}class bV extends YO{constructor(t,e,i,r,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(Vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function fL(n,t){return n&&n.length>0?(Vt(void 0!==t),n.map(e=>function(i,r){let a=Mr(i.updateTime?i.updateTime:r);return a.isEqual(Ot.min())&&(a=Mr(r)),new ae(a,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Mr(t.commitTime);return this.listener.Zo(i,e)}return Vt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=tw(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>nw(this.It,i))};this.Bo(e)}}class wV extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Be(we.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.Vo.co(t,e,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Be(we.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.fo(t,e,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Be(we.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class DV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Di(e),this.ou=!1):$e("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class CV{constructor(t,e,i,r,a){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(h=>{i.enqueueAndForget((0,oe.Z)(function*(){var m;bh(u)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,oe.Z)(function*(v){const C=it(v);C._u.add(4),yield x_(C),C.gu.set("Unknown"),C._u.delete(4),yield hw(C)}),function(v){return m.apply(this,arguments)})(u))}))}),this.gu=new DV(i,r)}}function hw(n){return sM.apply(this,arguments)}function sM(){return sM=(0,oe.Z)(function*(n){if(bh(n))for(const t of n.wu)yield t(!0)}),sM.apply(this,arguments)}function x_(n){return oM.apply(this,arguments)}function oM(){return oM=(0,oe.Z)(function*(n){for(const t of n.wu)yield t(!1)}),oM.apply(this,arguments)}function ME(n,t){const e=it(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),cM(e)?lM(e):R_(e).ko()&&aM(e,t))}function fw(n,t){const e=it(n),i=R_(e);e.du.delete(t),i.ko()&&KO(e,t),0===e.du.size&&(i.ko()?i.Fo():bh(e)&&e.gu.set("Unknown"))}function aM(n,t){n.yu.Ot(t.targetId),R_(n).zo(t)}function KO(n,t){n.yu.Ot(t),R_(n).Ho(t)}function lM(n){n.yu=new oL({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),R_(n).start(),n.gu.uu()}function cM(n){return bh(n)&&!R_(n).No()&&n.du.size>0}function bh(n){return 0===it(n)._u.size}function QO(n){n.yu=void 0}function EV(n){return uM.apply(this,arguments)}function uM(){return uM=(0,oe.Z)(function*(n){n.du.forEach((t,e)=>{aM(n,t)})}),uM.apply(this,arguments)}function IV(n,t){return dM.apply(this,arguments)}function dM(){return dM=(0,oe.Z)(function*(n,t){QO(n),cM(n)?(n.gu.hu(t),lM(n)):n.gu.set("Unknown")}),dM.apply(this,arguments)}function SV(n,t,e){return hM.apply(this,arguments)}function hM(){return hM=(0,oe.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof GR&&2===t.state&&t.cause)try{yield(i=(0,oe.Z)(function*(r,a){const u=a.cause;for(const h of a.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.du.delete(h),r.yu.removeTarget(h))}),function(r,a){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield xE(n,i)}else if(t instanceof pE?n.yu.Gt(t):t instanceof $R?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Ot.min()))try{const i=yield BO(n.localStore);e.compareTo(i)>=0&&(yield function(r,a){const u=r.yu.te(a);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.du.get(m);v&&r.du.set(m,v.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach(h=>{const m=r.du.get(h);if(!m)return;r.du.set(h,m.withResumeToken(Qi.EMPTY_BYTE_STRING,m.snapshotVersion)),KO(r,h);const v=new _h(m.target,h,1,m.sequenceNumber);aM(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield xE(n,i)}var i}),hM.apply(this,arguments)}function xE(n,t,e){return fM.apply(this,arguments)}function fM(){return fM=(0,oe.Z)(function*(n,t,e){if(!bl(t))throw t;n._u.add(1),yield x_(n),n.gu.set("Offline"),e||(e=()=>BO(n.localStore)),n.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield hw(n)}))}),fM.apply(this,arguments)}function JO(n,t){return t().catch(e=>xE(n,e,t))}function k_(n){return pM.apply(this,arguments)}function pM(){return pM=(0,oe.Z)(function*(n){const t=it(n),e=wh(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;AV(t);)try{const r=yield hV(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,TV(t,r)}catch(r){yield xE(t,r)}XO(t)&&eP(t)}),pM.apply(this,arguments)}function AV(n){return bh(n)&&n.fu.length<10}function TV(n,t){n.fu.push(t);const e=wh(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function XO(n){return bh(n)&&!wh(n).No()&&n.fu.length>0}function eP(n){wh(n).start()}function MV(n){return gM.apply(this,arguments)}function gM(){return gM=(0,oe.Z)(function*(n){wh(n).eu()}),gM.apply(this,arguments)}function xV(n){return mM.apply(this,arguments)}function mM(){return mM=(0,oe.Z)(function*(n){const t=wh(n);for(const e of n.fu)t.Xo(e.mutations)}),mM.apply(this,arguments)}function kV(n,t,e){return _M.apply(this,arguments)}function _M(){return _M=(0,oe.Z)(function*(n,t,e){const i=n.fu.shift(),r=UT.from(i,t,e);yield JO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield k_(n)}),_M.apply(this,arguments)}function RV(n,t){return yM.apply(this,arguments)}function yM(){return yM=(0,oe.Z)(function*(n,t){var e;t&&wh(n).Yo&&(yield(e=(0,oe.Z)(function*(i,r){if(C_(a=r.code)&&a!==we.ABORTED){const u=i.fu.shift();wh(i).Oo(),yield JO(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield k_(i)}var a}),function(i,r){return e.apply(this,arguments)})(n,t)),XO(n)&&eP(n)}),yM.apply(this,arguments)}function tP(n,t){return vM.apply(this,arguments)}function vM(){return vM=(0,oe.Z)(function*(n,t){const e=it(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=bh(e);e._u.add(3),yield x_(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield hw(e)}),vM.apply(this,arguments)}function bM(n,t){return wM.apply(this,arguments)}function wM(){return wM=(0,oe.Z)(function*(n,t){const e=it(n);t?(e._u.delete(2),yield hw(e)):t||(e._u.add(2),yield x_(e),e.gu.set("Unknown"))}),wM.apply(this,arguments)}function R_(n){return n.pu||(n.pu=function(t,e,i){const r=it(t);return r.su(),new vV(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:EV.bind(null,n),Zr:IV.bind(null,n),Wo:SV.bind(null,n)}),n.wu.push(function(){var t=(0,oe.Z)(function*(e){e?(n.pu.Oo(),cM(n)?lM(n):n.gu.set("Unknown")):(yield n.pu.stop(),QO(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function wh(n){return n.Iu||(n.Iu=function(t,e,i){const r=it(t);return r.su(),new bV(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:MV.bind(null,n),Zr:RV.bind(null,n),tu:xV.bind(null,n),Zo:kV.bind(null,n)}),n.wu.push(function(){var t=(0,oe.Z)(function*(e){e?(n.Iu.Oo(),yield k_(n)):(yield n.Iu.stop(),n.fu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class DM{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,a){const u=Date.now()+i,h=new DM(t,e,u,r,a);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(we.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O_(n,t){if(Di("AsyncQueue",`${t}: ${n}`),bl(n))return new Be(we.UNAVAILABLE,`${t}: ${n}`);throw n}class P_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Xe.comparator(e.key,i.key):(e,i)=>Xe.comparator(e.key,i.key),this.keyedMap=Yb(),this.sortedSet=new Cn(this.comparator)}static emptySet(t){return new P_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof P_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new P_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class nP{constructor(){this.Tu=new Cn(Xe.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ct():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class N_{constructor(t,e,i,r,a,u,h,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m}static fromInitialDocuments(t,e,i,r){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new N_(t,e,P_.emptySet(e),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&v_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class OV{constructor(){this.Au=void 0,this.listeners=[]}}class PV{constructor(){this.queries=new mh(t=>xT(t),v_),this.onlineState="Unknown",this.Ru=new Set}}function CM(n,t){return EM.apply(this,arguments)}function EM(){return EM=(0,oe.Z)(function*(n,t){const e=it(n),i=t.query;let r=!1,a=e.queries.get(i);if(a||(r=!0,a=new OV),r)try{a.Au=yield e.onListen(i)}catch(u){const h=O_(u,`Initialization of query '${uE(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,a),a.listeners.push(t),t.bu(e.onlineState),a.Au&&t.Pu(a.Au)&&AM(e)}),EM.apply(this,arguments)}function IM(n,t){return SM.apply(this,arguments)}function SM(){return SM=(0,oe.Z)(function*(n,t){const e=it(n),i=t.query;let r=!1;const a=e.queries.get(i);if(a){const u=a.listeners.indexOf(t);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),SM.apply(this,arguments)}function NV(n,t){const e=it(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Pu(r)&&(i=!0);u.Au=r}}i&&AM(e)}function FV(n,t,e){const i=it(n),r=i.queries.get(t);if(r)for(const a of r.listeners)a.onError(e);i.queries.delete(t)}function AM(n){n.Ru.forEach(t=>{t.next()})}class TM{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new N_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||!(this.options.Nu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=N_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}class LV{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}class iP{constructor(t){this.It=t}Ji(t){return vc(this.It,t)}Yi(t){return t.metadata.exists?XR(this.It,t.document,!1):Fn.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Mr(t)}}class VV{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rP(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=sn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,i=new iP(this.It);for(const r of t)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Xt()).add(a);e.set(u,h)}}return e}complete(){var t=this;return(0,oe.Z)(function*(){const e=yield function fV(n,t,e,i){return JT.apply(this,arguments)}(t.localStore,new iP(t.It),t.documents,t.Mu.id),i=t.Fu(t.documents);for(const r of t.queries)yield pV(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,$u:t.collectionGroups,Bu:e}})()}}function rP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class sP{constructor(t){this.key=t}}class oP{constructor(t){this.key=t}}class aP{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=Xt(),this.mutatedKeys=Xt(),this.Ku=kT(t),this.Gu=new P_(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new nP,r=e?e.Gu:this.Gu;let a=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((C,T)=>{const L=r.get(C),U=dE(this.query,T)?T:null,$=!!L&&this.mutatedKeys.has(L.key),ie=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let De=!1;L&&U?L.data.isEqual(U.data)?$!==ie&&(i.track({type:3,doc:U}),De=!0):this.zu(L,U)||(i.track({type:2,doc:U}),De=!0,(m&&this.Ku(U,m)>0||v&&this.Ku(U,v)<0)&&(h=!0)):!L&&U?(i.track({type:0,doc:U}),De=!0):L&&!U&&(i.track({type:1,doc:L}),De=!0,(m||v)&&(h=!0)),De&&(U?(u=u.add(U),a=ie?a.add(C):a.delete(C)):(u=u.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),a=a.delete(C.key),i.track({type:1,doc:C})}return{Gu:u,Wu:i,$i:h,mutatedKeys:a}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const a=t.Wu.Eu();a.sort((v,C)=>function(T,L){const U=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return U(T)-U(L)}(v.type,C.type)||this.Ku(v.doc,C.doc)),this.Hu(i);const u=e?this.Ju():[],h=0===this.qu.size&&this.current?1:0,m=h!==this.Uu;return this.Uu=h,0!==a.length||m?{snapshot:new N_(this.query,t.Gu,r,a,t.mutatedKeys,0===h,m,!1),Yu:u}:{Yu:u}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new nP,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=Xt(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new oP(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new sP(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=Xt();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return N_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class BV{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class UV{constructor(t){this.key=t,this.ec=!1}}class jV{constructor(t,e,i,r,a,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new mh(h=>xT(h),v_),this.ic=new Map,this.rc=new Set,this.oc=new Cn(Xe.comparator),this.uc=new Map,this.cc=new zT,this.ac={},this.hc=new Map,this.lc=Wp.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function HV(n,t){return MM.apply(this,arguments)}function MM(){return MM=(0,oe.Z)(function*(n,t){const e=JM(n);let i,r;const a=e.sc.get(t);if(a)i=a.targetId,e.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const u=yield T_(e.localStore,as(t));e.isPrimaryClient&&ME(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield xM(e,t,i,"current"===h)}return r}),MM.apply(this,arguments)}function xM(n,t,e,i){return kM.apply(this,arguments)}function kM(){return kM=(0,oe.Z)(function*(n,t,e,i){n.dc=(C,T,L)=>{return(U=(0,oe.Z)(function*($,ie,De,Je){let ot=ie.view.ju(De);ot.$i&&(ot=yield IE($.localStore,ie.query,!1).then(({documents:Pt})=>ie.view.ju(Pt,ot)));const _t=Je&&Je.targetChanges.get(ie.targetId),ut=ie.view.applyChanges(ot,$.isPrimaryClient,_t);return jM($,ie.targetId,ut.Yu),ut.snapshot}),function($,ie,De,Je){return U.apply(this,arguments)})(n,C,T,L);var U};const r=yield IE(n.localStore,t,!0),a=new aP(t,r.Hi),u=a.ju(r.documents),h=Jb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),m=a.applyChanges(u,n.isPrimaryClient,h);jM(n,e,m.Yu);const v=new BV(t,e,a);return n.sc.set(t,v),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),m.snapshot}),kM.apply(this,arguments)}function $V(n,t){return RM.apply(this,arguments)}function RM(){return RM=(0,oe.Z)(function*(n,t){const e=it(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(a=>!v_(a,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield M_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),fw(e.remoteStore,i.targetId),F_(e,i.targetId)}).catch($i))):(F_(e,i.targetId),yield M_(e.localStore,i.targetId,!0))}),RM.apply(this,arguments)}function OM(){return OM=(0,oe.Z)(function*(n,t,e){const i=XM(n);try{const r=yield function(a,u){const h=it(a),m=Xn.now(),v=u.reduce((L,U)=>L.add(U.key),Xt());let C,T;return h.persistence.runTransaction("Locally write mutations","readwrite",L=>{let U=Qs(),$=Xt();return h.Gi.getEntries(L,v).next(ie=>{U=ie,U.forEach((De,Je)=>{Je.isValidDocument()||($=$.add(De))})}).next(()=>h.localDocuments.getOverlayedDocuments(L,U)).next(ie=>{C=ie;const De=[];for(const Je of u){const ot=It(Je,C.get(Je.key).overlayedDocument);null!=ot&&De.push(new jr(Je.key,ot,gc(ot.value.mapValue),ye.exists(!0)))}return h.mutationQueue.addMutationBatch(L,m,De,u)}).next(ie=>{T=ie;const De=ie.applyToLocalDocumentSet(C,$);return h.documentOverlayCache.saveOverlays(L,ie.batchId,De)})}).then(()=>({batchId:T.batchId,changes:jR(C)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,h){let m=a.ac[a.currentUser.toKey()];m||(m=new Cn($t)),m=m.insert(u,h),a.ac[a.currentUser.toKey()]=m}(i,r.batchId,e),yield Ru(i,r.changes),yield k_(i.remoteStore)}catch(r){const a=O_(r,"Failed to persist write");e.reject(a)}}),OM.apply(this,arguments)}function lP(n,t){return PM.apply(this,arguments)}function PM(){return PM=(0,oe.Z)(function*(n,t){const e=it(n);try{const i=yield dV(e.localStore,t);t.targetChanges.forEach((r,a)=>{const u=e.uc.get(a);u&&(Vt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?Vt(u.ec):r.removedDocuments.size>0&&(Vt(u.ec),u.ec=!1))}),yield Ru(e,i,t)}catch(i){yield $i(i)}}),PM.apply(this,arguments)}function cP(n,t,e){const i=it(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.sc.forEach((a,u)=>{const h=u.view.bu(t);h.snapshot&&r.push(h.snapshot)}),function(a,u){const h=it(a);h.onlineState=u;let m=!1;h.queries.forEach((v,C)=>{for(const T of C.listeners)T.bu(u)&&(m=!0)}),m&&AM(h)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function zV(n,t,e){return NM.apply(this,arguments)}function NM(){return NM=(0,oe.Z)(function*(n,t,e){const i=it(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),a=r&&r.key;if(a){let u=new Cn(Xe.comparator);u=u.insert(a,Fn.newNoDocument(a,Ot.min()));const h=Xt().add(a),m=new Qb(Ot.min(),new Map,new kn($t),u,h);yield lP(i,m),i.oc=i.oc.remove(a),i.uc.delete(t),HM(i)}else yield M_(i.localStore,t,!1).then(()=>F_(i,t,e)).catch($i)}),NM.apply(this,arguments)}function ZV(n,t){return FM.apply(this,arguments)}function FM(){return FM=(0,oe.Z)(function*(n,t){const e=it(n),i=t.batch.batchId;try{const r=yield uV(e.localStore,t);UM(e,i,null),BM(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ru(e,r)}catch(r){yield $i(r)}}),FM.apply(this,arguments)}function qV(n,t,e){return LM.apply(this,arguments)}function LM(){return LM=(0,oe.Z)(function*(n,t,e){const i=it(n);try{const r=yield function(a,u){const h=it(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,u).next(C=>(Vt(null!==C),v=C.keys(),h.mutationQueue.removeMutationBatch(m,C))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,t);UM(i,t,e),BM(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ru(i,r)}catch(r){yield $i(r)}}),LM.apply(this,arguments)}function VM(){return VM=(0,oe.Z)(function*(n,t){const e=it(n);bh(e.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=it(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.hc.get(i)||[];r.push(t),e.hc.set(i,r)}catch(i){const r=O_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),VM.apply(this,arguments)}function BM(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function UM(n,t,e){const i=it(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function F_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||uP(n,i)})}function uP(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&(fw(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),HM(n))}function jM(n,t,e){for(const i of e)i instanceof sP?(n.cc.addReference(i.key,t),YV(n,i)):i instanceof oP?($e("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||uP(n,i.key)):ct()}function YV(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||($e("SyncEngine","New document in limbo: "+e),n.rc.add(i),HM(n))}function HM(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new Xe(sn.fromString(t)),i=n.lc.next();n.uc.set(i,new UV(e)),n.oc=n.oc.insert(e,i),ME(n.remoteStore,new _h(as(ph(e.path)),i,2,Sr.at))}}function Ru(n,t,e){return $M.apply(this,arguments)}function $M(){return $M=(0,oe.Z)(function*(n,t,e){const i=it(n),r=[],a=[],u=[];var h;i.sc.isEmpty()||(i.sc.forEach((h,m)=>{u.push(i.dc(m,t,e).then(v=>{if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,v.fromCache?"not-current":"current"),r.push(v);const C=YT.Ci(m.targetId,v);a.push(C)}}))}),yield Promise.all(u),i.nc.Wo(r),yield(h=(0,oe.Z)(function*(m,v){const C=it(m);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>fe.forEach(v,L=>fe.forEach(L.Si,U=>C.persistence.referenceDelegate.addReference(T,L.targetId,U)).next(()=>fe.forEach(L.Di,U=>C.persistence.referenceDelegate.removeReference(T,L.targetId,U)))))}catch(T){if(!bl(T))throw T;$e("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const L=T.targetId;if(!T.fromCache){const U=C.Ui.get(L),ie=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);C.Ui=C.Ui.insert(L,ie)}}}),function(m,v){return h.apply(this,arguments)})(i.localStore,a))}),$M.apply(this,arguments)}function KV(n,t){return GM.apply(this,arguments)}function GM(){return GM=(0,oe.Z)(function*(n,t){const e=it(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield VO(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(u=>{u.forEach(h=>{h.reject(new Be(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ru(e,i.ji)}var r}),GM.apply(this,arguments)}function QV(n,t){const e=it(n),i=e.uc.get(t);if(i&&i.ec)return Xt().add(i.key);{let r=Xt();const a=e.ic.get(t);if(!a)return r;for(const u of a){const h=e.sc.get(u);r=r.unionWith(h.view.Qu)}return r}}function JV(n,t){return zM.apply(this,arguments)}function zM(){return zM=(0,oe.Z)(function*(n,t){const e=it(n),i=yield IE(e.localStore,t.query,!0),r=t.view.Zu(i);return e.isPrimaryClient&&jM(e,t.targetId,r.Yu),r}),zM.apply(this,arguments)}function XV(n,t){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,oe.Z)(function*(n,t){const e=it(n);return HO(e.localStore,t).then(i=>Ru(e,i))}),ZM.apply(this,arguments)}function eB(n,t,e,i){return qM.apply(this,arguments)}function qM(){return qM=(0,oe.Z)(function*(n,t,e,i){const r=it(n),a=yield function(u,h){const m=it(u),v=it(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.Tn(C,h).next(T=>T?m.localDocuments.getDocuments(C,T):fe.resolve(null)))}(r.localStore,t);var h;null!==a?("pending"===e?yield k_(r.remoteStore):"acknowledged"===e||"rejected"===e?(UM(r,t,i||null),BM(r,t),h=t,it(it(r.localStore).mutationQueue).An(h)):ct(),yield Ru(r,a)):$e("SyncEngine","Cannot apply mutation batch with id: "+t)}),qM.apply(this,arguments)}function WM(){return WM=(0,oe.Z)(function*(n,t){const e=it(n);if(JM(e),XM(e),!0===t&&!0!==e.fc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield dP(e,i.toArray());e.fc=!0,yield bM(e.remoteStore,!0);for(const a of r)ME(e.remoteStore,a)}else if(!1===t&&!1!==e.fc){const i=[];let r=Promise.resolve();e.ic.forEach((a,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(F_(e,u),M_(e.localStore,u,!0))),fw(e.remoteStore,u)}),yield r,yield dP(e,i),function(a){const u=it(a);u.uc.forEach((h,m)=>{fw(u.remoteStore,m)}),u.cc.fs(),u.uc=new Map,u.oc=new Cn(Xe.comparator)}(e),e.fc=!1,yield bM(e.remoteStore,!1)}}),WM.apply(this,arguments)}function dP(n,t,e){return YM.apply(this,arguments)}function YM(){return YM=(0,oe.Z)(function*(n,t,e){const i=it(n),r=[],a=[];for(const u of t){let h;const m=i.ic.get(u);if(m&&0!==m.length){h=yield T_(i.localStore,as(m[0]));for(const v of m){const C=i.sc.get(v),T=yield JV(i,C);T.snapshot&&a.push(T.snapshot)}}else{const v=yield jO(i.localStore,u);h=yield T_(i.localStore,v),yield xM(i,hP(v),u,!1)}r.push(h)}return i.nc.Wo(a),r}),YM.apply(this,arguments)}function hP(n){return y_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function nB(n){const t=it(n);return it(it(t.localStore).persistence).vi()}function iB(n,t,e,i){return KM.apply(this,arguments)}function KM(){return KM=(0,oe.Z)(function*(n,t,e,i){const r=it(n);if(r.fc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(t);if(a&&a.length>0)switch(e){case"current":case"not-current":{const u=yield HO(r.localStore,hE(a[0])),h=Qb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Ru(r,u,h);break}case"rejected":yield M_(r.localStore,t,!0),F_(r,t,i);break;default:ct()}}),KM.apply(this,arguments)}function rB(n,t,e){return QM.apply(this,arguments)}function QM(){return QM=(0,oe.Z)(function*(n,t,e){const i=JM(n);if(i.fc){for(const r of t){if(i.ic.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const a=yield jO(i.localStore,r),u=yield T_(i.localStore,a);yield xM(i,hP(a),u.targetId,!1),ME(i.remoteStore,u)}for(const r of e)i.ic.has(r)&&(yield M_(i.localStore,r,!1).then(()=>{fw(i.remoteStore,r),F_(i,r)}).catch($i))}}),QM.apply(this,arguments)}function JM(n){const t=it(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=lP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zV.bind(null,t),t.nc.Wo=NV.bind(null,t.eventManager),t.nc._c=FV.bind(null,t.eventManager),t}function XM(n){const t=it(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qV.bind(null,t),t}class fP{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,oe.Z)(function*(){e.It=dw(t.databaseInfo.databaseId),e.sharedClientState=e.mc(t),e.persistence=e.gc(t),yield e.persistence.start(),e.localStore=e.yc(t),e.gcScheduler=e.Ic(t,e.localStore),e.indexBackfillerScheduler=e.Tc(t,e.localStore)})()}Ic(t,e){return null}Tc(t,e){return null}yc(t){return LO(this.persistence,new FO,t.initialUser,this.It)}gc(t){return new PO(CE.Bs,this.It)}mc(t){return new ZO}terminate(){var t=this;return(0,oe.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class pP extends fP{constructor(t,e,i){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,oe.Z)(function*(){yield e().call(i,t),yield i.Ec.initialize(i,t),yield XM(i.Ec.syncEngine),yield k_(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(t){return LO(this.persistence,new FO,t.initialUser,this.It)}Ic(t,e){return new YL(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Tc(t,e){const i=new yT(e,this.persistence);return new WC(t.asyncQueue,i)}gc(t){const e=WT(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new qT(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,WO(),TE(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new ZO}}class oB extends pP{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,oe.Z)(function*(){yield e().call(i,t);const r=i.Ec.syncEngine;i.sharedClientState instanceof iM&&(i.sharedClientState.syncEngine={Fr:eB.bind(null,r),$r:iB.bind(null,r),Br:rB.bind(null,r),vi:nB.bind(null,r),Or:XV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,oe.Z)(function*(u){yield function tB(n,t){return WM.apply(this,arguments)}(i.Ec.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}mc(t){const e=WO();if(!iM.C(e))throw new Be(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=WT(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new iM(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class ex{initialize(t,e){var i=this;return(0,oe.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>cP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=KV.bind(null,i.syncEngine),yield bM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new PV}createDatastore(t){const e=dw(t.databaseInfo.databaseId),i=new yV(t.databaseInfo);return new wV(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,a=h=>cP(this.syncEngine,h,0),u=qO.C()?new qO:new gV,new CV(e,i,r,a,u);var e,i,r,a,u}createSyncEngine(t,e){return function(i,r,a,u,h,m,v){const C=new jV(i,r,a,u,h,m);return v&&(C.fc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,oe.Z)(function*(e){const i=it(e);$e("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield x_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function gP(n,t=10240){let e=0;return{read:()=>(0,oe.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class kE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):Di("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class aB{constructor(t,e){this.bc=t,this.It=e,this.metadata=new pr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var t=this;return(0,oe.Z)(function*(){return t.metadata.promise})()}wc(){var t=this;return(0,oe.Z)(function*(){return yield t.getMetadata(),t.vc()})()}vc(){var t=this;return(0,oe.Z)(function*(){const e=yield t.Vc();if(null===e)return null;const i=t.Pc.decode(e),r=Number(i);isNaN(r)&&t.Sc(`length string (${i}) is not valid number`);const a=yield t.Dc(r);return new LV(JSON.parse(a),e.length+r)})()}Cc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Vc(){var t=this;return(0,oe.Z)(function*(){for(;t.Cc()<0&&!(yield t.xc()););if(0===t.buffer.length)return null;const e=t.Cc();e<0&&t.Sc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Dc(t){var e=this;return(0,oe.Z)(function*(){for(;e.buffer.length<t;)(yield e.xc())&&e.Sc("Reached the end of bundle when more is expected.");const i=e.Pc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}xc(){var t=this;return(0,oe.Z)(function*(){const e=yield t.bc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class lB{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Be(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,oe.Z)(function*(a,u){const h=it(a),m=tw(h.It)+"/documents",v={documents:u.map(U=>ew(h.It,U))},C=yield h.fo("BatchGetDocuments",m,v,u.length),T=new Map;C.forEach(U=>{const $=function dL(n,t){return"found"in t?function(e,i){Vt(!!i.found);const r=vc(e,i.found.name),a=Mr(i.found.updateTime),u=new Ji({mapValue:{fields:i.found.fields}});return Fn.newFoundDocument(r,a,u)}(n,t):"missing"in t?function(e,i){Vt(!!i.missing),Vt(!!i.readTime);const r=vc(e,i.missing),a=Mr(i.readTime);return Fn.newNoDocument(r,a)}(n,t):ct()}(h.It,U);T.set($.key.toString(),$)});const L=[];return u.forEach(U=>{const $=T.get(U.toString());Vt(!!$),L.push($)}),L}),function(a,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new _c(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const a=Xe.fromPath(r);t.mutations.push(new jp(a,t.precondition(a)))}),yield(i=(0,oe.Z)(function*(r,a){const u=it(r),h=tw(u.It)+"/documents",m={writes:a.map(v=>nw(u.It,v))};yield u.co("Commit",h,m)}),function(r,a){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ct();e=Ot.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Be(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Ot.min())?ye.exists(!1):ye.updateTime(e):ye.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ot.min()))throw new Be(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ye.updateTime(e)}return ye.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class cB{constructor(t,e,i,r,a){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=a,this.Nc=i.maxAttempts,this.xo=new rM(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var t=this;this.xo.Ao((0,oe.Z)(function*(){const e=new lB(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(a=>{t.Oc(a)}))}).catch(r=>{t.Oc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!hh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!C_(e)}return!1}}class uB{constructor(t,e,i,r){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Hi.UNAUTHENTICATED,this.clientId=Mb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,oe.Z)(function*(h){$e("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>($e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,oe.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=O_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function mP(n,t){return tx.apply(this,arguments)}function tx(){return tx=(0,oe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,oe.Z)(function*(a){i.isEqual(a)||(yield VO(t.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),tx.apply(this,arguments)}function _P(n,t){return nx.apply(this,arguments)}function nx(){return nx=(0,oe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield ix(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>tP(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>tP(t.remoteStore,a)),n.onlineComponents=t}),nx.apply(this,arguments)}function ix(n){return rx.apply(this,arguments)}function rx(){return rx=(0,oe.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield mP(n,new fP)),n.offlineComponents}),rx.apply(this,arguments)}function RE(n){return sx.apply(this,arguments)}function sx(){return sx=(0,oe.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield _P(n,new ex)),n.onlineComponents}),sx.apply(this,arguments)}function yP(n){return ix(n).then(t=>t.persistence)}function OE(n){return ix(n).then(t=>t.localStore)}function vP(n){return RE(n).then(t=>t.remoteStore)}function ox(n){return RE(n).then(t=>t.syncEngine)}function L_(n){return ax.apply(this,arguments)}function ax(){return ax=(0,oe.Z)(function*(n){const t=yield RE(n),e=t.eventManager;return e.onListen=HV.bind(null,t.syncEngine),e.onUnlisten=$V.bind(null,t.syncEngine),e}),ax.apply(this,arguments)}function bP(n,t,e={}){const i=new pr;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(r,a,u,h,m){const v=new kE({next:T=>{a.enqueueAndForget(()=>IM(r,C));const L=T.docs.has(u);!L&&T.fromCache?m.reject(new Be(we.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&T.fromCache&&h&&"server"===h.source?m.reject(new Be(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),C=new TM(ph(u.path),v,{includeMetadataChanges:!0,Nu:!0});return CM(r,C)}(yield L_(n),n.asyncQueue,t,e,i)})),i.promise}function wP(n,t,e={}){const i=new pr;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(r,a,u,h,m){const v=new kE({next:T=>{a.enqueueAndForget(()=>IM(r,C)),T.fromCache&&"server"===h.source?m.reject(new Be(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),C=new TM(u,v,{includeMetadataChanges:!0,Nu:!0});return CM(r,C)}(yield L_(n),n.asyncQueue,t,e,i)})),i.promise}const DP=new Map;function lx(n,t,e){if(!e)throw new Be(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function CP(n,t,e,i){if(!0===t&&!0===i)throw new Be(we.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function EP(n){if(!Xe.isDocumentKey(n))throw new Be(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IP(n){if(Xe.isDocumentKey(n))throw new Be(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ct()}function mn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Be(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=PE(n);throw new Be(we.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function SP(n,t){if(t<=0)throw new Be(we.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class AP{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Be(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Be(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,CP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pw{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Be(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AP(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new FR;switch(e.type){case"gapi":return new a_(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Be(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=DP.get(t);e&&($e("ComponentProvider","Removing Datastore"),DP.delete(t),e.terminate())}(this),Promise.resolve()}}class di{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new di(this.firestore,t,this._key)}}class ls{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ls(this.firestore,t,this._query)}}class wc extends ls{constructor(t,e,i){super(t,e,ph(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new di(this.firestore,null,new Xe(t))}withConverter(t){return new wc(this.firestore,t,this._path)}}function El(n,t,...e){if(n=(0,nn.m9)(n),lx("collection","path",t),n instanceof pw){const i=sn.fromString(t,...e);return IP(i),new wc(n,null,i)}{if(!(n instanceof di||n instanceof wc))throw new Be(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(t,...e));return IP(i),new wc(n.firestore,null,i)}}function Kp(n,t,...e){if(n=(0,nn.m9)(n),1===arguments.length&&(t=Mb.R()),lx("doc","path",t),n instanceof pw){const i=sn.fromString(t,...e);return EP(i),new di(n,null,new Xe(i))}{if(!(n instanceof di||n instanceof wc))throw new Be(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(t,...e));return EP(i),new di(n.firestore,n instanceof wc?n.converter:null,new Xe(i))}}function TP(n,t){return n=(0,nn.m9)(n),t=(0,nn.m9)(t),(n instanceof di||n instanceof wc)&&(t instanceof di||t instanceof wc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function MP(n,t){return n=(0,nn.m9)(n),t=(0,nn.m9)(t),n instanceof ls&&t instanceof ls&&n.firestore===t.firestore&&v_(n._query,t._query)&&n.converter===t.converter}class wB{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new rM(this,"async_queue_retry"),this.jc=()=>{const e=TE();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=TE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=TE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new pr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}Hc(){var t=this;return(0,oe.Z)(function*(){if(0!==t.Bc.length){try{yield t.Bc[0](),t.Bc.shift(),t.xo.reset()}catch(e){if(!bl(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.Bc.length>0&&t.xo.Ao(()=>t.Hc())}})()}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{throw this.qc=i,this.Kc=!1,Di("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=DM.createAndSchedule(this,t,e,i,a=>this.Jc(a));return this.Uc.push(r),r}Wc(){this.qc&&ct()}verifyOperationInProgress(){}Yc(){var t=this;return(0,oe.Z)(function*(){let e;do{e=t.$c,yield e}while(e!==t.$c)})()}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function cx(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class DB{constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class mi extends pw{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new wB,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xP(this),this._firestoreClient.terminate()}}function Qp(n,t){const e="object"==typeof n?n:(0,ma.getApp)(),i="string"==typeof n?n:t||"(default)";return(0,ma._getProvider)(e,"firestore").getImmediate({identifier:i})}function Xi(n){return n._firestoreClient||xP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xP(n){var t;const e=n._freezeSettings(),i=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new JC(n._databaseId,a,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new uB(n._authCredentials,n._appCheckCredentials,n._queue,i)}function kP(n,t,e){const i=new pr;return n.asyncQueue.enqueue((0,oe.Z)(function*(){try{yield mP(n,e),yield _P(n,t),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===we.FAILED_PRECONDITION||u.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;Iu("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function RP(n){if(n._initialized||n._terminated)throw new Be(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ou{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Be(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dc(Qi.fromBase64String(t))}catch(e){throw new Be(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Dc(Qi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Jp{constructor(t){this._methodName=t}}class NE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Be(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Be(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}}const RB=/^__.*__$/;class OB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new jr(t,this.data,this.fieldMask,e,this.fieldTransforms):new En(t,this.data,e,this.fieldTransforms)}}class OP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new jr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function PP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class FE{constructor(t,e,i,r,a,u){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new FE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return BE(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(PP(this.na)&&RB.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class PB{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||dw(t)}fa(t,e,i,r=!1){return new FE({na:t,methodName:e,la:i,path:Ci.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Xp(n){const t=n._freezeSettings(),e=dw(n._databaseId);return new PB(n._databaseId,!!t.ignoreUndefinedProperties,e)}function LE(n,t,e,i,r,a={}){const u=n.fa(a.merge||a.mergeFields?2:0,t,e,r);fx("Data must be an object, but it was:",u,i);const h=LP(i,u);let m,v;if(a.merge)m=new ks(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const C=[];for(const T of a.mergeFields){const L=px(t,T,e);if(!u.contains(L))throw new Be(we.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);BP(C,L)||C.push(L)}m=new ks(C),v=u.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,v=u.fieldTransforms;return new OB(new Ji(h),m,v)}class gw extends Jp{_toFieldTransform(t){if(2!==t.na)throw t.aa(1===t.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gw}}function NP(n,t,e){return new FE({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class ux extends Jp{_toFieldTransform(t){return new F(t.path,new d)}isEqual(t){return t instanceof ux}}class NB extends Jp{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=NP(this,t,!0),i=this.da.map(a=>eg(a,e)),r=new f(i);return new F(t.path,r)}isEqual(t){return this===t}}class FB extends Jp{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=NP(this,t,!0),i=this.da.map(a=>eg(a,e)),r=new y(i);return new F(t.path,r)}isEqual(t){return this===t}}class LB extends Jp{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new E(t.It,PT(t.It,this._a));return new F(t.path,e)}isEqual(t){return this===t}}function dx(n,t,e,i){const r=n.fa(1,t,e);fx("Data must be an object, but it was:",r,i);const a=[],u=Ji.empty();uc(i,(m,v)=>{const C=VE(t,m,e);v=(0,nn.m9)(v);const T=r.ua(C);if(v instanceof gw)a.push(C);else{const L=eg(v,T);null!=L&&(a.push(C),u.set(C,L))}});const h=new ks(a);return new OP(u,h,r.fieldTransforms)}function hx(n,t,e,i,r,a){const u=n.fa(1,t,e),h=[px(t,i,e)],m=[r];if(a.length%2!=0)throw new Be(we.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)h.push(px(t,a[L])),m.push(a[L+1]);const v=[],C=Ji.empty();for(let L=h.length-1;L>=0;--L)if(!BP(v,h[L])){const U=h[L];let $=m[L];$=(0,nn.m9)($);const ie=u.ua(U);if($ instanceof gw)v.push(U);else{const De=eg($,ie);null!=De&&(v.push(U),C.set(U,De))}}const T=new ks(v);return new OP(C,T,u.fieldTransforms)}function FP(n,t,e,i=!1){return eg(e,n.fa(i?4:3,t))}function eg(n,t){if(VP(n=(0,nn.m9)(n)))return fx("Unsupported field value:",t,n),LP(n,t);if(n instanceof Jp)return function(e,i){if(!PP(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let a=0;for(const u of e){let h=eg(u,i.ca(a));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),a++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,nn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return PT(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Xn.fromDate(e);return{timestampValue:Xb(i.It,r)}}if(e instanceof Xn){const r=new Xn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xb(i.It,r)}}if(e instanceof NE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Dc)return{bytesValue:WR(i.It,e._byteString)};if(e instanceof di){const r=i.databaseId,a=e.firestore._databaseId;if(!a.isEqual(r))throw i.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:NT(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${PE(e)}`)}(n,t)}function LP(n,t){const e={};return u_(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uc(n,(i,r)=>{const a=eg(r,t.ia(i));null!=a&&(e[i]=a)}),{mapValue:{fields:e}}}function VP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xn||n instanceof NE||n instanceof Dc||n instanceof di||n instanceof Jp)}function fx(n,t,e){if(!VP(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=PE(e);throw t.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function px(n,t,e){if((t=(0,nn.m9)(t))instanceof Ou)return t._internalPath;if("string"==typeof t)return VE(n,t);throw BE("Field path arguments must be of type string or ",n,!1,void 0,e)}const VB=new RegExp("[~\\*/\\[\\]]");function VE(n,t,e){if(t.search(VB)>=0)throw BE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ou(...t.split("."))._internalPath}catch{throw BE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function BE(n,t,e,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${i}`),u&&(m+=` in document ${r}`),m+=")"),new Be(we.INVALID_ARGUMENT,h+n+m)}function BP(n,t){return n.some(e=>e.isEqual(t))}class mw{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new BB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(UE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class BB extends mw{data(){return super.data()}}function UE(n,t){return"string"==typeof t?VE(n,t):t instanceof Ou?t._internalPath:t._delegate._internalPath}class tg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pu extends mw{constructor(t,e,i,r,a,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new _w(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(UE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class _w extends Pu{data(t={}){return super.data(t)}}class Dh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new tg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new _w(this._firestore,this._userDataWriter,i.key,i,new tg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Be(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new _w(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new _w(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return 0!==u.type&&(m=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:UB(u.type),doc:h,oldIndex:m,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function UB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function UP(n,t){return n instanceof Pu&&t instanceof Pu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Dh&&t instanceof Dh&&n._firestore===t._firestore&&MP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function jP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yw{}function Hr(n,...t){for(const e of t)n=e._apply(n);return n}class jB extends yw{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=Xp(t.firestore),i=function(r,a,u,h,m,v,C){let T;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Be(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){qP(C,v);const U=[];for(const $ of C)U.push(ZP(h,r,$));T={arrayValue:{values:U}}}else T=ZP(h,r,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||qP(C,v),T=FP(u,"where",C,"in"===v||"not-in"===v);const L=Tr.create(m,v,T);return function(U,$){if($.dt()){const De=cE(U);if(null!==De&&!De.isEqual($.field))throw new Be(we.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${$.field.toString()}'`);const Je=lE(U);null!==Je&&WP(0,$.field,Je)}const ie=function(De,Je){for(const ot of De.filters)if(Je.indexOf(ot.op)>=0)return ot.op;return null}(U,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==ie)throw new Be(we.INVALID_ARGUMENT,ie===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${ie.toString()}' filters.`)}(r,L),L}(t._query,0,e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new ls(t.firestore,t.converter,function(r,a){const u=r.filters.concat([a]);return new ba(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}function Nu(n,t,e){const i=t,r=UE("where",n);return new jB(r,i,e)}class HB extends yw{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(i,r,a){if(null!==i.startAt)throw new Be(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Be(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new fh(r,a);return function(h,m){if(null===lE(h)){const v=cE(h);null!==v&&WP(0,v,m.field)}}(i,u),u}(t._query,this.wa,this.ya);return new ls(t.firestore,t.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new ba(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class HP extends yw{constructor(t,e,i){super(),this.type=t,this.pa=e,this.Ia=i}_apply(t){return new ls(t.firestore,t.converter,Zb(t._query,this.pa,this.Ia))}}class $P extends yw{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=zP(t,this.type,this.Ta,this.Ea);return new ls(t.firestore,t.converter,(r=e,new ba((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class GP extends yw{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=zP(t,this.type,this.Ta,this.Ea);return new ls(t.firestore,t.converter,(r=e,new ba((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function zP(n,t,e,i){if(e[0]=(0,nn.m9)(e[0]),e[0]instanceof mw)return function(r,a,u,h,m){if(!h)throw new Be(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const C of gh(r))if(C.field.isKeyField())v.push(Tu(a,h.key));else{const T=h.data.field(C.field);if(Fp(T))throw new Be(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const L=C.field.canonicalString();throw new Be(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}v.push(T)}return new mc(v,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Xp(n.firestore);return function(a,u,h,m,v,C){const T=a.explicitOrderBy;if(v.length>T.length)throw new Be(we.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let U=0;U<v.length;U++){const $=v[U];if(T[U].field.isKeyField()){if("string"!=typeof $)throw new Be(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof $}`);if(!zb(a)&&-1!==$.indexOf("/"))throw new Be(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${$}' contains a slash.`);const ie=a.path.child(sn.fromString($));if(!Xe.isDocumentKey(ie))throw new Be(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const De=new Xe(ie);L.push(Tu(u,De))}else{const ie=FP(h,m,$);L.push(ie)}}return new mc(L,C)}(n._query,n.firestore._databaseId,r,t,e,i)}}function ZP(n,t,e){if("string"==typeof(e=(0,nn.m9)(e))){if(""===e)throw new Be(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zb(t)&&-1!==e.indexOf("/"))throw new Be(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(sn.fromString(e));if(!Xe.isDocumentKey(i))throw new Be(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Tu(n,new Xe(i))}if(e instanceof di)return Tu(n,e._key);throw new Be(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${PE(e)}.`)}function qP(n,t){if(!Array.isArray(n)||0===n.length)throw new Be(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Be(we.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function WP(n,t,e){if(!e.isEqual(t))throw new Be(we.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const KB={maxAttempts:5};class gx{convertValue(t,e="none"){switch(fc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ui(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(uh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ct()}}convertObject(t,e){const i={};return uc(t.fields,(r,a)=>{i[r]=this.convertValue(a,e)}),i}convertGeoPoint(t){return new NE(ui(t.latitude),ui(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Bb(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(dh(t));default:return null}}convertTimestamp(t){const e=dc(t);return new Xn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=sn.fromString(t);Vt(rO(i));const r=new Dl(i.get(1),i.get(3)),a=new Xe(i.popFirst(5));return r.isEqual(e)||Di(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function jE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class QB extends gx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new di(this.firestore,null,e)}}class YP{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Xp(t)}set(t,e,i){this._verifyNotCommitted();const r=Ch(t,this._firestore),a=jE(r.converter,e,i),u=LE(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,ye.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const a=Ch(t,this._firestore);let u;return u="string"==typeof(e=(0,nn.m9)(e))||e instanceof Ou?hx(this._dataReader,"WriteBatch.update",a._key,e,i,r):dx(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(u.toMutation(a._key,ye.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ch(t,this._firestore);return this._mutations=this._mutations.concat(new _c(e._key,ye.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ch(n,t){if((n=(0,nn.m9)(n)).firestore!==t)throw new Be(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function KP(n){n=mn(n,di);const t=mn(n.firestore,mi);return bP(Xi(t),n._key).then(e=>mx(t,n,e))}class ng extends gx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new di(this.firestore,null,e)}}function Cc(n){n=mn(n,ls);const t=mn(n.firestore,mi),e=Xi(t),i=new ng(t);return jP(n._query),wP(e,n._query).then(r=>new Dh(t,i,n,r))}function QP(n,t,e){n=mn(n,di);const i=mn(n.firestore,mi),r=jE(n.converter,t,e);return V_(i,[LE(Xp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ye.none())])}function HE(n,t,e,...i){n=mn(n,di);const r=mn(n.firestore,mi),a=Xp(r);let u;return u="string"==typeof(t=(0,nn.m9)(t))||t instanceof Ou?hx(a,"updateDoc",n._key,t,e,i):dx(a,"updateDoc",n._key,t),V_(r,[u.toMutation(n._key,ye.exists(!0))])}function JP(n,...t){var e,i,r;n=(0,nn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||cx(t[u])||(a=t[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges};if(cx(t[u])){const T=t[u];t[u]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[u+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[u+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let m,v,C;if(n instanceof di)v=mn(n.firestore,mi),C=ph(n._key.path),m={next:T=>{t[u]&&t[u](mx(v,n,T))},error:t[u+1],complete:t[u+2]};else{const T=mn(n,ls);v=mn(T.firestore,mi),C=T._query;const L=new ng(v);m={next:U=>{t[u]&&t[u](new Dh(v,L,T,U))},error:t[u+1],complete:t[u+2]},jP(n._query)}return function(T,L,U,$){const ie=new kE($),De=new TM(L,ie,U);return T.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return CM(yield L_(T),De)})),()=>{ie.Rc(),T.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return IM(yield L_(T),De)}))}}(Xi(v),C,h,m)}function V_(n,t){return function(e,i){const r=new pr;return e.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function GV(n,t,e){return OM.apply(this,arguments)}(yield ox(e),i,r)})),r.promise}(Xi(n),t)}function mx(n,t,e){const i=e.docs.get(t._key),r=new ng(n);return new Pu(n,r,t._key,i,new tg(e.hasPendingWrites,e.fromCache),t.converter)}class sU extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Xp(t)}get(t){const e=Ch(t,this._firestore),i=new QB(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ct();const a=r[0];if(a.isFoundDocument())return new mw(this._firestore,i,a.key,a,e.converter);if(a.isNoDocument())return new mw(this._firestore,i,e._key,null,e.converter);throw ct()})}set(t,e,i){const r=Ch(t,this._firestore),a=jE(r.converter,e,i),u=LE(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const a=Ch(t,this._firestore);let u;return u="string"==typeof(e=(0,nn.m9)(e))||e instanceof Ou?hx(this._dataReader,"Transaction.update",a._key,e,i,r):dx(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,u),this}delete(t){const e=Ch(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ch(t,this._firestore),i=new ng(this._firestore);return super.get(t).then(r=>new Pu(this._firestore,i,e._key,r._document,new tg(!1,!1),e.converter))}}function XP(...n){return new NB("arrayUnion",n)}function e1(...n){return new FB("arrayRemove",n)}!function(n,t=!0){oh=ma.SDK_VERSION,(0,ma._registerComponent)(new Xf.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const a=e.getProvider("app").getImmediate(),u=new mi(new LR(e.getProvider("auth-internal")),new ZC(e.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Be(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(h.options.projectId,m)}(a,i),a);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,ma.registerVersion)(HC,"3.4.15",n),(0,ma.registerVersion)(HC,"3.4.15","esm2017")}();var vw=N(4986);function _x(){return(0,Yi.e)((n,t)=>{let e,i=!1;n.subscribe((0,Zn.x)(t,r=>{const a=e;e=r,i&&t.next([a,r]),i=!0}))})}function n1(n,t=ru.y){return n=n??uU,(0,Yi.e)((e,i)=>{let r,a=!0;e.subscribe((0,Zn.x)(i,u=>{const h=t(u);(a||!n(r,h))&&(a=!1,r=h,i.next(u))}))})}function uU(n,t){return n===t}N(5881);var dU=N(3942);function yx(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function r1(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function s1(){if(!function KC(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}class bw{constructor(t){this._delegate=t}static fromBase64String(t){return s1(),new bw(Dc.fromBase64String(t))}static fromUint8Array(t){return r1(),new bw(Dc.fromUint8Array(t))}toBase64(){return s1(),this._delegate.toBase64()}toUint8Array(){return r1(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vx(n){return function pU(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class gU{enableIndexedDbPersistence(t,e){return function EB(n,t){RP(n=mn(n,mi));const e=Xi(n),i=n._freezeSettings(),r=new ex;return kP(e,r,new pP(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function IB(n){RP(n=mn(n,mi));const t=Xi(n),e=n._freezeSettings(),i=new ex;return kP(t,i,new oB(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function SB(n){if(n._initialized&&!n._terminated)throw new Be(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{yield(e=(0,oe.Z)(function*(i){if(!Io.C())return Promise.resolve();const r=i+"main";yield Io.delete(r)}),function(i){return e.apply(this,arguments)})(WT(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class o1{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Dl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Iu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function vB(n,t,e,i={}){var r;const a=(n=mn(n,pw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Iu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Hi.MOCK_USER;else{u=(0,nn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Be(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Hi(m)}n._authCredentials=new o_(new dT(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function TB(n){return function dB(n){return n.asyncQueue.enqueue((0,oe.Z)(function*(){const t=yield yP(n),e=yield vP(n);return t.setNetworkEnabled(!0),function(i){const r=it(i);return r._u.delete(0),hw(r)}(e)}))}(Xi(n=mn(n,mi)))}(this._delegate)}disableNetwork(){return function MB(n){return function hB(n){return n.asyncQueue.enqueue((0,oe.Z)(function*(){const t=yield yP(n),e=yield vP(n);return t.setNetworkEnabled(!1),(i=(0,oe.Z)(function*(r){const a=it(r);a._u.add(0),yield x_(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Xi(n=mn(n,mi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,CP("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function AB(n){return function(t){const e=new pr;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function WV(n,t){return VM.apply(this,arguments)}(yield ox(t),e)})),e.promise}(Xi(n=mn(n,mi)))}(this._delegate)}onSnapshotsInSync(t){return function rU(n,t){return function gB(n,t){const e=new kE(t);return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return i=yield L_(n),r=e,it(i).Ru.add(r),void r.next();var i,r})),()=>{e.Rc(),n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return i=yield L_(n),r=e,void it(i).Ru.delete(r);var i,r}))}}(Xi(n=mn(n,mi)),cx(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new B_(this,El(this._delegate,t))}catch(e){throw Os(e,"collection()","Firestore.collection()")}}doc(t){try{return new wa(this,Kp(this._delegate,t))}catch(e){throw Os(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ps(this,function bB(n,t){if(n=mn(n,pw),lx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Be(we.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ls(n,null,(e=t,new ba(sn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Os(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function oU(n,t,e){n=mn(n,mi);const i=Object.assign(Object.assign({},KB),e);return function(r){if(r.maxAttempts<1)throw new Be(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function mB(n,t,e){const i=new pr;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){const r=yield(a=n,RE(a).then(u=>u.datastore));var a;new cB(n.asyncQueue,r,e,t,i).run()})),i.promise}(Xi(n),r=>t(new sU(n,r)),i)}(this._delegate,e=>t(new a1(this,e)))}batch(){return Xi(this._delegate),new l1(new YP(this._delegate,t=>V_(this._delegate,t)))}loadBundle(t){return function xB(n,t){const e=Xi(n=mn(n,mi)),i=new DB;return function _B(n,t,e,i){const r=function(a,u){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,v){if(m instanceof Uint8Array)return gP(m,v);if(m instanceof ArrayBuffer)return gP(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new aB(m,u);var m}(e,dw(t));n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){!function sB(n,t,e){const i=it(n);var r;(r=(0,oe.Z)(function*(a,u,h){try{const m=yield u.getMetadata();if(yield function(L,U){const $=it(L),ie=Mr(U.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",De=>$.Ns.getBundleMetadata(De,U.id)).then(De=>!!De&&De.createTime.compareTo(ie)>=0)}(a.localStore,m))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(L=m).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);h._updateProgress(rP(m));const v=new VV(m,a.localStore,u.It);let C=yield u.wc();for(;C;){const L=yield v.Ou(C);L&&h._updateProgress(L),C=yield u.wc()}const T=yield v.complete();return yield Ru(a,T.Bu,void 0),yield function(L,U){const $=it(L);return $.persistence.runTransaction("Save bundle","readwrite",ie=>$.Ns.saveBundleMetadata(ie,U))}(a.localStore,m),h._completeWith(T.progress),Promise.resolve(T.$u)}catch(m){return Iu("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var L}),function(a,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield ox(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function kB(n,t){return function yB(n,t){return n.asyncQueue.enqueue((0,oe.Z)(function*(){return function(e,i){const r=it(e);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield OE(n),t)}))}(Xi(n=mn(n,mi)),t).then(e=>e?new ls(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ps(this,e):null)}}class $E extends gx{constructor(t){super(),this.firestore=t}convertBytes(t){return new bw(new Dc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return wa.forKey(e,this.firestore,null)}}class a1{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new $E(t)}get(t){const e=rg(t);return this._delegate.get(e).then(i=>new ww(this._firestore,new Pu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=rg(t);return i?(yx("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=rg(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=rg(t);return this._delegate.delete(e),this}}class l1{constructor(t){this._delegate=t}set(t,e,i){const r=rg(t);return i?(yx("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=rg(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=rg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class ig{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new _w(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Dw(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=ig.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let a=r.get(e);return a||(a=new ig(t,new $E(t),e),r.set(e,a)),a}}ig.INSTANCES=new WeakMap;class wa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new $E(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new wa(e,new di(e._delegate,i,new Xe(t)))}static forKey(t,e,i){return new wa(e,new di(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new B_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new B_(this.firestore,El(this._delegate,t))}catch(e){throw Os(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,nn.m9)(t))instanceof di&&TP(this._delegate,t)}set(t,e){e=yx("DocumentReference.set",e);try{return e?QP(this._delegate,t,e):QP(this._delegate,t)}catch(i){throw Os(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?HE(this._delegate,t):HE(this._delegate,t,e,...i)}catch(r){throw Os(r,"updateDoc()","DocumentReference.update()")}}delete(){return function nU(n){return V_(mn(n.firestore,mi),[new _c(n._key,ye.none())])}(this._delegate)}onSnapshot(...t){const e=c1(t),i=u1(t,r=>new ww(this.firestore,new Pu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return JP(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function JB(n){n=mn(n,di);const t=mn(n.firestore,mi),e=Xi(t),i=new ng(t);return function fB(n,t){const e=new pr;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(i=(0,oe.Z)(function*(r,a,u){try{const h=yield function(m,v){const C=it(m);return C.persistence.runTransaction("read document","readonly",T=>C.localDocuments.getDocument(T,v))}(r,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Be(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=O_(h,`Failed to get document '${a} from cache`);u.reject(m)}}),function(r,a,u){return i.apply(this,arguments)})(yield OE(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Pu(t,i,n._key,r,new tg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function XB(n){n=mn(n,di);const t=mn(n.firestore,mi);return bP(Xi(t),n._key,{source:"server"}).then(e=>mx(t,n,e))}(this._delegate):KP(this._delegate),e.then(i=>new ww(this.firestore,new Pu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new wa(this.firestore,this._delegate.withConverter(t?ig.getInstance(this.firestore,t):null))}}function Os(n,t,e){return n.message=n.message.replace(t,e),n}function c1(n){for(const t of n)if("object"==typeof t&&!vx(t))return t;return{}}function u1(n,t){var e,i;let r;return r=vx(n[0])?n[0]:vx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(t(a))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class ww{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return UP(this._delegate,t._delegate)}}class Dw extends ww{data(t){const e=this._delegate.data(t);return function NR(n,t){n||ct()}(void 0!==e),e}}class Ps{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new $E(t)}where(t,e,i){try{return new Ps(this.firestore,Hr(this._delegate,Nu(t,e,i)))}catch(r){throw Os(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ps(this.firestore,Hr(this._delegate,function $B(n,t="asc"){const e=t,i=UE("orderBy",n);return new HB(i,e)}(t,e)))}catch(i){throw Os(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ps(this.firestore,Hr(this._delegate,function GB(n){return SP("limit",n),new HP("limit",n,"F")}(t)))}catch(e){throw Os(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ps(this.firestore,Hr(this._delegate,function zB(n){return SP("limitToLast",n),new HP("limitToLast",n,"L")}(t)))}catch(e){throw Os(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ps(this.firestore,Hr(this._delegate,function ZB(...n){return new $P("startAt",n,!0)}(...t)))}catch(e){throw Os(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ps(this.firestore,Hr(this._delegate,function qB(...n){return new $P("startAfter",n,!1)}(...t)))}catch(e){throw Os(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ps(this.firestore,Hr(this._delegate,function WB(...n){return new GP("endBefore",n,!1)}(...t)))}catch(e){throw Os(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ps(this.firestore,Hr(this._delegate,function YB(...n){return new GP("endAt",n,!0)}(...t)))}catch(e){throw Os(e,"endAt()","Query.endAt()")}}isEqual(t){return MP(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function eU(n){n=mn(n,ls);const t=mn(n.firestore,mi),e=Xi(t),i=new ng(t);return function pB(n,t){const e=new pr;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(i=(0,oe.Z)(function*(r,a,u){try{const h=yield IE(r,a,!0),m=new aP(a,h.Hi),v=m.ju(h.documents),C=m.applyChanges(v,!1);u.resolve(C.snapshot)}catch(h){const m=O_(h,`Failed to execute query '${a} against cache`);u.reject(m)}}),function(r,a,u){return i.apply(this,arguments)})(yield OE(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Dh(t,i,n,r))}(this._delegate):"server"===t?.source?function tU(n){n=mn(n,ls);const t=mn(n.firestore,mi),e=Xi(t),i=new ng(t);return wP(e,n._query,{source:"server"}).then(r=>new Dh(t,i,n,r))}(this._delegate):Cc(this._delegate),e.then(i=>new bx(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=c1(t),i=u1(t,r=>new bx(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return JP(this._delegate,e,i)}withConverter(t){return new Ps(this.firestore,this._delegate.withConverter(t?ig.getInstance(this.firestore,t):null))}}class _U{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Dw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bx{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Dw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new _U(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Dw(this._firestore,i))})}isEqual(t){return UP(this._delegate,t._delegate)}}class B_ extends Ps{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new wa(this.firestore,t):null}doc(t){try{return new wa(this.firestore,void 0===t?Kp(this._delegate):Kp(this._delegate,t))}catch(e){throw Os(e,"doc()","CollectionReference.doc()")}}add(t){return function iU(n,t){const e=mn(n.firestore,mi),i=Kp(n),r=jE(n.converter,t);return V_(e,[LE(Xp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ye.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new wa(this.firestore,e))}isEqual(t){return TP(this._delegate,t._delegate)}withConverter(t){return new B_(this.firestore,this._delegate.withConverter(t?ig.getInstance(this.firestore,t):null))}}function rg(n){return mn(n,di)}class wx{constructor(...t){this._delegate=new Ou(...t)}static documentId(){return new wx(Ci.keyField().canonicalString())}isEqual(t){return(t=(0,nn.m9)(t))instanceof Ou&&this._delegate._internalPath.isEqual(t._internalPath)}}class sg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function lU(){return new ux("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new sg(t)}static delete(){const t=function aU(){return new gw("deleteField")}();return t._methodName="FieldValue.delete",new sg(t)}static arrayUnion(...t){const e=XP(...t);return e._methodName="FieldValue.arrayUnion",new sg(e)}static arrayRemove(...t){const e=e1(...t);return e._methodName="FieldValue.arrayRemove",new sg(e)}static increment(t){const e=function cU(n){return new LB("increment",n)}(t);return e._methodName="FieldValue.increment",new sg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const yU={Firestore:o1,GeoPoint:NE,Timestamp:Xn,Blob:bw,Transaction:a1,WriteBatch:l1,DocumentReference:wa,DocumentSnapshot:ww,Query:Ps,QueryDocumentSnapshot:Dw,QuerySnapshot:bx,CollectionReference:B_,FieldPath:wx,FieldValue:sg,setLogLevel:function mU(n){!function $C(n){vl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function d1(n,t){return function wU(n,t=vw.z){return new oi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function Dx(n,t){return d1(n,t).pipe((0,At.U)(e=>({payload:e,type:"query"})))}function GE(n,t){return Dx(n,t).pipe(xn(void 0),_x(),(0,At.U)(([e,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const m=r.find(C=>C.doc.ref.isEqual(u.ref)),v=e?.payload.docs.find(C=>C.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),a}))}function h1(n,t,e){return GE(n,e).pipe(Cd((i,r)=>function CU(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function EU(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Cx(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Cx(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Cx(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),t),[]),n1(),(0,At.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Cx(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function f1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function bU(n){(function vU(n,t){n.INTERNAL.registerComponent(new Xf.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},yU)))})(n,(t,e)=>new o1(t,e,new gU)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(dU.Z);class p1{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=GE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,At.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(xn(void 0),_x(),Dr(([i,r])=>r.length>0||!i),(0,At.U)(([i,r])=>r),wi.iC)}auditTrail(t){return this.stateChanges(t).pipe(Cd((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=f1(t);return h1(this.query,e,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(t={}){return Dx(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),wi.iC)}get(t){return(0,gn.D)(this.query.get(t)).pipe(wi.iC)}add(t){return this.ref.add(t)}doc(t){return new g1(this.ref.doc(t),this.afs)}}class g1{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:a}=m1(i,e);return new p1(r,a,this.afs)}snapshotChanges(){return function DU(n,t){return d1(n,t).pipe(xn(void 0),_x(),(0,At.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,At.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,gn.D)(this.ref.get(t)).pipe(wi.iC)}}class IU{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?GE(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Dr(e=>e.length>0),wi.iC):GE(this.query,this.afs.schedulers.outsideAngular).pipe(wi.iC)}auditTrail(t){return this.stateChanges(t).pipe(Cd((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=f1(t);return h1(this.query,e,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(t={}){return Dx(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),wi.iC)}get(t){return(0,gn.D)(this.query.get(t)).pipe(wi.iC)}}const SU=new l.OlP("angularfire2.enableFirestorePersistence"),AU=new l.OlP("angularfire2.firestore.persistenceSettings"),TU=new l.OlP("angularfire2.firestore.settings"),MU=new l.OlP("angularfire2.firestore.use-emulator");function m1(n,t=(e=>e)){return{query:t(n),ref:n}}let zE=(()=>{class n{constructor(e,i,r,a,u,h,m,v,C,T,L,U,$,ie,De,Je,ot){this.schedulers=m;const _t=(0,rs.on)(e,h,i),ut=C;T&&Pv(_t,h,L,$,ie,De,U,Je),[this.firestore,this.persistenceEnabled$]=(0,rs.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const Pt=h.runOutsideAngular(()=>_t.firestore());if(a&&Pt.settings(a),ut&&Pt.useEmulator(...ut),r&&!Vo(u)){const Bt=()=>{try{return(0,gn.D)(Pt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(_n){return typeof console<"u"&&console.warn(_n),dt(!1)}};return[Pt,h.runOutsideAngular(Bt)]}return[Pt,dt(!1)]},[a,ut,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:u}=m1(r,i),h=this.schedulers.ngZone.run(()=>a);return new p1(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),a=this.firestore.collectionGroup(e);return new IU(r(a),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new g1(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rs.Dh),l.LFG(rs.xv,8),l.LFG(SU,8),l.LFG(TU,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(wi.HU),l.LFG(AU,8),l.LFG(MU,8),l.LFG(op,8),l.LFG($D,8),l.LFG(Mv,8),l.LFG(xv,8),l.LFG(kv,8),l.LFG(Rv,8),l.LFG(Ov,8),l.LFG(Am,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Il=(()=>{class n{constructor(e){this.router=e,this.app=(0,Yn.ZF)(va_firebase)}setData(e){this.data=e}getData(){let e=this.data;return this.clearData(),e}clearData(){this.data=void 0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(pn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZE=(()=>{class n{constructor(e,i){this.afs=e,this.transferService=i,this.app=(0,Yn.ZF)(va_firebase),this.db=Qp(this.app),this.carpoolConverter={toFirestore:r=>({driver:r.driver,id:r.id,passengers:r.passengers,startTime:r.startTime,arrivalTime:r.arrivalTime,totalSeats:r.totalSeats}),fromFirestore:(r,a)=>{const u=r.data(a);return new Fv(u.id,u.driver,u.passengers,u.date,u.startTime,u.arrivalTime,u.direction,u.totalSeats)}}}addCarpool(e){var i=this;return(0,oe.Z)(function*(){var r="";yield i.afs.collection("/Carpools").add(e).then(function(a){console.log("Carpool doc created with ID: ",a.id),r=a.id}).then(()=>{i.afs.doc("/Carpools/"+r).update({id:r})})})()}getAllCarpools(){return this.afs.collection("/Carpools").snapshotChanges()}getAllCarpoolsFromDate(e){var i=this;return(0,oe.Z)(function*(){var a,r=[];const h=Hr(El(i.db,"Carpools"),Nu("date","==",e));yield Cc(h).then(m=>{if(0==m.size)console.log("[CPDATA SERVICE] No carpools on "+e+".");else{const C=m.docs;for(var v in C){const T=C[v].data();a={id:T.id,driver:T.driver,passengers:T.passengers,date:T.date,startTime:T.startTime,arrivalTime:T.arrivalTime,direction:T.direction,totalSeats:T.totalSeats},console.log("[CPDATA SERVICE] Carpool found."),r.push(a)}i.transferService.setData(r)}}).catch(m=>{console.log("[CPDATA SERVICE] "+m)})})()}deleteCarpool(e){var i=this;return(0,oe.Z)(function*(){yield i.afs.doc("/Carpools/"+e.id).delete(),console.log("Carpool deleted: "+e.id)})()}updateCarpoolTime(e,i){var r=this;return(0,oe.Z)(function*(){yield r.afs.doc("/Carpools/"+e.id).update({startTime:i})})()}updateCarpoolPassengers(e,i){var r=this;return(0,oe.Z)(function*(){yield r.afs.doc("/Carpools/"+e.id).update({passengers:i}),console.log("[CPDATA SERVICE] Updated carpool with id: "+e.id)})()}addCarpoolPassenger(e,i){var r=this;return(0,oe.Z)(function*(){const a=Kp(r.db,"Carpools",e);yield HE(a,{passengers:XP(i)}),console.log("[CPDATA SERVICE] Added passenger to : "+e)})()}removeCarpoolPassenger(e,i){var r=this;return(0,oe.Z)(function*(){const a=Kp(r.db,"Carpools",e.id);yield HE(a,{passengers:e1(i)}),console.log("[CPDATA SERVICE] Removed passenger from : "+e.id)})()}getCarpoolWithId(e){var i=this;return(0,oe.Z)(function*(){const r=Kp(i.db,"Carpools",e).withConverter(i.carpoolConverter),a=yield KP(r);if(a.exists())return console.log(a.data()),a.data();console.log("No such document!")})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zE),l.LFG(Il))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eh=(()=>{class n{constructor(){}saveLocalData(e,i){localStorage.setItem(e,i)}getLocalData(e){return localStorage.getItem(e)}removeLocalData(e){localStorage.removeItem(e)}clearLocalData(){localStorage.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Da=(()=>{class n{constructor(e,i,r,a){this.afs=e,this.transferService=i,this.localService=r,this.router=a,this.app=(0,Yn.ZF)(va_firebase),this.db=Qp(this.app)}checkIn(e){var i=this;return(0,oe.Z)(function*(){const a=Hr(El(i.db,"GoogleAccounts"),Nu("uid","==",e.uid));(yield Cc(a)).size>0?(console.log("[GUDATA SERVICE] Google account found: "+e.displayName),i.account=e,console.log("[GUDATA SERVICE] ACCOUNT is set."),yield i.updateAccountPhoto(e).then().catch(h=>{console.log("[GUDATA SERVICE] "+h)})):(console.log("[GUDATA SERVICE] New user, account not found."),yield i.addGoogleAccount(e).then().catch(h=>{console.log("[GUDATA SERVICE] "+h)}))})()}updateAccountPhoto(e){var i=this;return(0,oe.Z)(function*(){yield i.afs.collection("/GoogleAccounts").doc(e.uid).update({photoURL:e.photoURL}).then(r=>{console.log("[GUDATA SERVICE] Google account photo updated.")}).catch(r=>{console.log("[GUDATA SERVICE] "+r)})})()}addGoogleAccount(e){var i=this;return(0,oe.Z)(function*(){return yield i.afs.collection("/GoogleAccounts").doc(e.uid).set({uid:e.uid,displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,photoURL:e.photoURL}).then(r=>{console.log("[GUDATA SERVICE] New account added: "+e.displayName),i.account=e,console.log("[GUDATA SERVICE] ACCOUNT is set.")}).catch(r=>{console.log("[GUDATA SERVICE] "+r)})})()}deleteAccount(e){var i=this;return(0,oe.Z)(function*(){yield i.afs.doc("/GoogleAccounts/"+e.uid).delete().then(()=>{console.log("[GUDATA SERVICE] Google account deleted.")})})()}getAllAccounts(){var e=this;return(0,oe.Z)(function*(){var r,i=[];const u=Hr(El(e.db,"GoogleAccounts"));yield Cc(u).then(h=>{if(0==h.size)console.log("[GUDATA SERVICE] No accounts found.");else{const v=h.docs;for(var m in v){const C=v[m].data();r={uid:C.uid,email:C.email,displayName:C.displayName,photoURL:C.photoURL,emailVerified:C.emailVerified},console.log("[GUDATA SERVICE] Account found: "+r.displayName),i.push(r)}e.transferService.setData(i)}}).catch(h=>{console.log("[GUDATA SERVICE] "+h)})})()}getAccount(e){var i=this;return(0,oe.Z)(function*(){var r;const u=Hr(El(i.db,"GoogleAccounts"),Nu("uid","==",e));yield Cc(u).then(h=>{if(0==h.size)console.log("[GUDATA SERVICE] Account not found.");else{const v=h.docs;for(var m in v){const C=v[m].data();r={uid:C.uid,email:C.email,displayName:C.displayname,photoURL:C.photoURL,emailVerified:C.emailVerified},console.log("[GUDATA SERVICE] User found.")}i.transferService.setData(r)}}).catch(h=>{console.log("[GUDATA SERVICE] "+h)})})()}checkAccountStatus(){var e=this;return(0,oe.Z)(function*(){if(null==e.account){const i=e.localService.getLocalData("uid");null!=i?yield e.getAccount(i).then(r=>{e.account=e.transferService.getData(),e.transferService.clearData()}):(console.log("[GUDATA SERVICE] This user's data is not saved in local cache."),e.router.navigate(["login"]))}})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zE),l.LFG(Il),l.LFG(Eh),l.LFG(pn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xs=(()=>{class n{constructor(e,i,r,a,u){this.afs=e,this.gudataService=i,this.transferService=r,this.localService=a,this.router=u,this.app=(0,Yn.ZF)(va_firebase),this.db=Qp(this.app)}checkUser(){var e=this;return(0,oe.Z)(function*(){var i=e.gudataService.account.uid;const a=Hr(El(e.db,"Users"),Nu("uid","==",i));(yield Cc(a)).size>0?(console.log("[UDATA SERVICE] User found."),yield e.assignUser(i).then().catch(h=>{console.log("[UDATA SERVICE] "+h)})):console.log("[UDATA SERVICE] User not found.")})()}assignUser(e){var i=this;return(0,oe.Z)(function*(){const a=Hr(El(i.db,"Users"),Nu("uid","==",e));yield Cc(a).then(u=>{if(0==u.size)console.log("[UDATA SERVICE] User not found.");else{const m=u.docs;for(var h in m){const v=m[h].data();i.user={uid:v.uid,email:v.email,photoURL:v.photoURL,type:v.type,name:v.name,phone:v.phone,address:v.address,add:v.add,city:v.city,state:v.state,zip:v.zip,initialized:v.initialized},console.log("[UDATA SERVICE] USER is set.")}}}).catch(u=>{console.log("[UDATA SERVICE] "+u)})})()}addUser(e){var i=this;return(0,oe.Z)(function*(){return i.afs.collection("/Users").doc(e.uid).set({uid:e.uid,email:e.email,photoURL:e.photoURL,type:e.type,name:e.name,phone:e.phone,address:e.address,add:e.add,city:e.city,state:e.state,zip:e.zip,initialized:e.initialized}).then(r=>{console.log("User added: "+e.name),console.log("[UDATA SERVICE] USER is set.")}).catch(r=>{console.log("[UDATA SERVICE] "+r)})})()}updateUser(e){var i=this;return(0,oe.Z)(function*(){yield i.afs.collection("/Users").doc(e.uid).update({email:e.email,type:e.type,name:e.name,phone:e.phone,address:e.address,add:e.add,city:e.city,state:e.state,zip:e.zip,initialized:!0}).then(r=>{i.user=e,i.localService.saveLocalData("uid",i.user.uid),console.log("[UDATA SERVICE] USER is set.")}).catch(r=>{console.log("[UDATA SERVICE] "+r)})})()}getUser(e){var i=this;return(0,oe.Z)(function*(){var r;const u=Hr(El(i.db,"Users"),Nu("uid","==",e));yield Cc(u).then(h=>{if(0==h.size)console.log("[UDATA SERVICE] User not found.");else{const v=h.docs;for(var m in v){const C=v[m].data();r={uid:C.uid,email:C.email,photoURL:C.photoURL,type:C.type,name:C.name,phone:C.phone,address:C.address,add:C.add,city:C.city,state:C.state,zip:C.zip,initialized:C.initialized},console.log("[UDATA SERVICE] User found.")}i.transferService.setData(r)}}).catch(h=>{console.log("[UDATA SERVICE] "+h)})})()}checkLoginStatus(){var e=this;return(0,oe.Z)(function*(){if(null==e.user){const i=e.localService.getLocalData("uid");null!=i?yield e.getUser(i).then(r=>{e.user=e.transferService.getData(),e.transferService.clearData()}):(console.log("[UDATA SERVICE] This user's data is not saved in local cache."),e.router.navigate(["login"]))}})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zE),l.LFG(Da),l.LFG(Il),l.LFG(Eh),l.LFG(pn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ei(n){return null!=n&&"false"!=`${n}`}function Cw(n,t=0){return function xU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Ew(n){return Array.isArray(n)?n:[n]}function er(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Oi(n){return n instanceof l.SBq?n.nativeElement:n}function _1(n,t=vw.z){return(0,Yi.e)((e,i)=>{let r=null,a=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=a;a=null,i.next(v)}};function m(){const v=u+n,C=t.now();if(C<v)return r=this.schedule(void 0,v-C),void i.add(r);h()}e.subscribe((0,Zn.x)(i,v=>{a=v,u=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{a=r=null}))})}let Ex,y1=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RU=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Oi(e);return new oi.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Mt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(y1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OU=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ei(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Cw(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(_1(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(RU),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),v1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[y1]}),n})();try{Ex=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ex=!1}let U_,cs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function vr(n){return n===yr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ex)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const b1=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function w1(){if(U_)return U_;if("object"!=typeof document||!document)return U_=new Set(b1),U_;let n=document.createElement("input");return U_=new Set(b1.filter(t=>(n.setAttribute("type",t),n.type===t))),U_}let Iw,ag,Ix;function og(n){return function NU(){if(null==Iw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Iw=!0}))}finally{Iw=Iw||!1}return Iw}()?n:!!n.capture}function FU(){if(null==ag){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ag=!1,ag;if("scrollBehavior"in document.documentElement.style)ag=!0;else{const n=Element.prototype.scrollTo;ag=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ag}function Sx(n){if(function LU(){if(null==Ix){const n=typeof document<"u"?document.head:null;Ix=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Ix}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function D1(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Sl(n){return n.composedPath?n.composedPath()[0]:n.target}function Ax(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function xx(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function E1(n){return Dr((t,e)=>n<=e)}var $U=N(5032);function Ec(n){return(0,Yi.e)((t,e)=>{(0,ar.Xf)(n).subscribe((0,Zn.x)(e,()=>e.complete(),$U.Z)),!e.closed&&t.subscribe(e)})}const I1=new Set;let $_,GU=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ZU}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function zU(n){if(!I1.has(n))try{$_||($_=document.createElement("style"),$_.setAttribute("type","text/css"),document.head.appendChild($_)),$_.sheet&&($_.sheet.insertRule(`@media ${n} {body{ }}`,0),I1.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let qU=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Mt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return S1(Ew(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let a=_f(S1(Ew(e)).map(u=>this._registerQuery(u).observable));return a=bf(a.pipe(ts(1)),a.pipe(E1(1),_1(0))),a.pipe((0,At.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:m,query:v})=>{h.matches=h.matches||m,h.breakpoints[v]=m}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),a={observable:new oi.y(u=>{const h=m=>this._zone.run(()=>u.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(xn(i),(0,At.U)(({matches:u})=>({query:e,matches:u})),Ec(this._destroySubject)),mql:i};return this._queries.set(e,a),a}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(GU),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function S1(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let KU=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function JU(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function QU(n){try{return n.frameElement}catch{return null}}(function a2(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===x1(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),a=x1(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function s2(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function o2(n){return!function e2(n){return function n2(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function XU(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function t2(n){return function r2(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||M1(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function M1(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function x1(n){if(!M1(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class l2{constructor(t,e,i,r,a=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ts(1)).subscribe(t)}}let c2=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new l2(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(KU),l.LFG(l.R0b),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u2=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=ei(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=ei(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=D1(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(c2),l.Y36(de))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[l.TTD]}),n})();function kx(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Rx(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const d2=new l.OlP("cdk-input-modality-detector-options"),h2={ignoreKeys:[18,17,224,91,16]},G_=og({passive:!0,capture:!0});let f2=(()=>{class n{constructor(e,i,r,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Ts(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Sl(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kx(u)?"keyboard":"mouse"),this._mostRecentTarget=Sl(u))},this._onTouchstart=u=>{Rx(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Sl(u))},this._options={...h2,...a},this.modalityDetected=this._modality.pipe(E1(1)),this.modalityChanged=this.modalityDetected.pipe(n1()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,G_),r.addEventListener("mousedown",this._onMousedown,G_),r.addEventListener("touchstart",this._onTouchstart,G_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,G_),document.removeEventListener("mousedown",this._onMousedown,G_),document.removeEventListener("touchstart",this._onTouchstart,G_))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cs),l.LFG(l.R0b),l.LFG(de),l.LFG(d2,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g2=new l.OlP("cdk-focus-monitor-default-options"),JE=og({passive:!0,capture:!0});let Ox=(()=>{class n{constructor(e,i,r,a,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Mt.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=Sl(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=Oi(e);if(!this._platform.isBrowser||1!==r.nodeType)return dt(null);const a=Sx(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Mt.x,rootNode:a};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Oi(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const a=Oi(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),a=Sl(e);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,JE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,JE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ec(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,JE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,JE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,a)=>{(a===e||r.checkChildren&&a.contains(e))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const a=e.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(cs),l.LFG(f2),l.LFG(de,8),l.LFG(g2,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m2=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new l.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Ox))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const R1="cdk-high-contrast-black-on-white",O1="cdk-high-contrast-white-on-black",Px="cdk-high-contrast-active";let P1=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,l.f3M)(qU).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Px,R1,O1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Px,R1):2===i&&e.add(Px,O1)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cs),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_2=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(P1))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v1]}),n})();const y2=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function v2(){return(0,l.f3M)(de)}}),b2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ih=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function w2(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?b2.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(y2,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const C2=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function D2(){return!0}});let Ic=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Ax()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(P1),l.LFG(C2,8),l.LFG(de))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Tw,Tw]}),n})();function E2(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ei(t)}}}function Nx(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function L1(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ei(t)}}}function I2(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Cw(e):this.defaultTabIndex}}}function S2(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==t&&(this.errorState=a,this.stateChanges.next())}}}const A2=new l.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function T2(){return(0,l.f3M)(l.soG)}});class $r{constructor(){this._localeChanges=new Mt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const lg=new l.OlP("mat-date-formats"),M2=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Fx(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let x2=(()=>{class n extends $r{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Fx(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Fx(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Fx(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let a=this._createDateWithOverflow(e,i,r);return a.getMonth(),a}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(M2.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const a=new Date;return a.setFullYear(e,i,r),a.setHours(0,0,0,0),a}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(A2,8),l.LFG(cs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const k2={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let R2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:$r,useClass:x2}]}),n})(),O2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:lg,useValue:k2}],imports:[R2]}),n})(),V1=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class P2{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const B1={enterDuration:225,exitDuration:150},Lx=og({passive:!0}),U1=["mousedown","touchstart"],j1=["mouseup","mouseleave","touchend","touchcancel"];class F2{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Oi(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...B1,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function L2(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,m=e-r.top,v=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=h-u+"px",C.style.top=m-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(C);const T=window.getComputedStyle(C),U=T.transitionDuration,$="none"===T.transitionProperty||"0s"===U||"0s, 0s"===U,ie=new P2(this,C,i,$);C.style.transform="scale3d(1, 1, 1)",ie.state=0,i.persistent||(this._mostRecentTransientRipple=ie);let De=null;return!$&&(v||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Je=()=>this._finishRippleTransition(ie),ot=()=>this._destroyRipple(ie);C.addEventListener("transitionend",Je),C.addEventListener("transitioncancel",ot),De={onTransitionEnd:Je,onTransitionCancel:ot}}),this._activeRipples.set(ie,De),($||!v)&&this._finishRippleTransition(ie),ie}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...B1,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Oi(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(U1))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(j1),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=kx(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Rx(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Lx)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(U1.forEach(t=>{this._triggerElement.removeEventListener(t,this,Lx)}),this._pointerUpEventsRegistered&&j1.forEach(t=>{this._triggerElement.removeEventListener(t,this,Lx)}))}}const V2=new l.OlP("mat-ripple-global-options");let Vx=(()=>{class n{constructor(e,i,r,a,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new F2(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(cs),l.Y36(V2,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),H1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ic,Ic]}),n})();var B2=N(1144);const U2=["addListener","removeListener"],j2=["addEventListener","removeEventListener"],H2=["on","off"];function XE(n,t,e,i){if((0,ua.m)(e)&&(i=e,e=void 0),i)return XE(n,t,e).pipe(Gl(i));const[r,a]=function z2(n){return(0,ua.m)(n.addEventListener)&&(0,ua.m)(n.removeEventListener)}(n)?j2.map(u=>h=>n[u](t,h,e)):function $2(n){return(0,ua.m)(n.addListener)&&(0,ua.m)(n.removeListener)}(n)?U2.map($1(n,t)):function G2(n){return(0,ua.m)(n.on)&&(0,ua.m)(n.off)}(n)?H2.map($1(n,t)):[];if(!r&&(0,B2.z)(n))return(0,lr.z)(u=>XE(u,t,e))((0,ar.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new oi.y(u=>{const h=(...m)=>u.next(1<m.length?m:m[0]);return r(h),()=>a(h)})}function $1(n,t){return e=>i=>n[e](t,i)}class G1{}const Fu="*";function Bx(n,t){return{type:7,name:n,definitions:t,options:{}}}function xw(n,t=null){return{type:4,styles:t,timings:n}}function z1(n,t=null){return{type:2,steps:n,options:t}}function Al(n){return{type:6,styles:n,offset:null}}function Ux(n,t,e){return{type:0,name:n,styles:t,options:e}}function Z1(n){return{type:5,steps:n}}function kw(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function q1(n){Promise.resolve(null).then(n)}class Rw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){q1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class W1{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const a=this.players.length;0==a?q1(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const q2=["connectionContainer"],W2=["inputContainer"],Y2=["label"];function K2(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function Q2(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function J2(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function X2(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function ej(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function tj(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.YNc(2,J2,4,1,"ng-container",12),l.YNc(3,X2,1,0,"ng-content",12),l.YNc(4,ej,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function nj(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function ij(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function rj(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function sj(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function oj(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,sj,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const aj=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],lj=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],cj=new l.OlP("MatError"),uj={transitionMessages:Bx("transitionMessages",[Ux("enter",Al({opacity:1,transform:"translateY(0%)"})),kw("void => enter",[Al({opacity:0,transform:"translateY(-5px)"}),xw("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Hx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const dj=new l.OlP("MatHint");let Y1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),hj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const K1=new l.OlP("MatPrefix");let fj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matPrefix",""]],features:[l._Bn([{provide:K1,useExisting:n}])]}),n})();const pj=new l.OlP("MatSuffix");let Q1=0;const mj=Nx(class{constructor(n){this._elementRef=n}},"primary"),_j=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),$x=new l.OlP("MatFormField");let yj=(()=>{class n extends mj{constructor(e,i,r,a,u,h,m){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Mt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Q1++,this._labelId="mat-form-field-label-"+Q1++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==m,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ei(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(xn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ec(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ec(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ss.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ec(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,XE(this._label.nativeElement,"transitionend").pipe(ts(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const C=i.querySelectorAll(`${r}, ${a}`);for(let T=0;T<C.length;T++)C[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const m=i.querySelectorAll(r),v=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(C),L=e.children,U=this._getStartEnd(L[0].getBoundingClientRect());let $=0;for(let ie=0;ie<L.length;ie++)$+=L[ie].offsetWidth;u=Math.abs(U-T)-5,h=$>0?.75*$+10:0}for(let C=0;C<m.length;C++)m[C].style.width=`${u}px`;for(let C=0;C<v.length;C++)v[C].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Ih,8),l.Y36(_j,8),l.Y36(cs),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,Hx,5),l.Suo(r,Hx,7),l.Suo(r,Y1,5),l.Suo(r,Y1,7),l.Suo(r,hj,5),l.Suo(r,cj,5),l.Suo(r,dj,5),l.Suo(r,K1,5),l.Suo(r,pj,5)),2&e){let a;l.iGM(a=l.CRH())&&(i._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(i._controlStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(i._placeholderChild=a.first),l.iGM(a=l.CRH())&&(i._errorChildren=a),l.iGM(a=l.CRH())&&(i._hintChildren=a),l.iGM(a=l.CRH())&&(i._prefixChildren=a),l.iGM(a=l.CRH())&&(i._suffixChildren=a)}},viewQuery:function(e,i){if(1&e&&(l.Gf(q2,7),l.Gf(W2,5),l.Gf(Y2,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:$x,useExisting:n}]),l.qOj],ngContentSelectors:lj,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(l.F$t(aj),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),l.YNc(3,K2,9,0,"ng-container",3),l.YNc(4,Q2,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,tj,5,16,"label",8),l.qZA()(),l.YNc(10,nj,2,0,"div",9),l.qZA(),l.YNc(11,ij,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,rj,2,1,"div",12),l.YNc(14,oj,5,2,"div",13),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[Hn,Fs,Ta,OU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[uj.transitionMessages]},changeDetection:0}),n})(),Gx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zu,Ic,v1,Ic]}),n})();var X1=N(4408);const Ow={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Ow;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(a=>{e=void 0,n(a)});return new Vi.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Ow;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Ow;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var eN=N(7565);const tN=new class bj extends eN.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class vj extends X1.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ow.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Ow.cancelAnimationFrame(e),t._scheduled=void 0)}});let zx,wj=1;const eI={};function nN(n){return n in eI&&(delete eI[n],!0)}const Dj={setImmediate(n){const t=wj++;return eI[t]=!0,zx||(zx=Promise.resolve()),zx.then(()=>nN(t)&&n()),t},clearImmediate(n){nN(n)}},{setImmediate:Cj,clearImmediate:Ej}=Dj,tI={setImmediate(...n){const{delegate:t}=tI;return(t?.setImmediate||Cj)(...n)},clearImmediate(n){const{delegate:t}=tI;return(t?.clearImmediate||Ej)(n)},delegate:void 0};new class Sj extends eN.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Ij extends X1.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=tI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(tI.clearImmediate(e),t._scheduled=void 0)}});var Mj=N(3532);function iN(n=0,t,e=vw.P){let i=-1;return null!=t&&((0,Mj.K)(t)?e=t:i=t),new oi.y(r=>{let a=function xj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;a<0&&(a=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function rN(n,t=vw.z){return function Tj(n){return(0,Yi.e)((t,e)=>{let i=!1,r=null,a=null,u=!1;const h=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const v=r;r=null,e.next(v)}u&&e.complete()},m=()=>{a=null,u&&e.complete()};t.subscribe((0,Zn.x)(e,v=>{i=!0,r=v,a||(0,ar.Xf)(n(v)).subscribe(a=(0,Zn.x)(e,h,m))},()=>{u=!0,(!i||!a||a.closed)&&e.complete()}))})}(()=>iN(n,t))}let sN=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Mt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new oi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(rN(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):dt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Dr(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Oi(i),a=e.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>XE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(cs),l.LFG(de,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Mt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,a=r.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(rN(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cs),l.LFG(l.R0b),l.LFG(de,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),oN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Tw,nI,Tw,nI]}),n})();class qx{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Wx extends qx{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Oj extends qx{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Pj extends qx{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class aN{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Wx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Oj?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Pj?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Nj extends aN{constructor(t,e,i,r,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=a}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let lN=(()=>{class n extends aN{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(a,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(de))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),cN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const uN=FU();class Fj{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=er(-this._previousScrollPosition.left),t.style.top=er(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),uN&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),uN&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Lj{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class dN{enable(){}disable(){}attach(){}}function Yx(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function hN(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Vj{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Yx(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Bj=(()=>{class n{constructor(e,i,r,a){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new dN,this.close=u=>new Lj(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Fj(this._viewportRuler,this._document),this.reposition=u=>new Vj(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(sN),l.LFG(Zx),l.LFG(l.R0b),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fN{constructor(t){if(this.scrollStrategy=new dN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Uj{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let pN=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jj=(()=>{class n extends pN{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const h=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hj=(()=>{class n extends pN{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Sl(a)},this._clickListener=a=>{const u=Sl(a),h="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const C=m[v];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(h))break;const T=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(a)):T.next(a)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de),l.LFG(cs),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gN=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Ax()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(e),Ax()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de),l.LFG(cs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $j{constructor(t,e,i,r,a,u,h,m,v,C=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=h,this._location=m,this._outsideClickDispatcher=v,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Mt.x,this._attachments=new Mt.x,this._detachments=new Mt.x,this._locationChanges=Vi.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Mt.x,this._outsidePointerEvents=new Mt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ts(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=er(this._config.width),t.height=er(this._config.height),t.minWidth=er(this._config.minWidth),t.minHeight=er(this._config.minHeight),t.maxWidth=er(this._config.maxWidth),t.maxHeight=er(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Ew(e||[]).filter(a=>!!a);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ec((0,ss.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const mN="cdk-overlay-connected-position-bounding-box",Gj=/([A-Za-z%]+)$/;class _N{constructor(t,e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mt.x,this._resizeSubscription=Vi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(mN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let h of this._preferredPositions){let m=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(m,e,h),C=this._getOverlayFit(v,e,i,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(C,v,i)?a.push({position:h,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:v,originPoint:m,position:h,overlayRect:e})}if(a.length){let h=null,m=-1;for(const v of a){const C=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);C>m&&(m=C,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(mN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,a;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),a="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(a-=e.top),{x:r,y:a}}_getOverlayPoint(t,e,i){let r,a;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+a}}_getOverlayFit(t,e,i,r){const a=vN(e);let{x:u,y:h}=t,m=this._getOffset(r,"x"),v=this._getOffset(r,"y");m&&(u+=m),v&&(h+=v);let L=0-h,U=h+a.height-i.height,$=this._subtractOverflows(a.width,0-u,u+a.width-i.width),ie=this._subtractOverflows(a.height,L,U),De=$*ie;return{visibleArea:De,isCompletelyWithinViewport:a.width*a.height===De,fitsInViewportVertically:ie===a.height,fitsInViewportHorizontally:$==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,a=i.right-e.x,u=yN(this._overlayRef.getConfig().minHeight),h=yN(this._overlayRef.getConfig().minWidth),v=t.fitsInViewportHorizontally||null!=h&&h<=a;return(t.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=vN(e),a=this._viewportRect,u=Math.max(t.x+r.width-a.width,0),h=Math.max(t.y+r.height-a.height,0),m=Math.max(a.top-i.top-t.y,0),v=Math.max(a.left-i.left-t.x,0);let C=0,T=0;return C=r.width<=a.width?v||-u:t.x<this._viewportMargin?a.left-i.left-t.x:0,T=r.height<=a.height?m||-h:t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x:C,y:T},{x:t.x+C,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Uj(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let a,u,h,C,T,L;if("top"===e.overlayY)u=t.y,a=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,a=i.height-h+this._viewportMargin;else{const U=Math.min(i.bottom-t.y+i.top,t.y),$=this._lastBoundingBoxSize.height;a=2*U,u=t.y-U,a>$&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-$/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)L=i.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)T=t.x,C=i.right-t.x;else{const U=Math.min(i.right-t.x+i.left,t.x),$=this._lastBoundingBoxSize.width;C=2*U,T=t.x-U,C>$&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-$/2)}return{top:u,left:T,bottom:h,right:L,width:C,height:a}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=er(i.height),r.top=er(i.top),r.bottom=er(i.bottom),r.width=er(i.width),r.left=er(i.left),r.right=er(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=er(a)),u&&(r.maxWidth=er(u))}this._lastBoundingBoxSize=i,cg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){cg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();cg(i,this._getExactOverlayY(e,t,C)),cg(i,this._getExactOverlayX(e,t,C))}else i.position="static";let h="",m=this._getOffset(e,"x"),v=this._getOffset(e,"y");m&&(h+=`translateX(${m}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=er(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=er(u.maxWidth):a&&(i.maxWidth="")),cg(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=er(a.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=er(a.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hN(t,i),isOriginOutsideView:Yx(t,i),isOverlayClipped:hN(e,i),isOverlayOutsideView:Yx(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ew(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function cg(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function yN(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Gj);return e&&"px"!==e?null:parseFloat(t)}return n||null}function vN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const bN="cdk-global-overlay-wrapper";class zj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(bN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:h}=i,m=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==a&&"100vh"!==a||h&&"100%"!==h&&"100vh"!==h),C=this._xPosition,T=this._xOffset,L="rtl"===this._overlayRef.getConfig().direction;let U="",$="",ie="";m?ie="flex-start":"center"===C?(ie="center",L?$=T:U=T):L?"left"===C||"end"===C?(ie="flex-end",U=T):("right"===C||"start"===C)&&(ie="flex-start",$=T):"left"===C||"start"===C?(ie="flex-start",U=T):("right"===C||"end"===C)&&(ie="flex-end",$=T),t.position=this._cssPosition,t.marginLeft=m?"0":U,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":$,e.justifyContent=ie,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(bN),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Zj=(()=>{class n{constructor(e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new zj}flexibleConnectedTo(e){return new _N(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Zx),l.LFG(de),l.LFG(cs),l.LFG(gN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qj=0,iI=(()=>{class n{constructor(e,i,r,a,u,h,m,v,C,T,L,U){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=h,this._ngZone=m,this._document=v,this._directionality=C,this._location=T,this._outsideClickDispatcher=L,this._animationsModuleType=U}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new fN(e);return u.direction=u.direction||this._directionality.value,new $j(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+qj++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new Nj(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Bj),l.LFG(gN),l.LFG(l._Vd),l.LFG(Zj),l.LFG(jj),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(de),l.LFG(Ih),l.LFG(Le),l.LFG(Hj),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Kj={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[iI],useFactory:function Yj(n){return()=>n.scrollStrategies.reposition()}};let Qj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iI,Kj],imports:[Tw,cN,oN,oN]}),n})();const Jj=["mat-button",""],Xj=["*"],tH=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],nH=Nx(E2(L1(class{constructor(n){this._elementRef=n}})));let Kx=(()=>{class n extends nH{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of tH)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Ox),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&l.Gf(Vx,5),2&e){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Jj,ngContentSelectors:Xj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Vx],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),iH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[H1,Ic,Ic]}),n})();const wN=og({passive:!0});let rH=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return da.E;const i=Oi(e),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new Mt.x,u="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:m.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,wN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",h,wN)}}),a}stopMonitoring(e){const i=Oi(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cs),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const CN=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),sH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let oH=0;const aH=S2(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Mt.x}});let lH=(()=>{class n extends aH{constructor(e,i,r,a,u,h,m,v,C,T){super(h,a,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=v,this._formField=T,this._uid="mat-input-"+oH++,this.focused=!1,this.stateChanges=new Mt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>w1().has($)),this._iOSKeyupListener=$=>{const ie=$.target;!ie.value&&0===ie.selectionStart&&0===ie.selectionEnd&&(ie.setSelectionRange(1,1),ie.setSelectionRange(0,0))};const L=this._elementRef.nativeElement,U=L.nodeName.toLowerCase();this._inputValueAccessor=m||L,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ei(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Xr.required)??!1}set required(e){this._required=ei(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&w1().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ei(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){sH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(cs),l.Y36(Wi,10),l.Y36(Ws,8),l.Y36(bd,8),l.Y36(V1),l.Y36(CN,10),l.Y36(rH),l.Y36(l.R0b),l.Y36($x,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:Hx,useExisting:n}]),l.qOj,l.TTD]}),n})(),cH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[V1],imports:[DN,Gx,Ic,DN,Gx]}),n})();const uH=["mat-calendar-body",""];function dH(n,t){if(1&n&&(l.TgZ(0,"tr",2)(1,"td",3),l._uU(2),l.qZA()()),2&n){const e=l.oxw();l.xp6(1),l.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),l.uIk("colspan",e.numCols),l.xp6(1),l.hij(" ",e.label," ")}}function hH(n,t){if(1&n&&(l.TgZ(0,"td",3),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),l.uIk("colspan",e._firstRowOffset),l.xp6(1),l.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function fH(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",7)(1,"button",8),l.NdJ("click",function(r){const u=l.CHM(e).$implicit,h=l.oxw(2);return l.KtG(h._cellClicked(u,r))})("focus",function(r){const u=l.CHM(e).$implicit,h=l.oxw(2);return l.KtG(h._emitActiveDateChange(u,r))}),l.TgZ(2,"div",9),l._uU(3),l.qZA(),l._UZ(4,"div",10),l.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw().index,a=l.oxw();l.Udp("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),l.uIk("data-mat-row",r)("data-mat-col",i),l.xp6(1),l.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",a._isActiveCell(r,i))("mat-calendar-body-range-start",a._isRangeStart(e.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",a._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",a._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",a._isInPreview(e.compareValue)),l.Q6J("ngClass",e.cssClasses)("tabindex",a._isActiveCell(r,i)?0:-1),l.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",a._isSelected(e.compareValue))("aria-current",a.todayValue===e.compareValue?"date":null),l.xp6(1),l.ekj("mat-calendar-body-selected",a._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",a.todayValue===e.compareValue),l.xp6(1),l.hij(" ",e.displayValue," ")}}function pH(n,t){if(1&n&&(l.TgZ(0,"tr",4),l.YNc(1,hH,2,6,"td",5),l.YNc(2,fH,5,47,"td",6),l.qZA()),2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.xp6(1),l.Q6J("ngIf",0===i&&r._firstRowOffset),l.xp6(1),l.Q6J("ngForOf",e)}}function gH(n,t){if(1&n&&(l.TgZ(0,"th",5)(1,"span",6),l._uU(2),l.qZA(),l.TgZ(3,"span",7),l._uU(4),l.qZA()()),2&n){const e=t.$implicit;l.xp6(2),l.Oqu(e.long),l.xp6(2),l.Oqu(e.narrow)}}const mH=["*"];function _H(n,t){}function yH(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-month-view",5),l.NdJ("activeDateChange",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a.activeDate=r)})("_userSelection",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a._dateSelected(r))}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function vH(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-year-view",6),l.NdJ("activeDateChange",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a.activeDate=r)})("monthSelected",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a._monthSelectedInYearView(r))})("selectedChange",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a._goToDateInView(r,"month"))}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function bH(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-multi-year-view",7),l.NdJ("activeDateChange",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a.activeDate=r)})("yearSelected",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a._yearSelectedInMultiYearView(r))})("selectedChange",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a._goToDateInView(r,"year"))}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function wH(n,t){}const DH=["button"];function CH(n,t){1&n&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"path",4),l.qZA())}const EH=[[["","matDatepickerToggleIcon",""]]],IH=["[matDatepickerToggleIcon]"];let Pw=(()=>{class n{constructor(){this.changes=new Mt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qx{constructor(t,e,i,r,a={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=a,this.compareValue=u,this.rawValue=h}}let z_=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new l.vpe,this.previewChange=new l.vpe,this.activeDateChange=new l.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const a=this._getCellFromElement(r.target);a&&this._ngZone.run(()=>this.previewChange.emit({value:a.enabled?a:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:a}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?a-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/a+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/a+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ts(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Jx(e,this.startValue,this.endValue)}_isRangeEnd(e){return Xx(e,this.startValue,this.endValue)}_isInRange(e){return ek(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Jx(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let a=this.rows[i][r-1];if(!a){const u=this.rows[i-1];a=u&&u[u.length-1]}return a&&!this._isRangeEnd(a.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let a=this.rows[i][r+1];if(!a){const u=this.rows[i+1];a=u&&u[0]}return a&&!this._isRangeStart(a.compareValue)}_isComparisonEnd(e){return Xx(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return ek(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Jx(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Xx(e,this.previewStart,this.previewEnd)}_isInPreview(e){return ek(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(EN(e)?i=e:EN(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),a=i.getAttribute("data-mat-col");if(r&&a)return this.rows[parseInt(r)][parseInt(a)]}return null}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[l.TTD],attrs:uH,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(l.YNc(0,dH,3,6,"tr",0),l.YNc(1,pH,3,2,"tr",1)),2&e&&(l.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),l.xp6(1),l.Q6J("ngForOf",i.rows))},dependencies:[fn,zi,Hn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function EN(n){return"TD"===n.nodeName}function Jx(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function Xx(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function ek(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class eo{constructor(t,e){this.start=t,this.end=e}}let Sh=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Mt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),SH=(()=>{class n extends Sh{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG($r))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const IN={provide:Sh,deps:[[new l.FiY,new l.tp0,Sh],$r],useFactory:function TH(n,t){return n||new SH(t)}},rI=new l.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let SN=(()=>{class n{constructor(e,i,r,a,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=a,this._rangeStrategy=u,this._rerenderSubscription=Vi.w0.EMPTY,this.selectedChange=new l.vpe,this._userSelection=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(xn(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let a,u;this._selected instanceof eo?(a=this._getDateInCurrentMonth(this._selected.start),u=this._getDateInCurrentMonth(this._selected.end)):a=u=this._getDateInCurrentMonth(this._selected),(a!==i||u!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!xx(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const a=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let a=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=a.slice(e).concat(a.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,a=this._firstWeekOffset;r<e;r++,a++){7==a&&(this._weeks.push([]),a=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),m=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),v=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new Qx(r+1,i[r],m,h,v,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),a=this._dateAdapter.getDate(e);return new Date(i,r,a).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof eo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(lg,8),l.Y36($r,8),l.Y36(Ih,8),l.Y36(rI,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&l.Gf(z_,5),2&e){let r;l.iGM(r=l.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[l.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l.YNc(3,gH,5,2,"th",2),l.qZA(),l.TgZ(4,"tr"),l._UZ(5,"th",3),l.qZA()(),l.TgZ(6,"tbody",4),l.NdJ("selectedValueChange",function(a){return i._dateSelected(a)})("activeDateChange",function(a){return i._updateActiveDate(a)})("previewChange",function(a){return i._previewChanged(a)})("keyup",function(a){return i._handleCalendarBodyKeyup(a)})("keydown",function(a){return i._handleCalendarBodyKeydown(a)}),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngForOf",i._weekdays),l.xp6(3),l.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[zi,z_],encapsulation:2,changeDetection:0}),n})(),AN=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Vi.w0.EMPTY,this.selectedChange=new l.vpe,this.yearSelected=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),TN(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(xn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Nw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,a=[];r<24;r++)a.push(i+r),4==a.length&&(this._years.push(a.map(u=>this._createCellForYear(u))),a=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),a=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(a)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Nw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Nw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Nw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),a=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Qx(e,r,r,this._shouldEnableYear(e),a)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof eo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36($r,8),l.Y36(Ih,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&l.Gf(z_,5),2&e){let r;l.iGM(r=l.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l._UZ(3,"th",2),l.qZA()(),l.TgZ(4,"tbody",3),l.NdJ("selectedValueChange",function(a){return i._yearSelected(a)})("activeDateChange",function(a){return i._updateActiveDate(a)})("keyup",function(a){return i._handleCalendarBodyKeyup(a)})("keydown",function(a){return i._handleCalendarBodyKeydown(a)}),l.qZA()()),2&e&&(l.xp6(4),l.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[z_],encapsulation:2,changeDetection:0}),n})();function TN(n,t,e,i,r){const a=n.getYear(t),u=n.getYear(e),h=MN(n,i,r);return Math.floor((a-h)/24)===Math.floor((u-h)/24)}function Nw(n,t,e,i){return function RH(n,t){return(n%t+t)%t}(n.getYear(t)-MN(n,e,i),24)}function MN(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let xN=(()=>{class n{constructor(e,i,r,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=a,this._rerenderSubscription=Vi.w0.EMPTY,this.selectedChange=new l.vpe,this.monthSelected=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(xn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const a=this._getDateFromMonth(i);this.selectedChange.emit(a)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),a=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new Qx(e,i.toLocaleUpperCase(),a,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let a=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(a)==e;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),a=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>a}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),a=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<a}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof eo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(lg,8),l.Y36($r,8),l.Y36(Ih,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&l.Gf(z_,5),2&e){let r;l.iGM(r=l.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l._UZ(3,"th",2),l.qZA()(),l.TgZ(4,"tbody",3),l.NdJ("selectedValueChange",function(a){return i._monthSelected(a)})("activeDateChange",function(a){return i._updateActiveDate(a)})("keyup",function(a){return i._handleCalendarBodyKeyup(a)})("keydown",function(a){return i._handleCalendarBodyKeydown(a)}),l.qZA()()),2&e&&(l.xp6(4),l.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[z_],encapsulation:2,changeDetection:0}),n})(),OH=0,PH=(()=>{class n{constructor(e,i,r,a,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=a,this._buttonDescriptionId="mat-calendar-button-"+OH++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-Nw(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,a=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(a,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):TN(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pw),l.Y36((0,l.Gpc)(()=>ik)),l.Y36($r,8),l.Y36(lg,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:mH,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return i.currentPeriodClicked()}),l.TgZ(3,"span"),l._uU(4),l.qZA(),l.O4$(),l.TgZ(5,"svg",3),l._UZ(6,"polygon",4),l.qZA()(),l.kcU(),l._UZ(7,"div",5),l.Hsn(8),l.TgZ(9,"button",6),l.NdJ("click",function(){return i.previousClicked()}),l.qZA(),l.TgZ(10,"button",7),l.NdJ("click",function(){return i.nextClicked()}),l.qZA()()()),2&e&&(l.xp6(2),l.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),l.xp6(1),l.uIk("id",i._buttonDescriptionId),l.xp6(1),l.Oqu(i.periodButtonText),l.xp6(1),l.ekj("mat-calendar-invert","month"!==i.calendar.currentView),l.xp6(4),l.Q6J("disabled",!i.previousEnabled()),l.uIk("aria-label",i.prevButtonLabel),l.xp6(1),l.Q6J("disabled",!i.nextEnabled()),l.uIk("aria-label",i.nextButtonLabel))},dependencies:[Kx],encapsulation:2,changeDetection:0}),n})(),ik=(()=>{class n{constructor(e,i,r,a){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new l.vpe,this.yearSelected=new l.vpe,this.monthSelected=new l.vpe,this.viewChanged=new l.vpe(!0),this._userSelection=new l.vpe,this.stateChanges=new Mt.x,this._intlChanges=e.changes.subscribe(()=>{a.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Wx(this.headerComponent||PH),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,a=i||r||e.dateFilter;if(a&&!a.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof eo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pw),l.Y36($r,8),l.Y36(lg,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(l.Gf(SN,5),l.Gf(xN,5),l.Gf(AN,5)),2&e){let r;l.iGM(r=l.CRH())&&(i.monthView=r.first),l.iGM(r=l.CRH())&&(i.yearView=r.first),l.iGM(r=l.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[l._Bn([IN]),l.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(l.YNc(0,_H,0,0,"ng-template",0),l.TgZ(1,"div",1),l.YNc(2,yH,1,8,"mat-month-view",2),l.YNc(3,vH,1,6,"mat-year-view",3),l.YNc(4,bH,1,6,"mat-multi-year-view",4),l.qZA()),2&e&&(l.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),l.xp6(1),l.Q6J("ngSwitch",i.currentView),l.xp6(1),l.Q6J("ngSwitchCase","month"),l.xp6(1),l.Q6J("ngSwitchCase","year"),l.xp6(1),l.Q6J("ngSwitchCase","multi-year"))},dependencies:[Fs,Ta,m2,lN,SN,xN,AN],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const kN={transformPanel:Bx("transformPanel",[kw("void => enter-dropdown",xw("120ms cubic-bezier(0, 0, 0.2, 1)",Z1([Al({opacity:0,transform:"scale(1, 0.8)"}),Al({opacity:1,transform:"scale(1, 1)"})]))),kw("void => enter-dialog",xw("150ms cubic-bezier(0, 0, 0.2, 1)",Z1([Al({opacity:0,transform:"scale(0.7)"}),Al({transform:"none",opacity:1})]))),kw("* => void",xw("100ms linear",Al({opacity:0})))]),fadeInCalendar:Bx("fadeInCalendar",[Ux("void",Al({opacity:0})),Ux("enter",Al({opacity:1})),kw("void => *",xw("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let NH=0;const RN=new l.OlP("mat-datepicker-scroll-strategy"),LH={provide:RN,deps:[iI],useFactory:function FH(n){return()=>n.scrollStrategies.reposition()}},VH=Nx(class{constructor(n){this._elementRef=n}});let BH=(()=>{class n extends VH{constructor(e,i,r,a,u,h){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=a,this._rangeSelectionStrategy=u,this._subscriptions=new Vi.w0,this._animationDone=new Mt.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,a=i instanceof eo;if(a&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(u,this)}else r&&(a||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Sh),l.Y36($r),l.Y36(rI,8),l.Y36(Pw))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&l.Gf(ik,5),2&e){let r;l.iGM(r=l.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&l.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(l.d8E("@transformPanel",i._animationState),l.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[l.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(l.TgZ(0,"div",0)(1,"mat-calendar",1),l.NdJ("yearSelected",function(a){return i.datepicker._selectYear(a)})("monthSelected",function(a){return i.datepicker._selectMonth(a)})("viewChanged",function(a){return i.datepicker._viewChanged(a)})("_userSelection",function(a){return i._handleUserSelection(a)}),l.qZA(),l.YNc(2,wH,0,0,"ng-template",2),l.TgZ(3,"button",3),l.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),l._uU(4),l.qZA()()),2&e){let r;l.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),l.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),l.xp6(1),l.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),l.xp6(1),l.Q6J("cdkPortalOutlet",i._actionsPortal),l.xp6(1),l.ekj("cdk-visually-hidden",!i._closeButtonFocused),l.Q6J("color",i.color||"primary"),l.xp6(1),l.Oqu(i._closeButtonText)}},dependencies:[fn,Kx,u2,lN,ik],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[kN.transformPanel,kN.fadeInCalendar]},changeDetection:0}),n})(),ON=(()=>{class n{constructor(e,i,r,a,u,h,m){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=h,this._model=m,this._inputStateChanges=Vi.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new l.vpe,this.monthSelected=new l.vpe,this.viewChanged=new l.vpe(!0),this.openedStream=new l.vpe,this.closedStream=new l.vpe,this._opened=!1,this.id="mat-datepicker-"+NH++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Mt.x,this._scrollStrategy=a}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=ei(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=ei(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=ei(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function kU(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const a=`${r}`.trim();a&&e.push(a)}}return e}(e)}get opened(){return this._opened}set opened(e){ei(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof _N&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=D1(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(ts(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Wx(BH,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new fN({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(a=>{a&&a.preventDefault(),this.close()}),r.keydownEvents().subscribe(a=>{const u=a.keyCode;(38===u||40===u||37===u||39===u||33===u||34===u)&&a.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(ts(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",a="above"===this.yPosition?"bottom":"top",u="top"===a?"bottom":"top";return e.withPositions([{originX:i,originY:u,overlayX:i,overlayY:a},{originX:i,originY:a,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:u}])}_getCloseStream(e){return(0,ss.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Dr(i=>27===i.keyCode&&!xx(i)||this.datepickerInput&&xx(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(iI),l.Y36(l.R0b),l.Y36(l.s_b),l.Y36(RN),l.Y36($r,8),l.Y36(Ih,8),l.Y36(Sh))},n.\u0275dir=l.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[l.TTD]}),n})(),UH=(()=>{class n extends ON{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[l._Bn([IN,{provide:ON,useExisting:n}]),l.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class sI{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let jH=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new l.vpe,this.dateInput=new l.vpe,this.stateChanges=new Mt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Vi.w0.EMPTY,this._localeSubscription=Vi.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=a=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=a=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value)),h=this._getMinDate();return!h||!u||this._dateAdapter.compareDate(h,u)<=0?null:{matDatepickerMin:{min:h,actual:u}}},this._maxValidator=a=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value)),h=this._getMaxDate();return!h||!u||this._dateAdapter.compareDate(h,u)>=0?null:{matDatepickerMax:{max:h,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=ei(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new sI(this,this._elementRef.nativeElement)),this.dateChange.emit(new sI(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function HH(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:a}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(a))return!0;if(!t.sameDate(r,a))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const a=!this._dateAdapter.sameDate(r,this.value);!r||a?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),a&&(this._assignValue(r),this.dateInput.emit(new sI(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new sI(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36($r,8),l.Y36(lg,8))},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[l.TTD]}),n})();const $H={provide:Li,useExisting:(0,l.Gpc)(()=>rk),multi:!0},GH={provide:Vn,useExisting:(0,l.Gpc)(()=>rk),multi:!0};let rk=(()=>{class n extends jH{constructor(e,i,r,a){super(e,i,r),this._formField=a,this._closedSubscription=Vi.w0.EMPTY,this._validator=Xr.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36($r,8),l.Y36(lg,8),l.Y36($x,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&l.NdJ("input",function(a){return i._onInput(a.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(a){return i._onKeydown(a)}),2&e&&(l.Ikx("disabled",i.disabled),l.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[l._Bn([$H,GH,{provide:CN,useExisting:n}]),l.qOj]}),n})(),zH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),ZH=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Vi.w0.EMPTY;const a=Number(r);this.tabIndex=a||0===a?a:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=ei(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:dt(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:dt(),r=this.datepicker?(0,ss.T)(this.datepicker.openedStream,this.datepicker.closedStream):dt();this._stateChanges.unsubscribe(),this._stateChanges=(0,ss.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pw),l.Y36(l.sBO),l.$8M("tabindex"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,zH,5),2&e){let a;l.iGM(a=l.CRH())&&(i._customIcon=a.first)}},viewQuery:function(e,i){if(1&e&&l.Gf(DH,5),2&e){let r;l.iGM(r=l.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&l.NdJ("click",function(a){return i._open(a)}),2&e&&(l.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),l.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[l.TTD],ngContentSelectors:IH,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(l.F$t(EH),l.TgZ(0,"button",0,1),l.YNc(2,CH,2,0,"svg",2),l.Hsn(3),l.qZA()),2&e&&(l.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),l.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),l.xp6(2),l.Q6J("ngIf",!i._customIcon))},dependencies:[Hn,Kx],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),qH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Pw,LH],imports:[zu,iH,Qj,_2,cN,Ic,nI]}),n})();function WH(n,t){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.name)}}const YH=function(n){return["/carpools",n]};let KH=(()=>{class n{constructor(e,i,r,a,u){this.cpdataService=e,this.udataService=i,this.gudataService=r,this.transferService=a,this.router=u,this.carpoolRemoved=new l.vpe,this.driverName=null,this.passengerObjs=[],this.startTime=null,this.carFull=!1,this.joinedCar=!1,this.isDriver=!1}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus(),this.udataService.getUser(this.carpoolObj.driver).then(()=>{this.driver=this.transferService.getData(),console.log("this.driver.name:"+this.driver.name),this.driverName=this.driver.name,this.transferService.clearData(),this.driver.uid==this.udataService.user.uid&&(this.isDriver=!0)}).then(()=>{console.log("[CARPOOL]: getting passengers"),this.getPassengerObjs(this.carpoolObj.passengers),console.log("[CARPOOL]: Passengers are "+this.passengerObjs),this.carpoolObj.passengers.forEach((e,i)=>{e==this.udataService.user.uid&&(this.joinedCar=!0)})}).catch(QH)}onJoinCarpool(){var e=this;return(0,oe.Z)(function*(){e.passengerObjs.push(e.udataService.user),e.cpdataService.addCarpoolPassenger(e.carpoolObj.id,e.udataService.user.uid),e.joinedCar=!0})()}onLeaveCarpool(){var e=this;return(0,oe.Z)(function*(){e.passengerObjs.forEach((i,r)=>{i.uid==e.udataService.user.uid&&e.passengerObjs.splice(r,1)}),e.cpdataService.removeCarpoolPassenger(e.carpoolObj,e.udataService.user.uid),e.joinedCar=!1})()}onCancelCarpool(){window.confirm("Delete this carpool?")&&this.cpdataService.deleteCarpool(this.carpoolObj).then(()=>{this.carpoolRemoved.emit({carpoolId:this.carpoolObj.id})}).catch(XH)}getRemainingSeats(){return this.passengerObjs.length==this.carpoolObj.totalSeats&&(this.carFull=!0),this.carpoolObj.totalSeats-this.passengerObjs.length}getPassengerObjs(e){var i=this;return(0,oe.Z)(function*(){for(var r of e)yield i.udataService.getUser(r).then(()=>{console.log(i.passengerObjs),console.log("Passenger id: "+r);var a=i.transferService.getData();console.log("tempPas variable: "+a),i.passengerObjs.push(a),console.log(i.passengerObjs),console.log("loading passenger: "+a.name),i.transferService.clearData(),console.log("cleared transfer service data")}).catch(JH)})()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ZE),l.Y36(Xs),l.Y36(Da),l.Y36(Il),l.Y36(pn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-carpool"]],inputs:{carpoolObj:"carpoolObj"},outputs:{carpoolRemoved:"carpoolRemoved"},decls:22,vars:10,consts:[[1,"panel","panel-default"],[1,"panel-heading",3,"routerLink"],["heading",""],[1,"panel-body"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",2,"margin","5px",3,"disabled","click"],[1,"btn","btn-warning",2,"margin","5px",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1,2),l._uU(3),l.qZA(),l.TgZ(4,"div",3)(5,"p"),l._uU(6,"Passengers: "),l.qZA(),l.YNc(7,WH,2,1,"p",4),l.TgZ(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"p"),l._uU(13),l.qZA(),l._UZ(14,"p"),l.TgZ(15,"button",5),l.NdJ("click",function(){return i.onJoinCarpool()}),l._uU(16,"Join"),l.qZA(),l.TgZ(17,"button",5),l.NdJ("click",function(){return i.onLeaveCarpool()}),l._uU(18,"Leave"),l.qZA(),l.TgZ(19,"p")(20,"button",6),l.NdJ("click",function(){return i.onCancelCarpool()}),l._uU(21,"Cancel Carpool"),l.qZA()()()()),2&e&&(l.xp6(1),l.Q6J("routerLink",l.VKq(8,YH,i.carpoolObj.id)),l.xp6(2),l.hij("Driver: ",i.driverName,""),l.xp6(4),l.Q6J("ngForOf",i.passengerObjs),l.xp6(2),l.hij("Start time: ",i.carpoolObj.startTime,""),l.xp6(2),l.hij("Arrival time: ",i.carpoolObj.arrivalTime,""),l.xp6(2),l.hij("Seats Remaining: ",i.getRemainingSeats(),""),l.xp6(2),l.Q6J("disabled",i.carFull||i.joinedCar||i.isDriver),l.xp6(2),l.Q6J("disabled",!i.joinedCar))},dependencies:[zi,Pd]}),n})();function QH(n){throw new Error("No driver user data found")}function JH(n){throw new Error("No passenger user data found")}function XH(n){throw new Error("Carpool cannot be deleted.")}let e3=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t3=["input"],n3=function(n){return{enterDuration:n}},r3=["*"],s3=new l.OlP("mat-radio-default-options",{providedIn:"root",factory:function o3(){return{color:"accent"}}});let PN=0;const a3={provide:Li,useExisting:(0,l.Gpc)(()=>LN),multi:!0};class NN{constructor(t,e){this.source=t,this.value=e}}const FN=new l.OlP("MatRadioGroup");let l3=(()=>{class n{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+PN++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new l.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=ei(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=ei(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new NN(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),LN=(()=>{class n extends l3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,VN,5),2&e){let a;l.iGM(a=l.CRH())&&(i._radios=a)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[l._Bn([a3,{provide:FN,useExisting:n}]),l.qOj]}),n})();class c3{constructor(t){this._elementRef=t}}const u3=L1(I2(c3));let d3=(()=>{class n extends u3{constructor(e,i,r,a,u,h,m,v){super(i),this._changeDetector=r,this._focusMonitor=a,this._radioDispatcher=u,this._providerOverride=m,this._uniqueId="mat-radio-"+ ++PN,this.id=this._uniqueId,this.change=new l.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===h,v&&(this.tabIndex=Cw(v,0)),this._removeUniqueSelectionListener=u.listen((C,T)=>{C!==this.id&&T===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const i=ei(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(ei(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=ei(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new NN(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(t3,5),2&e){let r;l.iGM(r=l.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[l.qOj]}),n})(),VN=(()=>{class n extends d3{constructor(e,i,r,a,u,h,m,v){super(e,i,r,a,u,h,m,v)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(FN,8),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Ox),l.Y36(e3),l.Y36(l.QbO,8),l.Y36(s3,8),l.$8M("tabindex"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(l.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),l.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[l.qOj],ngContentSelectors:r3,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,i){if(1&e&&(l.F$t(),l.TgZ(0,"label",0,1)(2,"span",2),l._UZ(3,"span",3)(4,"span",4),l.TgZ(5,"input",5,6),l.NdJ("change",function(a){return i._onInputInteraction(a)})("click",function(a){return i._onInputClick(a)}),l.qZA(),l.TgZ(7,"span",7),l._UZ(8,"span",8),l.qZA()(),l.TgZ(9,"span",9)(10,"span",10),l._uU(11,"\xa0"),l.qZA(),l.Hsn(12),l.qZA()()),2&e){const r=l.MAs(1);l.uIk("for",i.inputId),l.xp6(5),l.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),l.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),l.xp6(2),l.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",l.VKq(17,n3,i._noopAnimations?0:150)),l.xp6(2),l.ekj("mat-radio-label-before","before"==i.labelPosition)}},dependencies:[Vx],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[H1,Ic,Ic]}),n})(),f3=(()=>{class n{constructor(e,i){this.cpdataService=e,this.udataService=i,this.newCarpool=new l.vpe,this.carpoolObj={id:"",driver:"",passengers:[],date:new Date,startTime:"",arrivalTime:"",direction:"",totalSeats:0}}ngOnInit(){}onCreateCarpool(e,i,r){var a=this;return(0,oe.Z)(function*(){""!=e.value&&""!=e.value&&""!=r.value&&a.selectedDirection.includes("Snowbird")?(a.carpoolObj.id="",a.carpoolObj.driver=a.udataService.user.uid,a.carpoolObj.date=a.date,a.carpoolObj.startTime=e.value,a.carpoolObj.arrivalTime=i.value,a.carpoolObj.direction=a.selectedDirection,a.carpoolObj.totalSeats=Number(r.value),yield a.cpdataService.addCarpool(a.carpoolObj).then(()=>{a.newCarpool.emit({date:a.date})}).catch(p3),i.value="",e.value="",r.value="",a.selectedDirection=""):alert("Please fill in all fields.")})()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ZE),l.Y36(Xs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-addcarpool"]],inputs:{date:"date"},outputs:{newCarpool:"newCarpool"},decls:31,vars:1,consts:[[1,"row"],[1,"col-xs-12"],[3,"ngModel","ngModelChange"],["value","To Snowbird","color","primary"],["value","From Snowbird","color","primary"],["type","text",1,"form-control"],["startTime",""],["arrivalTime",""],["type","number",1,"form-control"],["seatsAvailable",""],[1,"btn","btn-primary",3,"click"]],template:function(e,i){if(1&e){const r=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"p"),l._uU(3,"Direction: "),l.qZA(),l.TgZ(4,"mat-radio-group",2),l.NdJ("ngModelChange",function(u){return i.selectedDirection=u}),l.TgZ(5,"mat-radio-button",3),l._uU(6," To Snowbird "),l.qZA(),l._UZ(7,"br")(8,"br"),l.TgZ(9,"mat-radio-button",4),l._uU(10," From Snowbird "),l.qZA(),l._UZ(11,"br")(12,"br"),l.qZA(),l.TgZ(13,"p"),l._uU(14,"Start Time: "),l.qZA(),l._UZ(15,"input",5,6)(17,"br"),l.TgZ(18,"p"),l._uU(19,"Arrival Time: "),l.qZA(),l._UZ(20,"input",5,7)(22,"br"),l.TgZ(23,"p"),l._uU(24,"Total Seats Available: "),l.qZA(),l._UZ(25,"input",8,9)(27,"br"),l.TgZ(28,"button",10),l.NdJ("click",function(){l.CHM(r);const u=l.MAs(16),h=l.MAs(21),m=l.MAs(26);return l.KtG(i.onCreateCarpool(u,h,m))}),l._uU(29,"Add"),l.qZA(),l._UZ(30,"p"),l.qZA()()}2&e&&(l.xp6(4),l.Q6J("ngModel",i.selectedDirection))},dependencies:[qh,iy,LN,VN]}),n})();function p3(n){throw new Error("[ADDCARPOOL] Carpool cannot be added.")}let Fw=(()=>{class n{constructor(e){this.router=e}ngOnInit(){}toCarpools(){this.router.navigate(["carpools"])}toEditProfile(){this.router.navigate(["profile"])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(pn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:10,vars:0,consts:[["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-secondary"],["type","radio","name","options","id","option1","autocomplete","off",3,"click"],["type","radio","name","options","id","option2","autocomplete","off"],["type","radio","name","options","id","option3","autocomplete","off",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"label",1)(2,"input",2),l.NdJ("click",function(){return i.toCarpools()}),l.qZA(),l._uU(3,"Dashboard "),l.qZA(),l.TgZ(4,"label",1),l._UZ(5,"input",3),l._uU(6," Calendar "),l.qZA(),l.TgZ(7,"label",1)(8,"input",4),l.NdJ("click",function(){return i.toEditProfile()}),l.qZA(),l._uU(9," My Profile "),l.qZA()())}}),n})();function g3(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"app-carpool",10),l.NdJ("carpoolRemoved",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a.onCarpoolRemoved(r))}),l.qZA()}2&n&&l.Q6J("carpoolObj",t.$implicit)}let m3=(()=>{class n{constructor(e,i,r,a,u){this.cpdataService=e,this.gudataService=i,this.udataService=r,this.transferService=a,this.router=u,this.carpools=[],this.pipe=new Ml("en-US"),this.formGroup=new eu({releasedAt:new ny})}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus(),this.date=new Date,this.date.setHours(0,0,0,0),this.dateWithPipe=this.pipe.transform(this.date,"M/d/yy"),this.today=this.dateWithPipe,this.getAllCarpoolsFromDate(this.date)}getAllCarpoolsFromDate(e){var i=this;return(0,oe.Z)(function*(){yield i.cpdataService.getAllCarpoolsFromDate(e).then(()=>{i.carpools=i.transferService.getData(),console.log("showing carpools on: "+e),i.transferService.clearData()})})()}onDateSelected(e){var i=this;return(0,oe.Z)(function*(){i.date=e,console.log("New date selected: "+i.date),yield i.getAllCarpoolsFromDate(i.date)})()}onCarpoolAdded(e){var i=this;return(0,oe.Z)(function*(){console.log("Parent received new carpool event for: ",e),yield i.getAllCarpoolsFromDate(i.date),console.log("Carpools[] length after adding new carpool: "+i.carpools.length),window.location.reload()})()}onCarpoolRemoved(e){var i=this;return(0,oe.Z)(function*(){console.log("Parent received removed carpool event for carpool: "+e),yield i.getAllCarpoolsFromDate(i.date)})()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ZE),l.Y36(Da),l.Y36(Xs),l.Y36(Il),l.Y36(pn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-carpools"]],decls:22,vars:8,consts:[[1,"col-sm-10","justify-content-center"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","releasedAt",3,"placeholder","matDatepicker","dateInput","click"],["matPrefix","",3,"for"],[3,"touchUi","startAt"],["releasedAtPicker",""],[3,"date","newCarpool"],[3,"carpoolObj","carpoolRemoved",4,"ngFor","ngForOf"],[1,"fixed-bottom",2,"width","100%"],[3,"carpoolObj","carpoolRemoved"]],template:function(e,i){if(1&e){const r=l.EpF();l.TgZ(0,"div",0)(1,"h3")(2,"b"),l._uU(3,"Select Date"),l.qZA()(),l.TgZ(4,"div",1)(5,"mat-form-field",2)(6,"input",3),l.NdJ("dateInput",function(u){return i.onDateSelected(u.value)})("click",function(){l.CHM(r);const u=l.MAs(9);return l.KtG(u.open())}),l.qZA(),l._UZ(7,"mat-datepicker-toggle",4)(8,"mat-datepicker",5,6),l.qZA()(),l._UZ(10,"hr"),l.TgZ(11,"h3")(12,"b"),l._uU(13,"Create a new carpool"),l.qZA()(),l.TgZ(14,"app-addcarpool",7),l.NdJ("newCarpool",function(u){return i.onCarpoolAdded(u)}),l.qZA(),l._UZ(15,"hr"),l.TgZ(16,"h3")(17,"b"),l._uU(18,"Carpools"),l.qZA()(),l.YNc(19,g3,1,1,"app-carpool",8),l.qZA(),l.TgZ(20,"div",9),l._UZ(21,"app-navbar"),l.qZA()}if(2&e){const r=l.MAs(9);l.xp6(4),l.Q6J("formGroup",i.formGroup),l.xp6(2),l.Q6J("placeholder",i.today)("matDatepicker",r),l.xp6(1),l.Q6J("for",r),l.xp6(1),l.Q6J("touchUi",!0)("startAt",i.date),l.xp6(6),l.Q6J("date",i.date),l.xp6(5),l.Q6J("ngForOf",i.carpools)}},dependencies:[zi,Ja,qh,el,yj,fj,UH,rk,ZH,bd,hf,lH,KH,f3,Fw]}),n})();function BN(n){return new l.vHH(3e3,!1)}function Q3(){return typeof window<"u"&&typeof window.document<"u"}function sk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ah(n){switch(n.length){case 0:return new Rw;case 1:return n[0];default:return new W1(n)}}function UN(n,t,e,i,r=new Map,a=new Map){const u=[],h=[];let m=-1,v=null;if(i.forEach(C=>{const T=C.get("offset"),L=T==m,U=L&&v||new Map;C.forEach(($,ie)=>{let De=ie,Je=$;if("offset"!==ie)switch(De=t.normalizePropertyName(De,u),Je){case"!":Je=r.get(ie);break;case Fu:Je=a.get(ie);break;default:Je=t.normalizeStyleValue(ie,De,Je,u)}U.set(De,Je)}),L||h.push(U),v=U,m=T}),u.length)throw function B3(n){return new l.vHH(3502,!1)}();return h}function ok(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ak(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ak(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ak(e,"destroy",n)))}}function ak(n,t,e){const a=lk(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(a._data=u),a}function lk(n,t,e,i,r="",a=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function To(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function jN(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let ck=(n,t)=>!1,HN=(n,t,e)=>[],$N=null;function uk(n){const t=n.parentNode||n.host;return t===$N?null:t}(sk()||typeof Element<"u")&&(Q3()?($N=(()=>document.documentElement)(),ck=(n,t)=>{for(;t;){if(t===n)return!0;t=uk(t)}return!1}):ck=(n,t)=>n.contains(t),HN=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let ug=null,GN=!1;const zN=ck,ZN=HN;let qN=(()=>{class n{validateStyleProperty(e){return function X3(n){ug||(ug=function e$(){return typeof document<"u"?document.body:null}()||{},GN=!!ug.style&&"WebkitAppearance"in ug.style);let t=!0;return ug.style&&!function J3(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ug.style,!t&&GN&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ug.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return zN(e,i)}getParentElement(e){return uk(e)}query(e,i,r){return ZN(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,a,u,h=[],m){return new Rw(r,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),dk=(()=>{class n{}return n.NOOP=new qN,n})();const hk="ng-enter",oI="ng-leave",aI="ng-trigger",lI=".ng-trigger",YN="ng-animating",fk=".ng-animating";function Th(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pk(parseFloat(t[1]),t[2])}function pk(n,t){return"s"===t?1e3*n:n}function cI(n,t,e){return n.hasOwnProperty("duration")?n:function i$(n,t,e){let r,a=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(BN()),{duration:0,delay:0,easing:""};r=pk(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(a=pk(parseFloat(m),h[4]));const v=h[5];v&&(u=v)}else r=n;if(!e){let h=!1,m=t.length;r<0&&(t.push(function _3(){return new l.vHH(3100,!1)}()),h=!0),a<0&&(t.push(function y3(){return new l.vHH(3101,!1)}()),h=!0),h&&t.splice(m,0,BN())}return{duration:r,delay:a,easing:u}}(n,t,e)}function Lw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function KN(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Mh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function JN(n,t,e){return e?t+":"+e+";":""}function XN(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=JN(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=JN(0,a$(e),n.style[e]));n.setAttribute("style",t)}function Sc(n,t,e){n.style&&(t.forEach((i,r)=>{const a=mk(r);e&&!e.has(r)&&e.set(r,n.style[a]),n.style[a]=i}),sk()&&XN(n))}function dg(n,t){n.style&&(t.forEach((e,i)=>{const r=mk(i);n.style[r]=""}),sk()&&XN(n))}function Vw(n){return Array.isArray(n)?1==n.length?n[0]:z1(n):n}const gk=new RegExp("{{\\s*(.+?)\\s*}}","g");function eF(n){let t=[];if("string"==typeof n){let e;for(;e=gk.exec(n);)t.push(e[1]);gk.lastIndex=0}return t}function uI(n,t,e){const i=n.toString(),r=i.replace(gk,(a,u)=>{let h=t[u];return null==h&&(e.push(function b3(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function dI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const o$=/-+([a-z0-9])/g;function mk(n){return n.replace(o$,(...t)=>t[1].toUpperCase())}function a$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function w3(n){return new l.vHH(3004,!1)}()}}function tF(n,t){return window.getComputedStyle(n)[t]}function f$(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function p$(n,t,e){if(":"==n[0]){const m=function g$(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function N3(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function P3(n){return new l.vHH(3015,!1)}()),t;const r=i[1],a=i[2],u=i[3];t.push(nF(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&t.push(nF(u,r))}(i,e,t)):e.push(n),e}const gI=new Set(["true","1"]),mI=new Set(["false","0"]);function nF(n,t){const e=gI.has(n)||mI.has(n),i=gI.has(t)||mI.has(t);return(r,a)=>{let u="*"==n||n==r,h="*"==t||t==a;return!u&&e&&"boolean"==typeof r&&(u=r?gI.has(n):mI.has(n)),!h&&i&&"boolean"==typeof a&&(h=a?gI.has(t):mI.has(t)),u&&h}}const m$=new RegExp("s*:selfs*,?","g");function _k(n,t,e,i){return new _$(n).build(t,e,i)}class _${constructor(t){this._driver=t}build(t,e,i){const r=new b$(e);return this._resetContextStyleTimingState(r),Mo(this,Vw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const a=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function C3(){return new l.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(C=>{m.name=C,a.push(this.visitState(m,e))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,e);i+=m.queryCount,r+=m.depCount,u.push(m)}else e.errors.push(function E3(){return new l.vHH(3007,!1)}())}),{type:7,name:t.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{eF(m).forEach(v=>{u.hasOwnProperty(v)||a.add(v)})})}),a.size&&(dI(a.values()),e.errors.push(function I3(n,t){return new l.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Mo(this,Vw(t.animation),e);return{type:1,matchers:f$(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:hg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Mo(this,i,e)),options:hg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const a=t.steps.map(u=>{e.currentTime=i;const h=Mo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:a,options:hg(t.options)}}visitAnimate(t,e){const i=function D$(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return yk(cI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=yk(0,0,"");return a.dynamic=!0,a.strValue=e,a}const r=cI(e,t);return yk(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,a=t.styles?t.styles:Al({});if(5==a.type)r=this.visitKeyframes(a,e);else{let u=t.styles,h=!1;if(!u){h=!0;const v={};i.easing&&(v.easing=i.easing),u=Al(v)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(u,e);m.isEmptyStep=h,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Fu?i.push(h):e.errors.push(new l.vHH(3002,!1)):i.push(KN(h));let a=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!a))for(let m of h.values())if(m.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,m)=>{const v=e.collectedStyles.get(e.currentQuerySelector),C=v.get(m);let T=!0;C&&(a!=r&&a>=C.startTime&&r<=C.endTime&&(e.errors.push(function A3(n,t,e,i,r){return new l.vHH(3010,!1)}()),T=!1),a=C.startTime),T&&v.set(m,{startTime:a,endTime:r}),e.options&&function s$(n,t,e){const i=t.params||{},r=eF(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||e.push(function v3(n){return new l.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function T3(){return new l.vHH(3011,!1)}()),i;let a=0;const u=[];let h=!1,m=!1,v=0;const C=t.steps.map(Je=>{const ot=this._makeStyleAst(Je,e);let _t=null!=ot.offset?ot.offset:function w$(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ot.styles),ut=0;return null!=_t&&(a++,ut=ot.offset=_t),m=m||ut<0||ut>1,h=h||ut<v,v=ut,u.push(ut),ot});m&&e.errors.push(function M3(){return new l.vHH(3012,!1)}()),h&&e.errors.push(function x3(){return new l.vHH(3200,!1)}());const T=t.steps.length;let L=0;a>0&&a<T?e.errors.push(function k3(){return new l.vHH(3202,!1)}()):0==a&&(L=1/(T-1));const U=T-1,$=e.currentTime,ie=e.currentAnimateTimings,De=ie.duration;return C.forEach((Je,ot)=>{const _t=L>0?ot==U?1:L*ot:u[ot],ut=_t*De;e.currentTime=$+ie.delay+ut,ie.duration=ut,this._validateStyleAst(Je,e),Je.offset=_t,i.styles.push(Je)}),i}visitReference(t,e){return{type:8,animation:Mo(this,Vw(t.animation),e),options:hg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:hg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:hg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[a,u]=function y$(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(m$,"")),n=n.replace(/@\*/g,lI).replace(/@\w+/g,e=>lI+"-"+e.slice(1)).replace(/:animating/g,fk),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,To(e.collectedStyles,e.currentQuerySelector,new Map);const h=Mo(this,Vw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:hg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function R3(){return new l.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:cI(t.timings,e.errors,!0);return{type:12,animation:Mo(this,Vw(t.animation),e),timings:i,options:null}}}class b${constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hg(n){return n?(n=Lw(n)).params&&(n.params=function v$(n){return n?Lw(n):null}(n.params)):n={},n}function yk(n,t,e){return{duration:n,delay:t,easing:e}}function vk(n,t,e,i,r,a,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:h}}class _I{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const I$=new RegExp(":enter","g"),A$=new RegExp(":leave","g");function bk(n,t,e,i,r,a=new Map,u=new Map,h,m,v=[]){return(new T$).buildKeyframes(n,t,e,i,r,a,u,h,m,v)}class T${buildKeyframes(t,e,i,r,a,u,h,m,v,C=[]){v=v||new _I;const T=new wk(t,e,v,r,a,C,[]);T.options=m;const L=m.delay?Th(m.delay):0;T.currentTimeline.delayNextStep(L),T.currentTimeline.setStyles([u],null,T.errors,m),Mo(this,i,T);const U=T.timelines.filter($=>$.containsAnimation());if(U.length&&h.size){let $;for(let ie=U.length-1;ie>=0;ie--){const De=U[ie];if(De.element===e){$=De;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([h],null,T.errors,m)}return U.length?U.map($=>$.buildKeyframes()):[vk(e,[],[],[],0,L,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),a=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime;const u=null!=i.duration?Th(i.duration):null,h=null!=i.delay?Th(i.delay):null;return 0!==u&&t.forEach(m=>{const v=e.appendInstructionToTimeline(m,u,h);a=Math.max(a,v.duration+v.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),Mo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const a=t.options;if(a&&(a.params||a.delay)&&(r=e.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yI);const u=Th(a.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Mo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?Th(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);a&&h.delayNextStep(a),Mo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return cI(e.params?uI(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,a=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(m=>{h.forwardTime((m.offset||0)*a),h.setStyles(m.styles,m.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+a),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},a=r.delay?Th(r.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yI);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let m=null;h.forEach((v,C)=>{e.currentQueryIndex=C;const T=e.createSubContext(t.options,v);a&&T.delayNextStep(a),v===e.element&&(m=T.currentTimeline),Mo(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,a=t.timings,u=Math.abs(a.duration),h=u*(e.currentQueryTotal-1);let m=u*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const C=e.currentTimeline;m&&C.delayNextStep(m);const T=C.currentTime;Mo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const yI={};class wk{constructor(t,e,i,r,a,u,h,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new vI(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Th(i.duration)),null!=i.delay&&(r.delay=Th(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=uI(a[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,a=new wk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=yI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},a=new M$(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,a,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(I$,"."+this._enterClassName)).replace(A$,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!a&&0==h.length&&u.push(function O3(n){return new l.vHH(3014,!1)}()),h}}class vI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new vI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Fu),this._currentKeyframe.set(e,Fu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const a=r&&r.params||{},u=function x$(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let a of i)e.set(a,Fu)}else Mh(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,m]of u){const v=uI(m,a,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Fu),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const v=Mh(h,new Map,this._backFill);v.forEach((C,T)=>{"!"===C?t.add(T):C===Fu&&e.add(T)}),i||v.set("offset",m/this.duration),r.push(v)});const a=t.size?dI(t.values()):[],u=e.size?dI(e.values()):[];if(i){const h=r[0],m=new Map(h);h.set("offset",0),m.set("offset",1),r=[h,m]}return vk(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class M$ extends vI{constructor(t,e,i,r,a,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],u=i+e,h=e/u,m=Mh(t[0]);m.set("offset",0),a.push(m);const v=Mh(t[0]);v.set("offset",sF(h)),a.push(v);const C=t.length-1;for(let T=1;T<=C;T++){let L=Mh(t[T]);const U=L.get("offset");L.set("offset",sF((e+U*i)/u)),a.push(L)}i=u,e=0,r="",t=a}return vk(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function sF(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Dk{}const k$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class R$ extends Dk{normalizePropertyName(t,e){return mk(t)}normalizeStyleValue(t,e,i,r){let a="";const u=i.toString().trim();if(k$.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function D3(n,t){return new l.vHH(3005,!1)}())}return u+a}}function oF(n,t,e,i,r,a,u,h,m,v,C,T,L){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:a,toState:i,toStyles:u,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:C,totalTime:T,errors:L}}const Ck={};class aF{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function O$(n,t,e,i,r){return n.some(a=>a(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,a,u,h,m,v,C){const T=[],L=this.ast.options&&this.ast.options.params||Ck,$=this.buildStyles(i,h&&h.params||Ck,T),ie=m&&m.params||Ck,De=this.buildStyles(r,ie,T),Je=new Set,ot=new Map,_t=new Map,ut="void"===r,Pt={params:P$(ie,L),delay:this.ast.options?.delay},Bt=C?[]:bk(t,e,this.ast.animation,a,u,$,De,Pt,v,T);let _n=0;if(Bt.forEach(Lu=>{_n=Math.max(Lu.duration+Lu.delay,_n)}),T.length)return oF(e,this._triggerName,i,r,ut,$,De,[],[],ot,_t,_n,T);Bt.forEach(Lu=>{const Vu=Lu.element,$F=To(ot,Vu,new Set);Lu.preStyleProps.forEach(fg=>$F.add(fg));const $w=To(_t,Vu,new Set);Lu.postStyleProps.forEach(fg=>$w.add(fg)),Vu!==e&&Je.add(Vu)});const Ns=dI(Je.values());return oF(e,this._triggerName,i,r,ut,$,De,Bt,Ns,ot,_t,_n)}}function P$(n,t){const e=Lw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class N${constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Lw(this.defaultParams);return Object.keys(t).forEach(a=>{const u=t[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{u&&(u=uI(u,r,e));const m=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,m,u,e),i.set(m,u)})}),i}}class L${constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new N$(r.style,r.options&&r.options.params||{},i))}),lF(this.states,"true","1"),lF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new aF(t,r,this.states))}),this.fallbackTransition=function V$(n,t,e){return new aF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function lF(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const B$=new _I;class U${constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],a=_k(this._driver,e,i,[]);if(i.length)throw function U3(n){return new l.vHH(3503,!1)}();this._animations.set(t,a)}_buildPlayer(t,e,i){const r=t.element,a=UN(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],a=this._animations.get(t);let u;const h=new Map;if(a?(u=bk(this._driver,e,a,hk,oI,new Map,new Map,i,B$,r),u.forEach(C=>{const T=To(h,C.element,new Map);C.postStyleProps.forEach(L=>T.set(L,null))})):(r.push(function j3(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function H3(n){return new l.vHH(3504,!1)}();h.forEach((C,T)=>{C.forEach((L,U)=>{C.set(U,this._driver.computeStyle(T,U,Fu))})});const v=Ah(u.map(C=>{const T=h.get(C.element);return this._buildPlayer(C,new Map,T)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function $3(n){return new l.vHH(3301,!1)}();return e}listen(t,e,i,r){const a=lk(e,"","","");return ok(this._getPlayer(t),i,a,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const cF="ng-animate-queued",Ek="ng-animate-disabled",z$=[],uF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Z$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ca="__ng_removed";class Ik{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function K$(n){return n??null}(i?t.value:t),i){const a=Lw(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Bw="void",Sk=new Ik(Bw);class q${constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ea(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function G3(n,t){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function z3(n){return new l.vHH(3303,!1)}();if(!function Q$(n){return"start"==n||"done"==n}(i))throw function Z3(n,t){return new l.vHH(3400,!1)}();const a=To(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};a.push(u);const h=To(this._engine.statesByElement,t,new Map);return h.has(e)||(Ea(t,aI),Ea(t,aI+"-"+e),h.set(e,Sk)),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(u);m>=0&&a.splice(m,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function q3(n){return new l.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const a=this._getTrigger(e),u=new Ak(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Ea(t,aI),Ea(t,aI+"-"+e),this._engine.statesByElement.set(t,h=new Map));let m=h.get(e);const v=new Ik(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h.set(e,v),m||(m=Sk),v.value!==Bw&&m.value===v.value){if(!function eG(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const a=e[r];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(m.params,v.params)){const ie=[],De=a.matchStyles(m.value,m.params,ie),Je=a.matchStyles(v.value,v.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{dg(t,De),Sc(t,Je)})}return}const L=To(this._engine.playersByElement,t,[]);L.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==e&&ie.queued&&ie.destroy()});let U=a.matchTransition(m.value,v.value,t,v.params),$=!1;if(!U){if(!r)return;U=a.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:U,fromState:m,toState:v,player:u,isFallbackTransition:$}),$||(Ea(t,cF),u.onStart(()=>{Z_(t,cF)})),u.onDone(()=>{let ie=this.players.indexOf(u);ie>=0&&this.players.splice(ie,1);const De=this._engine.playersByElement.get(t);if(De){let Je=De.indexOf(u);Je>=0&&De.splice(Je,1)}}),this.players.push(u),L.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,lI,!0);i.forEach(r=>{if(r[Ca])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const a=this._engine.statesByElement.get(t),u=new Map;if(a){const h=[];if(a.forEach((m,v)=>{if(u.set(v,m.value),this._triggers.has(v)){const C=this.trigger(t,v,Bw,r);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Ah(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const m=this._triggers.get(u).fallbackTransition,v=i.get(u)||Sk,C=new Ik(Bw),T=new Ak(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:v,toState:C,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const a=t[Ca];(!a||a===uF)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ea(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(h=>{if(h.name==i.triggerName){const m=lk(a,i.triggerName,i.fromState.value,i.toState.value);m._data=t,ok(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class W${constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new q$(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const m=r.get(h);if(m){const v=i.indexOf(m);i.splice(v+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&e.add(a)}return e}trigger(t,e,i,r){if(bI(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!bI(e))return;const a=e[Ca];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ea(t,Ek)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Z_(t,Ek))}removeNode(t,e,i,r){if(bI(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,a){this.collectedLeaveElements.push(e),e[Ca]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,i,r,a){return bI(e)?this._fetchNamespace(t).listen(e,i,r,a):()=>{}}_buildInstruction(t,e,i,r,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,lI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,fk,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ah(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ca];if(e&&e.setForRemoval){if(t[Ca]=uF,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Ek)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ea(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ah(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function W3(n){return new l.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new _I,r=[],a=new Map,u=[],h=new Map,m=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(yt=>{C.add(yt);const Rt=this.driver.query(yt,".ng-animate-queued",!0);for(let Ut=0;Ut<Rt.length;Ut++)C.add(Rt[Ut])});const T=this.bodyNode,L=Array.from(this.statesByElement.keys()),U=fF(L,this.collectedEnterElements),$=new Map;let ie=0;U.forEach((yt,Rt)=>{const Ut=hk+ie++;$.set(Rt,Ut),yt.forEach(wn=>Ea(wn,Ut))});const De=[],Je=new Set,ot=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const Rt=this.collectedLeaveElements[yt],Ut=Rt[Ca];Ut&&Ut.setForRemoval&&(De.push(Rt),Je.add(Rt),Ut.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(wn=>Je.add(wn)):ot.add(Rt))}const _t=new Map,ut=fF(L,Array.from(Je));ut.forEach((yt,Rt)=>{const Ut=oI+ie++;_t.set(Rt,Ut),yt.forEach(wn=>Ea(wn,Ut))}),t.push(()=>{U.forEach((yt,Rt)=>{const Ut=$.get(Rt);yt.forEach(wn=>Z_(wn,Ut))}),ut.forEach((yt,Rt)=>{const Ut=_t.get(Rt);yt.forEach(wn=>Z_(wn,Ut))}),De.forEach(yt=>{this.processLeaveNode(yt)})});const Pt=[],Bt=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(e).forEach(Ut=>{const wn=Ut.player,Rr=Ut.element;if(Pt.push(wn),this.collectedEnterElements.length){const us=Rr[Ca];if(us&&us.setForMove){if(us.previousTriggersValues&&us.previousTriggersValues.has(Ut.triggerName)){const pg=us.previousTriggersValues.get(Ut.triggerName),Ia=this.statesByElement.get(Ut.element);if(Ia&&Ia.has(Ut.triggerName)){const AI=Ia.get(Ut.triggerName);AI.value=pg,Ia.set(Ut.triggerName,AI)}}return void wn.destroy()}}const Ac=!T||!this.driver.containsElement(T,Rr),xo=_t.get(Rr),xh=$.get(Rr),Ei=this._buildInstruction(Ut,i,xh,xo,Ac);if(Ei.errors&&Ei.errors.length)return void Bt.push(Ei);if(Ac)return wn.onStart(()=>dg(Rr,Ei.fromStyles)),wn.onDestroy(()=>Sc(Rr,Ei.toStyles)),void r.push(wn);if(Ut.isFallbackTransition)return wn.onStart(()=>dg(Rr,Ei.fromStyles)),wn.onDestroy(()=>Sc(Rr,Ei.toStyles)),void r.push(wn);const ZF=[];Ei.timelines.forEach(us=>{us.stretchStartingKeyframe=!0,this.disabledNodes.has(us.element)||ZF.push(us)}),Ei.timelines=ZF,i.append(Rr,Ei.timelines),u.push({instruction:Ei,player:wn,element:Rr}),Ei.queriedElements.forEach(us=>To(h,us,[]).push(wn)),Ei.preStyleProps.forEach((us,pg)=>{if(us.size){let Ia=m.get(pg);Ia||m.set(pg,Ia=new Set),us.forEach((AI,Vk)=>Ia.add(Vk))}}),Ei.postStyleProps.forEach((us,pg)=>{let Ia=v.get(pg);Ia||v.set(pg,Ia=new Set),us.forEach((AI,Vk)=>Ia.add(Vk))})});if(Bt.length){const yt=[];Bt.forEach(Rt=>{yt.push(function Y3(n,t){return new l.vHH(3505,!1)}())}),Pt.forEach(Rt=>Rt.destroy()),this.reportError(yt)}const _n=new Map,Ns=new Map;u.forEach(yt=>{const Rt=yt.element;i.has(Rt)&&(Ns.set(Rt,Rt),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,_n))}),r.forEach(yt=>{const Rt=yt.element;this._getPreviousPlayers(Rt,!1,yt.namespaceId,yt.triggerName,null).forEach(wn=>{To(_n,Rt,[]).push(wn),wn.destroy()})});const Lu=De.filter(yt=>gF(yt,m,v)),Vu=new Map;hF(Vu,this.driver,ot,v,Fu).forEach(yt=>{gF(yt,m,v)&&Lu.push(yt)});const $w=new Map;U.forEach((yt,Rt)=>{hF($w,this.driver,new Set(yt),m,"!")}),Lu.forEach(yt=>{const Rt=Vu.get(yt),Ut=$w.get(yt);Vu.set(yt,new Map([...Array.from(Rt?.entries()??[]),...Array.from(Ut?.entries()??[])]))});const fg=[],GF=[],zF={};u.forEach(yt=>{const{element:Rt,player:Ut,instruction:wn}=yt;if(i.has(Rt)){if(C.has(Rt))return Ut.onDestroy(()=>Sc(Rt,wn.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(wn.totalTime),void r.push(Ut);let Rr=zF;if(Ns.size>1){let xo=Rt;const xh=[];for(;xo=xo.parentNode;){const Ei=Ns.get(xo);if(Ei){Rr=Ei;break}xh.push(xo)}xh.forEach(Ei=>Ns.set(Ei,Rr))}const Ac=this._buildAnimation(Ut.namespaceId,wn,_n,a,$w,Vu);if(Ut.setRealPlayer(Ac),Rr===zF)fg.push(Ut);else{const xo=this.playersByElement.get(Rr);xo&&xo.length&&(Ut.parentPlayer=Ah(xo)),r.push(Ut)}}else dg(Rt,wn.fromStyles),Ut.onDestroy(()=>Sc(Rt,wn.toStyles)),GF.push(Ut),C.has(Rt)&&r.push(Ut)}),GF.forEach(yt=>{const Rt=a.get(yt.element);if(Rt&&Rt.length){const Ut=Ah(Rt);yt.setRealPlayer(Ut)}}),r.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<De.length;yt++){const Rt=De[yt],Ut=Rt[Ca];if(Z_(Rt,oI),Ut&&Ut.hasAnimation)continue;let wn=[];if(h.size){let Ac=h.get(Rt);Ac&&Ac.length&&wn.push(...Ac);let xo=this.driver.query(Rt,fk,!0);for(let xh=0;xh<xo.length;xh++){let Ei=h.get(xo[xh]);Ei&&Ei.length&&wn.push(...Ei)}}const Rr=wn.filter(Ac=>!Ac.destroyed);Rr.length?J$(this,Rt,Rr):this.processLeaveNode(Rt)}return De.length=0,fg.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const Rt=this.players.indexOf(yt);this.players.splice(Rt,1)}),yt.play()}),fg}elementContainsData(t,e){let i=!1;const r=e[Ca];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,a){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const m=!a||a==Bw;h.forEach(v=>{v.queued||!m&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const a=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,C=v!==a,T=To(i,v,[]);this._getPreviousPlayers(v,C,u,h,e.toState).forEach(U=>{const $=U.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),U.destroy(),T.push(U)})}dg(a,e.fromStyles)}_buildAnimation(t,e,i,r,a,u){const h=e.triggerName,m=e.element,v=[],C=new Set,T=new Set,L=e.timelines.map($=>{const ie=$.element;C.add(ie);const De=ie[Ca];if(De&&De.removedBeforeQueried)return new Rw($.duration,$.delay);const Je=ie!==m,ot=function X$(n){const t=[];return pF(n,t),t}((i.get(ie)||z$).map(_n=>_n.getRealPlayer())).filter(_n=>!!_n.element&&_n.element===ie),_t=a.get(ie),ut=u.get(ie),Pt=UN(0,this._normalizer,0,$.keyframes,_t,ut),Bt=this._buildPlayer($,Pt,ot);if($.subTimeline&&r&&T.add(ie),Je){const _n=new Ak(t,h,ie);_n.setRealPlayer(Bt),v.push(_n)}return Bt});v.forEach($=>{To(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function Y$(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,$.element,$))}),C.forEach($=>Ea($,YN));const U=Ah(L);return U.onDestroy(()=>{C.forEach($=>Z_($,YN)),Sc(m,e.toStyles)}),T.forEach($=>{To(r,$,[]).push(U)}),U}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Rw(t.duration,t.delay)}}class Ak{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Rw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>ok(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){To(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bI(n){return n&&1===n.nodeType}function dF(n,t){const e=n.style.display;return n.style.display=t??"none",e}function hF(n,t,e,i,r){const a=[];e.forEach(m=>a.push(dF(m)));const u=[];i.forEach((m,v)=>{const C=new Map;m.forEach(T=>{const L=t.computeStyle(v,T,r);C.set(T,L),(!L||0==L.length)&&(v[Ca]=Z$,u.push(v))}),n.set(v,C)});let h=0;return e.forEach(m=>dF(m,a[h++])),u}function fF(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),a=new Map;function u(h){if(!h)return 1;let m=a.get(h);if(m)return m;const v=h.parentNode;return m=e.has(v)?v:r.has(v)?1:u(v),a.set(h,m),m}return t.forEach(h=>{const m=u(h);1!==m&&e.get(m).push(h)}),e}function Ea(n,t){n.classList?.add(t)}function Z_(n,t){n.classList?.remove(t)}function J$(n,t,e){Ah(e).onDone(()=>n.processLeaveNode(t))}function pF(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof W1?pF(i.players,t):t.push(i)}}function gF(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(a=>r.add(a)):t.set(n,i),e.delete(n),!0}class wI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new W$(t,e,i),this._timelineEngine=new U$(t,e,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(t,e,i,r,a){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const m=[],C=_k(this._driver,a,m,[]);if(m.length)throw function V3(n,t){return new l.vHH(3404,!1)}();h=function F$(n,t,e){return new L$(n,t,e)}(r,C,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[a,u]=jN(i);this._timelineEngine.command(a,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,a){if("@"==i.charAt(0)){const[u,h]=jN(i);return this._timelineEngine.listen(u,e,h,a)}return this._transitionEngine.listen(t,e,i,r,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let nG=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Sc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sc(this._element,this._initialStyles),this._endStyles&&(Sc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(dg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dg(this._element,this._endStyles),this._endStyles=null),Sc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Tk(n){let t=null;return n.forEach((e,i)=>{(function iG(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class mF{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:tF(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class rG{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return zN(t,e)}getParentElement(t){return uk(t)}query(t,e,i){return ZN(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,a,u=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(m.easing=a);const v=new Map,C=u.filter(U=>U instanceof mF);(function l$(n,t){return 0===n||0===t})(i,r)&&C.forEach(U=>{U.currentSnapshot.forEach(($,ie)=>v.set(ie,$))});let T=function r$(n){return n.length?n[0]instanceof Map?n:n.map(t=>KN(t)):[]}(e).map(U=>Mh(U));T=function c$(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<t.length;a++){let u=t[a];r.forEach(h=>u.set(h,tF(n,h)))}}return t}(t,T,v);const L=function tG(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Tk(t[0]),t.length>1&&(i=Tk(t[t.length-1]))):t instanceof Map&&(e=Tk(t)),e||i?new nG(n,e,i):null}(t,T);return new mF(t,T,m,L)}}let sG=(()=>{class n extends G1{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?z1(e):e;return _F(this._renderer,null,i,"register",[r]),new oG(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class oG extends class Z2{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new aG(this._id,t,e||{},this._renderer)}}class aG{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return _F(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function _F(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const yF="@.disabled";let lG=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const h=u?.parentNode(a);h&&u.removeChild(h,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(a);return C||(C=new vF("",a,this.engine),this._rendererCache.set(a,C)),C}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const m=C=>{Array.isArray(C)?C.forEach(m):this.engine.registerTrigger(u,h,e,C.name,C)};return i.data.animation.forEach(m),new cG(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,h]=a;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(wI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class vF{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==yF?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class cG extends vF{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==yF?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function uG(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function dG(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let hG=(()=>{class n extends wI{constructor(e,i,r,a){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de),l.LFG(dk),l.LFG(Dk),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const bF=[{provide:G1,useClass:sG},{provide:Dk,useFactory:function fG(){return new R$}},{provide:wI,useClass:hG},{provide:l.FYo,useFactory:function pG(n,t,e){return new lG(n,t,e)},deps:[$a,wI,l.R0b]}],Mk=[{provide:dk,useFactory:()=>new rG},{provide:l.QbO,useValue:"BrowserAnimations"},...bF],wF=[{provide:dk,useClass:qN},{provide:l.QbO,useValue:"NoopAnimations"},...bF];let gG=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?wF:Mk}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Mk,imports:[ho]}),n})(),mG=(()=>{class n{constructor(e,i,r,a){this.gudataService=e,this.udataService=i,this.localService=r,this.router=a,this.app=(0,Yn.ZF)(va_firebase),this.db=Qp(this.app),this.nameText="",this.phoneText="",this.emailText="",this.addText="",this.cityText="",this.stateText="",this.zipText="",this.photoURL="",this.noPermission=!0}ngOnInit(){this.gudataService.checkAccountStatus().then(e=>{this.account=this.gudataService.account}).catch(e=>{console.log(e)}),this.udataService.checkLoginStatus().then(e=>{this.user=this.udataService.user,this.udataService.user.initialized?(this.noPermission=!1,this.nameText=this.user.name,this.phoneText=this.user.phone,this.emailText=this.user.email,this.addText=this.user.add,this.cityText=this.user.city,this.stateText=this.user.state,this.zipText=this.user.zip,this.photoURL=this.user.photoURL):(this.nameText=this.account.displayName,this.emailText=this.account.email,this.photoURL=this.account.photoURL)}).catch(e=>{console.log(e)})}onSaveUser(e,i,r,a,u,h,m){if(""!=e.value&&""!=i.value&&""!=r.value&&""!=a.value&&""!=u.value&&""!=h.value&&""!=m.value){var v=a.value+", "+u.value+", "+h.value+" "+m.value;this.user.email=r.value,this.user.name=e.value,this.user.phone=i.value,this.user.address=v,this.user.add=a.value,this.user.city=u.value,this.user.state=h.value,this.user.zip=m.value,this.user.initialized=!0,this.udataService.updateUser(this.user).then(()=>{null==this.localService.getLocalData("uid")&&this.localService.saveLocalData("uid",this.user.uid),this.router.navigateByUrl("/profile")}).catch(C=>{console.log("[EDIT PROFILE] "+C)})}else alert("Please fill out the forms.")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Da),l.Y36(Xs),l.Y36(Eh),l.Y36(pn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-edit-profile"]],decls:55,vars:9,consts:[[1,"row"],[1,"col-xs-12"],[1,"text-center"],[1,"rounded-circle",3,"src"],[1,"form-row"],["for","name"],["id","name","type","text","required","",1,"form-control",3,"value"],["username",""],["for","phone"],["id","phone","type","text","required","",1,"form-control",3,"value"],["phone",""],["for","email"],["id","email","type","text","required","",1,"form-control",3,"value"],["email",""],["for","add"],["id","add","type","text","required","",1,"form-control",3,"value"],["add",""],["for","city"],["id","city","type","text","required","",1,"form-control",3,"value"],["city",""],["for","state"],["id","state","type","text","required","",1,"form-control",3,"value"],["state",""],["for","zip"],["id","zip","type","text","length","5","required","",1,"form-control",3,"value"],["zip",""],[1,"btn","btn-primary","btn-block",3,"click"],[1,"fixed-bottom",2,"width","100%",3,"hidden"]],template:function(e,i){if(1&e){const r=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"img",3)(4,"br"),l.TgZ(5,"label"),l._uU(6,"Edit My Profile"),l.qZA(),l._UZ(7,"br"),l.qZA(),l.TgZ(8,"form")(9,"div",4)(10,"label",5),l._uU(11,"Name"),l.qZA(),l._UZ(12,"input",6,7),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"div",4)(16,"label",8),l._uU(17,"Phone Number"),l.qZA(),l._UZ(18,"input",9,10),l.qZA(),l._UZ(20,"br"),l.TgZ(21,"div",4)(22,"label",11),l._uU(23,"E-mail"),l.qZA(),l._UZ(24,"input",12,13),l.qZA(),l._UZ(26,"br"),l.TgZ(27,"div",4)(28,"label",14),l._uU(29,"Home Address"),l.qZA(),l._UZ(30,"input",15,16),l.qZA(),l._UZ(32,"br"),l.TgZ(33,"div",4)(34,"label",17),l._uU(35,"City"),l.qZA(),l._UZ(36,"input",18,19),l.qZA(),l._UZ(38,"br"),l.TgZ(39,"div",4)(40,"label",20),l._uU(41,"State"),l.qZA(),l._UZ(42,"input",21,22),l.qZA(),l._UZ(44,"br"),l.TgZ(45,"div",4)(46,"label",23),l._uU(47,"Zip Code"),l.qZA(),l._UZ(48,"input",24,25),l.qZA(),l._UZ(50,"br"),l.TgZ(51,"button",26),l.NdJ("click",function(){l.CHM(r);const u=l.MAs(13),h=l.MAs(19),m=l.MAs(25),v=l.MAs(31),C=l.MAs(37),T=l.MAs(43),L=l.MAs(49);return l.KtG(i.onSaveUser(u,h,m,v,C,T,L))}),l._uU(52,"Save "),l.qZA()()()(),l.TgZ(53,"div",27),l._UZ(54,"app-navbar"),l.qZA()}2&e&&(l.xp6(3),l.s9C("src",i.photoURL,l.LSH),l.xp6(9),l.Q6J("value",i.nameText),l.xp6(6),l.Q6J("value",i.phoneText),l.xp6(6),l.Q6J("value",i.emailText),l.xp6(6),l.Q6J("value",i.addText),l.xp6(6),l.Q6J("value",i.cityText),l.xp6(6),l.Q6J("value",i.stateText),l.xp6(6),l.Q6J("value",i.zipText),l.xp6(5),l.Q6J("hidden",1==i.noPermission))},dependencies:[Rg,el,Ws,Fw]}),n})();var _G=N(8554);let yG=(()=>{class n{constructor(e,i,r,a,u,h){this.router=e,this.ngZone=i,this.afAuth=r,this.gudataService=a,this.udataService=u,this.localService=h,this.afAuth.authState.subscribe(m=>{this.account=m})}OAuthProvider(e){return this.afAuth.signInWithPopup(e).then(i=>{this.ngZone.run(()=>{this.gudataService.checkIn(this.account).then(r=>{this.DirectUser()}).catch(r=>{console.log("[AUTH SERVICE] "+r)})})}).catch(i=>{window.alert(i)})}SigninWithGoogle(){return this.OAuthProvider(new _G.Q).then(e=>{console.log("[AUTH SERVICE] Successfully logged in!")}).catch(e=>{console.log(e)})}SignOut(){return this.afAuth.signOut().then(()=>{this.udataService.user=void 0,this.gudataService.account=void 0,this.localService.removeLocalData("uid"),this.localService.clearLocalData(),this.router.navigate(["login"])})}DirectUser(){var e=this;return(0,oe.Z)(function*(){yield e.udataService.checkUser().then(i=>{null==e.udataService.user?e.router.navigate(["notice"]):e.udataService.user.initialized?(e.localService.saveLocalData("uid",e.udataService.user.uid),console.log("[AUTH SERVICE] The user data has been added to local cache."),e.router.navigate(["carpools"])):e.router.navigate(["editprofile"])}).catch(i=>{console.log("[AUTH SERVICE] "+i)})})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(pn),l.LFG(l.R0b),l.LFG(op),l.LFG(Da),l.LFG(Xs),l.LFG(Eh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vG=(()=>{class n{constructor(e,i,r,a,u){this.authService=e,this.gudataService=i,this.udataService=r,this.localService=a,this.router=u}ngOnInit(){null!=this.gudataService.account&&null!=this.udataService.user?this.router.navigate(this.udataService.user.initialized?["carpools"]:["editprofile"]):null!=this.localService.getLocalData("uid")&&this.router.navigate(["carpools"])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yG),l.Y36(Da),l.Y36(Xs),l.Y36(Eh),l.Y36(pn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-log-in"]],decls:9,vars:0,consts:[[1,"flex-container"],[1,"card-body"],[1,"row","mt-2"],[2,"text-decoration","none","cursor","pointer",3,"click"],[1,"card","shadow","text-center"],["src","../../../assets/icons8-google-48.png","alt","","height","24px","width","24px"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"form")(3,"div",2)(4,"a",3),l.NdJ("click",function(){return i.authService.SigninWithGoogle()}),l.TgZ(5,"div",4)(6,"div",1),l._UZ(7,"img",5),l._uU(8," Sign In with Google "),l.qZA()()()()()()())},dependencies:[Rg,el,Ws]}),n})();function xk(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function q_(n,t){const e=t?"":"none";xk(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function DF(n,t,e){xk(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function CI(n,t){return t&&"none"!=t?n+" "+t:n}function CF(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function kk(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function Rk(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Ok(n,t,e){const{top:i,bottom:r,left:a,right:u}=n;return e>=i&&e<=r&&t>=a&&t<=u}function Uw(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function EF(n,t,e,i){const{top:r,right:a,bottom:u,left:h,width:m,height:v}=n,C=m*t,T=v*t;return i>r-T&&i<u+T&&e>h-C&&e<a+C}class IF{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Rk(e)})})}handleScroll(t){const e=Sl(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let a,u;if(e===this._document){const v=this.getViewportScrollPosition();a=v.top,u=v.left}else a=e.scrollTop,u=e.scrollLeft;const h=r.top-a,m=r.left-u;return this.positions.forEach((v,C)=>{v.clientRect&&e!==C&&e.contains(C)&&Uw(v.clientRect,h,m)}),r.top=a,r.left=u,{top:h,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function SF(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?MF(n,t):("input"===i||"select"===i||"textarea"===i)&&TF(n,t),AF("canvas",n,t,MF),AF("input, textarea, select",n,t,TF),t}function AF(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const a=e.querySelectorAll(n);for(let u=0;u<r.length;u++)i(r[u],a[u])}}let DG=0;function TF(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${DG++}`)}function MF(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const xF=og({passive:!0}),EI=og({passive:!1}),Pk=new Set(["position"]);class EG{constructor(t,e,i,r,a,u){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Mt.x,this._pointerMoveSubscription=Vi.w0.EMPTY,this._pointerUpSubscription=Vi.w0.EMPTY,this._scrollSubscription=Vi.w0.EMPTY,this._resizeSubscription=Vi.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Mt.x,this.started=new Mt.x,this.released=new Mt.x,this.ended=new Mt.x,this.entered=new Mt.x,this.exited=new Mt.x,this.dropped=new Mt.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const m=this._getTargetHandle(h);m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const m=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const U=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),$=this._dropContainer;if(!U)return void this._endDragSequence(h);(!$||!$.isDragging()&&!$.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const v=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(v),this._dropContainer)this._updateActiveDropContainer(v,m);else{const C=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,T=this._activeTransform;T.x=v.x-C.x+this._passiveTransform.x,T.y=v.y-C.y+this._passiveTransform.y,this._applyRootElementTransform(T.x,T.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:v,event:h,distance:this._getDragDistance(v),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const m=this._getTargetHandle(h);m&&!this._disabledHandles.has(m)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new IF(i),u.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=ei(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>q_(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Oi(i)),this._handles.forEach(i=>q_(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Oi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,EI),e.addEventListener("touchstart",this._pointerDown,xF),e.addEventListener("dragstart",this._nativeDragStart,EI)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Oi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),q_(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),q_(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){jw(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();r.insertBefore(u,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),DF(i,!1,Pk),this._document.body.appendChild(r.replaceChild(a,i)),this._getPreviewInsertionPoint(r,h).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=jw(e),a=!r&&0!==e.button,u=this._rootElement,h=Sl(e),m=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),v=r?Rx(e):kx(e);if(h&&h.draggable&&"mousedown"===e.type&&e.preventDefault(),i||a||m||v)return;if(this._handles.length){const L=u.style;this._rootElementTapHighlight=L.webkitTapHighlightColor||"",L.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(L=>this._updateOnScroll(L)),this._boundaryElement&&(this._boundaryRect=Rk(this._boundaryElement));const C=this._previewTemplate;this._pickupPositionInElement=C&&C.template&&!C.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const T=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:T.x,y:T.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){DF(this._rootElement,!0,Pk),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),a=this._getDragDistance(r),u=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:a,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:a,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,u,a,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let a=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,t,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const a=t.matchSize?this._initialClientRect:null,u=t.viewContainer.createEmbeddedView(i,t.context);u.detectChanges(),r=RF(u,this._document),this._previewRef=u,t.matchSize?OF(r,a):r.style.transform=II(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=SF(this._rootElement),OF(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return xk(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Pk),q_(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>r.classList.add(a)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function wG(n){const t=getComputedStyle(n),e=kk(t,"transition-property"),i=e.find(h=>"transform"===h||"all"===h);if(!i)return 0;const r=e.indexOf(i),a=kk(t,"transition-duration"),u=kk(t,"transition-delay");return CF(a[r])+CF(u[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=u=>{(!u||Sl(u)===this._preview&&"transform"===u.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(a))},a=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=RF(this._placeholderRef,this._document)):i=SF(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,a=r?r.getBoundingClientRect():t,u=jw(i)?i.targetTouches[0]:i,h=this._getViewportScrollPosition();return{x:a.left-t.left+(u.pageX-a.left-h.left),y:a.top-t.top+(u.pageY-a.top-h.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=jw(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,a=i.pageY-e.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const h=this._ownerSVGElement.createSVGPoint();return h.x=r,h.y=a,h.matrixTransform(u.inverse())}}return{x:r,y:a}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:u}=this._pickupPositionInElement,h=this._boundaryRect,{width:m,height:v}=this._getPreviewRect(),C=h.top+u,T=h.bottom-(v-u);i=kF(i,h.left+a,h.right-(m-a)),r=kF(r,C,T)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,u=Math.abs(e-a.x),h=Math.abs(i-a.y);return u>this._config.pointerDirectionChangeThreshold&&(r.x=e>a.x?1:-1,a.x=e),h>this._config.pointerDirectionChangeThreshold&&(r.y=i>a.y?1:-1,a.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,q_(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,EI),t.removeEventListener("touchstart",this._pointerDown,xF),t.removeEventListener("dragstart",this._nativeDragStart,EI)}_applyRootElementTransform(t,e){const i=II(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=CI(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=II(t,e);this._preview.style.transform=CI(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const a=r.left-i.left,u=i.right-r.right,h=r.top-i.top,m=i.bottom-r.bottom;r.width>i.width?(a>0&&(t+=a),u>0&&(t-=u)):t=0,r.height>i.height?(h>0&&(e+=h),m>0&&(e-=m)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:jw(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Sl(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Uw(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Sx(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Oi(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function II(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function kF(n,t,e){return Math.max(t,Math.min(e,n))}function jw(n){return"t"===n.type[0]}function RF(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function OF(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=II(t.left,t.top)}function PF(n,t,e){const i=Hw(t,n.length-1),r=Hw(e,n.length-1);if(i===r)return;const a=n[i],u=r<i?-1:1;for(let h=i;h!==r;h+=u)n[h]=n[h+u];n[r]=a}function Hw(n,t){return Math.max(0,Math.min(t,n))}class SG{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const a=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===u&&a.length>0)return null;const h="horizontal"===this.orientation,m=a.findIndex(De=>De.drag===t),v=a[u],T=v.clientRect,L=m>u?1:-1,U=this._getItemOffsetPx(a[m].clientRect,T,L),$=this._getSiblingOffsetPx(m,a,L),ie=a.slice();return PF(a,m,u),a.forEach((De,Je)=>{if(ie[Je]===De)return;const ot=De.drag===t,_t=ot?U:$,ut=ot?t.getPlaceholderElement():De.drag.getRootElement();De.offset+=_t,h?(ut.style.transform=CI(`translate3d(${Math.round(De.offset)}px, 0, 0)`,De.initialTransform),Uw(De.clientRect,0,_t)):(ut.style.transform=CI(`translate3d(0, ${Math.round(De.offset)}px, 0)`,De.initialTransform),Uw(De.clientRect,_t,0))}),this._previousSwap.overlaps=Ok(T,e,i),this._previousSwap.drag=v.drag,this._previousSwap.delta=h?r.x:r.y,{previousIndex:m,currentIndex:u}}enter(t,e,i,r){const a=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,u=this._activeDraggables,h=u.indexOf(t),m=t.getPlaceholderElement();let v=u[a];if(v===t&&(v=u[a+1]),!v&&(null==a||-1===a||a<u.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(v=u[0]),h>-1&&u.splice(h,1),v&&!this._dragDropRegistry.isDragging(v)){const C=v.getRootElement();C.parentElement.insertBefore(m,C),u.splice(a,0,t)}else Oi(this._element).appendChild(m),u.push(t);m.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Uw(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:Rk(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let a=r?e.left-t.left:e.top-t.top;return-1===i&&(a+=r?e.width-t.width:e.height-t.height),a}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,a=e[t].clientRect,u=e[t+-1*i];let h=a[r?"width":"height"]*i;if(u){const m=r?"left":"top",v=r?"right":"bottom";-1===i?h-=u.clientRect[m]-a[v]:h+=a[m]-u.clientRect[v]}return h}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const u=i[i.length-1].clientRect;return r?t>=u.right:e>=u.bottom}{const u=i[0].clientRect;return r?t<=u.left:e<=u.top}}_getItemIndexFromPointerPosition(t,e,i,r){const a="horizontal"===this.orientation,u=this._itemPositions.findIndex(({drag:h,clientRect:m})=>{if(h===t)return!1;if(r){const v=a?r.x:r.y;if(h===this._previousSwap.drag&&this._previousSwap.overlaps&&v===this._previousSwap.delta)return!1}return a?e>=Math.floor(m.left)&&e<Math.floor(m.right):i>=Math.floor(m.top)&&i<Math.floor(m.bottom)});return-1!==u&&this._sortPredicate(u,t)?u:-1}}class AG{constructor(t,e,i,r,a){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Mt.x,this.entered=new Mt.x,this.exited=new Mt.x,this.dropped=new Mt.x,this.sorted=new Mt.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Vi.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Mt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function bG(n=0,t=vw.z){return n<0&&(n=0),iN(n,n,t)}(0,tN).pipe(Ec(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?u.scrollBy(0,-h):2===this._verticalScrollDirection&&u.scrollBy(0,h),1===this._horizontalScrollDirection?u.scrollBy(-h,0):2===this._horizontalScrollDirection&&u.scrollBy(h,0)})},this.element=Oi(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new IF(i),this._sortStrategy=new SG(this.element,e),this._sortStrategy.withSortPredicate((u,h)=>this.sortPredicate(u,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,a,u,h,m={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:a,distance:u,dropPoint:h,event:m})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Oi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!EF(this._clientRect,.05,e,i))return;const a=this._sortStrategy.sort(t,e,i,r);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,a=0;if(this._parentPositions.positions.forEach((u,h)=>{h===this._document||!u.clientRect||i||EF(u.clientRect,.05,t,e)&&([r,a]=function TG(n,t,e,i){const r=LF(t,i),a=VF(t,e);let u=0,h=0;if(r){const m=n.scrollTop;1===r?m>0&&(u=1):n.scrollHeight-m>n.clientHeight&&(u=2)}if(a){const m=n.scrollLeft;1===a?m>0&&(h=1):n.scrollWidth-m>n.clientWidth&&(h=2)}return[u,h]}(h,u.clientRect,t,e),(r||a)&&(i=h))}),!r&&!a){const{width:u,height:h}=this._viewportRuler.getViewportSize(),m={width:u,height:h,top:0,right:u,bottom:h,left:0};r=LF(m,e),a=VF(m,t),i=window}i&&(r!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=a,this._scrollNode=i,(r||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Oi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Oi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Oi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&Ok(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!Ok(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const a=Oi(this.element);return r===a||a.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Sx(Oi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function LF(n,t){const{top:e,bottom:i,height:r}=n,a=.05*r;return t>=e-a&&t<=e+a?1:t>=i-a&&t<=i+a?2:0}function VF(n,t){const{left:e,right:i,width:r}=n,a=.05*r;return t>=e-a&&t<=e+a?1:t>=i-a&&t<=i+a?2:0}const SI=og({passive:!1,capture:!0});let MG=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Mt.x,this.pointerUp=new Mt.x,this.scroll=new Mt.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,SI)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,SI)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:SI}),r||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:SI}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,u)=>{this._document.addEventListener(u,a.handler,a.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new oi.y(r=>this._ngZone.runOutsideAngular(()=>{const u=h=>{this._activeDragInstances.length&&r.next(h)};return e.addEventListener("scroll",u,!0),()=>{e.removeEventListener("scroll",u,!0)}}))),(0,ss.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xG={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Nk=(()=>{class n{constructor(e,i,r,a){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=a}createDrag(e,i=xG){return new EG(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new AG(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de),l.LFG(l.R0b),l.LFG(Zx),l.LFG(MG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BF=new l.OlP("CDK_DRAG_PARENT"),Fk=new l.OlP("CdkDropListGroup");let kG=(()=>{class n{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ei(e)}ngOnDestroy(){this._items.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[l._Bn([{provide:Fk,useExisting:n}])]}),n})();const UF=new l.OlP("CDK_DRAG_CONFIG");let RG=0;const jF=new l.OlP("CdkDropList");let OG=(()=>{class n{constructor(e,i,r,a,u,h,m){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=a,this._dir=u,this._group=h,this._destroyed=new Mt.x,this.connectedTo=[],this.id="cdk-drop-list-"+RG++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new l.vpe,this.entered=new l.vpe,this.exited=new l.vpe,this.sorted=new l.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,m&&this._assignDefaults(m),this._dropListRef.enterPredicate=(v,C)=>this.enterPredicate(v.data,C.data),this._dropListRef.sortPredicate=(v,C,T)=>this.sortPredicate(v,C.data,T.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),h&&h._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=ei(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(xn(this._dir.value),Ec(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=Ew(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(u=>u.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=ei(this.sortingDisabled),e.autoScrollDisabled=ei(this.autoScrollDisabled),e.autoScrollStep=Cw(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:a,listAutoScrollDisabled:u,listOrientation:h}=e;this.disabled=r??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=u??!1,this.orientation=h||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n._dropLists=[],n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Nk),l.Y36(l.sBO),l.Y36(sN),l.Y36(Ih,8),l.Y36(Fk,12),l.Y36(UF,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("id",i.id),l.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[l._Bn([{provide:Fk,useValue:void 0},{provide:jF,useExisting:n}])]}),n})();const HF=new l.OlP("CdkDragHandle"),PG=new l.OlP("CdkDragPlaceholder"),NG=new l.OlP("CdkDragPreview");let LG=(()=>{class n{constructor(e,i,r,a,u,h,m,v,C,T,L){this.element=e,this.dropContainer=i,this._ngZone=a,this._viewContainerRef=u,this._dir=m,this._changeDetectorRef=C,this._selfHandle=T,this._parentDrag=L,this._destroyed=new Mt.x,this.started=new l.vpe,this.released=new l.vpe,this.ended=new l.vpe,this.entered=new l.vpe,this.exited=new l.vpe,this.dropped=new l.vpe,this.moved=new oi.y(U=>{const $=this._dragRef.moved.pipe((0,At.U)(ie=>({source:this,pointerPosition:ie.pointerPosition,event:ie.event,delta:ie.delta,distance:ie.distance}))).subscribe(U);return()=>{$.unsubscribe()}}),this._dragRef=v.createDrag(e,{dragStartThreshold:h&&null!=h.dragStartThreshold?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&null!=h.pointerDirectionChangeThreshold?h.pointerDirectionChangeThreshold:5,zIndex:h?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),h&&this._assignDefaults(h),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=ei(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ts(1),Ec(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Oi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,u=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:Cw(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(u).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(ts(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:a,previewClass:u,boundaryElement:h,draggingDisabled:m,rootElementSelector:v,previewContainer:C}=e;this.disabled=m??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),a&&(this.constrainPosition=a),u&&(this.previewClass=u),h&&(this.boundaryElement=h),v&&(this.rootElementSelector=v),C&&(this.previewContainer=C)}_setupHandlesListener(){this._handles.changes.pipe(xn(this._handles),(0,ur.b)(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Bi(e=>(0,ss.T)(...e.map(i=>i._stateChanges.pipe(xn(i))))),Ec(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(jF,12),l.Y36(de),l.Y36(l.R0b),l.Y36(l.s_b),l.Y36(UF,8),l.Y36(Ih,8),l.Y36(Nk),l.Y36(l.sBO),l.Y36(HF,10),l.Y36(BF,12))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,NG,5),l.Suo(r,PG,5),l.Suo(r,HF,5)),2&e){let a;l.iGM(a=l.CRH())&&(i._previewTemplate=a.first),l.iGM(a=l.CRH())&&(i._placeholderTemplate=a.first),l.iGM(a=l.CRH())&&(i._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[l._Bn([{provide:BF,useExisting:n}]),l.TTD]}),n})(),VG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Nk],imports:[nI]}),n})();function BG(n,t){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.name)}}function UG(n,t){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e)}}let jG=(()=>{class n{constructor(e,i,r,a,u,h,m){this.router=e,this.route=i,this.udataService=r,this.gudataService=a,this.cpdataService=u,this.transferService=h,this.platform=m,this.carFull=!1,this.driver=null,this.driverName=null,this.driverAddress=null,this.snowbirdAddress="9385 Snowbird Center Dr, Sandy, UT 84092",this.passengerObjs=[],this.addresses=[],this.pipe=new Ml("en-US")}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus(),this.carpoolId=this.route.snapshot.paramMap.get("id"),console.log("[CARPOOL DETAILS]"),this.cpdataService.getCarpoolWithId(this.carpoolId).then(e=>{console.log("1st then"),this.carpoolObj=e}).then(()=>{console.log("2nd then"),this.getPassengerObjs(this.carpoolObj.passengers).then(()=>{console.log("3rd then"),this.udataService.getUser(this.carpoolObj.driver).then(e=>{this.driver=this.transferService.getData(),this.driverName=this.driver.name,this.driverAddress=this.driver.address,console.log("Driver: "+this.driverName+" "+this.driverAddress),this.transferService.clearData()}).then(e=>{this.addresses.unshift(this.driverAddress),this.addresses.push(this.snowbirdAddress)}).catch(GG)})}).then(()=>{this.date=this.pipe.transform(this.carpoolObj.date,"M/d/yy"),console.log("[CARPOOLDETAILS: 3rd then")}).catch(HG)}getPassengerObjs(e){var i=this;return(0,oe.Z)(function*(){for(var r of e)yield i.udataService.getUser(r).then(()=>{console.log(i.passengerObjs),console.log("Passenger id: "+r);var a=i.transferService.getData();console.log("tempPas variable: "+a),i.passengerObjs.push(a),console.log(i.passengerObjs),i.addresses.push(a.address),console.log(i.addresses),console.log("loading passenger: "+a.name+a.address),i.transferService.clearData(),console.log("cleared transfer service data")}).catch($G)})()}drop(e){e.previousContainer===e.container?PF(e.container.data,e.previousIndex,e.currentIndex):function IG(n,t,e,i){const r=Hw(e,n.length-1),a=Hw(i,t.length);n.length&&t.splice(a,0,n.splice(r,1)[0])}(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}getRemainingSeats(){return console.log("no. of passengers: "+this.carpoolObj.passengers.length),console.log("no. of seats: "+this.carpoolObj.totalSeats),this.carpoolObj.passengers.length==this.carpoolObj.totalSeats&&(this.carFull=!0,console.log("setting bool car is full")),this.carpoolObj.totalSeats-this.carpoolObj.passengers.length}onShowRoute(){if(this.platform.IOS){var e=this.driverAddress,i=this.snowbirdAddress;console.log(e+"\n"+i);var r="https://www.google.com/maps/dir/?api=1&origin="+encodeURIComponent(e)+"&waypoints="+encodeURIComponent(this.groupWaypoints(this.addresses))+"&destination="+encodeURIComponent(i)+"&travelmode=driving";console.log(this.addresses),console.log("***** URI *****"+r),window.open(r)}else!this.platform.ANDROID&&this.platform.isBrowser&&(e=this.addresses[0],i=this.addresses[this.addresses.length-1],console.log(e+"\n"+i),r="https://www.google.com/maps/dir/?api=1&origin="+encodeURIComponent(e)+"&waypoints="+encodeURIComponent(this.groupWaypoints(this.addresses))+"&destination="+encodeURIComponent(i)+"&travelmode=driving",console.log(this.addresses),console.log("***** URI *****"+r),window.open(r))}groupWaypoints(e){var i=e.slice(1,-1);console.log(i);var r=i.join("|");return console.log(r),r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(pn),l.Y36(uu),l.Y36(Xs),l.Y36(Da),l.Y36(ZE),l.Y36(Il),l.Y36(cs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-carpool-details"]],decls:37,vars:8,consts:[[2,"padding-top","15px","padding-left","20px"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body"],[4,"ngFor","ngForOf"],["cdkDropListGroup",""],[1,"route-container"],[1,"emphasized"],["cdkDropList","",1,"route-list",3,"cdkDropListData","cdkDropListDropped"],["class","route-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"fixed-bottom",2,"width","100%"],["cdkDrag","",1,"route-box"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"h4"),l._uU(2),l.qZA(),l.TgZ(3,"div",1)(4,"div",2)(5,"h3"),l._uU(6),l.qZA()(),l.TgZ(7,"div",3)(8,"h3"),l._uU(9,"Passengers: "),l.qZA(),l.YNc(10,BG,2,1,"p",4),l.TgZ(11,"h3"),l._uU(12,"Start time:"),l.qZA(),l.TgZ(13,"p"),l._uU(14),l.qZA(),l.TgZ(15,"h3"),l._uU(16,"Arrival time:"),l.qZA(),l.TgZ(17,"p"),l._uU(18),l.qZA(),l.TgZ(19,"h3"),l._uU(20,"Seats Remaining:"),l.qZA(),l.TgZ(21,"p"),l._uU(22),l.qZA(),l.TgZ(23,"div",5)(24,"div",6)(25,"h3"),l._uU(26,"Route:"),l.qZA(),l.TgZ(27,"p")(28,"span",7),l._uU(29,"Drag to reorder"),l.qZA()(),l.TgZ(30,"div",8),l.NdJ("cdkDropListDropped",function(a){return i.drop(a)}),l.YNc(31,UG,2,1,"div",9),l.qZA()()(),l.TgZ(32,"button",10),l.NdJ("click",function(){return i.onShowRoute()}),l._uU(33,"Show route"),l.qZA(),l._UZ(34,"p"),l.qZA()()(),l.TgZ(35,"div",11),l._UZ(36,"app-navbar"),l.qZA()),2&e&&(l.xp6(2),l.hij("Date: ",i.date,""),l.xp6(4),l.hij("Driver: ",i.driverName,""),l.xp6(4),l.Q6J("ngForOf",i.passengerObjs),l.xp6(4),l.Oqu(i.carpoolObj.startTime),l.xp6(4),l.Oqu(i.carpoolObj.arrivalTime),l.xp6(4),l.Oqu(i.getRemainingSeats()),l.xp6(8),l.Q6J("cdkDropListData",i.addresses),l.xp6(1),l.Q6J("ngForOf",i.addresses))},dependencies:[zi,OG,kG,LG,Fw],styles:[".route-container[_ngcontent-%COMP%]{width:400px;max-width:100%;margin:0 10px 10px 0;display:inline-block;vertical-align:top}.route-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;background:white;border-radius:4px;overflow:hidden;display:block}.route-box[_ngcontent-%COMP%]{padding:10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HG(n){throw new Error("No carpool data found")}function $G(n){throw new Error("No pas data found")}function GG(n){throw new Error("No driver data found")}let Lk=(()=>{class n{constructor(e,i,r){this.afs=e,this.udataService=i,this.transferService=r,this.app=(0,Yn.ZF)(va_firebase),this.db=Qp(this.app)}addVehicle(e){var i=this;return(0,oe.Z)(function*(){return i.afs.collection("/Vehicles").doc(e.license).set({license:e.license,uid:e.uid,nickname:e.nickname,make:e.make,model:e.model,seatsAvail:e.seatsAvail}).then(r=>{console.log("Vehicle added: "+e.nickname)}).catch(r=>{console.log("[VDATA SERVICE] "+r)})})()}updateVehicle(e){var i=this;return(0,oe.Z)(function*(){yield i.afs.collection("/Vehicles").doc(e.license).update({license:e.license,uid:e.uid,nickname:e.nickname,make:e.make,model:e.model,seatsAvail:e.seatsAvail}).then(r=>{}).catch(r=>{console.log("[UDATA SERVICE] "+r)})})()}getVehicle(e){var i=this;return(0,oe.Z)(function*(){var r;const u=Hr(El(i.db,"Vehicles"),Nu("license","==",e));yield Cc(u).then(h=>{if(0!=h.size){const v=h.docs;for(var m in v){const C=v[m].data();r={license:C.license,uid:C.uid,nickname:C.nickname,make:C.make,model:C.model,seatsAvail:C.seatsAvail},console.log("[VDATA SERVICE] Vehicle found.")}i.transferService.setData(r)}}).catch(h=>{console.log("[VDATA SERVICE] "+h)})})()}deleteVehicle(e){var i=this;return(0,oe.Z)(function*(){yield i.afs.doc("/Vehicles/"+e.license).delete().then(()=>{console.log("[VDATA SERVICE] Vehicle deleted.")}).catch(r=>{console.log(r)})})()}getAllVehicles(){var e=this;return(0,oe.Z)(function*(){var r,i=[];const u=Hr(El(e.db,"Vehicles"),Nu("uid","==",e.udataService.user.uid));yield Cc(u).then(h=>{if(0==h.size)console.log("[VDATA SERVICE] No vehicles found.");else{const v=h.docs;for(var m in v){const C=v[m].data();r={license:C.license,uid:C.uid,nickname:C.nickname,make:C.make,model:C.model,seatsAvail:C.seatsAvail},console.log("[VDATA SERVICE] Vehicle found: "+r.nickname),i.push(r)}e.transferService.setData(i)}}).catch(h=>{console.log("[VDATA SERVICE] "+h)})})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zE),l.LFG(Xs),l.LFG(Il))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zG=(()=>{class n{constructor(e,i,r){this.udataService=e,this.vdataService=i,this.transferService=r,this.vehicleAdded=new l.vpe,this.app=(0,Yn.ZF)(va_firebase),this.db=Qp(this.app)}ngOnInit(){}onSaveCar(e,i,r,a,u){var h=this;return(0,oe.Z)(function*(){""!=a.value&&""!=u.value?yield h.vdataService.getVehicle(a.value).then(m=>{var v=h.transferService.getData();if(h.transferService.clearData(),null==v){var C={uid:h.udataService.user.uid,nickname:e.value,make:i.value.toUpperCase(),model:r.value,license:a.value.toUpperCase(),seatsAvail:Number(u.value)};h.vdataService.addVehicle(C).then(T=>{h.vehicleAdded.emit({license:a.value})})}else alert("A vehicle with the same license already exists in the database. Please double check your input.")}).catch(m=>{console.log(m)}):alert("Please fill in the car license and number of seats available.")})()}onCancel(){this.vehicleAdded.emit({license:""})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Xs),l.Y36(Lk),l.Y36(Il))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-add-vehicle"]],inputs:{uid:"uid"},outputs:{vehicleAdded:"vehicleAdded"},decls:41,vars:0,consts:[[1,"list-group-item"],[1,"text-center"],[1,"form-row"],["for","nickname"],["id","nickname","type","text","placeholder","Give your vehicle a nickname!","required","",1,"form-control"],["nickname",""],["for","make"],["id","make","type","text","required","",1,"form-control"],["make",""],["for","model"],["id","model","type","text","required","",1,"form-control"],["model",""],["for","license"],["id","license","type","text","required","",1,"form-control"],["license",""],["for","seats"],["id","seats","type","number","required","",1,"form-control"],["seats",""],[1,"btn","btn-primary","btn-block",3,"click"]],template:function(e,i){if(1&e){const r=l.EpF();l.TgZ(0,"li",0)(1,"div",1),l._UZ(2,"br"),l.TgZ(3,"label"),l._uU(4,"Add My Vehicle"),l.qZA(),l._UZ(5,"br"),l.qZA(),l.TgZ(6,"form")(7,"div",2)(8,"label",3),l._uU(9,"Nickname"),l.qZA(),l._UZ(10,"input",4,5),l.qZA(),l._UZ(12,"br"),l.TgZ(13,"div",2)(14,"label",6),l._uU(15,"Car Make"),l.qZA(),l._UZ(16,"input",7,8),l.qZA(),l._UZ(18,"br"),l.TgZ(19,"div",2)(20,"label",9),l._uU(21,"Car Model"),l.qZA(),l._UZ(22,"input",10,11),l.qZA(),l._UZ(24,"br"),l.TgZ(25,"div",2)(26,"label",12),l._uU(27,"License"),l.qZA(),l._UZ(28,"input",13,14),l.qZA(),l._UZ(30,"br"),l.TgZ(31,"div",2)(32,"label",15),l._uU(33,"Seats Available"),l.qZA(),l._UZ(34,"input",16,17),l.qZA(),l._UZ(36,"br"),l.TgZ(37,"button",18),l.NdJ("click",function(){l.CHM(r);const u=l.MAs(11),h=l.MAs(17),m=l.MAs(23),v=l.MAs(29),C=l.MAs(35);return l.KtG(i.onSaveCar(u,h,m,v,C))}),l._uU(38,"Save This Vehicle "),l.qZA(),l.TgZ(39,"button",18),l.NdJ("click",function(){return i.onCancel()}),l._uU(40,"Cancel "),l.qZA()()()}},dependencies:[Rg,el,Ws]}),n})(),ZG=(()=>{class n{constructor(e,i,r,a,u,h){this.gudataService=e,this.udataService=i,this.localService=r,this.transferService=a,this.vdataService=u,this.router=h,this.vehicleDeleted=new l.vpe,this.vehicleUpdated=new l.vpe,this.isEditing=!1}ngOnInit(){}onDelete(){window.confirm("Delete this vehicle?")&&this.vdataService.deleteVehicle(this.vehicleObj).then(()=>{this.vehicleDeleted.emit({license:this.vehicleObj.license})}).catch(e=>{console.log(e)})}onEdit(){this.isEditing=!0}onSave(e,i,r,a,u){var h=this;return(0,oe.Z)(function*(){""!=a.value&&""!=u.value?(h.isEditing=!1,h.vehicleObj.nickname=e.value,h.vehicleObj.make=i.value.toUpperCase(),h.vehicleObj.model=r.value,h.vehicleObj.license=a.value.toUpperCase(),h.vehicleObj.seatsAvail=Number(u.value),yield h.vdataService.updateVehicle(h.vehicleObj).then(m=>{h.vehicleUpdated.emit({license:h.vehicleObj.license})}).catch(m=>{console.log(m)})):alert("Please fill in the car license and number of seats available.")})()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Da),l.Y36(Xs),l.Y36(Eh),l.Y36(Il),l.Y36(Lk),l.Y36(pn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-vehicle"]],inputs:{vehicleObj:"vehicleObj"},outputs:{vehicleDeleted:"vehicleDeleted",vehicleUpdated:"vehicleUpdated"},decls:60,vars:14,consts:[[1,"card-body"],["type","button",1,"btn","btn-default",3,"hidden","click"],["aria-hidden","true",1,"glyphicon","glyphicon-edit"],["aria-hidden","true",1,"glyphicon","glyphicon-floppy-saved"],["type","button",1,"btn","btn-default",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-remove-sign"],[3,"hidden"],[1,"list-group-item"],[1,"form-group","row"],["for","nickname",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","input","id","nickname",1,"form-control",3,"value"],["nickname",""],["for","carmake",1,"col-sm-3","col-form-label"],["type","input","id","carmake",1,"form-control",3,"value"],["make",""],["for","carmodel",1,"col-sm-3","col-form-label"],["type","input","id","carmodel",1,"form-control",3,"value"],["model",""],["for","license",1,"col-sm-3","col-form-label"],["type","input","id","license",1,"form-control",3,"value"],["license",""],["for","seats",1,"col-sm-3","col-form-label"],["type","number","id","seats",1,"form-control",3,"value"],["seats",""]],template:function(e,i){if(1&e){const r=l.EpF();l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(){return i.onEdit()}),l._UZ(2,"span",2),l.qZA(),l.TgZ(3,"button",1),l.NdJ("click",function(){l.CHM(r);const u=l.MAs(35),h=l.MAs(41),m=l.MAs(47),v=l.MAs(53),C=l.MAs(59);return l.KtG(i.onSave(u,h,m,v,C))}),l._UZ(4,"span",3),l.qZA(),l.TgZ(5,"button",4),l.NdJ("click",function(){return i.onDelete()}),l._UZ(6,"span",5),l.qZA(),l.TgZ(7,"p",6)(8,"li",7)(9,"b"),l._uU(10,"Nickname: "),l.qZA(),l._uU(11),l.qZA(),l.TgZ(12,"li",7)(13,"b"),l._uU(14,"Car Make: "),l.qZA(),l._uU(15),l.qZA(),l.TgZ(16,"li",7)(17,"b"),l._uU(18,"Car Model: "),l.qZA(),l._uU(19),l.qZA(),l.TgZ(20,"li",7)(21,"b"),l._uU(22,"License: "),l.qZA(),l._uU(23),l.qZA(),l.TgZ(24,"li",7)(25,"b"),l._uU(26,"Seats Available: "),l.qZA(),l._uU(27),l.qZA()(),l.TgZ(28,"form",6)(29,"li",7)(30,"div",8)(31,"label",9),l._uU(32,"Nickname:"),l.qZA(),l.TgZ(33,"div",10),l._UZ(34,"input",11,12),l.qZA()(),l.TgZ(36,"div",8)(37,"label",13),l._uU(38,"Car Make:"),l.qZA(),l.TgZ(39,"div",10),l._UZ(40,"input",14,15),l.qZA()(),l.TgZ(42,"div",8)(43,"label",16),l._uU(44,"Car Model:"),l.qZA(),l.TgZ(45,"div",10),l._UZ(46,"input",17,18),l.qZA()(),l.TgZ(48,"div",8)(49,"label",19),l._uU(50,"License:"),l.qZA(),l.TgZ(51,"div",10),l._UZ(52,"input",20,21),l.qZA()(),l.TgZ(54,"div",8)(55,"label",22),l._uU(56,"Seats Available:"),l.qZA(),l.TgZ(57,"div",10),l._UZ(58,"input",23,24),l.qZA()()()()()}2&e&&(l.xp6(1),l.Q6J("hidden",i.isEditing),l.xp6(2),l.Q6J("hidden",!i.isEditing),l.xp6(4),l.Q6J("hidden",i.isEditing),l.xp6(4),l.Oqu(i.vehicleObj.nickname),l.xp6(4),l.Oqu(i.vehicleObj.make),l.xp6(4),l.Oqu(i.vehicleObj.model),l.xp6(4),l.Oqu(i.vehicleObj.license),l.xp6(4),l.Oqu(i.vehicleObj.seatsAvail),l.xp6(1),l.Q6J("hidden",!i.isEditing),l.xp6(6),l.Q6J("value",i.vehicleObj.nickname),l.xp6(6),l.Q6J("value",i.vehicleObj.make),l.xp6(6),l.Q6J("value",i.vehicleObj.model),l.xp6(6),l.Q6J("value",i.vehicleObj.license),l.xp6(6),l.Q6J("value",i.vehicleObj.seatsAvail))},dependencies:[Rg,el,Ws]}),n})();function qG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"app-vehicle",17),l.NdJ("vehicleDeleted",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a.onVehicleDeleted(r))}),l.qZA()}2&n&&l.Q6J("vehicleObj",t.$implicit)}let WG=(()=>{class n{constructor(e,i,r,a,u,h){this.gudataService=e,this.udataService=i,this.localService=r,this.transferService=a,this.vdataService=u,this.router=h,this.app=(0,Yn.ZF)(va_firebase),this.db=Qp(this.app),this.photoURL="",this.nameText="",this.phoneText="",this.emailText="",this.addressText="",this.uid="",this.noPermission=!0,this.creatingVehicle=!1,this.vehicles=[]}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus().then(e=>{this.photoURL=this.udataService.user.photoURL,this.nameText=this.udataService.user.name,this.phoneText=this.udataService.user.phone,this.emailText=this.udataService.user.email,this.addressText=this.udataService.user.address,this.uid=this.udataService.user.uid,this.getAllVehicles(),0==this.udataService.user.type&&(this.noPermission=!1)}).catch(e=>{console.log(e)})}getAllVehicles(){var e=this;return(0,oe.Z)(function*(){yield e.vdataService.getAllVehicles().then(()=>{e.vehicles=e.transferService.getData(),e.transferService.clearData()})})()}onEdit(){this.router.navigate(["editprofile"])}onLogout(){this.gudataService.account=void 0,this.udataService.user=void 0,this.localService.removeLocalData("uid"),this.localService.clearLocalData(),this.router.navigate(["login"])}onAprroveUserReg(){0==this.udataService.user.type?this.router.navigate(["approveusers"]):alert("Your account is not authorized to view and approve new registrations!")}addVehicle(){this.creatingVehicle=!0}onVehicleAdded(e){var i=this;return(0,oe.Z)(function*(){""!=e.license&&window.location.reload(),i.creatingVehicle=!1})()}onVehicleUpdated(e){return(0,oe.Z)(function*(){window.location.reload()})()}onVehicleDeleted(e){var i=this;return(0,oe.Z)(function*(){yield i.getAllVehicles()})()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Da),l.Y36(Xs),l.Y36(Eh),l.Y36(Il),l.Y36(Lk),l.Y36(pn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-profile"]],decls:50,vars:9,consts:[[1,"col-sm-10","justify-content-center"],[1,"text-center"],[1,"rounded-circle",3,"src"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],["type","button",1,"btn","btn-secondary","btn-block",3,"click"],[1,"card-body",3,"hidden"],["type","button",1,"btn","btn-warning","btn-block",3,"click"],["type","button",1,"btn","btn-default",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-plus-sign"],[3,"uid","vehicleAdded","vehicleUpdated"],[3,"vehicleObj","vehicleDeleted",4,"ngFor","ngForOf"],[1,"fixed-bottom",2,"width","100%"],[3,"vehicleObj","vehicleDeleted"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"br")(3,"img",2)(4,"br"),l.qZA(),l._UZ(5,"br"),l.TgZ(6,"div",3)(7,"div",4)(8,"h4",5)(9,"b"),l._uU(10,"My Profile"),l.qZA()()(),l.TgZ(11,"ul",6)(12,"li",7)(13,"b"),l._uU(14,"Name: "),l.qZA(),l._uU(15),l.qZA(),l.TgZ(16,"li",7)(17,"b"),l._uU(18,"Phone: "),l.qZA(),l._uU(19),l.qZA(),l.TgZ(20,"li",7)(21,"b"),l._uU(22,"E-mail: "),l.qZA(),l._uU(23),l.qZA(),l.TgZ(24,"li",7)(25,"b"),l._uU(26,"Address: "),l.qZA(),l._uU(27),l.qZA()(),l.TgZ(28,"div",4)(29,"button",8),l.NdJ("click",function(){return i.onEdit()}),l._uU(30,"Edit"),l.qZA(),l.TgZ(31,"button",9),l.NdJ("click",function(){return i.onLogout()}),l._uU(32,"Logout"),l.qZA()(),l.TgZ(33,"div",10)(34,"button",11),l.NdJ("click",function(){return i.onAprroveUserReg()}),l._uU(35,"Approve User Registrations"),l.qZA()()(),l._UZ(36,"br"),l.TgZ(37,"div",3)(38,"div",4)(39,"h4",5)(40,"b"),l._uU(41,"My Vehicles "),l.qZA(),l.TgZ(42,"button",12),l.NdJ("click",function(){return i.addVehicle()}),l._UZ(43,"span",13),l.qZA()()(),l.TgZ(44,"ul",6)(45,"div",10)(46,"app-add-vehicle",14),l.NdJ("vehicleAdded",function(a){return i.onVehicleAdded(a)})("vehicleUpdated",function(a){return i.onVehicleUpdated(a)}),l.qZA()(),l.YNc(47,qG,1,1,"app-vehicle",15),l.qZA()()(),l.TgZ(48,"div",16),l._UZ(49,"app-navbar"),l.qZA()),2&e&&(l.xp6(3),l.s9C("src",i.photoURL,l.LSH),l.xp6(12),l.Oqu(i.nameText),l.xp6(4),l.Oqu(i.phoneText),l.xp6(4),l.Oqu(i.emailText),l.xp6(4),l.Oqu(i.addressText),l.xp6(6),l.Q6J("hidden",1==i.noPermission),l.xp6(12),l.Q6J("hidden",1!=i.creatingVehicle),l.xp6(1),l.Q6J("uid",i.uid),l.xp6(1),l.Q6J("ngForOf",i.vehicles))},dependencies:[zi,Fw,zG,ZG]}),n})(),YG=(()=>{class n{constructor(e,i){this.gudataService=e,this.udataService=i,this.accountProcessed=new l.vpe}ngOnInit(){}onApprove(){this.udataService.addUser({uid:this.accountObj.uid,email:this.accountObj.email,photoURL:this.accountObj.photoURL,type:1,name:this.accountObj.displayName,phone:"",address:"",add:"",city:"",state:"",zip:"",initialized:!1}),this.accountProcessed.emit({ac:this.accountObj})}onDenied(){window.confirm("Deny this user's registration?")&&this.gudataService.deleteAccount(this.accountObj).then(()=>{this.accountProcessed.emit({ac:this.accountObj})}).catch(e=>{console.log(e)})}onApproveAsAdmin(){this.udataService.addUser({uid:this.accountObj.uid,email:this.accountObj.email,photoURL:this.accountObj.photoURL,type:0,name:this.accountObj.displayName,phone:"",address:"",add:"",city:"",state:"",zip:"",initialized:!1}),this.accountProcessed.emit({ac:this.accountObj})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Da),l.Y36(Xs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-account-to-be-approved"]],inputs:{accountObj:"accountObj"},outputs:{accountProcessed:"accountProcessed"},decls:22,vars:3,consts:[[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body"],[1,"btn","btn-primary",2,"margin","5px",3,"click"],[1,"btn","btn-warning",2,"margin","5px",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"b"),l._uU(3),l.qZA()(),l.TgZ(4,"div",2)(5,"p")(6,"b"),l._uU(7,"Google Account Username:"),l.qZA(),l._uU(8),l.qZA(),l._UZ(9,"p"),l.TgZ(10,"p")(11,"b"),l._uU(12,"G-mail Address:"),l.qZA(),l._uU(13),l.qZA(),l._UZ(14,"p"),l.TgZ(15,"button",3),l.NdJ("click",function(){return i.onApprove()}),l._uU(16,"Approve"),l.qZA(),l.TgZ(17,"button",3),l.NdJ("click",function(){return i.onDenied()}),l._uU(18,"Deny"),l.qZA(),l._UZ(19,"br"),l.TgZ(20,"button",4),l.NdJ("click",function(){return i.onApproveAsAdmin()}),l._uU(21,"Approve and Set as Admin"),l.qZA()()()),2&e&&(l.xp6(3),l.hij("User Id: ",i.accountObj.uid,""),l.xp6(5),l.hij(" ",i.accountObj.displayName,""),l.xp6(5),l.hij(" ",i.accountObj.email,""))}}),n})();function KG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"app-account-to-be-approved",6),l.NdJ("accountProcessed",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a.onProcessed(r))}),l.qZA()}2&n&&l.Q6J("accountObj",t.$implicit)}const QG=[{path:"",pathMatch:"full",redirectTo:"carpools"},{path:"login",component:vG},{path:"carpools",component:m3},{path:"carpools/:id",component:jG},{path:"profile",component:WG},{path:"editprofile",component:mG},{path:"approveusers",component:(()=>{class n{constructor(e,i,r,a){this.gudataService=e,this.udataService=i,this.transferService=r,this.router=a,this.noUsersToApprove=!0,this.allAccounts=[],this.accounts=[]}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus().then(e=>{if(0!=this.udataService.user.type)return alert("Only admin accounts are authorized to view this page!"),void this.router.navigate(["carpools"]);this.getGoogleAccounts().then(()=>{this.filter().then(()=>{this.accounts.length>0&&(this.noUsersToApprove=!1)})})}).catch(e=>{console.log(e)})}getGoogleAccounts(){var e=this;return(0,oe.Z)(function*(){yield e.gudataService.getAllAccounts().then(()=>{e.allAccounts=e.transferService.getData(),console.log(e.allAccounts.length+" google accounts fetched."),e.transferService.clearData()})})()}filter(){var e=this;return(0,oe.Z)(function*(){for(var i=0;i<e.allAccounts.length;i++)console.log("FILTER PROCESS: "+e.allAccounts[i].displayName),yield e.udataService.getUser(e.allAccounts[i].uid).then(()=>{const r=e.transferService.getData();e.transferService.clearData(),null==r&&e.accounts.push(e.allAccounts[i])});console.log(e.accounts.length+" accounts wait to be approved.")})()}onProcessed(e){var i=this.accounts.indexOf(e);this.accounts.splice(i,1)}onNavBack(){this.router.navigate(["profile"])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Da),l.Y36(Xs),l.Y36(Il),l.Y36(pn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-approve-users"]],decls:13,vars:2,consts:[[1,"row","col-xs-10"],[1,"row"],[3,"accountObj","accountProcessed",4,"ngFor","ngForOf"],[3,"hidden"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"fixed-bottom",2,"width","100%"],[3,"accountObj","accountProcessed"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h2"),l._uU(3,"Approve User Registration"),l.qZA(),l._UZ(4,"hr"),l.YNc(5,KG,1,1,"app-account-to-be-approved",2),l.qZA(),l.TgZ(6,"div",3)(7,"p"),l._uU(8,"No new users are waiting for approvement."),l.qZA()(),l.TgZ(9,"button",4),l.NdJ("click",function(){return i.onNavBack()}),l._uU(10,"Back"),l.qZA()(),l.TgZ(11,"div",5),l._UZ(12,"app-navbar"),l.qZA()),2&e&&(l.xp6(5),l.Q6J("ngForOf",i.accounts),l.xp6(1),l.Q6J("hidden",!i.noUsersToApprove))},dependencies:[zi,Fw,YG]}),n})()},{path:"notice",component:(()=>{class n{constructor(e,i,r,a){this.gudataService=e,this.udataService=i,this.localService=r,this.router=a}ngOnInit(){null!=this.gudataService.account&&null!=this.udataService.user?this.router.navigate(this.udataService.user.initialized?["carpools"]:["editprofile"]):null!=this.localService.getLocalData("uid")&&this.router.navigate(["carpools"])}backToLogin(){this.router.navigate(["login"])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Da),l.Y36(Xs),l.Y36(Eh),l.Y36(pn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-notice"]],decls:14,vars:0,consts:[["type","button",1,"btn","btn-primary","btn-block",3,"click"]],template:function(e,i){1&e&&(l._UZ(0,"br"),l.TgZ(1,"h2"),l._uU(2,"Notice"),l.qZA(),l._UZ(3,"br"),l.TgZ(4,"div")(5,"p"),l._uU(6,"Your account is under approving by Snowbird Carpools admin!"),l.qZA(),l.TgZ(7,"p"),l._uU(8,"You'll be able to login after it is approved. Please try again later. "),l.qZA(),l.TgZ(9,"p"),l._uU(10,"Thank you for your patience!"),l.qZA()(),l.TgZ(11,"div")(12,"button",0),l.NdJ("click",function(){return i.backToLogin()}),l._uU(13,"Back To Login"),l.qZA()())}}),n})()}];let JG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[Nv]}),n.\u0275inj=l.cJS({imports:[ho,fy,gG,VG,dv.forRoot(QG),GD,rs.hO.initializeApp(va_firebase),PU,h3,Gx,qH,qk,cH,O2]}),n})();(0,l.G48)(),qa().bootstrapModule(JG).catch(n=>console.error(n))},5867:(ht,xe,N)=>{N.d(xe,{C6:()=>l.getApps,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=N(9681);(0,l.registerVersion)("firebase","9.9.4","app")},127:(ht,xe,N)=>{N.d(xe,{Z:()=>l.Z});var l=N(3942);l.Z.registerVersion("firebase","9.9.4","app-compat")},5881:(ht,xe,N)=>{N.r(xe);var l=N(5861),B=N(3942),O=N(8554),ce=N(2090),de=(N(9681),N(1877),N(4859));function me(){return window}function W(){return(W=(0,l.Z)(function*(re,H,z){var Ie;const{BuildInfo:qe}=me();(0,O.aq)(H.sessionId,"AuthEvent did not contain a session ID");const bt=yield ve(H.sessionId),Et={};return(0,O.ar)()?Et.ibi=qe.packageName:(0,O.as)()?Et.apn=qe.packageName:(0,O.at)(re,"operation-not-supported-in-this-environment"),qe.displayName&&(Et.appDisplayName=qe.displayName),Et.sessionId=bt,(0,O.au)(re,z,H.type,void 0,null!==(Ie=H.eventId)&&void 0!==Ie?Ie:void 0,Et)})).apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(re){const{BuildInfo:H}=me(),z={};(0,O.ar)()?z.iosBundleId=H.packageName:(0,O.as)()?z.androidPackageName=H.packageName:(0,O.at)(re,"operation-not-supported-in-this-environment"),yield(0,O.av)(re,z)})).apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(re,H,z){const{cordova:Ie}=me();let qe=()=>{};try{yield new Promise((bt,Et)=>{let Ve=null;function rt(){var jt;bt();const vn=null===(jt=Ie.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof vn&&vn(),"function"==typeof z?.close&&z.close()}function Jt(){Ve||(Ve=window.setTimeout(()=>{Et((0,O.aw)(re,"redirect-cancelled-by-user"))},2e3))}function On(){"visible"===document?.visibilityState&&Jt()}H.addPassiveListener(rt),document.addEventListener("resume",Jt,!1),(0,O.as)()&&document.addEventListener("visibilitychange",On,!1),qe=()=>{H.removePassiveListener(rt),document.removeEventListener("resume",Jt,!1),document.removeEventListener("visibilitychange",On,!1),Ve&&window.clearTimeout(Ve)}})}finally{qe()}})).apply(this,arguments)}function ve(re){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(re){const H=tt(re),z=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(z)).map(qe=>qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function tt(re){if((0,O.aq)(/[0-9a-zA-Z]+/.test(re),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(re);const H=new ArrayBuffer(re.length),z=new Uint8Array(H);for(let Ie=0;Ie<re.length;Ie++)z[Ie]=re.charCodeAt(Ie);return z}class Re extends O.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(H=>{this.resolveInialized=H})}addPassiveListener(H){this.passiveListeners.add(H)}removePassiveListener(H){this.passiveListeners.delete(H)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(H){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(H)),super.onEvent(H)}initialized(){var H=this;return(0,l.Z)(function*(){yield H.initPromise})()}}function le(re){return pe.apply(this,arguments)}function pe(){return(pe=(0,l.Z)(function*(re){const H=yield ne()._get(_e(re));return H&&(yield ne()._remove(_e(re))),H})).apply(this,arguments)}function X(){const re=[],H="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const Ie=Math.floor(Math.random()*H.length);re.push(H.charAt(Ie))}return re.join("")}function ne(){return(0,O.ay)(O.b)}function _e(re){return(0,O.az)("authEvent",re.config.apiKey,re.name)}function je(re){if(!re?.includes("?"))return{};const[H,...z]=re.split("?");return(0,ce.zd)(z.join("?"))}function Ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aw)("no-auth-event")}}function Wt(){var re;return(null===(re=self?.location)||void 0===re?void 0:re.protocol)||null}function Ii(re=(0,ce.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()&&"capacitor:"!==Wt()||!re.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gr(){try{const re=self.localStorage,H=O.aI();if(re)return re.setItem(H,"1"),re.removeItem(H),!function ds(re=(0,ce.z$)()){return function Si(){return(0,ce.w1)()&&11===document?.documentMode}()||function Rn(re=(0,ce.z$)()){return/Edge\/\d+/.test(re)}(re)}()||(0,ce.hl)()}catch{return tr()&&(0,ce.hl)()}return!1}function tr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Un(){return(function Gt(){return"http:"===Wt()||"https:"===Wt()}()||(0,ce.ru)()||Ii())&&!function ko(){return(0,ce.b$)()||(0,ce.UG)()}()&&Gr()&&!tr()}function zr(){return Ii()&&typeof document<"u"}function nt(){return(nt=(0,l.Z)(function*(){return!!zr()&&new Promise(re=>{const H=setTimeout(()=>{re(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(H),re(!0)})})})).apply(this,arguments)}const jn={LOCAL:"local",NONE:"none",SESSION:"session"},yn=O.ax,Ai="persistence";function In(re){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(re){yield re._initializationPromise;const H=pt(),z=O.az(Ai,re.config.apiKey,re.name);H&&H.setItem(z,re._getPersistence())})).apply(this,arguments)}function pt(){var re;try{return(null===(re=function _i(){return typeof window<"u"?window:null}())||void 0===re?void 0:re.sessionStorage)||null}catch{return null}}const gt=O.ax;class Ft{constructor(){this.browserResolver=O.ay(O.k),this.cordovaResolver=O.ay(class rn{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(H){var z=this;return(0,l.Z)(function*(){const Ie=H._key();let qe=z.eventManagers.get(Ie);return qe||(qe=new Re(H),z.eventManagers.set(Ie,qe),z.attachCallbackListeners(H,qe)),qe})()}_openPopup(H){(0,O.at)(H,"operation-not-supported-in-this-environment")}_openRedirect(H,z,Ie,qe){var bt=this;return(0,l.Z)(function*(){!function Se(re){var H,z,Ie,qe,bt,Et,Ve,rt,Jt,On;const jt=me();(0,O.ax)("function"==typeof(null===(H=jt?.universalLinks)||void 0===H?void 0:H.subscribe),re,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.ax)(typeof(null===(z=jt?.BuildInfo)||void 0===z?void 0:z.packageName)<"u",re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.ax)("function"==typeof(null===(bt=null===(qe=null===(Ie=jt?.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===bt?void 0:bt.openUrl),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(rt=null===(Ve=null===(Et=jt?.cordova)||void 0===Et?void 0:Et.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===rt?void 0:rt.isAvailable),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(On=null===(Jt=jt?.cordova)||void 0===Jt?void 0:Jt.InAppBrowser)||void 0===On?void 0:On.open),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(H);const Et=yield bt._initialize(H);yield Et.initialized(),Et.resetRedirect(),(0,O.aD)(),yield bt._originValidation(H);const Ve=function Te(re,H,z=null){return{type:H,eventId:z,urlResponse:null,sessionId:X(),postBody:null,tenantId:re.tenantId,error:(0,O.aw)(re,"no-auth-event")}}(H,Ie,qe);yield function We(re,H){return ne()._set(_e(re),H)}(H,Ve);const rt=yield function q(re,H,z){return W.apply(this,arguments)}(H,Ve,z),Jt=yield function Fe(re){const{cordova:H}=me();return new Promise(z=>{H.plugins.browsertab.isAvailable(Ie=>{let qe=null;Ie?H.plugins.browsertab.openUrl(re):qe=H.InAppBrowser.open(re,(0,O.ap)()?"_blank":"_system","location=yes"),z(qe)})})}(rt);return function Ae(re,H,z){return st.apply(this,arguments)}(H,Et,Jt)})()}_isIframeWebStorageSupported(H,z){throw new Error("Method not implemented.")}_originValidation(H){const z=H._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function te(re){return Ge.apply(this,arguments)}(H)),this.originValidationPromises[z]}attachCallbackListeners(H,z){const{universalLinks:Ie,handleOpenURL:qe,BuildInfo:bt}=me(),Et=setTimeout((0,l.Z)(function*(){yield le(H),z.onEvent(Ye())}),500),Ve=function(){var On=(0,l.Z)(function*(jt){clearTimeout(Et);const vn=yield le(H);let fs=null;vn&&jt?.url&&(fs=function Ce(re,H){var z,Ie;const qe=function Ue(re){const H=je(re),z=H.link?decodeURIComponent(H.link):void 0,Ie=je(z).link,qe=H.deep_link_id?decodeURIComponent(H.deep_link_id):void 0;return je(qe).link||qe||Ie||z||re}(H);if(qe.includes("/__/auth/callback")){const bt=je(qe),Et=bt.firebaseError?function ue(re){try{return JSON.parse(re)}catch{return null}}(decodeURIComponent(bt.firebaseError)):null,Ve=null===(Ie=null===(z=Et?.code)||void 0===z?void 0:z.split("auth/"))||void 0===Ie?void 0:Ie[1],rt=Ve?(0,O.aw)(Ve):null;return rt?{type:re.type,eventId:re.eventId,tenantId:re.tenantId,error:rt,urlResponse:null,sessionId:null,postBody:null}:{type:re.type,eventId:re.eventId,tenantId:re.tenantId,sessionId:re.sessionId,urlResponse:qe,postBody:null}}return null}(vn,jt.url)),z.onEvent(fs||Ye())});return function(vn){return On.apply(this,arguments)}}();typeof Ie<"u"&&"function"==typeof Ie.subscribe&&Ie.subscribe(null,Ve);const rt=qe,Jt=`${bt.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var On=(0,l.Z)(function*(jt){if(jt.toLowerCase().startsWith(Jt)&&Ve({url:jt}),"function"==typeof rt)try{rt(jt)}catch(vn){console.error(vn)}});return function(jt){return On.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(H){var z=this;return(0,l.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(H)})()}_openPopup(H,z,Ie,qe){var bt=this;return(0,l.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openPopup(H,z,Ie,qe)})()}_openRedirect(H,z,Ie,qe){var bt=this;return(0,l.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openRedirect(H,z,Ie,qe)})()}_isIframeWebStorageSupported(H,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(H,z)}_originValidation(H){return this.assertedUnderlyingResolver._originValidation(H)}get _shouldInitProactively(){return zr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var H=this;return(0,l.Z)(function*(){if(H.underlyingResolver)return;const z=yield function Zr(){return nt.apply(this,arguments)}();H.underlyingResolver=z?H.cordovaResolver:H.browserResolver})()}}function Gi(re){return re.unwrap()}function Ti(re){return Pi(re)}function Pi(re){const{_tokenResponse:H}=re instanceof ce.ZR?re.customData:re;if(!H)return null;if(!(re instanceof ce.ZR)&&"temporaryProof"in H&&"phoneNumber"in H)return O.P.credentialFromResult(re);const z=H.providerId;if(!z||z===O.o.PASSWORD)return null;let Ie;switch(z){case O.o.GOOGLE:Ie=O.Q;break;case O.o.FACEBOOK:Ie=O.N;break;case O.o.GITHUB:Ie=O.T;break;case O.o.TWITTER:Ie=O.W;break;default:const{oauthIdToken:qe,oauthAccessToken:bt,oauthTokenSecret:Et,pendingToken:Ve,nonce:rt}=H;return bt||Et||qe||Ve?Ve?z.startsWith("saml.")?O.aL._create(z,Ve):O.J._fromParams({providerId:z,signInMethod:z,pendingToken:Ve,idToken:qe,accessToken:bt}):new O.U(z).credential({idToken:qe,accessToken:bt,rawNonce:rt}):null}return re instanceof ce.ZR?Ie.credentialFromError(re):Ie.credentialFromResult(re)}function Lt(re,H){return H.catch(z=>{throw z instanceof ce.ZR&&function St(re,H){var z,Ie;const qe=null===(z=H.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ie=H)||void 0===Ie?void 0:Ie.code))H.resolver=new J(re,O.an(re,H));else if(qe){const bt=Pi(H),Et=H;bt&&(Et.credential=bt,Et.tenantId=qe.tenantId||void 0,Et.email=qe.email||void 0,Et.phoneNumber=qe.phoneNumber||void 0)}}(re,z),z}).then(z=>{const qe=z.user;return{operationType:z.operationType,credential:Ti(z),additionalUserInfo:O.al(z),user:G.getOrCreate(qe)}})}function nr(re,H){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(re,H){const z=yield H;return{verificationId:z.verificationId,confirm:Ie=>Lt(re,z.confirm(Ie))}})).apply(this,arguments)}class J{constructor(H,z){this.resolver=z,this.auth=function yi(re){return re.wrapped()}(H)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(H){return Lt(Gi(this.auth),this.resolver.resolveSignIn(H))}}class G{constructor(H){this._delegate=H,this.multiFactor=O.ao(H)}static getOrCreate(H){return G.USER_MAP.has(H)||G.USER_MAP.set(H,new G(H)),G.USER_MAP.get(H)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(H){return this._delegate.getIdTokenResult(H)}getIdToken(H){return this._delegate.getIdToken(H)}linkAndRetrieveDataWithCredential(H){return this.linkWithCredential(H)}linkWithCredential(H){var z=this;return(0,l.Z)(function*(){return Lt(z.auth,O.Z(z._delegate,H))})()}linkWithPhoneNumber(H,z){var Ie=this;return(0,l.Z)(function*(){return nr(Ie.auth,O.l(Ie._delegate,H,z))})()}linkWithPopup(H){var z=this;return(0,l.Z)(function*(){return Lt(z.auth,O.d(z._delegate,H,Ft))})()}linkWithRedirect(H){var z=this;return(0,l.Z)(function*(){return yield In(O.aE(z.auth)),O.g(z._delegate,H,Ft)})()}reauthenticateAndRetrieveDataWithCredential(H){return this.reauthenticateWithCredential(H)}reauthenticateWithCredential(H){var z=this;return(0,l.Z)(function*(){return Lt(z.auth,O._(z._delegate,H))})()}reauthenticateWithPhoneNumber(H,z){return nr(this.auth,O.r(this._delegate,H,z))}reauthenticateWithPopup(H){return Lt(this.auth,O.e(this._delegate,H,Ft))}reauthenticateWithRedirect(H){var z=this;return(0,l.Z)(function*(){return yield In(O.aE(z.auth)),O.h(z._delegate,H,Ft)})()}sendEmailVerification(H){return O.ab(this._delegate,H)}unlink(H){var z=this;return(0,l.Z)(function*(){return yield O.ak(z._delegate,H),z})()}updateEmail(H){return O.ag(this._delegate,H)}updatePassword(H){return O.ah(this._delegate,H)}updatePhoneNumber(H){return O.u(this._delegate,H)}updateProfile(H){return O.af(this._delegate,H)}verifyBeforeUpdateEmail(H,z){return O.ac(this._delegate,H,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}G.USER_MAP=new WeakMap;const j=O.ax;let Y=(()=>{class re{constructor(z,Ie){if(this.app=z,Ie.isInitialized())return this._delegate=Ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:qe}=z.options;j(qe,"invalid-api-key",{appName:z.name}),j(qe,"invalid-api-key",{appName:z.name});const bt=typeof window<"u"?Ft:void 0;this._delegate=Ie.initialize({options:{persistence:Me(qe,z.name),popupRedirectResolver:bt}}),this._delegate._updateErrorMap(O.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?G.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,Ie){O.G(this._delegate,z,Ie)}applyActionCode(z){return O.a2(this._delegate,z)}checkActionCode(z){return O.a3(this._delegate,z)}confirmPasswordReset(z,Ie){return O.a1(this._delegate,z,Ie)}createUserWithEmailAndPassword(z,Ie){var qe=this;return(0,l.Z)(function*(){return Lt(qe._delegate,O.a5(qe._delegate,z,Ie))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return O.aa(this._delegate,z)}isSignInWithEmailLink(z){return O.a8(this._delegate,z)}getRedirectResult(){var z=this;return(0,l.Z)(function*(){j(Un(),z._delegate,"operation-not-supported-in-this-environment");const Ie=yield O.j(z._delegate,Ft);return Ie?Lt(z._delegate,Promise.resolve(Ie)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function bn(re,H){(0,O.aE)(re)._logFramework(H)}(this._delegate,z)}onAuthStateChanged(z,Ie,qe){const{next:bt,error:Et,complete:Ve}=K(z,Ie,qe);return this._delegate.onAuthStateChanged(bt,Et,Ve)}onIdTokenChanged(z,Ie,qe){const{next:bt,error:Et,complete:Ve}=K(z,Ie,qe);return this._delegate.onIdTokenChanged(bt,Et,Ve)}sendSignInLinkToEmail(z,Ie){return O.a7(this._delegate,z,Ie)}sendPasswordResetEmail(z,Ie){return O.a0(this._delegate,z,Ie||void 0)}setPersistence(z){var Ie=this;return(0,l.Z)(function*(){let qe;switch(function hs(re,H){yn(Object.values(jn).includes(H),re,"invalid-persistence-type"),(0,ce.b$)()?yn(H!==jn.SESSION,re,"unsupported-persistence-type"):(0,ce.UG)()?yn(H===jn.NONE,re,"unsupported-persistence-type"):tr()?yn(H===jn.NONE||H===jn.LOCAL&&(0,ce.hl)(),re,"unsupported-persistence-type"):yn(H===jn.NONE||Gr(),re,"unsupported-persistence-type")}(Ie._delegate,z),z){case jn.SESSION:qe=O.a;break;case jn.LOCAL:qe=(yield O.ay(O.i)._isAvailable())?O.i:O.b;break;case jn.NONE:qe=O.L;break;default:return O.at("argument-error",{appName:Ie._delegate.name})}return Ie._delegate.setPersistence(qe)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return Lt(this._delegate,O.X(this._delegate))}signInWithCredential(z){return Lt(this._delegate,O.Y(this._delegate,z))}signInWithCustomToken(z){return Lt(this._delegate,O.$(this._delegate,z))}signInWithEmailAndPassword(z,Ie){return Lt(this._delegate,O.a6(this._delegate,z,Ie))}signInWithEmailLink(z,Ie){return Lt(this._delegate,O.a9(this._delegate,z,Ie))}signInWithPhoneNumber(z,Ie){return nr(this._delegate,O.s(this._delegate,z,Ie))}signInWithPopup(z){var Ie=this;return(0,l.Z)(function*(){return j(Un(),Ie._delegate,"operation-not-supported-in-this-environment"),Lt(Ie._delegate,O.c(Ie._delegate,z,Ft))})()}signInWithRedirect(z){var Ie=this;return(0,l.Z)(function*(){return j(Un(),Ie._delegate,"operation-not-supported-in-this-environment"),yield In(Ie._delegate),O.f(Ie._delegate,z,Ft)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return O.a4(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return re.Persistence=jn,re})();function K(re,H,z){let Ie=re;"function"!=typeof re&&({next:Ie,error:H,complete:z}=re);const qe=Ie;return{next:Et=>qe(Et&&G.getOrCreate(Et)),error:H,complete:z}}function Me(re,H){const z=function Dn(re,H){const z=pt();if(!z)return[];const Ie=O.az(Ai,re,H);switch(z.getItem(Ie)){case jn.NONE:return[O.L];case jn.LOCAL:return[O.i,O.a];case jn.SESSION:return[O.a];default:return[]}}(re,H);if(typeof self<"u"&&!z.includes(O.i)&&z.push(O.i),typeof window<"u")for(const Ie of[O.b,O.a])z.includes(Ie)||z.push(Ie);return z.includes(O.L)||z.push(O.L),z}class ze{constructor(){this.providerId="phone",this._delegate=new O.P(Gi(B.Z.auth()))}static credential(H,z){return O.P.credential(H,z)}verifyPhoneNumber(H,z){return this._delegate.verifyPhoneNumber(H,z)}unwrap(){return this._delegate}}ze.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,ze.PROVIDER_ID=O.P.PROVIDER_ID;const Ct=O.ax;class hn{constructor(H,z,Ie=B.Z.app()){var qe;Ct(null===(qe=Ie.options)||void 0===qe?void 0:qe.apiKey,"invalid-api-key",{appName:Ie.name}),this._delegate=new O.R(H,z,Ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ti(re){re.INTERNAL.registerComponent(new de.wA("auth-compat",H=>{const z=H.getProvider("app-compat").getImmediate(),Ie=H.getProvider("auth");return new Y(z,Ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.M,FacebookAuthProvider:O.N,GithubAuthProvider:O.T,GoogleAuthProvider:O.Q,OAuthProvider:O.U,SAMLAuthProvider:O.V,PhoneAuthProvider:ze,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:hn,TwitterAuthProvider:O.W,Auth:Y,AuthCredential:O.H,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),re.registerVersion("@firebase/auth-compat","0.2.19")}(B.Z)},9751:(ht,xe,N)=>{N.d(xe,{y:()=>me});var l=N(930),B=N(727),O=N(8822),ce=N(9635),he=N(2416),be=N(576),de=N(2806);let me=(()=>{class te{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Ae=new te;return Ae.source=this,Ae.operator=Fe,Ae}subscribe(Fe,Ae,st){const Se=function W(te){return te&&te instanceof l.Lv||function q(te){return te&&(0,be.m)(te.next)&&(0,be.m)(te.error)&&(0,be.m)(te.complete)}(te)&&(0,B.Nn)(te)}(Fe)?Fe:new l.Hp(Fe,Ae,st);return(0,de.x)(()=>{const{operator:ve,source:et}=this;Se.add(ve?ve.call(Se,et):et?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Ae){Fe.error(Ae)}}forEach(Fe,Ae){return new(Ae=Ee(Ae))((st,Se)=>{const ve=new l.Hp({next:et=>{try{Fe(et)}catch(tt){Se(tt),ve.unsubscribe()}},error:Se,complete:st});this.subscribe(ve)})}_subscribe(Fe){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(Fe)}[O.L](){return this}pipe(...Fe){return(0,ce.U)(Fe)(this)}toPromise(Fe){return new(Fe=Ee(Fe))((Ae,st)=>{let Se;this.subscribe(ve=>Se=ve,ve=>st(ve),()=>Ae(Se))})}}return te.create=Ge=>new te(Ge),te})();function Ee(te){var Ge;return null!==(Ge=te??he.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(ht,xe,N)=>{N.d(xe,{x:()=>de});var l=N(9751),B=N(727);const ce=(0,N(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=N(8737),be=N(2806);let de=(()=>{class Ee extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const te=new me(this,this);return te.operator=W,te}_throwIfClosed(){if(this.closed)throw new ce}next(W){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(W)}})}error(W){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:te}=this;for(;te.length;)te.shift().error(W)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:te,isStopped:Ge,observers:Fe}=this;return te||Ge?B.Lc:(this.currentObservers=null,Fe.push(W),new B.w0(()=>{this.currentObservers=null,(0,he.P)(Fe,W)}))}_checkFinalizedStatuses(W){const{hasError:te,thrownError:Ge,isStopped:Fe}=this;te?W.error(Ge):Fe&&W.complete()}asObservable(){const W=new l.y;return W.source=this,W}}return Ee.create=(q,W)=>new me(q,W),Ee})();class me extends de{constructor(q,W){super(),this.destination=q,this.source=W}next(q){var W,te;null===(te=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===te||te.call(W,q)}error(q){var W,te;null===(te=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===te||te.call(W,q)}complete(){var q,W;null===(W=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===W||W.call(q)}_subscribe(q){var W,te;return null!==(te=null===(W=this.source)||void 0===W?void 0:W.subscribe(q))&&void 0!==te?te:B.Lc}}},930:(ht,xe,N)=>{N.d(xe,{Hp:()=>st,Lv:()=>te});var l=N(576),B=N(727),O=N(2416),ce=N(7849),he=N(5032);const be=Ee("C",void 0,void 0);function Ee(Le,Re,Te){return{kind:Le,value:Re,error:Te}}var q=N(3410),W=N(2806);class te extends B.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,B.Nn)(Re)&&Re.add(this)):this.destination=tt}static create(Re,Te,We){return new st(Re,Te,We)}next(Re){this.isStopped?et(function me(Le){return Ee("N",Le,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?et(function de(Le){return Ee("E",void 0,Le)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?et(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Fe(Le,Re){return Ge.call(Le,Re)}class Ae{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Re)}catch(We){Se(We)}}error(Re){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Re)}catch(We){Se(We)}else Se(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Te){Se(Te)}}}class st extends te{constructor(Re,Te,We){let le;if(super(),(0,l.m)(Re)||!Re)le={next:Re??void 0,error:Te??void 0,complete:We??void 0};else{let pe;this&&O.v.useDeprecatedNextContext?(pe=Object.create(Re),pe.unsubscribe=()=>this.unsubscribe(),le={next:Re.next&&Fe(Re.next,pe),error:Re.error&&Fe(Re.error,pe),complete:Re.complete&&Fe(Re.complete,pe)}):le=Re}this.destination=new Ae(le)}}function Se(Le){O.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Le):(0,ce.h)(Le)}function et(Le,Re){const{onStoppedNotification:Te}=O.v;Te&&q.z.setTimeout(()=>Te(Le,Re))}const tt={closed:!0,next:he.Z,error:function ve(Le){throw Le},complete:he.Z}},727:(ht,xe,N)=>{N.d(xe,{Lc:()=>be,w0:()=>he,Nn:()=>de});var l=N(576);const O=(0,N(3888).d)(Ee=>function(W){Ee(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((te,Ge)=>`${Ge+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ce=N(8737);class he{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Fe of W)Fe.remove(this);else W.remove(this);const{initialTeardown:te}=this;if((0,l.m)(te))try{te()}catch(Fe){q=Fe instanceof O?Fe.errors:[Fe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Fe of Ge)try{me(Fe)}catch(Ae){q=q??[],Ae instanceof O?q=[...q,...Ae.errors]:q.push(Ae)}}if(q)throw new O(q)}}add(q){var W;if(q&&q!==this)if(this.closed)me(q);else{if(q instanceof he){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(q)}}_hasParent(q){const{_parentage:W}=this;return W===q||Array.isArray(W)&&W.includes(q)}_addParent(q){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(q),W):W?[W,q]:q}_removeParent(q){const{_parentage:W}=this;W===q?this._parentage=null:Array.isArray(W)&&(0,ce.P)(W,q)}remove(q){const{_finalizers:W}=this;W&&(0,ce.P)(W,q),q instanceof he&&q._removeParent(this)}}he.EMPTY=(()=>{const Ee=new he;return Ee.closed=!0,Ee})();const be=he.EMPTY;function de(Ee){return Ee instanceof he||Ee&&"closed"in Ee&&(0,l.m)(Ee.remove)&&(0,l.m)(Ee.add)&&(0,l.m)(Ee.unsubscribe)}function me(Ee){(0,l.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(ht,xe,N)=>{N.d(xe,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,xe,N)=>{N.d(xe,{E:()=>B});const B=new(N(9751).y)(he=>he.complete())},8996:(ht,xe,N)=>{N.d(xe,{D:()=>Re});var l=N(8421),B=N(5363),O=N(9468),be=N(9751),me=N(2202),Ee=N(576),q=N(9672);function te(Te,We){if(!Te)throw new Error("Iterable cannot be null");return new be.y(le=>{(0,q.f)(le,We,()=>{const pe=Te[Symbol.asyncIterator]();(0,q.f)(le,We,()=>{pe.next().then(Ce=>{Ce.done?le.complete():le.next(Ce.value)})},0,!0)})})}var Ge=N(3670),Fe=N(8239),Ae=N(1144),st=N(6495),Se=N(2206),ve=N(4532),et=N(3260);function Re(Te,We){return We?function Le(Te,We){if(null!=Te){if((0,Ge.c)(Te))return function ce(Te,We){return(0,l.Xf)(Te).pipe((0,O.R)(We),(0,B.Q)(We))}(Te,We);if((0,Ae.z)(Te))return function de(Te,We){return new be.y(le=>{let pe=0;return We.schedule(function(){pe===Te.length?le.complete():(le.next(Te[pe++]),le.closed||this.schedule())})})}(Te,We);if((0,Fe.t)(Te))return function he(Te,We){return(0,l.Xf)(Te).pipe((0,O.R)(We),(0,B.Q)(We))}(Te,We);if((0,Se.D)(Te))return te(Te,We);if((0,st.T)(Te))return function W(Te,We){return new be.y(le=>{let pe;return(0,q.f)(le,We,()=>{pe=Te[me.h](),(0,q.f)(le,We,()=>{let Ce,X;try{({value:Ce,done:X}=pe.next())}catch(ne){return void le.error(ne)}X?le.complete():le.next(Ce)},0,!0)}),()=>(0,Ee.m)(pe?.return)&&pe.return()})}(Te,We);if((0,et.L)(Te))return function tt(Te,We){return te((0,et.Q)(Te),We)}(Te,We)}throw(0,ve.z)(Te)}(Te,We):(0,l.Xf)(Te)}},8421:(ht,xe,N)=>{N.d(xe,{Xf:()=>Ge});var l=N(655),B=N(1144),O=N(8239),ce=N(9751),he=N(3670),be=N(2206),de=N(4532),me=N(6495),Ee=N(3260),q=N(576),W=N(7849),te=N(8822);function Ge(Le){if(Le instanceof ce.y)return Le;if(null!=Le){if((0,he.c)(Le))return function Fe(Le){return new ce.y(Re=>{const Te=Le[te.L]();if((0,q.m)(Te.subscribe))return Te.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,B.z)(Le))return function Ae(Le){return new ce.y(Re=>{for(let Te=0;Te<Le.length&&!Re.closed;Te++)Re.next(Le[Te]);Re.complete()})}(Le);if((0,O.t)(Le))return function st(Le){return new ce.y(Re=>{Le.then(Te=>{Re.closed||(Re.next(Te),Re.complete())},Te=>Re.error(Te)).then(null,W.h)})}(Le);if((0,be.D)(Le))return ve(Le);if((0,me.T)(Le))return function Se(Le){return new ce.y(Re=>{for(const Te of Le)if(Re.next(Te),Re.closed)return;Re.complete()})}(Le);if((0,Ee.L)(Le))return function et(Le){return ve((0,Ee.Q)(Le))}(Le)}throw(0,de.z)(Le)}function ve(Le){return new ce.y(Re=>{(function tt(Le,Re){var Te,We,le,pe;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Te=(0,l.KL)(Le);!(We=yield Te.next()).done;)if(Re.next(We.value),Re.closed)return}catch(Ce){le={error:Ce}}finally{try{We&&!We.done&&(pe=Te.return)&&(yield pe.call(Te))}finally{if(le)throw le.error}}Re.complete()})})(Le,Re).catch(Te=>Re.error(Te))})}},6451:(ht,xe,N)=>{N.d(xe,{T:()=>be});var l=N(8189),B=N(8421),O=N(515),ce=N(3269),he=N(8996);function be(...de){const me=(0,ce.yG)(de),Ee=(0,ce._6)(de,1/0),q=de;return q.length?1===q.length?(0,B.Xf)(q[0]):(0,l.J)(Ee)((0,he.D)(q,me)):O.E}},5403:(ht,xe,N)=>{N.d(xe,{x:()=>B});var l=N(930);function B(ce,he,be,de,me){return new O(ce,he,be,de,me)}class O extends l.Lv{constructor(he,be,de,me,Ee,q){super(he),this.onFinalize=Ee,this.shouldUnsubscribe=q,this._next=be?function(W){try{be(W)}catch(te){he.error(te)}}:super._next,this._error=me?function(W){try{me(W)}catch(te){he.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(W){he.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4004:(ht,xe,N)=>{N.d(xe,{U:()=>O});var l=N(4482),B=N(5403);function O(ce,he){return(0,l.e)((be,de)=>{let me=0;be.subscribe((0,B.x)(de,Ee=>{de.next(ce.call(he,Ee,me++))}))})}},8189:(ht,xe,N)=>{N.d(xe,{J:()=>O});var l=N(5577),B=N(4671);function O(ce=1/0){return(0,l.z)(B.y,ce)}},5577:(ht,xe,N)=>{N.d(xe,{z:()=>me});var l=N(4004),B=N(8421),O=N(4482),ce=N(9672),he=N(5403),de=N(576);function me(Ee,q,W=1/0){return(0,de.m)(q)?me((te,Ge)=>(0,l.U)((Fe,Ae)=>q(te,Fe,Ge,Ae))((0,B.Xf)(Ee(te,Ge))),W):("number"==typeof q&&(W=q),(0,O.e)((te,Ge)=>function be(Ee,q,W,te,Ge,Fe,Ae,st){const Se=[];let ve=0,et=0,tt=!1;const Le=()=>{tt&&!Se.length&&!ve&&q.complete()},Re=We=>ve<te?Te(We):Se.push(We),Te=We=>{Fe&&q.next(We),ve++;let le=!1;(0,B.Xf)(W(We,et++)).subscribe((0,he.x)(q,pe=>{Ge?.(pe),Fe?Re(pe):q.next(pe)},()=>{le=!0},void 0,()=>{if(le)try{for(ve--;Se.length&&ve<te;){const pe=Se.shift();Ae?(0,ce.f)(q,Ae,()=>Te(pe)):Te(pe)}Le()}catch(pe){q.error(pe)}}))};return Ee.subscribe((0,he.x)(q,Re,()=>{tt=!0,Le()})),()=>{st?.()}}(te,Ge,Ee,W)))}},5363:(ht,xe,N)=>{N.d(xe,{Q:()=>ce});var l=N(9672),B=N(4482),O=N(5403);function ce(he,be=0){return(0,B.e)((de,me)=>{de.subscribe((0,O.x)(me,Ee=>(0,l.f)(me,he,()=>me.next(Ee),be),()=>(0,l.f)(me,he,()=>me.complete(),be),Ee=>(0,l.f)(me,he,()=>me.error(Ee),be)))})}},3099:(ht,xe,N)=>{N.d(xe,{B:()=>he});var l=N(8421),B=N(7579),O=N(930),ce=N(4482);function he(de={}){const{connector:me=(()=>new B.x),resetOnError:Ee=!0,resetOnComplete:q=!0,resetOnRefCountZero:W=!0}=de;return te=>{let Ge,Fe,Ae,st=0,Se=!1,ve=!1;const et=()=>{Fe?.unsubscribe(),Fe=void 0},tt=()=>{et(),Ge=Ae=void 0,Se=ve=!1},Le=()=>{const Re=Ge;tt(),Re?.unsubscribe()};return(0,ce.e)((Re,Te)=>{st++,!ve&&!Se&&et();const We=Ae=Ae??me();Te.add(()=>{st--,0===st&&!ve&&!Se&&(Fe=be(Le,W))}),We.subscribe(Te),!Ge&&st>0&&(Ge=new O.Hp({next:le=>We.next(le),error:le=>{ve=!0,et(),Fe=be(tt,Ee,le),We.error(le)},complete:()=>{Se=!0,et(),Fe=be(tt,q),We.complete()}}),(0,l.Xf)(Re).subscribe(Ge))})(te)}}function be(de,me,...Ee){if(!0===me)return void de();if(!1===me)return;const q=new O.Hp({next:()=>{q.unsubscribe(),de()}});return me(...Ee).subscribe(q)}},9468:(ht,xe,N)=>{N.d(xe,{R:()=>B});var l=N(4482);function B(O,ce=0){return(0,l.e)((he,be)=>{be.add(O.schedule(()=>he.subscribe(be),ce))})}},8505:(ht,xe,N)=>{N.d(xe,{b:()=>he});var l=N(576),B=N(4482),O=N(5403),ce=N(4671);function he(be,de,me){const Ee=(0,l.m)(be)||de||me?{next:be,error:de,complete:me}:be;return Ee?(0,B.e)((q,W)=>{var te;null===(te=Ee.subscribe)||void 0===te||te.call(Ee);let Ge=!0;q.subscribe((0,O.x)(W,Fe=>{var Ae;null===(Ae=Ee.next)||void 0===Ae||Ae.call(Ee,Fe),W.next(Fe)},()=>{var Fe;Ge=!1,null===(Fe=Ee.complete)||void 0===Fe||Fe.call(Ee),W.complete()},Fe=>{var Ae;Ge=!1,null===(Ae=Ee.error)||void 0===Ae||Ae.call(Ee,Fe),W.error(Fe)},()=>{var Fe,Ae;Ge&&(null===(Fe=Ee.unsubscribe)||void 0===Fe||Fe.call(Ee)),null===(Ae=Ee.finalize)||void 0===Ae||Ae.call(Ee)}))}):ce.y}},4408:(ht,xe,N)=>{N.d(xe,{o:()=>he});var l=N(727);class B extends l.w0{constructor(de,me){super()}schedule(de,me=0){return this}}const O={setInterval(be,de,...me){const{delegate:Ee}=O;return Ee?.setInterval?Ee.setInterval(be,de,...me):setInterval(be,de,...me)},clearInterval(be){const{delegate:de}=O;return(de?.clearInterval||clearInterval)(be)},delegate:void 0};var ce=N(8737);class he extends B{constructor(de,me){super(de,me),this.scheduler=de,this.work=me,this.pending=!1}schedule(de,me=0){if(this.closed)return this;this.state=de;const Ee=this.id,q=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(q,Ee,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId(q,this.id,me),this}requestAsyncId(de,me,Ee=0){return O.setInterval(de.flush.bind(de,this),Ee)}recycleAsyncId(de,me,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return me;O.clearInterval(me)}execute(de,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(de,me);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,me){let q,Ee=!1;try{this.work(de)}catch(W){Ee=!0,q=W||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:de,scheduler:me}=this,{actions:Ee}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Ee,this),null!=de&&(this.id=this.recycleAsyncId(me,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,xe,N)=>{N.d(xe,{v:()=>O});var l=N(6063);class B{constructor(he,be=B.now){this.schedulerActionCtor=he,this.now=be}schedule(he,be=0,de){return new this.schedulerActionCtor(this,he).schedule(de,be)}}B.now=l.l.now;class O extends B{constructor(he,be=B.now){super(he,be),this.actions=[],this._active=!1,this._scheduled=void 0}flush(he){const{actions:be}=this;if(this._active)return void be.push(he);let de;this._active=!0;do{if(de=he.execute(he.state,he.delay))break}while(he=be.shift());if(this._active=!1,de){for(;he=be.shift();)he.unsubscribe();throw de}}}},4986:(ht,xe,N)=>{N.d(xe,{P:()=>ce,z:()=>O});var l=N(4408);const O=new(N(7565).v)(l.o),ce=O},6063:(ht,xe,N)=>{N.d(xe,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ht,xe,N)=>{N.d(xe,{z:()=>l});const l={setTimeout(B,O,...ce){const{delegate:he}=l;return he?.setTimeout?he.setTimeout(B,O,...ce):setTimeout(B,O,...ce)},clearTimeout(B){const{delegate:O}=l;return(O?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(ht,xe,N)=>{N.d(xe,{h:()=>B});const B=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,xe,N)=>{N.d(xe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,xe,N)=>{N.d(xe,{_6:()=>be,jO:()=>ce,yG:()=>he});var l=N(576),B=N(3532);function O(de){return de[de.length-1]}function ce(de){return(0,l.m)(O(de))?de.pop():void 0}function he(de){return(0,B.K)(O(de))?de.pop():void 0}function be(de,me){return"number"==typeof O(de)?de.pop():me}},8737:(ht,xe,N)=>{function l(B,O){if(B){const ce=B.indexOf(O);0<=ce&&B.splice(ce,1)}}N.d(xe,{P:()=>l})},3888:(ht,xe,N)=>{function l(B){const ce=B(he=>{Error.call(he),he.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}N.d(xe,{d:()=>l})},2806:(ht,xe,N)=>{N.d(xe,{O:()=>ce,x:()=>O});var l=N(2416);let B=null;function O(he){if(l.v.useDeprecatedSynchronousErrorHandling){const be=!B;if(be&&(B={errorThrown:!1,error:null}),he(),be){const{errorThrown:de,error:me}=B;if(B=null,de)throw me}}else he()}function ce(he){l.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=he)}},9672:(ht,xe,N)=>{function l(B,O,ce,he=0,be=!1){const de=O.schedule(function(){ce(),be?B.add(this.schedule(null,he)):this.unsubscribe()},he);if(B.add(de),!be)return de}N.d(xe,{f:()=>l})},4671:(ht,xe,N)=>{function l(B){return B}N.d(xe,{y:()=>l})},1144:(ht,xe,N)=>{N.d(xe,{z:()=>l});const l=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(ht,xe,N)=>{N.d(xe,{D:()=>B});var l=N(576);function B(O){return Symbol.asyncIterator&&(0,l.m)(O?.[Symbol.asyncIterator])}},576:(ht,xe,N)=>{function l(B){return"function"==typeof B}N.d(xe,{m:()=>l})},3670:(ht,xe,N)=>{N.d(xe,{c:()=>O});var l=N(8822),B=N(576);function O(ce){return(0,B.m)(ce[l.L])}},6495:(ht,xe,N)=>{N.d(xe,{T:()=>O});var l=N(2202),B=N(576);function O(ce){return(0,B.m)(ce?.[l.h])}},8239:(ht,xe,N)=>{N.d(xe,{t:()=>B});var l=N(576);function B(O){return(0,l.m)(O?.then)}},3260:(ht,xe,N)=>{N.d(xe,{L:()=>ce,Q:()=>O});var l=N(655),B=N(576);function O(he){return(0,l.FC)(this,arguments,function*(){const de=he.getReader();try{for(;;){const{value:me,done:Ee}=yield(0,l.qq)(de.read());if(Ee)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(me)}}finally{de.releaseLock()}})}function ce(he){return(0,B.m)(he?.getReader)}},3532:(ht,xe,N)=>{N.d(xe,{K:()=>B});var l=N(576);function B(O){return O&&(0,l.m)(O.schedule)}},4482:(ht,xe,N)=>{N.d(xe,{A:()=>B,e:()=>O});var l=N(576);function B(ce){return(0,l.m)(ce?.lift)}function O(ce){return he=>{if(B(he))return he.lift(function(be){try{return ce(be,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,xe,N)=>{function l(){}N.d(xe,{Z:()=>l})},9635:(ht,xe,N)=>{N.d(xe,{U:()=>O,z:()=>B});var l=N(4671);function B(...ce){return O(ce)}function O(ce){return 0===ce.length?l.y:1===ce.length?ce[0]:function(be){return ce.reduce((de,me)=>me(de),be)}}},7849:(ht,xe,N)=>{N.d(xe,{h:()=>O});var l=N(2416),B=N(3410);function O(ce){B.z.setTimeout(()=>{const{onUnhandledError:he}=l.v;if(!he)throw ce;he(ce)})}},4532:(ht,xe,N)=>{function l(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(xe,{z:()=>l})},655:(ht,xe,N)=>{function ce(X,ne){var _e={};for(var ue in X)Object.prototype.hasOwnProperty.call(X,ue)&&ne.indexOf(ue)<0&&(_e[ue]=X[ue]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ue=Object.getOwnPropertySymbols(X);Ue<ue.length;Ue++)ne.indexOf(ue[Ue])<0&&Object.prototype.propertyIsEnumerable.call(X,ue[Ue])&&(_e[ue[Ue]]=X[ue[Ue]])}return _e}function me(X,ne,_e,ue){return new(_e||(_e=Promise))(function(je,vt){function rn(bn){try{Ye(ue.next(bn))}catch(Bn){vt(Bn)}}function Yt(bn){try{Ye(ue.throw(bn))}catch(Bn){vt(Bn)}}function Ye(bn){bn.done?je(bn.value):function Ue(je){return je instanceof _e?je:new _e(function(vt){vt(je)})}(bn.value).then(rn,Yt)}Ye((ue=ue.apply(X,ne||[])).next())})}function Se(X){return this instanceof Se?(this.v=X,this):new Se(X)}function ve(X,ne,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ue=_e.apply(X,ne||[]),je=[];return Ue={},vt("next"),vt("throw"),vt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function vt(un){ue[un]&&(Ue[un]=function(an){return new Promise(function(Wt,Gt){je.push([un,an,Wt,Gt])>1||rn(un,an)})})}function rn(un,an){try{!function Yt(un){un.value instanceof Se?Promise.resolve(un.value.v).then(Ye,bn):Bn(je[0][2],un)}(ue[un](an))}catch(Wt){Bn(je[0][3],Wt)}}function Ye(un){rn("next",un)}function bn(un){rn("throw",un)}function Bn(un,an){un(an),je.shift(),je.length&&rn(je[0][0],je[0][1])}}function tt(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ne=X[Symbol.asyncIterator];return ne?ne.call(X):(X=function te(X){var ne="function"==typeof Symbol&&Symbol.iterator,_e=ne&&X[ne],ue=0;if(_e)return _e.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ue>=X.length&&(X=void 0),{value:X&&X[ue++],done:!X}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),_e={},ue("next"),ue("throw"),ue("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function ue(je){_e[je]=X[je]&&function(vt){return new Promise(function(rn,Yt){!function Ue(je,vt,rn,Yt){Promise.resolve(Yt).then(function(Ye){je({value:Ye,done:rn})},vt)}(rn,Yt,(vt=X[je](vt)).done,vt.value)})}}}N.d(xe,{FC:()=>ve,KL:()=>tt,_T:()=>ce,mG:()=>me,qq:()=>Se})},4650:(ht,xe,N)=>{N.d(xe,{$8M:()=>Hl,$Z:()=>ES,AFp:()=>Ab,AaK:()=>me,BQk:()=>gm,CHM:()=>Ph,CRH:()=>xC,CZH:()=>a_,CqO:()=>mm,D6c:()=>as,EJc:()=>fT,EpF:()=>Cr,F$t:()=>jd,F4k:()=>gv,FYo:()=>dy,FiY:()=>Ze,G48:()=>pc,Gf:()=>TC,GfV:()=>hy,Gpc:()=>W,Hsn:()=>_v,Ikx:()=>Nv,JOm:()=>ll,KtG:()=>jo,LFG:()=>qn,LSH:()=>Kw,Lbi:()=>$t,Lck:()=>_C,MAs:()=>Ks,MMx:()=>$m,NdJ:()=>Ud,O4$:()=>Lc,OlP:()=>Sn,Oqu:()=>UD,PXZ:()=>YC,Q6J:()=>Vd,QGY:()=>Bd,QP$:()=>qe,QbO:()=>Xn,Qsj:()=>zI,R0b:()=>$i,RDi:()=>qw,Rgc:()=>th,SBq:()=>gf,Sil:()=>Au,Suo:()=>MC,TTD:()=>Ls,TgZ:()=>dm,Udp:()=>$d,VKq:()=>Km,WFA:()=>tp,X6Q:()=>Vp,XFs:()=>nt,Xpm:()=>Y,Xts:()=>ry,Y36:()=>Rf,YKP:()=>Ir,YNc:()=>gD,Yjl:()=>re,Yz7:()=>an,Z0I:()=>ko,ZZ4:()=>__,_Bn:()=>Qd,_UZ:()=>fm,_Vd:()=>pf,_c5:()=>zb,_uU:()=>BD,aQg:()=>y_,c2e:()=>Ot,cJS:()=>Gt,cg1:()=>Gd,d8E:()=>Fv,dDg:()=>Vb,dqk:()=>Ft,eFA:()=>QC,ekj:()=>Dv,eoX:()=>WC,f3M:()=>I,g9A:()=>Mb,h0i:()=>_u,hGG:()=>gh,hij:()=>Iv,iGM:()=>yb,ifc:()=>gt,ip1:()=>zC,jDz:()=>Jd,kL8:()=>zd,kcU:()=>Xu,lG2:()=>ti,lqb:()=>Kl,lri:()=>cc,n5z:()=>Hs,oAB:()=>Ct,oxw:()=>bD,q4F:()=>qI,qLn:()=>yf,qOj:()=>dv,qZA:()=>hm,rWj:()=>Lb,s9C:()=>Hd,sBO:()=>Tu,sIi:()=>Zf,s_b:()=>Cp,soG:()=>sn,tb:()=>Su,tp0:()=>Tt,uIk:()=>pv,vHH:()=>Ae,vpe:()=>os,wAp:()=>xt,xp6:()=>R0,ynx:()=>pm,z2F:()=>hc,zSh:()=>uf,zs3:()=>Lr});var l=N(7579),B=N(727),O=N(9751),ce=N(6451),he=N(3099);function be(s){for(let o in s)if(s[o]===be)return o;throw Error("Could not find renamed property on target object.")}function de(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function me(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(me).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function Ee(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const q=be({__forward_ref__:be});function W(s){return s.__forward_ref__=W,s.toString=function(){return me(this())},s}function te(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===W}class Ae extends Error{constructor(o,c){super(function st(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function Re(s,o){throw new Ae(-201,!1)}function Yt(s,o){null==s&&function Ye(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Gt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ii(s){return Si(s,tr)||Si(s,zr)}function ko(s){return null!==Ii(s)}function Si(s,o){return s.hasOwnProperty(o)?s[o]:null}function Gr(s){return s&&(s.hasOwnProperty(Un)||s.hasOwnProperty(Zr))?s[Un]:null}const tr=be({\u0275prov:be}),Un=be({\u0275inj:be}),zr=be({ngInjectableDef:be}),Zr=be({ngInjectorDef:be});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let _i;function yn(s){const o=_i;return _i=s,o}function Ai(s,o,c){const d=Ii(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&nt.Optional?null:void 0!==o?o:void Re(me(s))}function In(s){return{toString:s}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),gt=(()=>{return(s=gt||(gt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",gt;var s})();const Ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ti={},St=[],Pi=be({\u0275cmp:be}),Lt=be({\u0275dir:be}),nr=be({\u0275pipe:be}),Kt=be({\u0275mod:be}),J=be({\u0275fac:be}),G=be({__NG_ELEMENT_ID__:be});let j=0;function Y(s){return In(()=>{const c=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||St,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||gt.Emulated,id:"c"+j++,styles:s.styles||St,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return f.inputs=dn(s.inputs,d),f.outputs=dn(s.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(Me).filter(ze):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(Ie).filter(ze):null,f})}function Me(s){return H(s)||z(s)}function ze(s){return null!==s}function Ct(s){return In(()=>({type:s.type,bootstrap:s.bootstrap||St,declarations:s.declarations||St,imports:s.imports||St,exports:s.exports||St,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function dn(s,o){if(null==s)return Ti;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=d,o&&(o[f]=p)}return c}const ti=Y;function re(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function H(s){return s[Pi]||null}function z(s){return s[Lt]||null}function Ie(s){return s[nr]||null}function qe(s){const o=H(s)||z(s)||Ie(s);return null!==o&&o.standalone}function bt(s,o){const c=s[Kt]||null;if(!c&&!0===o)throw new Error(`Type ${me(s)} does not have '\u0275mod' property.`);return c}function ni(s){return Array.isArray(s)&&"object"==typeof s[1]}function mr(s){return Array.isArray(s)&&!0===s[1]}function Fs(s){return 0!=(8&s.flags)}function Ta(s){return 2==(2&s.flags)}function Ma(s){return 1==(1&s.flags)}function rr(s){return null!==s.template}function Mc(s){return 0!=(256&s[2])}function Mi(s,o){return s.hasOwnProperty(J)?s[J]:null}class Fo{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ls(){return $u}function $u(s){return s.type.prototype.ngOnChanges&&(s.setInput=kc),kl}function kl(){const s=Lo(this),o=s?.current;if(o){const c=s.previous;if(c===Ti)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function kc(s,o,c,d){const f=Lo(s)||function zu(s,o){return s[Gu]=o}(s,{previous:Ti,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],E=y[w];p[w]=new Fo(E&&E.currentValue,o,y===Ti),s[d]=o}Ls.ngInherit=!0;const Gu="__ngSimpleChanges__";function Lo(s){return s[Gu]||null}function Ln(s){for(;Array.isArray(s);)s=s[0];return s}function Or(s,o){return Ln(o[s])}function xi(s,o){return Ln(o[s.index])}function Bo(s,o){return s.data[o]}function ln(s,o){const c=o[s];return ni(c)?c:c[0]}function Ol(s){return 4==(4&s[2])}function Vs(s){return 64==(64&s[2])}function br(s,o){return null==o?null:s[o]}function Ra(s){s[18]=0}function $n(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Nt={lFrame:Ha(null),bindingsEnabled:!0};function co(){return Nt.bindingsEnabled}function Oe(){return Nt.lFrame.lView}function Qt(){return Nt.lFrame.tView}function Ph(s){return Nt.lFrame.contextLView=s,s[8]}function jo(s){return Nt.lFrame.contextLView=null,s}function ii(){let s=Ho();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ho(){return Nt.lFrame.currentTNode}function Zi(s,o){const c=Nt.lFrame;c.currentTNode=s,c.isParent=o}function Nl(){return Nt.lFrame.isParent}function $o(){Nt.lFrame.isParent=!1}function Ba(){return Nt.lFrame.bindingIndex++}function Yu(s,o){const c=Nt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Go(o)}function Go(s){Nt.lFrame.currentDirectiveIndex=s}function Nc(s){const o=Nt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Ua(){return Nt.lFrame.currentQueryIndex}function Fc(s){Nt.lFrame.currentQueryIndex=s}function ja(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ku(s,o,c){if(c&nt.SkipSelf){let f=o,p=s;for(;!(f=f.parent,null!==f||c&nt.Host||(f=ja(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;o=f,s=p}const d=Nt.lFrame=Lh();return d.currentTNode=o,d.lView=s,!0}function zo(s){const o=Lh(),c=s[1];Nt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Lh(){const s=Nt.lFrame,o=null===s?null:s.child;return null===o?Ha(s):o}function Ha(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Vh(){const s=Nt.lFrame;return Nt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Qu=Vh;function Bs(){const s=Vh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Pn(){return Nt.lFrame.selectedIndex}function bs(s){Nt.lFrame.selectedIndex=s}function Nn(){const s=Nt.lFrame;return Bo(s.tView,s.selectedIndex)}function Lc(){Nt.lFrame.currentNamespace="svg"}function Xu(){!function Bc(){Nt.lFrame.currentNamespace=null}()}function jc(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:R}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-c,E),M&&((s.viewHooks||(s.viewHooks=[])).push(c,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,M)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(c,R)}}function Zo(s,o,c){Wo(s,o,3,c)}function qo(s,o,c,d){(3&s[2])===c&&Wo(s,o,c,d)}function td(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Wo(s,o,c,d){const p=d??-1,y=o.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=d&&w>=d)break}else o[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(nd(s,c,o,E),s[18]=(4294901760&s[18])+E+2),E++}function nd(s,o,c,d){const f=c[d]<0,p=c[d+1],w=s[f?-c[d]:c[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class wr{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ws(s,o,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const p=c[d++],y=c[d++],w=c[d++];s.setAttribute(o,y,w,p)}else{const p=f,y=c[++d];$c(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function Ga(s){return 3===s||4===s||6===s}function $c(s){return 64===s.charCodeAt(0)}function za(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const f=o[d];"number"==typeof f?c=f:0===c||rd(s,c,f,null,-1===c||2===c?o[++d]:null)}}return s}function rd(s,o,c,d,f){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(s[p+1]=f));if(d===s[p+1])return void(s[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==f&&s.splice(p++,0,f)}function Uh(s){return-1!==s}function si(s){return 32767&s}function js(s,o){let c=function jh(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let Gc=!0;function Za(s){const o=Gc;return Gc=s,o}let sd=0;const or={};function Ds(s,o){const c=Bl(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,zc(d.data,s),zc(o,null),zc(d.blueprint,null));const f=qa(s,o),p=s.injectorIndex;if(Uh(f)){const y=si(f),w=js(f,o),E=w[1].data;for(let M=0;M<8;M++)o[p+M]=w[y+M]|E[y+M]}return o[p+8]=f,p}function zc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Bl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function qa(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=o;for(;null!==f;){if(d=ta(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function uo(s,o,c){!function od(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(G)&&(d=c[G]),null==d&&(d=c[G]=sd++);const f=255&d;o.data[s+(f>>5)]|=1<<f}(s,o,c)}function Ko(s,o,c){if(c&nt.Optional)return s;Re()}function ho(s,o,c,d){if(c&nt.Optional&&void 0===d&&(d=null),0==(c&(nt.Self|nt.Host))){const f=s[9],p=yn(void 0);try{return f?f.get(o,d,c&nt.Optional):Ai(o,d,c&nt.Optional)}finally{yn(p)}}return Ko(d,0,c)}function Qo(s,o,c,d=nt.Default,f){if(null!==s){if(1024&o[2]){const y=function Gh(s,o,c,d,f){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=ad(p,y,c,d|nt.Self,or);if(w!==or)return w;let E=p.parent;if(!E){const M=y[21];if(M){const R=M.get(c,or,d);if(R!==or)return R}E=ta(y),y=y[15]}p=E}return f}(s,o,c,d,or);if(y!==or)return y}const p=ad(s,o,c,d,or);if(p!==or)return p}return ho(o,c,d,f)}function ad(s,o,c,d,f){const p=function $h(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(G)?s[G]:void 0;return"number"==typeof o?o>=0?255&o:Zc:o}(c);if("function"==typeof p){if(!Ku(o,s,d))return d&nt.Host?Ko(f,0,d):ho(o,c,d,f);try{const y=p(d);if(null!=y||d&nt.Optional)return y;Re()}finally{Qu()}}else if("number"==typeof p){let y=null,w=Bl(s,o),E=-1,M=d&nt.Host?o[16][6]:null;for((-1===w||d&nt.SkipSelf)&&(E=-1===w?qa(s,o):o[w+8],-1!==E&&jl(d,!1)?(y=o[1],w=si(E),o=js(E,o)):w=-1);-1!==w;){const R=o[1];if(Jo(p,w,R.data)){const F=Ul(w,o,c,y,d,M);if(F!==or)return F}E=o[w+8],-1!==E&&jl(d,o[1].data[w+8]===M)&&Jo(p,w,o)?(y=R,w=si(E),o=js(E,o)):w=-1}}return f}function Ul(s,o,c,d,f,p){const y=o[1],w=y.data[s+8],R=Ya(w,y,c,null==d?Ta(w)&&Gc:d!=y&&0!=(3&w.type),f&nt.Host&&p===w);return null!==R?Yr(o,y,R,w):or}function Ya(s,o,c,d,f){const p=s.providerIndexes,y=o.data,w=1048575&p,E=s.directiveStart,R=p>>20,Q=f?w+R:s.directiveEnd;for(let ae=d?w:w+R;ae<Q;ae++){const ye=y[ae];if(ae<E&&c===ye||ae>=E&&ye.type===c)return ae}if(f){const ae=y[E];if(ae&&rr(ae)&&ae.type===c)return E}return null}function Yr(s,o,c,d){let f=s[c];const p=o.data;if(function Hc(s){return s instanceof wr}(f)){const y=f;y.resolving&&function et(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${s}${c}`)}(function ve(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}(p[c]));const w=Za(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?yn(y.injectImpl):null;Ku(s,d,nt.Default);try{f=s[c]=y.factory(void 0,p,s,d),o.firstCreatePass&&c>=d.directiveStart&&function ed(s,o,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=o.type.prototype;if(d){const y=$u(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],o)}finally{null!==E&&yn(E),Za(w),y.resolving=!1,Qu()}}return f}function Jo(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function jl(s,o){return!(s&nt.Self||s&nt.Host&&o)}class Xo{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return Qo(this._tNode,this._lView,o,d,c)}}function Zc(){return new Xo(ii(),Oe())}function Hs(s){return In(()=>{const o=s.prototype.constructor,c=o[J]||ea(o),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const p=f[J]||ea(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function ea(s){return Ge(s)?()=>{const o=ea(te(s));return o&&o()}:Mi(s)}function ta(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function Hl(s){return function Wa(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const p=c[f];if(Ga(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(p===o)return c[f+1];f+=2}}}return null}(ii(),s)}const na="__parameters__";function ra(s,o,c){return In(()=>{const d=function qc(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(o);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(E,M,R){const F=E.hasOwnProperty(na)?E[na]:Object.defineProperty(E,na,{value:[]})[na];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(y),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class Sn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=an({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Fi(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),Fi(d,o)):o!==s&&o.push(d)}return o}function Cs(s,o){s.forEach(c=>Array.isArray(c)?Cs(c,o):o(c))}function Ka(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function po(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ar(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function qi(s,o,c){let d=Nr(s,o);return d>=0?s[1|d]=c:(d=~d,function At(s,o,c,d){let f=s.length;if(f==o)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function Qa(s,o){const c=Nr(s,o);if(c>=0)return s[1|c]}function Nr(s,o){return function Li(s,o,c){let d=0,f=s.length>>c;for(;f!==d;){const p=d+(f-d>>1),y=s[p<<c];if(o===y)return p<<c;y>o?f=p:d=p+1}return~(f<<c)}(s,o,1)}const Vn={},Jr="__NG_DI_FLAG__",aa="ngTempTokenPath",zl=/\n/gm,Qc="__source";let la;function Is(s){const o=la;return la=s,o}function hd(s,o=nt.Default){if(void 0===la)throw new Ae(-203,!1);return null===la?Ai(s,void 0,o):la.get(s,o&nt.Optional?null:void 0,o)}function qn(s,o=nt.Default){return(function jn(){return _i}()||hd)(te(s),o)}function I(s,o=nt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),qn(s,o)}function S(s){const o=[];for(let c=0;c<s.length;c++){const d=te(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Ae(900,!1);let f,p=nt.Default;for(let y=0;y<d.length;y++){const w=d[y],E=V(w);"number"==typeof E?-1===E?f=w.token:p|=E:f=w}o.push(qn(f,p))}else o.push(qn(d))}return o}function k(s,o){return s[Jr]=o,s.prototype[Jr]=o,s}function V(s){return s[Jr]}const Ze=k(ra("Optional"),8),Tt=k(ra("SkipSelf"),4);let Tg;function qw(s){Tg=s}class fd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function _o(s){return s instanceof fd?s.changingThisBreaksApplicationSecurity:s}const P=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var bi=(()=>((bi=bi||{})[bi.NONE=0]="NONE",bi[bi.HTML=1]="HTML",bi[bi.STYLE=2]="STYLE",bi[bi.SCRIPT=3]="SCRIPT",bi[bi.URL=4]="URL",bi[bi.RESOURCE_URL=5]="RESOURCE_URL",bi))();function Kw(s){const o=function vd(){const s=Oe();return s&&s[12]}();return o?o.sanitize(bi.URL,s)||"":function rl(s,o){const c=function eu(s){return s instanceof fd&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}(s,"URL")?_o(s):function se(s){return(s=String(s)).match(P)?s:"unsafe:"+s}(Se(s))}const ry=new Sn("ENVIRONMENT_INITIALIZER"),LI=new Sn("INJECTOR",-1),sy=new Sn("INJECTOR_DEF_TYPES");class Xw{get(o,c=Vn){if(c===Vn){const d=new Error(`NullInjectorError: No provider for ${me(o)}!`);throw d.name="NullInjectorError",d}return c}}function e0(...s){return{\u0275providers:t0(0,s)}}function t0(s,...o){const c=[],d=new Set;let f;return Cs(o,p=>{const y=p;cf(y,c,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&oy(f,c),c}function oy(s,o){for(let c=0;c<s.length;c++){const{providers:f}=s[c];Cs(f,p=>{o.push(p)})}}function cf(s,o,c,d){if(!(s=te(s)))return!1;let f=null,p=Gr(s);const y=!p&&H(s);if(p||y){if(y&&!y.standalone)return!1;f=s}else{const E=s.ngModule;if(p=Gr(E),!p)return!1;f=E}const w=d.has(f);if(y){if(w)return!1;if(d.add(f),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const M of E)cf(M,o,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let M;d.add(f);try{Cs(p.imports,R=>{cf(R,o,c,d)&&(M||(M=[]),M.push(R))})}finally{}void 0!==M&&oy(M,o)}if(!w){const M=Mi(f)||(()=>new f);o.push({provide:f,useFactory:M,deps:St},{provide:sy,useValue:f,multi:!0},{provide:ry,useValue:()=>qn(f),multi:!0})}const E=p.providers;null==E||w||Cs(E,R=>{o.push(R)})}}return f!==s&&void 0!==s.providers}const n0=be({provide:String,useValue:be});function ay(s){return null!==s&&"object"==typeof s&&n0 in s}function sl(s){return"function"==typeof s}const uf=new Sn("Set Injector scope."),df={},BI={};let hf;function Og(){return void 0===hf&&(hf=new Xw),hf}class Kl{}class s0 extends Kl{constructor(o,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pg(o,y=>this.processProvider(y)),this.records.set(LI,wd(void 0,this)),f.has("environment")&&this.records.set(Kl,wd(void 0,this));const p=this.records.get(uf);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(sy.multi,St,nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Is(this),d=yn(void 0);try{return o()}finally{Is(c),yn(d)}}get(o,c=Vn,d=nt.Default){this.assertNotDestroyed();const f=Is(this),p=yn(void 0);try{if(!(d&nt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function HI(s){return"function"==typeof s||"object"==typeof s&&s instanceof Sn}(o)&&Ii(o);w=E&&this.injectableDefInScope(E)?wd(ff(o),df):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&nt.Self?Og():this.parent).get(o,c=d&nt.Optional&&c===Vn?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[aa]=y[aa]||[]).unshift(me(o)),f)throw y;return function ee(s,o,c,d){const f=s[aa];throw o[Qc]&&f.unshift(o[Qc]),s.message=function ge(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=me(o);if(Array.isArray(o))f=o.map(me).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):me(w)))}f=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace(zl,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[aa]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{yn(p),Is(f)}}resolveInjectorInitializers(){const o=Is(this),c=yn(void 0);try{const d=this.get(ry.multi,St,nt.Self);for(const f of d)f()}finally{Is(o),yn(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(me(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(o){let c=sl(o=te(o))?o:te(o&&o.provide);const d=function jI(s){return ay(s)?wd(void 0,s.useValue):wd(ly(s),df)}(o);if(sl(o)||!0!==o.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=wd(void 0,df,!0),f.factory=()=>S(f.multi),this.records.set(c,f)),c=o,f.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===df&&(c.value=BI,c.value=c.factory()),"object"==typeof c.value&&c.value&&function cy(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=te(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function ff(s){const o=Ii(s),c=null!==o?o.factory:Mi(s);if(null!==c)return c;if(s instanceof Sn)throw new Ae(204,!1);if(s instanceof Function)return function UI(s){const o=s.length;if(o>0)throw ar(o,"?"),new Ae(204,!1);const c=function Rn(s){const o=s&&(s[tr]||s[zr]);if(o){const c=function ds(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ae(204,!1)}function ly(s,o,c){let d;if(sl(s)){const f=te(s);return Mi(f)||ff(f)}if(ay(s))d=()=>te(s.useValue);else if(function r0(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...S(s.deps||[]));else if(function bd(s){return!(!s||!s.useExisting)}(s))d=()=>qn(te(s.useExisting));else{const f=te(s&&(s.useClass||s.provide));if(!function Gk(s){return!!s.deps}(s))return Mi(f)||ff(f);d=()=>new f(...S(s.deps))}return d}function wd(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function o0(s){return!!s.\u0275providers}function Pg(s,o){for(const c of s)Array.isArray(c)?Pg(c,o):o0(c)?Pg(c.\u0275providers,o):o(c)}class a0{}class GI{resolveComponentFactory(o){throw function l0(s){const o=Error(`No component factory found for ${me(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let pf=(()=>{class s{}return s.NULL=new GI,s})();function uy(){return iu(ii(),Oe())}function iu(s,o){return new gf(xi(s,o))}let gf=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=uy,s})();function u0(s){return s instanceof gf?s.nativeElement:s}class dy{}let zI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function d0(){const s=Oe(),c=ln(ii().index,s);return(ni(c)?c:s)[11]}(),s})(),ZI=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class hy{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const qI=new hy("14.2.0"),h0={};function _f(s){return s.ngOriginalError}class yf{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&_f(o);for(;c&&_f(c);)c=_f(c);return c||null}}const da=new Map;let Vi=0;const Dd="__ngContext__";function cr(s,o){ni(o)?(s[Dd]=o[20],function py(s){da.set(s[20],s)}(o)):s[Dd]=o}function Df(s){const o=s[Dd];return"number"==typeof o?function gy(s){return da.get(s)||null}(o):o||null}function yo(s){const o=Df(s);return o?ni(o)?o:o.lView:null}function ns(s){return s instanceof Function?s():s}var ll=(()=>((ll=ll||{})[ll.Important=1]="Important",ll[ll.DashCase=2]="DashCase",ll))();function ha(s,o){return undefined(s,o)}function Id(s){const o=s[3];return mr(o)?o[3]:o}function Ng(s){return Dy(s[13])}function wy(s){return Dy(s[4])}function Dy(s){for(;null!==s&&!mr(s);)s=s[4];return s}function cl(s,o,c,d,f){if(null!=d){let p,y=!1;mr(d)?p=d:ni(d)&&(y=!0,d=d[0]);const w=Ln(d);0===s&&null!==c?null==f?w0(o,c,w):au(o,c,w,f||null,!0):1===s&&null!==c?au(o,c,w,f||null,!0):2===s?function S0(s,o,c){const d=Ug(s,o);d&&function Bg(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}(o,w,y):3===s&&o.destroyNode(w),null!=p&&function A0(s,o,c,d,f){const p=c[7];p!==Ln(c)&&cl(o,s,d,p,f);for(let w=10;w<c.length;w++){const E=c[w];dl(E[1],E,s,o,d,p)}}(o,s,p,c,f)}}function Cy(s,o,c){return s.createElement(o,c)}function Sd(s,o){const c=s[9],d=c.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,$n(f,-1)),c.splice(d,1)}function Lg(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const f=d[17];null!==f&&f!==s&&Sd(f,d),o>0&&(s[c-1][4]=d[4]);const p=po(s,10+o);!function ou(s,o){dl(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function If(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&dl(s,o,c,3,null,null),function Ey(s){let o=s[13];if(!o)return Iy(s[1],s);for(;o;){let c=null;if(ni(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)ni(o)&&Iy(o[1],o),o=o[3];null===o&&(o=s),ni(o)&&Iy(o[1],o),c=o&&o[4]}o=c}}(o)}}function Iy(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Vg(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=o[c[d]];if(!(f instanceof wr)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(f)}finally{}}}}(s,o),function Sy(s,o){const c=s.cleanup,d=o[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(o):Ln(o[y]),E=d[f=c[p+2]],M=c[p+3];"boolean"==typeof M?w.removeEventListener(c[p],E,M):M>=0?d[f=M]():d[f=-M].unsubscribe(),p+=2}else{const y=d[f=c[p+1]];c[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&mr(o[3])){c!==o[3]&&Sd(c,o);const d=o[19];null!==d&&d.detachView(s)}!function Bi(s){da.delete(s[20])}(o)}}function Ay(s,o,c){return function Ty(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===gt.None||f===gt.Emulated)return null}return xi(d,c)}(s,o.parent,c)}function au(s,o,c,d,f){s.insertBefore(o,c,d,f)}function w0(s,o,c){s.appendChild(o,c)}function D0(s,o,c,d,f){null!==d?au(s,o,c,d,f):w0(s,o,c)}function Ug(s,o){return s.parentNode(o)}function C0(s,o,c){return jg(s,o,c)}let jg=function E0(s,o,c){return 40&s.type?xi(s,c):null};function fa(s,o,c,d){const f=Ay(s,d,o),p=o[11],w=C0(d.parent||o[6],d,o);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)D0(p,f,c[E],w,!1);else D0(p,f,c,w,!1)}function Td(s,o){if(null!==o){const c=o.type;if(3&c)return xi(o,s);if(4&c)return My(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return Td(s,d);{const f=s[o.index];return mr(f)?My(-1,f):Ln(f)}}if(32&c)return ha(o,s)()||Ln(s[o.index]);{const d=uS(s,o);return null!==d?Array.isArray(d)?d[0]:Td(Id(s[16]),d):Td(s,o.next)}}return null}function uS(s,o){return null!==o?s[16][6].projection[o.projection]:null}function My(s,o){const c=10+s+1;if(c<o.length){const d=o[c],f=d[1].firstChild;if(null!==f)return Td(d,f)}return o[7]}function xy(s,o,c,d,f,p,y){for(;null!=c;){const w=d[c.index],E=c.type;if(y&&0===o&&(w&&cr(Ln(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)xy(s,o,c.child,d,f,p,!1),cl(o,s,f,w,p);else if(32&E){const M=ha(c,d);let R;for(;R=M();)cl(o,s,f,R,p);cl(o,s,f,w,p)}else 16&E?lu(s,o,d,c,f,p):cl(o,s,f,w,p);c=y?c.projectionNext:c.next}}function dl(s,o,c,d,f,p){xy(c,d,s.firstChild,o,f,p,!1)}function lu(s,o,c,d,f,p){const y=c[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++)cl(o,s,f,E[M],p);else xy(s,o,E,y[3],f,p,!0)}function ky(s,o,c){s.setAttribute(o,"style",c)}function Ql(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function M0(s,o,c){let d=s.length;for(;;){const f=s.indexOf(o,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const p=o.length;if(f+p===d||s.charCodeAt(f+p)<=32)return f}c=f+1}}const Ry="ng-template";function dS(s,o,c){let d=0;for(;d<s.length;){let f=s[d++];if(c&&"class"===f){if(f=s[d],-1!==M0(f.toLowerCase(),o,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function Hg(s){return 4===s.type&&s.value!==Ry}function Af(s,o,c){return o===(4!==s.type||c?s.value:Ry)}function hS(s,o,c){let d=4;const f=s.attrs||[],p=function hl(s){for(let o=0;o<s.length;o++)if(Ga(s[o]))return o;return s.length}(f);let y=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!Af(s,E,c)||""===E&&1===o.length){if(Ms(d))return!1;y=!0}}else{const M=8&d?E:o[++w];if(8&d&&null!==s.attrs){if(!dS(s.attrs,M,c)){if(Ms(d))return!1;y=!0}continue}const F=fS(8&d?"class":E,f,Hg(s),c);if(-1===F){if(Ms(d))return!1;y=!0;continue}if(""!==M){let Q;Q=F>p?"":f[F+1].toLowerCase();const ae=8&d?Q:null;if(ae&&-1!==M0(ae,M,0)||2&d&&M!==Q){if(Ms(d))return!1;y=!0}}}}else{if(!y&&!Ms(d)&&!Ms(E))return!1;if(y&&Ms(E))continue;y=!1,d=E|1&d}}return Ms(d)||y}function Ms(s){return 0==(1&s)}function fS(s,o,c,d){if(null===o)return-1;let f=0;if(d||!c){let p=!1;for(;f<o.length;){const y=o[f];if(y===s)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++f];for(;"string"==typeof w;)w=o[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function Py(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function Oy(s,o,c=!1){for(let d=0;d<o.length;d++)if(hS(s,o[d],c))return!0;return!1}function cu(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function Tf(s,o){return s?":not("+o.trim()+")":o}function k0(s){let o=s[0],c=1,d=2,f="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const w=s[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!Ms(y)&&(o+=Tf(p,f),f=""),d=y,p=p||!Ms(d);c++}return""!==f&&(o+=Tf(p,f)),o}const zt={};function R0(s){O0(Qt(),Oe(),Pn()+s,!1)}function O0(s,o,c,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Zo(o,p,c)}else{const p=s.preOrderHooks;null!==p&&qo(o,p,0,c)}bs(c)}function $g(s,o=null,c=null,d){const f=Gg(s,o,c,d);return f.resolveInjectorInitializers(),f}function Gg(s,o=null,c=null,d,f=new Set){const p=[c||St,e0(s)];return d=d||("object"==typeof s?void 0:me(s)),new s0(p,o||Og(),d||null,f)}let Lr=(()=>{class s{static create(c,d){if(Array.isArray(c))return $g({name:""},d,c,"");{const f=c.name??"";return $g({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=Vn,s.NULL=new Xw,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>qn(LI)}),s.__NG_ELEMENT_ID__=-1,s})();function Rf(s,o=nt.Default){const c=Oe();return null===c?qn(s,o):Qo(ii(),c,te(s),o)}function ES(){throw new Error("invalid")}function xd(s,o){return s<<17|o<<2}function vo(s){return s>>17&32767}function Of(s){return 2|s}function ki(s){return(131068&s)>>2}function Yg(s,o){return-131069&s|o<<2}function By(s){return 1|s}function Wy(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];if(-1!==p){const y=s.data[p];Fc(f),y.contentQueries(2,o[p],p)}}}function Bf(s,o,c,d,f,p,y,w,E,M,R){const F=o.blueprint.slice();return F[0]=f,F[2]=76|d,(null!==R||s&&1024&s[2])&&(F[2]|=1024),Ra(F),F[3]=F[15]=s,F[8]=c,F[10]=y||s&&s[10],F[11]=w||s&&s[11],F[12]=E||s&&s[12]||null,F[9]=M||s&&s[9]||null,F[6]=p,F[20]=function Yi(){return Vi++}(),F[21]=R,F[16]=2==o.type?s[16]:F,F}function pa(s,o,c,d,f){let p=s.data[o];if(null===p)p=function tm(s,o,c,d,f){const p=Ho(),y=Nl(),E=s.data[o]=function NS(s,o,c,d,f,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,o,d,f);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,o,c,d,f),function Wu(){return Nt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=f;const y=function Pl(){const s=Nt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Zi(p,!0),p}function Od(s,o,c,d){if(0===c)return-1;const f=o.length;for(let p=0;p<c;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return f}function nm(s,o,c){zo(o);try{const d=s.viewQuery;null!==d&&sm(1,d,c);const f=s.template;null!==f&&X0(s,o,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Wy(s,o),s.staticViewQueries&&sm(2,s.viewQuery,c);const p=s.components;null!==p&&function em(s,o){for(let c=0;c<o.length;c++)ZS(s,o[c])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Bs()}}function Uf(s,o,c,d){const f=o[2];if(128!=(128&f)){zo(o);try{Ra(o),function Va(s){return Nt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&X0(s,o,c,2,d);const y=3==(3&f);if(y){const M=s.preOrderCheckHooks;null!==M&&Zo(o,M,null)}else{const M=s.preOrderHooks;null!==M&&qo(o,M,0,null),td(o,0)}if(function GS(s){for(let o=Ng(s);null!==o;o=wy(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const f=c[d],p=f[3];0==(512&f[2])&&$n(p,1),f[2]|=512}}}(o),function $S(s){for(let o=Ng(s);null!==o;o=wy(o))for(let c=10;c<o.length;c++){const d=o[c],f=d[1];Vs(d)&&Uf(f,d,f.template,d[8])}}(o),null!==s.contentQueries&&Wy(s,o),y){const M=s.contentCheckHooks;null!==M&&Zo(o,M)}else{const M=s.contentHooks;null!==M&&qo(o,M,1),td(o,1)}!function J0(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)bs(~f);else{const p=f,y=c[++d],w=c[++d];Yu(y,p),w(2,o[p])}}}finally{bs(-1)}}(s,o);const w=s.components;null!==w&&function Xg(s,o){for(let c=0;c<o.length;c++)zS(s,o[c])}(o,w);const E=s.viewQuery;if(null!==E&&sm(2,E,d),y){const M=s.viewCheckHooks;null!==M&&Zo(o,M)}else{const M=s.viewHooks;null!==M&&qo(o,M,2),td(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,$n(o[3],-1))}finally{Bs()}}}function RS(s,o,c,d){const f=o[10],y=Ol(o);try{!y&&f.begin&&f.begin(),y&&nm(s,o,d),Uf(s,o,c,d)}finally{!y&&f.end&&f.end()}}function X0(s,o,c,d,f){const p=Pn(),y=2&d;try{bs(-1),y&&o.length>22&&O0(s,o,22,!1),c(d,f)}finally{bs(p)}}function jf(s,o,c){if(Fs(o)){const f=o.directiveEnd;for(let p=o.directiveStart;p<f;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Yy(s,o,c){!co()||(function iD(s,o,c,d){const f=c.directiveStart,p=c.directiveEnd;s.firstCreatePass||Ds(c,o),cr(d,o);const y=c.initialInputs;for(let w=f;w<p;w++){const E=s.data[w],M=rr(E);M&&im(o,c,E);const R=Yr(o,s,w,c);cr(R,o),null!==y&&sv(0,w-f,R,E,0,y),M&&(ln(c.index,o)[8]=R)}}(s,o,c,xi(c,o)),128==(128&c.flags)&&function iv(s,o,c){const d=c.directiveStart,f=c.directiveEnd,p=c.index,y=function Fh(){return Nt.lFrame.currentDirectiveIndex}();try{bs(p);for(let w=d;w<f;w++){const E=s.data[w],M=o[w];Go(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&rv(E,M)}}finally{bs(-1),Go(y)}}(s,o,c))}function Ky(s,o,c=xi){const d=o.localNames;if(null!==d){let f=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(o,s):s[y];s[f++]=w}}}function eD(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Qy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Qy(s,o,c,d,f,p,y,w,E,M){const R=22+d,F=R+f,Q=function OS(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:zt);return c}(R,F),ae="function"==typeof M?M():M;return Q[1]={type:s,blueprint:Q,template:c,queries:null,viewQuery:w,declTNode:o,data:Q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:ae,incompleteFirstPass:!1}}function Jy(s,o,c,d){const f=qS(o);null===c?f.push(d):(f.push(c),s.firstCreatePass&&cD(s).push(d,f.length-1))}function Xy(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,f):c[d]=[o,f]}return c}function ev(s,o){const d=o.directiveEnd,f=s.data,p=o.attrs,y=[];let w=null,E=null;for(let M=o.directiveStart;M<d;M++){const R=f[M],F=R.inputs,Q=null===p||Hg(o)?null:HS(F,p);y.push(Q),w=Xy(F,M,w),E=Xy(R.outputs,M,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=E}function is(s,o,c,d,f,p,y,w){const E=xi(o,c);let R,M=o.inputs;!w&&null!=M&&(R=M[d])?(Nd(s,c,R,d,f),Ta(o)&&tv(c,o.index)):3&o.type&&(d=function tD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=y?y(f,o.value||"",d):f,p.setProperty(E,d,f))}function tv(s,o){const c=ln(o,s);16&c[2]||(c[2]|=32)}function nv(s,o,c,d){let f=!1;if(co()){const p=function rD(s,o,c){const d=s.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];Oy(c,y.selectors,!1)&&(f||(f=[]),uo(Ds(c,o),s,y.type),rr(y)?(BS(s,c),f.unshift(y)):f.push(y))}return f}(s,o,c),y=null===d?null:{"":-1};if(null!==p){f=!0,sD(c,s.data.length,p.length);for(let R=0;R<p.length;R++){const F=p[R];F.providersResolver&&F.providersResolver(F)}let w=!1,E=!1,M=Od(s,o,p.length,null);for(let R=0;R<p.length;R++){const F=p[R];c.mergedAttrs=za(c.mergedAttrs,F.hostAttrs),oD(s,c,o,M,F),jS(M,F,y),null!==F.contentQueries&&(c.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=128);const Q=F.type.prototype;!w&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!E&&(Q.ngOnChanges||Q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),E=!0),M++}ev(s,c)}y&&function US(s,o,c){if(o){const d=s.localNames=[];for(let f=0;f<o.length;f+=2){const p=c[o[f+1]];if(null==p)throw new Ae(-301,!1);d.push(o[f],p)}}}(c,d,y)}return c.mergedAttrs=za(c.mergedAttrs,c.attrs),f}function nD(s,o,c,d,f,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function VS(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,f,y)}}function rv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function BS(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function jS(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;rr(o)&&(c[""]=s)}}function sD(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function oD(s,o,c,d,f){s.data[d]=f;const p=f.factory||(f.factory=Mi(f.type)),y=new wr(p,rr(f),Rf);s.blueprint[d]=y,c[d]=y,nD(s,o,0,d,Od(s,c,f.hostVars,zt),f)}function im(s,o,c){const d=xi(o,s),f=eD(c),p=s[10],y=pn(s,Bf(s,f,null,c.onPush?32:16,d,o,p,p.createRenderer(d,c),null,null,null));s[o.index]=y}function bo(s,o,c,d,f,p){const y=xi(s,o);!function Hf(s,o,c,d,f,p,y){if(null==p)s.removeAttribute(o,f,c);else{const w=null==y?Se(p):y(p,d||"",f);s.setAttribute(o,f,w,c)}}(o[11],y,p,s.value,c,d,f)}function sv(s,o,c,d,f,p){const y=p[o];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const M=y[E++],R=y[E++],F=y[E++];null!==w?d.setInput(c,F,M,R):c[R]=F}}}function HS(s,o){let c=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],o[d+1])),d+=2}else d+=2;else d+=4}return c}function $f(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function zS(s,o){const c=ln(o,s);if(Vs(c)){const d=c[1];48&c[2]?Uf(d,c,d.template,c[8]):c[5]>0&&ov(c)}}function ov(s){for(let d=Ng(s);null!==d;d=wy(d))for(let f=10;f<d.length;f++){const p=d[f];if(Vs(p))if(512&p[2]){const y=p[1];Uf(y,p,y.template,p[8])}else p[5]>0&&ov(p)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=ln(c[d],s);Vs(f)&&f[5]>0&&ov(f)}}function ZS(s,o){const c=ln(o,s),d=c[1];(function aD(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),nm(d,c,c[8])}function pn(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function av(s){for(;s;){s[2]|=32;const o=Id(s);if(Mc(s)&&!o)return s;s=o}return null}function sm(s,o,c){Fc(0),o(s,c)}function qS(s){return s[7]||(s[7]=[])}function cD(s){return s.cleanup||(s.cleanup=[])}function om(s,o,c){return(null===s||rr(s))&&(c=function Zu(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function lv(s,o){const c=s[9],d=c?c.get(yf,null):null;d&&d.handleError(o)}function Nd(s,o,c,d,f){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],E=o[y],M=s.data[y];null!==M.setInput?M.setInput(E,f,d,w):E[w]=f}}function Gf(s,o,c){let d=c?s.styles:null,f=c?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?f=Ee(f,w):2==p&&(d=Ee(d,w+": "+o[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function pl(s,o,c,d,f=!1){for(;null!==c;){const p=o[c.index];if(null!==p&&d.push(Ln(p)),mr(p))for(let w=10;w<p.length;w++){const E=p[w],M=E[1].firstChild;null!==M&&pl(E[1],E,M,d)}const y=c.type;if(8&y)pl(s,o,c.child,d);else if(32&y){const w=ha(c,o);let E;for(;E=w();)d.push(E)}else if(16&y){const w=uS(o,c);if(Array.isArray(w))d.push(...w);else{const E=Id(o[16]);pl(E[1],E,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class hu{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return pl(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(mr(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Lg(o,d),po(c,d))}this._attachedToViewContainer=!1}If(this._lView[1],this._lView)}onDestroy(o){Jy(this._lView[1],this._lView,null,o)}markForCheck(){av(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Pd(s,o,c){const d=o[10];d.begin&&d.begin();try{Uf(s,o,s.template,c)}catch(f){throw lv(o,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function b0(s,o){dl(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=o}}class yR extends hu{constructor(o){super(o),this._view=o}detectChanges(){!function rm(s){!function lD(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],d=yo(c);if(null!==d){const f=d[1];RS(f,d,f.template,c)}}}(s[8])}(this._view)}checkNoChanges(){}get context(){return null}}class am extends pf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=H(o);return new zf(c,this.ngModule)}}function cv(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class WS{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const f=this.injector.get(o,h0,d);return f!==h0||c===h0?f:this.parentInjector.get(o,c,d)}}class zf extends a0{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function pS(s){return s.map(k0).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return cv(this.componentDef.inputs)}get outputs(){return cv(this.componentDef.outputs)}create(o,c,d,f){let p=(f=f||this.ngModule)instanceof Kl?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new WS(o,p):o,w=y.get(dy,null);if(null===w)throw new Ae(407,!1);const E=y.get(ZI,null),M=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",F=d?function PS(s,o,c){return s.selectRootElement(o,c===gt.ShadowDom)}(M,d,this.componentDef.encapsulation):Cy(w.createRenderer(null,this.componentDef),R,function uv(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),Q=this.componentDef.onPush?288:272,ae={components:[]},ye=Qy(0,null,null,1,0,null,null,null,null,null),He=Bf(null,ye,ae,Q,null,null,w,M,E,y,null);let Qe,at;zo(He);try{const kt=function lm(s,o,c,d,f,p){const y=c[1];c[22]=s;const E=pa(y,22,2,"#host",null),M=E.mergedAttrs=o.hostAttrs;null!==M&&(Gf(E,M,!0),null!==s&&(ws(f,s,M),null!==E.classes&&Ql(f,s,E.classes),null!==E.styles&&ky(f,s,E.styles)));const R=d.createRenderer(s,o),F=Bf(c,eD(o),null,o.onPush?32:16,c[22],E,d,R,p||null,null,null);return y.firstCreatePass&&(uo(Ds(E,c),y,o.type),BS(y,E),sD(E,c.length,1)),pn(c,F),c[22]=F}(F,this.componentDef,He,w,M);if(F)if(d)ws(M,F,["ng-version",qI.full]);else{const{attrs:Ne,classes:It}=function gS(s){const o=[],c=[];let d=1,f=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===f?""!==p&&o.push(p,s[++d]):8===f&&c.push(p);else{if(!Ms(f))break;f=p}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Ne&&ws(M,F,Ne),It&&It.length>0&&Ql(M,F,It.join(" "))}if(at=Bo(ye,22),void 0!==c){const Ne=at.projection=[];for(let It=0;It<this.ngContentSelectors.length;It++){const on=c[It];Ne.push(null!=on?Array.from(on):null)}}Qe=function vR(s,o,c,d,f){const p=c[1],y=function LS(s,o,c){const d=ii();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),oD(s,d,o,Od(s,o,1,null),c),ev(s,d));const f=Yr(o,s,d.directiveStart,d);cr(f,o);const p=xi(d,o);return p&&cr(p,o),f}(p,c,o);if(d.components.push(y),s[8]=y,null!==f)for(const E of f)E(y,o);if(o.contentQueries){const E=ii();o.contentQueries(1,y,E.directiveStart)}const w=ii();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(bs(w.index),nD(c[1],w,0,w.directiveStart,w.directiveEnd,o),rv(o,y)),y}(kt,this.componentDef,He,ae,[JS]),nm(ye,He,null)}finally{Bs()}return new QS(this.componentType,Qe,iu(at,He),He,at)}}class QS extends class nu{}{constructor(o,c,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new yR(f),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[o])){const p=this._rootLView;Nd(p[1],p,f,o,c),tv(p,this._tNode.index)}}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function JS(){const s=ii();jc(Oe()[1],s)}function dv(s){let o=function dD(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let f;if(rr(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ae(903,!1);f=o.\u0275dir}if(f){if(c){d.push(f);const y=s;y.inputs=hv(s.inputs),y.declaredInputs=hv(s.declaredInputs),y.outputs=hv(s.outputs);const w=f.hostBindings;w&&nA(s,w);const E=f.viewQuery,M=f.contentQueries;if(E&&eA(s,E),M&&tA(s,M),de(s.inputs,f.inputs),de(s.declaredInputs,f.declaredInputs),de(s.outputs,f.outputs),rr(f)&&f.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===dv&&(c=!1)}}o=Object.getPrototypeOf(o)}!function XS(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=o+=f.hostVars,f.hostAttrs=za(f.hostAttrs,c=za(c,f.hostAttrs))}}(d)}function hv(s){return s===Ti?{}:s===St?[]:s}function eA(s,o){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{o(d,f),c(d,f)}:o}function tA(s,o){const c=s.contentQueries;s.contentQueries=c?(d,f,p)=>{o(d,f,p),c(d,f,p)}:o}function nA(s,o){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{o(d,f),c(d,f)}:o}let rs=null;function ss(){if(!rs){const s=Ft.Symbol;if(s&&s.iterator)rs=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(rs=d)}}}return rs}function Zf(s){return!!cm(s)&&(Array.isArray(s)||!(s instanceof Map)&&ss()in s)}function cm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Yn(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function pv(s,o,c,d){const f=Oe();return Yn(f,Ba(),o)&&(Qt(),bo(Nn(),f,s,o,c,d)),pv}function qf(s,o,c,d){return Yn(s,Ba(),c)?o+Se(c)+d:zt}function gD(s,o,c,d,f,p,y,w){const E=Oe(),M=Qt(),R=s+22,F=M.firstCreatePass?function uA(s,o,c,d,f,p,y,w,E){const M=o.consts,R=pa(o,s,4,y||null,br(M,w));nv(o,c,R,br(M,E)),jc(o,R);const F=R.tViews=Qy(2,R,d,f,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,R),F.queries=o.queries.embeddedTView(R)),R}(R,M,E,o,c,d,f,p,y):M.data[R];Zi(F,!1);const Q=E[11].createComment("");fa(M,E,Q,F),cr(Q,E),pn(E,E[R]=$f(Q,E,Q,F)),Ma(F)&&Yy(M,E,F),null!=y&&Ky(E,F,w)}function Ks(s){return function qr(s,o){return s[o]}(function La(){return Nt.lFrame.contextLView}(),22+s)}function Vd(s,o,c){const d=Oe();return Yn(d,Ba(),o)&&is(Qt(),Nn(),d,s,o,d[11],c,!1),Vd}function ep(s,o,c,d,f){const y=f?"class":"style";Nd(s,c,o.inputs[y],y,d)}function dm(s,o,c,d){const f=Oe(),p=Qt(),y=22+s,w=f[11],E=f[y]=Cy(w,o,function Uc(){return Nt.lFrame.currentNamespace}()),M=p.firstCreatePass?function dA(s,o,c,d,f,p,y){const w=o.consts,M=pa(o,s,2,f,br(w,p));return nv(o,c,M,br(w,y)),null!==M.attrs&&Gf(M,M.attrs,!1),null!==M.mergedAttrs&&Gf(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(y,p,f,0,o,c,d):p.data[y];Zi(M,!0);const R=M.mergedAttrs;null!==R&&ws(w,E,R);const F=M.classes;null!==F&&Ql(w,E,F);const Q=M.styles;return null!==Q&&ky(w,E,Q),64!=(64&M.flags)&&fa(p,f,E,M),0===function Pa(){return Nt.lFrame.elementDepthCount}()&&cr(E,f),function qu(){Nt.lFrame.elementDepthCount++}(),Ma(M)&&(Yy(p,f,M),jf(p,M,f)),null!==d&&Ky(f,M),dm}function hm(){let s=ii();Nl()?$o():(s=s.parent,Zi(s,!1));const o=s;!function Na(){Nt.lFrame.elementDepthCount--}();const c=Qt();return c.firstCreatePass&&(jc(c,s),Fs(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ll(s){return 0!=(16&s.flags)}(o)&&ep(c,o,Oe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Vl(s){return 0!=(32&s.flags)}(o)&&ep(c,o,Oe(),o.stylesWithoutHost,!1),hm}function fm(s,o,c,d){return dm(s,o,c,d),hm(),fm}function pm(s,o,c){const d=Oe(),f=Qt(),p=s+22,y=f.firstCreatePass?function hA(s,o,c,d,f){const p=o.consts,y=br(p,d),w=pa(o,s,8,"ng-container",y);return null!==y&&Gf(w,y,!0),nv(o,c,w,br(p,f)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,f,d,o,c):f.data[p];Zi(y,!0);const w=d[p]=d[11].createComment("");return fa(f,d,w,y),cr(w,d),Ma(y)&&(Yy(f,d,y),jf(f,y,d)),null!=c&&Ky(d,y),pm}function gm(){let s=ii();const o=Qt();return Nl()?$o():(s=s.parent,Zi(s,!1)),o.firstCreatePass&&(jc(o,s),Fs(s)&&o.queries.elementEnd(s)),gm}function Cr(){return Oe()}function Bd(s){return!!s&&"function"==typeof s.then}function gv(s){return!!s&&"function"==typeof s.subscribe}const mm=gv;function Ud(s,o,c,d){const f=Oe(),p=Qt(),y=ii();return _D(p,f,f[11],y,s,o,0,d),Ud}function tp(s,o){const c=ii(),d=Oe(),f=Qt();return _D(f,d,om(Nc(f.data),c,d),c,s,o),tp}function _D(s,o,c,d,f,p,y,w){const E=Ma(d),R=s.firstCreatePass&&cD(s),F=o[8],Q=qS(o);let ae=!0;if(3&d.type||w){const Qe=xi(d,o),at=w?w(Qe):Qe,kt=Q.length,Ne=w?on=>w(Ln(on[d.index])):d.index;let It=null;if(!w&&E&&(It=function mv(s,o,c,d){const f=s.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===d){const w=o[7],E=f[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,o,f,d.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=p,It.__ngLastListenerFn__=p,ae=!1;else{p=vD(d,o,F,p,!1);const on=c.listen(at,f,p);Q.push(p,on),R&&R.push(f,Ne,kt,kt+1)}}else p=vD(d,o,F,p,!1);const ye=d.outputs;let He;if(ae&&null!==ye&&(He=ye[f])){const Qe=He.length;if(Qe)for(let at=0;at<Qe;at+=2){const En=o[He[at]][He[at+1]].subscribe(p),jr=Q.length;Q.push(p,En),R&&R.push(f,d.index,jr,-(jr+1))}}}function yD(s,o,c,d){try{return!1!==c(d)}catch(f){return lv(s,f),!1}}function vD(s,o,c,d,f){return function p(y){if(y===Function)return d;av(2&s.flags?ln(s.index,o):o);let E=yD(o,0,d,y),M=p.__ngNextListenerFn__;for(;M;)E=yD(o,0,M,y)&&E,M=M.__ngNextListenerFn__;return f&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function bD(s=1){return function Us(s){return(Nt.lFrame.contextLView=function Ju(s,o){for(;s>0;)o=o[15],s--;return o}(s,Nt.lFrame.contextLView))[8]}(s)}function fA(s,o){let c=null;const d=function x0(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let f=0;f<o.length;f++){const p=o[f];if("*"!==p){if(null===d?Oy(s,p,!0):cu(d,p))return f}else c=f}return c}function jd(s){const o=Oe()[16][6];if(!o.projection){const d=o.projection=ar(s?s.length:1,null),f=d.slice();let p=o.child;for(;null!==p;){const y=s?fA(p,s):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function _v(s,o=0,c){const d=Oe(),f=Qt(),p=pa(f,22+s,16,null,c||null);null===p.projection&&(p.projection=o),$o(),64!=(64&p.flags)&&function Sf(s,o,c){lu(o[11],0,o,c,Ay(s,c,o),C0(c.parent||o[6],c,o))}(f,d,p)}function Hd(s,o,c){return _m(s,"",o,"",c),Hd}function _m(s,o,c,d,f){const p=Oe(),y=qf(p,o,c,d);return y!==zt&&is(Qt(),Nn(),p,s,y,p[11],f,!1),_m}function bm(s,o,c,d,f){const p=s[c+1],y=null===o;let w=d?vo(p):ki(p),E=!1;for(;0!==w&&(!1===E||y);){const R=s[w+1];ID(s[w],o)&&(E=!0,s[w+1]=d?By(R):Of(R)),w=d?vo(R):ki(R)}E&&(s[c+1]=d?Of(p):By(p))}function ID(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Nr(s,o)>=0}function $d(s,o,c){return Do(s,o,c,!1),$d}function Dv(s,o){return Do(s,o,null,!0),Dv}function Do(s,o,c,d){const f=Oe(),p=Qt(),y=function vs(s){const o=Nt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}(2);p.firstUpdatePass&&function OD(s,o,c,d){const f=s.data;if(null===f[c+1]){const p=f[Pn()],y=function RD(s,o){return o>=s.expandoStartIndex}(s,c);(function DA(s,o){return 0!=(s.flags&(o?16:32))})(p,d)&&null===o&&!y&&(o=!1),o=function bA(s,o,c,d){const f=Nc(s);let p=d?o.residualClasses:o.residualStyles;if(null===f)0===(d?o.classBindings:o.styleBindings)&&(c=rp(c=ip(null,s,o,c,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==f)if(c=ip(f,s,o,c,d),null===p){let E=function Em(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==ki(d))return s[vo(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=ip(null,s,o,E[1],d),E=rp(E,o.attrs,d),function PD(s,o,c,d){s[vo(c?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else p=function ND(s,o,c){let d;const f=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<f;p++)d=rp(d,s[p].hostAttrs,c);return rp(d,o.attrs,c)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),c}(f,p,o,d),function np(s,o,c,d,f,p){let y=p?o.classBindings:o.styleBindings,w=vo(y),E=ki(y);s[d]=c;let R,M=!1;if(Array.isArray(c)){const F=c;R=F[1],(null===R||Nr(F,R)>0)&&(M=!0)}else R=c;if(f)if(0!==E){const Q=vo(s[w+1]);s[d+1]=xd(Q,w),0!==Q&&(s[Q+1]=Yg(s[Q+1],d)),s[w+1]=function SS(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=xd(w,0),0!==w&&(s[w+1]=Yg(s[w+1],d)),w=d;else s[d+1]=xd(E,0),0===w?w=d:s[E+1]=Yg(s[E+1],d),E=d;M&&(s[d+1]=Of(s[d+1])),bm(s,R,d,!0),bm(s,R,d,!1),function gA(s,o,c,d,f){const p=f?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Nr(p,o)>=0&&(c[d+1]=By(c[d+1]))}(o,R,s,d,p),y=xd(w,E),p?o.classBindings=y:o.styleBindings=y}(f,p,o,c,y,d)}}(p,s,y,d),o!==zt&&Yn(f,y,o)&&function Cv(s,o,c,d,f,p,y,w){if(!(3&o.type))return;const E=s.data,M=E[w+1];sp(function kd(s){return 1==(1&s)}(M)?Ev(E,o,c,f,ki(M),y):void 0)||(sp(p)||function W0(s){return 2==(2&s)}(M)&&(p=Ev(E,null,c,f,w,y)),function T0(s,o,c,d,f){if(o)f?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:ll.DashCase;null==f?s.removeStyle(c,d,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=ll.Important),s.setStyle(c,d,f,p))}}(d,y,Or(Pn(),c),f,p))}(p,p.data[Pn()],f,f[11],s,f[y+1]=function VD(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=me(_o(s)))),s}(o,c),d,y)}function ip(s,o,c,d,f){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=o[w],d=rp(d,p.hostAttrs,f),p!==s);)w++;return null!==s&&(c.directiveStylingLast=w),d}function rp(s,o,c){const d=c?1:2;let f=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?f=y:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),qi(s,y,!!c||o[++p]))}return void 0===s?null:s}function Ev(s,o,c,d,f,p){const y=null===o;let w;for(;f>0;){const E=s[f],M=Array.isArray(E),R=M?E[1]:E,F=null===R;let Q=c[f+1];Q===zt&&(Q=F?St:void 0);let ae=F?Qa(Q,d):R===d?Q:void 0;if(M&&!sp(ae)&&(ae=Qa(E,d)),sp(ae)&&(w=ae,y))return w;const ye=s[f+1];f=y?vo(ye):ki(ye)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(w=Qa(E,d))}return w}function sp(s){return void 0!==s}function BD(s,o=""){const c=Oe(),d=Qt(),f=s+22,p=d.firstCreatePass?pa(d,f,1,o,null):d.data[f],y=c[f]=function ul(s,o){return s.createText(o)}(c[11],o);fa(d,c,y,p),Zi(p,!1)}function UD(s){return Iv("",s,""),UD}function Iv(s,o,c){const d=Oe(),f=qf(d,s,o,c);return f!==zt&&function nc(s,o,c){const d=Or(o,s);!function tn(s,o,c){s.setValue(o,c)}(s[11],d,c)}(d,Pn(),f),Iv}function Nv(s,o,c){const d=Oe();return Yn(d,Ba(),o)&&is(Qt(),Nn(),d,s,o,d[11],c,!0),Nv}function Fv(s,o,c){const d=Oe();if(Yn(d,Ba(),o)){const p=Qt(),y=Nn();is(p,y,d,s,o,om(Nc(p.data),y,d),c,!0)}return Fv}const fu=void 0;var lt=["en",[["a","p"],["AM","PM"],fu],[["AM","PM"],fu,fu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fu,"{1} 'at' {0}",fu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _l(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let rc={};function Gd(s){const o=function xA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=ZD(o);if(c)return c;const d=o.split("-")[0];if(c=ZD(d),c)return c;if("en"===d)return lt;throw new Ae(701,!1)}function zd(s){return Gd(s)[xt.PluralCase]}function ZD(s){return s in rc||(rc[s]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[s]),rc[s]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const yl="en-US";let Lv=yl;function ib(s,o,c,d,f){if(s=te(s),Array.isArray(s))for(let p=0;p<s.length;p++)ib(s[p],o,c,d,f);else{const p=Qt(),y=Oe();let w=sl(s)?s:te(s.provide),E=ly(s);const M=ii(),R=1048575&M.providerIndexes,F=M.directiveStart,Q=M.providerIndexes>>20;if(sl(s)||!s.multi){const ae=new wr(E,f,Rf),ye=rb(w,o,f?R:R+Q,F);-1===ye?(uo(Ds(M,y),p,w),oc(p,s,o.length),o.push(w),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),c.push(ae),y.push(ae)):(c[ye]=ae,y[ye]=ae)}else{const ae=rb(w,o,R+Q,F),ye=rb(w,o,R,R+Q),He=ae>=0&&c[ae],Qe=ye>=0&&c[ye];if(f&&!Qe||!f&&!He){uo(Ds(M,y),p,w);const at=function mC(s,o,c,d,f){const p=new wr(s,c,Rf);return p.multi=[],p.index=o,p.componentProviders=0,pC(p,f,d&&!c),p}(f?gC:mu,c.length,f,d,E);!f&&Qe&&(c[ye].providerFactory=at),oc(p,s,o.length,0),o.push(w),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),c.push(at),y.push(at)}else oc(p,s,ae>-1?ae:ye,pC(c[f?ye:ae],E,!f&&d));!f&&d&&Qe&&c[ye].componentProviders++}}}function oc(s,o,c,d){const f=sl(o),p=function VI(s){return!!s.useClass}(o);if(f||p){const E=(p?te(o.useClass):o).prototype.ngOnDestroy;if(E){const M=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const R=M.indexOf(c);-1===R?M.push(c,[d,E]):M[R+1].push(d,E)}else M.push(c,E)}}}function pC(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function rb(s,o,c,d){for(let f=c;f<d;f++)if(o[f]===s)return f;return-1}function mu(s,o,c,d){return Kd(this.multi,[])}function gC(s,o,c,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Yr(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),Kd(f,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],Kd(f,p);return p}function Kd(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function Qd(s,o=[]){return c=>{c.providersResolver=(d,f)=>function $A(s,o,c){const d=Qt();if(d.firstCreatePass){const f=rr(s);ib(c,d.data,d.blueprint,f,!0),ib(o,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,o)}}class _u{}class Ir{}function _C(s,o){return new fp(s,o??null)}class fp extends _u{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new am(this);const d=bt(o);this._bootstrapComponents=ns(d.bootstrap),this._r3Injector=Gg(o,c,[{provide:_u,useValue:this},{provide:pf,useValue:this.componentFactoryResolver}],me(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Hm extends Ir{constructor(o){super(),this.moduleType=o}create(o){return new fp(this.moduleType,o)}}class sb extends _u{constructor(o,c,d){super(),this.componentFactoryResolver=new am(this),this.instance=null;const f=new s0([...o,{provide:_u,useValue:this},{provide:pf,useValue:this.componentFactoryResolver}],c||Og(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function $m(s,o,c=null){return new sb(s,o,c).injector}let yC=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=t0(0,c.type),f=d.length>0?$m([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=an({token:s,providedIn:"environment",factory:()=>new s(qn(Kl))}),s})();function Jd(s){s.getStandaloneInjector=o=>o.get(yC).getOrCreateStandaloneInjector(s)}function Km(s,o,c,d){return function _p(s,o,c,d,f,p){const y=o+c;return Yn(s,y,f)?function Ys(s,o,c){return s[o]=c}(s,y+1,p?d.call(p,f):d(f)):function xs(s,o){const c=s[o];return c===zt?void 0:c}(s,y+1)}(Oe(),function ri(){const s=Nt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,c,d)}function db(s){return o=>{setTimeout(s,void 0,o)}}const os=class XA extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let f=o,p=c||(()=>null),y=d;if(o&&"object"==typeof o){const E=o;f=E.next?.bind(E),p=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(p=db(p),f&&(f=db(f)),y&&(y=db(y)));const w=super.subscribe({next:f,error:p,complete:y});return o instanceof B.w0&&o.add(w),w}};function ac(){return this._results[ss()]()}class Jm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ss(),d=Jm.prototype;d[c]||(d[c]=ac)}get changes(){return this._changes||(this._changes=new os)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const f=Fi(o);(this._changesDetected=!function cd(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],p=o[d];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let th=(()=>{class s{}return s.__NG_ELEMENT_ID__=eT,s})();const CC=th,nh=class extends CC{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,f=Bf(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),nm(d,f,o),new hu(f)}};function eT(){return Xm(ii(),Oe())}function Xm(s,o){return 4&s.type?new nh(o,s,iu(s,o)):null}let Cp=(()=>{class s{}return s.__NG_ELEMENT_ID__=tT,s})();function tT(){return fb(ii(),Oe())}const EC=Cp,hb=class extends EC{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return iu(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){const o=qa(this._hostTNode,this._hostLView);if(Uh(o)){const c=js(o,this._hostLView),d=si(o);return new Xo(c[1].data[d+8],c)}return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=e_(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let f,p;"number"==typeof d?f=d:null!=d&&(f=d.index,p=d.injector);const y=o.createEmbeddedView(c||{},p);return this.insert(y,f),y}createComponent(o,c,d,f,p){const y=o&&!function oi(s){return"function"==typeof s}(o);let w;if(y)w=c;else{const F=c||{};w=F.index,d=F.injector,f=F.projectableNodes,p=F.environmentInjector||F.ngModuleRef}const E=y?o:new zf(H(o)),M=d||this.parentInjector;if(!p&&null==E.ngModule){const Q=(y?M:this.parentInjector).get(Kl,null);Q&&(p=Q)}const R=E.create(M,f,void 0,p);return this.insert(R.hostView,w),R}insert(o,c){const d=o._lView,f=d[1];if(function Oc(s){return mr(s[3])}(d)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const F=d[3],Q=new hb(F,F[6],F[3]);Q.detach(Q.indexOf(o))}}const p=this._adjustIndex(c),y=this._lContainer;!function lS(s,o,c,d){const f=10+d,p=c.length;d>0&&(c[f-1][4]=o),d<p-10?(o[4]=c[f],Ka(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const y=o[17];null!==y&&c!==y&&function Fg(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(f,d,y,p);const w=My(p,y),E=d[11],M=Ug(E,y[7]);return null!==M&&function aS(s,o,c,d,f,p){d[0]=f,d[6]=o,dl(s,d,c,1,f,p)}(f,y[6],E,d,M,w),o.attachToViewContainerRef(),Ka(Ep(y),p,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=e_(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Lg(this._lContainer,c);d&&(po(Ep(this._lContainer),c),If(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Lg(this._lContainer,c);return d&&null!=po(Ep(this._lContainer),c)?new hu(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function e_(s){return s[8]}function Ep(s){return s[8]||(s[8]=[])}function fb(s,o){let c;const d=o[s.index];if(mr(d))c=d;else{let f;if(8&s.type)f=Ln(d);else{const p=o[11];f=p.createComment("");const y=xi(s,o);au(p,Ug(p,y),f,function cS(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=c=$f(d,o,f,s),pn(o,c)}return new hb(c,s,o)}class gb{constructor(o){this.queryList=o,this.matches=null}clone(){return new gb(this.queryList)}setDirty(){this.queryList.setDirty()}}class mb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,f=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new mb(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==Tp(o,c).matches&&this.queries[c].setDirty()}}class Ip{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class wu{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(o,f);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new wu(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ih{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new ih(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(o,c,_b(c,p)),this.matchTNodeWithReadOption(o,c,Ya(c,o,p,!1,!1))}else d===th?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Ya(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===gf||f===Cp||f===th&&4&c.type)this.addMatch(c.index,-2);else{const p=Ya(c,o,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function _b(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function Sp(s,o,c,d){return-1===c?function SC(s,o){return 11&s.type?iu(s,o):4&s.type?Xm(s,o):null}(o,s):-2===c?function Ap(s,o,c){return c===gf?iu(o,s):c===th?Xm(o,s):c===Cp?fb(o,s):void 0}(s,o,d):Yr(s,s[1],c,o)}function AC(s,o,c,d){const f=o[19].queries[d];if(null===f.matches){const p=s.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const M=y[E];w.push(M<0?null:Sp(o,p[M],y[E+1],c.metadata.read))}f.matches=w}return f.matches}function pi(s,o,c,d){const f=s.queries.getByIndex(c),p=f.matches;if(null!==p){const y=AC(s,o,f,c);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const M=p[w+1],R=o[-E];for(let F=10;F<R.length;F++){const Q=R[F];Q[17]===Q[3]&&pi(Q[1],Q,M,d)}if(null!==R[9]){const F=R[9];for(let Q=0;Q<F.length;Q++){const ae=F[Q];pi(ae[1],ae,M,d)}}}}}return d}function yb(s){const o=Oe(),c=Qt(),d=Ua();Fc(d+1);const f=Tp(c,d);if(s.dirty&&Ol(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const p=f.crossesNgTemplate?pi(c,o,d,[]):AC(c,o,f,d);s.reset(p,u0),s.notifyOnChanges()}return!0}return!1}function TC(s,o,c){const d=Qt();d.firstCreatePass&&(bb(d,new Ip(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),vb(d,Oe(),o)}function MC(s,o,c,d){const f=Qt();if(f.firstCreatePass){const p=ii();bb(f,new Ip(o,c,d),p.index),function kC(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}vb(f,Oe(),c)}function xC(){return function nT(s,o){return s[19].queries[o].queryList}(Oe(),Ua())}function vb(s,o,c){const d=new Jm(4==(4&c));Jy(s,o,d,d.destroy),null===o[19]&&(o[19]=new mb),o[19].queries.push(new gb(d))}function bb(s,o,c){null===s.queries&&(s.queries=new wu),s.queries.track(new ih(o,c))}function Tp(s,o){return s.queries.getByIndex(o)}function o_(...s){}const zC=new Sn("Application Initializer");let a_=(()=>{class s{constructor(c){this.appInits=c,this.resolve=o_,this.reject=o_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(Bd(p))c.push(p);else if(mm(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(qn(zC,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ab=new Sn("AppId",{providedIn:"root",factory:function ZC(){return`${Tb()}${Tb()}${Tb()}`}});function Tb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mb=new Sn("Platform Initializer"),$t=new Sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Su=new Sn("appBootstrapListener"),Xn=new Sn("AnimationModuleType");let Ot=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const sn=new Sn("LocaleId",{providedIn:"root",factory:()=>I(sn,nt.Optional|nt.SkipSelf)||function Np(){return typeof $localize<"u"&&$localize.locale||yl}()}),fT=new Sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class kb{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let Au=(()=>{class s{compileModuleSync(c){return new Hm(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=ns(bt(c).declarations).reduce((y,w)=>{const E=H(w);return E&&y.push(new zf(E)),y},[]);return new kb(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Pb=(()=>Promise.resolve(0))();function l_(s){typeof Zone>"u"?Pb.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class $i{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new os(!1),this.onMicrotaskEmpty=new os(!1),this.onStable=new os(!1),this.onError=new os(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function qC(){let s=Ft.requestAnimationFrame,o=Ft.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Io(s){const o=()=>{!function c_(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ft,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Fb(s),s.isCheckStableRunning=!0,fe(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Fb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,p,y,w)=>{try{return lh(s),c.invokeTask(f,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),bl(s)}},onInvoke:(c,d,f,p,y,w,E)=>{try{return lh(s),c.invoke(f,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),bl(s)}},onHasTask:(c,d,f,p)=>{c.hasTask(f,p),d===f&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Fb(s),fe(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,f,p)=>(c.handleError(f,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$i.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if($i.isInAngularZone())throw new Ae(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,o,Nb,o_,o_);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const Nb={};function fe(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Fb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function lh(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function bl(s){s._nesting--,fe(s)}class _T{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new os,this.onMicrotaskEmpty=new os,this.onStable=new os,this.onError=new os}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,f){return o.apply(c,d)}}const cc=new Sn(""),Lb=new Sn("");let Sr,Vb=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sr||(function yT(s){Sr=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$i.assertNotInAngularZone(),l_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())l_(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(qn($i),qn(WC),qn(Lb))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),WC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Sr?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),wl=null;const uc=new Sn("AllowMultipleToken"),u_=new Sn("PlatformDestroyListeners");class YC{constructor(o,c){this.name=o,this.token=c}}function QC(s,o,c=[]){const d=`Platform: ${o}`,f=new Sn(d);return(p=[])=>{let y=Fp();if(!y||y.injector.get(uc,!1)){const w=[...c,...p,{provide:f,useValue:!0}];s?s(w):function ch(s){if(wl&&!wl.get(uc,!1))throw new Ae(400,!1);wl=s;const o=s.get(Bb);(function KC(s){const o=s.get(Mb,null);o&&o.forEach(c=>c())})(s)}(function ui(s=[],o){return Lr.create({name:o,providers:[{provide:uf,useValue:"platform"},{provide:u_,useValue:new Set([()=>wl=null])},...s]})}(w,d))}return function dc(s){const o=Fp();if(!o)throw new Ae(401,!1);return o}()}}function Fp(){return wl?.get(Bb)??null}let Bb=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function JC(s,o){let c;return c="noop"===s?new _T:("zone.js"===s?void 0:s)||new $i(o),c}(d?.ngZone,function dh(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:$i,useValue:f}];return f.run(()=>{const y=Lr.create({providers:p,parent:this.injector,name:c.moduleType.name}),w=c.create(y),E=w.injector.get(yf,null);if(!E)throw new Ae(402,!1);return f.runOutsideAngular(()=>{const M=f.onError.subscribe({next:R=>{E.handleError(R)}});w.onDestroy(()=>{Lp(this._modules,w),M.unsubscribe()})}),function Dl(s,o,c){try{const d=c();return Bd(d)?d.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,f,()=>{const M=w.injector.get(a_);return M.runInitializers(),M.donePromise.then(()=>(function WD(s){Yt(s,"Expected localeId to be defined"),"string"==typeof s&&(Lv=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(sn,yl)||yl),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const f=hh({},d);return function d_(s,o,c){const d=new Hm(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const d=c.injector.get(hc);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ae(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(u_,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(qn(Lr))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function hh(s,o){return Array.isArray(o)?o.reduce(hh,s):{...s,...o}}let hc=(()=>{class s{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new O.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{$i.assertNotInAngularZone(),l_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{$i.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ce.T)(p,y.pipe((0,he.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof a0;if(!this._injector.get(a_).done)throw!f&&qe(c),new Ae(405,false);let y;y=f?c:this._injector.get(pf).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function kn(s){return s.isBoundToModule}(y)?void 0:this._injector.get(_u),M=y.create(Lr.NULL,[],d||y.selector,w),R=M.location.nativeElement,F=M.injector.get(cc,null);return F?.registerApplication(R),M.onDestroy(()=>{this.detachView(M.hostView),Lp(this.components,M),F?.unregisterApplication(R)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Lp(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Su,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Lp(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ae(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(qn($i),qn(Kl),qn(yf))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Lp(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let fc=!0,So=!1;function Vp(){return So=!0,fc}function pc(){if(So)throw new Error("Cannot enable prod mode after platform setup.");fc=!1}let Tu=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ub,s})();function Ub(s){return function Up(s,o,c){if(Ta(s)&&!c){const d=ln(s.index,o);return new hu(d,d)}return 47&s.type?new hu(o[16],o):null}(ii(),Oe(),16==(16&s))}class tE{constructor(){}supports(o){return Zf(o)}create(o){return new AT(o)}}const ST=(s,o)=>o;class AT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||ST}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,f=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<rE(d,f,p)?c:d,w=rE(y,f,p),E=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const M=w-f,R=E-f;if(M!=R){for(let Q=0;Q<M;Q++){const ae=Q<p.length?p[Q]:p[Q]=0,ye=ae+Q;R<=ye&&ye<M&&(p[Q]=ae+1)}p[y.previousIndex]=R-M}}w!==E&&o(y,w,E)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Zf(o))throw new Ae(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,p,y,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else f=0,function sA(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[ss()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,f){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,p,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,p,f)):o=this._addAfter(new nE(c,d),p,f),o}_verifyReinsertion(o,c,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,p=o._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const f=null===c?this._itHead:c._next;return o._next=f,o._prev=c,null===f?this._itTail=o:f._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new iE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class nE{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class iE{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new TT,this.map.set(c,d)),d.add(o)}get(o,c){const f=this.map.get(o);return f?f.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rE(s,o,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+o+f}class sE{constructor(){}supports(o){return o instanceof Map||cm(o)}create(){return new mc}}class mc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||cm(o)))throw new Ae(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new fh(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class fh{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oE(){return new __([new tE])}let __=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||oE()),deps:[[s,new Tt,new Ze]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ae(901,!1)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:oE}),s})();function ba(){return new y_([new sE])}let y_=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||ba()),deps:[[s,new Tt,new Ze]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Ae(901,!1)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:ba}),s})();const zb=QC(null,"core",[]);let gh=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(qn(hc))},s.\u0275mod=Ct({type:s}),s.\u0275inj=Gt({}),s})();function as(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ht,xe,N)=>{N.d(xe,{Z:()=>Ae});var l=N(2090),B=N(4859),O=N(9681),ce=N(1877);class he{constructor(Se,ve){this._delegate=Se,this.firebase=ve,(0,O._addComponent)(Se,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Se,ve=O._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(Se);return!tt.isInitialized()&&"EXPLICIT"===(null===(et=tt.getComponent())||void 0===et?void 0:et.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:ve})}_removeServiceInstance(Se,ve=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(ve)}_addComponent(Se){(0,O._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,O._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function Ee(){const st=function me(st){const Se={},ve={__esModule:!0,initializeApp:function Le(le,pe={}){const Ce=O.initializeApp(le,pe);if((0,l.r3)(Se,Ce.name))return Se[Ce.name];const X=new st(Ce,ve);return Se[Ce.name]=X,X},app:tt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Te(le){const pe=le.name,Ce=pe.replace("-compat","");if(O._registerComponent(le)&&"PUBLIC"===le.type){const X=(ne=tt())=>{if("function"!=typeof ne[Ce])throw de.create("invalid-app-argument",{appName:pe});return ne[Ce]()};void 0!==le.serviceProps&&(0,l.ZB)(X,le.serviceProps),ve[Ce]=X,st.prototype[Ce]=function(...ne){return this._getService.bind(this,pe).apply(this,le.multipleInstances?ne:[])}}return"PUBLIC"===le.type?ve[Ce]:null},removeApp:function et(le){delete Se[le]},useAsService:function We(le,pe){return"serverAuth"===pe?null:pe},modularAPIs:O}};function tt(le){if(!(0,l.r3)(Se,le=le||O._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:le});return Se[le]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function Re(){return Object.keys(Se).map(le=>Se[le])}}),tt.App=st,ve}(he);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Se(ve){(0,l.ZB)(st,ve)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),st}(),W=new ce.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=q;!function Fe(st){(0,O.registerVersion)("@firebase/app-compat","0.1.33",st)}()},9681:(ht,xe,N)=>{N.r(xe),N.d(xe,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Gr,_DEFAULT_ENTRY_NAME:()=>Yt,_addComponent:()=>un,_addOrOverwriteComponent:()=>an,_apps:()=>bn,_clearComponents:()=>ko,_components:()=>Bn,_getProvider:()=>Gt,_registerComponent:()=>Wt,_removeServiceInstance:()=>Ii,deleteApp:()=>Zr,getApp:()=>Un,getApps:()=>zr,initializeApp:()=>tr,onLog:()=>jn,registerVersion:()=>_i,setLogLevel:()=>yn});var l=N(5861),B=N(4859),O=N(1877),ce=N(2090),he=N(8766);class be{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function de(j){return"VERSION"===j.getComponent()?.type}(K)){const Me=K.getImmediate();return`${Me.library}/${Me.version}`}return null}).filter(K=>K).join(" ")}}const me="@firebase/app",q=new O.Yd("@firebase/app"),Yt="[DEFAULT]",Ye={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,Bn=new Map;function un(j,Y){try{j.container.addComponent(Y)}catch(K){q.debug(`Component ${Y.name} failed to register with FirebaseApp ${j.name}`,K)}}function an(j,Y){j.container.addOrOverwriteComponent(Y)}function Wt(j){const Y=j.name;if(Bn.has(Y))return q.debug(`There were multiple attempts to register component ${Y}.`),!1;Bn.set(Y,j);for(const K of bn.values())un(K,j);return!0}function Gt(j,Y){const K=j.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),j.container.getProvider(Y)}function Ii(j,Y,K=Yt){Gt(j,Y).clearInstance(K)}function ko(){Bn.clear()}const Rn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ds{constructor(Y,K,Me){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=Me,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const Gr="9.9.4";function tr(j,Y={}){"object"!=typeof Y&&(Y={name:Y});const K=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},Y),Me=K.name;if("string"!=typeof Me||!Me)throw Rn.create("bad-app-name",{appName:String(Me)});const ze=bn.get(Me);if(ze){if((0,ce.vZ)(j,ze.options)&&(0,ce.vZ)(K,ze.config))return ze;throw Rn.create("duplicate-app",{appName:Me})}const Ct=new B.H0(Me);for(const dn of Bn.values())Ct.addComponent(dn);const hn=new ds(j,K,Ct);return bn.set(Me,hn),hn}function Un(j=Yt){const Y=bn.get(j);if(!Y)throw Rn.create("no-app",{appName:j});return Y}function zr(){return Array.from(bn.values())}function Zr(j){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(j){const Y=j.name;bn.has(Y)&&(bn.delete(Y),yield Promise.all(j.container.getProviders().map(K=>K.delete())),j.isDeleted=!0)})).apply(this,arguments)}function _i(j,Y,K){var Me;let ze=null!==(Me=Ye[j])&&void 0!==Me?Me:j;K&&(ze+=`-${K}`);const Ct=ze.match(/\s|\//),hn=Y.match(/\s|\//);if(Ct||hn){const dn=[`Unable to register library "${ze}" with version "${Y}":`];return Ct&&dn.push(`library name "${ze}" contains illegal characters (whitespace or "/")`),Ct&&hn&&dn.push("and"),hn&&dn.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void q.warn(dn.join(" "))}Wt(new B.wA(`${ze}-version`,()=>({library:ze,version:Y}),"VERSION"))}function jn(j,Y){if(null!==j&&"function"!=typeof j)throw Rn.create("invalid-log-argument");(0,O.Am)(j,Y)}function yn(j){(0,O.Ub)(j)}const In="firebase-heartbeat-store";let An=null;function Dn(){return An||(An=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(j,Y)=>{0===Y&&j.createObjectStore(In)}}).catch(j=>{throw Rn.create("idb-open",{originalErrorMessage:j.message})})),An}function gt(){return(gt=(0,l.Z)(function*(j){var Y;try{return(yield Dn()).transaction(In).objectStore(In).get(yi(j))}catch(K){if(K instanceof ce.ZR)q.warn(K.message);else{const Me=Rn.create("idb-get",{originalErrorMessage:null===(Y=K)||void 0===Y?void 0:Y.message});q.warn(Me.message)}}})).apply(this,arguments)}function Ft(j,Y){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(j,Y){var K;try{const ze=(yield Dn()).transaction(In,"readwrite");return yield ze.objectStore(In).put(Y,yi(j)),ze.done}catch(Me){if(Me instanceof ce.ZR)q.warn(Me.message);else{const ze=Rn.create("idb-set",{originalErrorMessage:null===(K=Me)||void 0===K?void 0:K.message});q.warn(ze.message)}}})).apply(this,arguments)}function yi(j){return`${j.name}!${j.options.appId}`}class Pi{constructor(Y){this.container=Y,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new Kt(K),this._heartbeatsCachePromise=this._storage.read().then(Me=>(this._heartbeatsCache=Me,Me))}triggerHeartbeat(){var Y=this;return(0,l.Z)(function*(){const Me=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ze=Lt();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==ze&&!Y._heartbeatsCache.heartbeats.some(Ct=>Ct.date===ze))return Y._heartbeatsCache.heartbeats.push({date:ze,agent:Me}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Ct=>{const hn=new Date(Ct.date).valueOf();return Date.now()-hn<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,l.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const K=Lt(),{heartbeatsToSend:Me,unsentEntries:ze}=function nr(j,Y=1024){const K=[];let Me=j.slice();for(const ze of j){const Ct=K.find(hn=>hn.agent===ze.agent);if(Ct){if(Ct.dates.push(ze.date),J(K)>Y){Ct.dates.pop();break}}else if(K.push({agent:ze.agent,dates:[ze.date]}),J(K)>Y){K.pop();break}Me=Me.slice(1)}return{heartbeatsToSend:K,unsentEntries:Me}}(Y._heartbeatsCache.heartbeats),Ct=(0,ce.L)(JSON.stringify({version:2,heartbeats:Me}));return Y._heartbeatsCache.lastSentHeartbeatDate=K,ze.length>0?(Y._heartbeatsCache.heartbeats=ze,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Ct})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,l.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function pt(j){return gt.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var K=this;return(0,l.Z)(function*(){var Me;if(yield K._canUseIndexedDBPromise){const Ct=yield K.read();return Ft(K.app,{lastSentHeartbeatDate:null!==(Me=Y.lastSentHeartbeatDate)&&void 0!==Me?Me:Ct.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var K=this;return(0,l.Z)(function*(){var Me;if(yield K._canUseIndexedDBPromise){const Ct=yield K.read();return Ft(K.app,{lastSentHeartbeatDate:null!==(Me=Y.lastSentHeartbeatDate)&&void 0!==Me?Me:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...Y.heartbeats]})}})()}}function J(j){return(0,ce.L)(JSON.stringify({version:2,heartbeats:j})).length}!function G(j){Wt(new B.wA("platform-logger",Y=>new be(Y),"PRIVATE")),Wt(new B.wA("heartbeat",Y=>new Pi(Y),"PRIVATE")),_i(me,"0.7.32",j),_i(me,"0.7.32","esm2017"),_i("fire-js","")}("")},4859:(ht,xe,N)=>{N.d(xe,{H0:()=>me,wA:()=>O});var l=N(5861),B=N(2090);class O{constructor(q,W,te){this.name=q,this.instanceFactory=W,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ce="[DEFAULT]";class he{constructor(q,W){this.name=q,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const W=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(W)){const te=new B.BH;if(this.instancesDeferred.set(W,te),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:W});Ge&&te.resolve(Ge)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(q){var W;const te=this.normalizeInstanceIdentifier(q?.identifier),Ge=null!==(W=q?.optional)&&void 0!==W&&W;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Fe){if(Ge)return null;throw Fe}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function de(Ee){return"EAGER"===Ee.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[W,te]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(W);try{const Fe=this.getOrInitializeService({instanceIdentifier:Ge});te.resolve(Fe)}catch{}}}}clearInstance(q=ce){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,l.Z)(function*(){const W=Array.from(q.instances.values());yield Promise.all([...W.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...W.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ce){return this.instances.has(q)}getOptions(q=ce){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:W={}}=q,te=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:te,options:W});for(const[Fe,Ae]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Fe)&&Ae.resolve(Ge);return Ge}onInit(q,W){var te;const Ge=this.normalizeInstanceIdentifier(W),Fe=null!==(te=this.onInitCallbacks.get(Ge))&&void 0!==te?te:new Set;Fe.add(q),this.onInitCallbacks.set(Ge,Fe);const Ae=this.instances.get(Ge);return Ae&&q(Ae,Ge),()=>{Fe.delete(q)}}invokeOnInitCallbacks(q,W){const te=this.onInitCallbacks.get(W);if(te)for(const Ge of te)try{Ge(q,W)}catch{}}getOrInitializeService({instanceIdentifier:q,options:W={}}){let te=this.instances.get(q);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=q,Ee===ce?void 0:Ee),options:W}),this.instances.set(q,te),this.instancesOptions.set(q,W),this.invokeOnInitCallbacks(te,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,te)}catch{}var Ee;return te||null}normalizeInstanceIdentifier(q=ce){return this.component?this.component.multipleInstances?q:ce:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const W=this.getProvider(q.name);if(W.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);W.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const W=new he(q,this);return this.providers.set(q,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,xe,N)=>{N.d(xe,{Am:()=>Ee,Ub:()=>me,Yd:()=>de,in:()=>B});const l=[];var B=(()=>{return(q=B||(B={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",B;var q})();const O={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ce=B.INFO,he={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},be=(q,W,...te)=>{if(W<q.logLevel)return;const Ge=(new Date).toISOString(),Fe=he[W];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Fe](`[${Ge}]  ${q.name}:`,...te)};class de{constructor(W){this.name=W,this._logLevel=ce,this._logHandler=be,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in B))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?O[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...W),this._logHandler(this,B.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...W),this._logHandler(this,B.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,B.INFO,...W),this._logHandler(this,B.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,B.WARN,...W),this._logHandler(this,B.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...W),this._logHandler(this,B.ERROR,...W)}}function me(q){l.forEach(W=>{W.setLogLevel(q)})}function Ee(q,W){for(const te of l){let Ge=null;W&&W.level&&(Ge=O[W.level]),te.userLogHandler=null===q?null:(Fe,Ae,...st)=>{const Se=st.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch{return null}}).filter(ve=>ve).join(" ");Ae>=(Ge??Fe.logLevel)&&q({level:B[Ae].toLowerCase(),message:Se,args:st,type:Fe.name})}}}},8766:(ht,xe,N)=>{N.d(xe,{Lj:()=>Le,X3:()=>tt});var l=N(5861);let O,ce;const de=new WeakMap,me=new WeakMap,Ee=new WeakMap,q=new WeakMap,W=new WeakMap;let Fe={get(pe,Ce,X){if(pe instanceof IDBTransaction){if("done"===Ce)return me.get(pe);if("objectStoreNames"===Ce)return pe.objectStoreNames||Ee.get(pe);if("store"===Ce)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return ve(pe[Ce])},set:(pe,Ce,X)=>(pe[Ce]=X,!0),has:(pe,Ce)=>pe instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in pe};function Se(pe){return"function"==typeof pe?function st(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...Ce){return pe.apply(et(this),Ce),ve(de.get(this))}:function(...Ce){return ve(pe.apply(et(this),Ce))}:function(Ce,...X){const ne=pe.call(et(this),Ce,...X);return Ee.set(ne,Ce.sort?Ce.sort():[Ce]),ve(ne)}}(pe):(pe instanceof IDBTransaction&&function Ge(pe){if(me.has(pe))return;const Ce=new Promise((X,ne)=>{const _e=()=>{pe.removeEventListener("complete",ue),pe.removeEventListener("error",Ue),pe.removeEventListener("abort",Ue)},ue=()=>{X(),_e()},Ue=()=>{ne(pe.error||new DOMException("AbortError","AbortError")),_e()};pe.addEventListener("complete",ue),pe.addEventListener("error",Ue),pe.addEventListener("abort",Ue)});me.set(pe,Ce)}(pe),((pe,Ce)=>Ce.some(X=>pe instanceof X))(pe,function he(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,Fe):pe)}function ve(pe){if(pe instanceof IDBRequest)return function te(pe){const Ce=new Promise((X,ne)=>{const _e=()=>{pe.removeEventListener("success",ue),pe.removeEventListener("error",Ue)},ue=()=>{X(ve(pe.result)),_e()},Ue=()=>{ne(pe.error),_e()};pe.addEventListener("success",ue),pe.addEventListener("error",Ue)});return Ce.then(X=>{X instanceof IDBCursor&&de.set(X,pe)}).catch(()=>{}),W.set(Ce,pe),Ce}(pe);if(q.has(pe))return q.get(pe);const Ce=Se(pe);return Ce!==pe&&(q.set(pe,Ce),W.set(Ce,pe)),Ce}const et=pe=>W.get(pe);function tt(pe,Ce,{blocked:X,upgrade:ne,blocking:_e,terminated:ue}={}){const Ue=indexedDB.open(pe,Ce),je=ve(Ue);return ne&&Ue.addEventListener("upgradeneeded",vt=>{ne(ve(Ue.result),vt.oldVersion,vt.newVersion,ve(Ue.transaction))}),X&&Ue.addEventListener("blocked",()=>X()),je.then(vt=>{ue&&vt.addEventListener("close",()=>ue()),_e&&vt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),je}function Le(pe,{blocked:Ce}={}){const X=indexedDB.deleteDatabase(pe);return Ce&&X.addEventListener("blocked",()=>Ce()),ve(X).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],We=new Map;function le(pe,Ce){if(!(pe instanceof IDBDatabase)||Ce in pe||"string"!=typeof Ce)return;if(We.get(Ce))return We.get(Ce);const X=Ce.replace(/FromIndex$/,""),ne=Ce!==X,_e=Te.includes(X);if(!(X in(ne?IDBIndex:IDBObjectStore).prototype)||!_e&&!Re.includes(X))return;const ue=function(){var Ue=(0,l.Z)(function*(je,...vt){const rn=this.transaction(je,_e?"readwrite":"readonly");let Yt=rn.store;return ne&&(Yt=Yt.index(vt.shift())),(yield Promise.all([Yt[X](...vt),_e&&rn.done]))[0]});return function(vt){return Ue.apply(this,arguments)}}();return We.set(Ce,ue),ue}!function Ae(pe){Fe=pe(Fe)}(pe=>({...pe,get:(Ce,X,ne)=>le(Ce,X)||pe.get(Ce,X,ne),has:(Ce,X)=>!!le(Ce,X)||pe.has(Ce,X)}))},5861:(ht,xe,N)=>{function l(O,ce,he,be,de,me,Ee){try{var q=O[me](Ee),W=q.value}catch(te){return void he(te)}q.done?ce(W):Promise.resolve(W).then(be,de)}function B(O){return function(){var ce=this,he=arguments;return new Promise(function(be,de){var me=O.apply(ce,he);function Ee(W){l(me,be,de,Ee,q,"next",W)}function q(W){l(me,be,de,Ee,q,"throw",W)}Ee(void 0)})}}N.d(xe,{Z:()=>B})}},ht=>{ht(ht.s=9408)}]);