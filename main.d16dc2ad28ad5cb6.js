"use strict";(self.webpackChunkSnowbirdApp=self.webpackChunkSnowbirdApp||[]).push([[179],{2011:(ln,ct,z)=>{z.d(ct,{Dh:()=>je,GT:()=>qe,cc:()=>_t,hO:()=>kt,on:()=>de,pX:()=>Pe,xv:()=>Qe});var l=z(4650),te=z(127),H=z(5813);ln=z.hmd(ln);const Me=["ngOnDestroy"],Pe=(We,qt,Yt,vt={})=>new Proxy(We,{get:(ft,rt)=>Yt.runOutsideAngular(()=>{var Vt;if(We[rt])return!(null===(Vt=vt?.spy)||void 0===Vt)&&Vt.get&&vt.spy.get(rt,We[rt]),We[rt];if(Me.indexOf(rt)>-1)return()=>{};const ke=qt.toPromise().then(Le=>{const Xe=Le&&Le[rt];return"function"==typeof Xe?Xe.bind(Le):Xe&&Xe.then?Xe.then(ye=>Yt.run(()=>ye)):Yt.run(()=>Xe)});return new Proxy(()=>{},{get:(Le,Xe)=>ke[Xe],apply:(Le,Xe,ye)=>ke.then(Ce=>{var $e;const Re=Ce&&Ce(...ye);return!(null===($e=vt?.spy)||void 0===$e)&&$e.apply&&vt.spy.apply(rt,ye,Re),Re})})})}),qe=(We,qt)=>{qt.forEach(Yt=>{Object.getOwnPropertyNames(Yt.prototype||Yt).forEach(vt=>{Object.defineProperty(We.prototype,vt,Object.getOwnPropertyDescriptor(Yt.prototype||Yt,vt))})})};class Fe{constructor(qt){return qt}}const je=new l.OlP("angularfire2.app.options"),Qe=new l.OlP("angularfire2.app.name");function de(We,qt,Yt){const ft="object"==typeof Yt&&Yt||{};ft.name=ft.name||"string"==typeof Yt&&Yt||"[DEFAULT]";const Vt=te.Z.apps.filter(ke=>ke&&ke.name===ft.name)[0]||qt.runOutsideAngular(()=>te.Z.initializeApp(We,ft));try{JSON.stringify(We)!==JSON.stringify(Vt.options)&&he("error",`${Vt.name} Firebase App already initialized with different options${ln.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Fe(Vt)}const he=(We,...qt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[We](...qt)},be={provide:Fe,useFactory:de,deps:[je,l.R0b,[new l.FiY,Qe]]};let kt=(()=>{class We{constructor(Yt){te.Z.registerVersion("angularfire",H.q4.full,"core"),te.Z.registerVersion("angularfire",H.q4.full,"app-compat"),te.Z.registerVersion("angular",l.q4F.full,Yt.toString())}static initializeApp(Yt,vt){return{ngModule:We,providers:[{provide:je,useValue:Yt},{provide:Qe,useValue:vt}]}}}return We.\u0275fac=function(Yt){return new(Yt||We)(l.LFG(l.Lbi))},We.\u0275mod=l.oAB({type:We}),We.\u0275inj=l.cJS({providers:[be]}),We})();function _t(We,qt,Yt,vt,ft){const[,rt,Vt]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===We)||[];if(rt)return function nt(We,qt){try{return We.toString()===qt.toString()}catch{return We===qt}}(ft,Vt)||(et("error",`${qt} was already initialized on the ${Yt} Firebase App with different settings.${en?" You may need to reload as Firebase is not HMR aware.":""}`),et("warn",{is:ft,was:Vt})),rt;{const ke=vt();return globalThis.\u0275AngularfireInstanceCache.push([We,ke,ft]),ke}}const en=!!ln.hot,et=(We,...qt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[We](...qt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ln,ct,z)=>{z.d(ct,{q4:()=>vs,iC:()=>xa,HU:()=>wc,vb:()=>wo,JM:()=>wu});var l=z(4650),te=z(5867),H=z(5861),Me=z(9681),Pe=z(2090),qe=z(4859),Fe=z(1877),je=z(8766);const Qe="@firebase/installations",de="0.5.12",be=`w:${de}`,kt="FIS_v2",qt=new Pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Yt(M){return M instanceof Pe.ZR&&M.code.includes("request-failed")}function vt({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function ft(M){return{token:M.token,requestStatus:2,expiresIn:Ce(M.expiresIn),creationTime:Date.now()}}function rt(M,F){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,H.Z)(function*(M,F){const X=(yield F.json()).error;return qt.create("request-failed",{requestName:M,serverCode:X.code,serverMessage:X.message,serverStatus:X.status})})).apply(this,arguments)}function ke({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function Le(M,{refreshToken:F}){const N=ke(M);return N.append("Authorization",function $e(M){return`${kt} ${M}`}(F)),N}function Xe(M){return ye.apply(this,arguments)}function ye(){return(ye=(0,H.Z)(function*(M){const F=yield M();return F.status>=500&&F.status<600?M():F})).apply(this,arguments)}function Ce(M){return Number(M.replace("s","000"))}function Re(M,F){return Et.apply(this,arguments)}function Et(){return(Et=(0,H.Z)(function*({appConfig:M,heartbeatServiceProvider:F},{fid:N}){const X=vt(M),xe=ke(M),Ve=F.getImmediate({optional:!0});if(Ve){const En=yield Ve.getHeartbeatsHeader();En&&xe.append("x-firebase-client",En)}const Pt={method:"POST",headers:xe,body:JSON.stringify({fid:N,authVersion:kt,appId:M.appId,sdkVersion:be})},fn=yield Xe(()=>fetch(X,Pt));if(fn.ok){const En=yield fn.json();return{fid:En.fid||N,registrationStatus:2,refreshToken:En.refreshToken,authToken:ft(En.authToken)}}throw yield rt("Create Installation",fn)})).apply(this,arguments)}function Ct(M){return new Promise(F=>{setTimeout(F,M)})}const rr=/^[cdef][\w-]{21}$/;function Bt(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const N=function Cr(M){return function pn(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return rr.test(N)?N:""}catch{return""}}function Kr(M){return`${M.appName}!${M.appId}`}const dr=new Map;function ar(M,F){const N=Kr(M);ji(N,F),function Gl(M,F){const N=function Br(){return!Gi&&"BroadcastChannel"in self&&(Gi=new BroadcastChannel("[Firebase] FID Change"),Gi.onmessage=M=>{ji(M.data.key,M.data.fid)}),Gi}();N&&N.postMessage({key:M,fid:F}),function aa(){0===dr.size&&Gi&&(Gi.close(),Gi=null)}()}(N,F)}function ji(M,F){const N=dr.get(M);if(N)for(const X of N)X(F)}let Gi=null;const Xr="firebase-installations-store";let Ro=null;function Fo(){return Ro||(Ro=(0,je.X3)("firebase-installations-database",1,{upgrade:(M,F)=>{0===F&&M.createObjectStore(Xr)}})),Ro}function Xt(M,F){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,H.Z)(function*(M,F){const N=Kr(M),xe=(yield Fo()).transaction(Xr,"readwrite"),Ve=xe.objectStore(Xr),mt=yield Ve.get(N);return yield Ve.put(F,N),yield xe.done,(!mt||mt.fid!==F.fid)&&ar(M,F.fid),F})).apply(this,arguments)}function Qr(M){return wr.apply(this,arguments)}function wr(){return(wr=(0,H.Z)(function*(M){const F=Kr(M),X=(yield Fo()).transaction(Xr,"readwrite");yield X.objectStore(Xr).delete(F),yield X.done})).apply(this,arguments)}function $i(M,F){return la.apply(this,arguments)}function la(){return(la=(0,H.Z)(function*(M,F){const N=Kr(M),xe=(yield Fo()).transaction(Xr,"readwrite"),Ve=xe.objectStore(Xr),mt=yield Ve.get(N),Pt=F(mt);return void 0===Pt?yield Ve.delete(N):yield Ve.put(Pt,N),yield xe.done,Pt&&(!mt||mt.fid!==Pt.fid)&&ar(M,Pt.fid),Pt})).apply(this,arguments)}function kr(M){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,H.Z)(function*(M){let F;const N=yield $i(M.appConfig,X=>{const xe=Sr(X),Ve=dn(M,xe);return F=Ve.registrationPromise,Ve.installationEntry});return""===N.fid?{installationEntry:yield F}:{installationEntry:N,registrationPromise:F}})).apply(this,arguments)}function Sr(M){return xn(M||{fid:Bt(),registrationStatus:0})}function dn(M,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(qt.create("app-offline"))};const N={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},X=function hn(M,F){return Mn.apply(this,arguments)}(M,N);return{installationEntry:N,registrationPromise:X}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:gs(M)}:{installationEntry:F}}function Mn(){return(Mn=(0,H.Z)(function*(M,F){try{const N=yield Re(M,F);return Xt(M.appConfig,N)}catch(N){throw Yt(N)&&409===N.customData.serverCode?yield Qr(M.appConfig):yield Xt(M.appConfig,{fid:F.fid,registrationStatus:0}),N}})).apply(this,arguments)}function gs(M){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,H.Z)(function*(M){let F=yield zi(M.appConfig);for(;1===F.registrationStatus;)yield Ct(100),F=yield zi(M.appConfig);if(0===F.registrationStatus){const{installationEntry:N,registrationPromise:X}=yield kr(M);return X||N}return F})).apply(this,arguments)}function zi(M){return $i(M,F=>{if(!F)throw qt.create("installation-not-found");return xn(F)})}function xn(M){return function ns(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function Rn(M,F){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,H.Z)(function*({appConfig:M,heartbeatServiceProvider:F},N){const X=Wn(M,N),xe=Le(M,N),Ve=F.getImmediate({optional:!0});if(Ve){const En=yield Ve.getHeartbeatsHeader();En&&xe.append("x-firebase-client",En)}const Pt={method:"POST",headers:xe,body:JSON.stringify({installation:{sdkVersion:be,appId:M.appId}})},fn=yield Xe(()=>fetch(X,Pt));if(fn.ok)return ft(yield fn.json());throw yield rt("Generate Auth Token",fn)})).apply(this,arguments)}function Wn(M,{fid:F}){return`${vt(M)}/${F}/authTokens:generate`}function _e(M){return ce.apply(this,arguments)}function ce(){return(ce=(0,H.Z)(function*(M,F=!1){let N;const X=yield $i(M.appConfig,Ve=>{if(!vn(Ve))throw qt.create("not-registered");const mt=Ve.authToken;if(!F&&mr(mt))return Ve;if(1===mt.requestStatus)return N=ie(M,F),Ve;{if(!navigator.onLine)throw qt.create("app-offline");const Pt=fi(Ve);return N=at(M,Pt),Pt}});return N?yield N:X.authToken})).apply(this,arguments)}function ie(M,F){return fe.apply(this,arguments)}function fe(){return(fe=(0,H.Z)(function*(M,F){let N=yield pe(M.appConfig);for(;1===N.authToken.requestStatus;)yield Ct(100),N=yield pe(M.appConfig);const X=N.authToken;return 0===X.requestStatus?_e(M,F):X})).apply(this,arguments)}function pe(M){return $i(M,F=>{if(!vn(F))throw qt.create("not-registered");return function Se(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function at(M,F){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,H.Z)(function*(M,F){try{const N=yield Rn(M,F),X=Object.assign(Object.assign({},F),{authToken:N});return yield Xt(M.appConfig,X),N}catch(N){if(!Yt(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const X=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Xt(M.appConfig,X)}else yield Qr(M.appConfig);throw N}})).apply(this,arguments)}function vn(M){return void 0!==M&&2===M.registrationStatus}function mr(M){return 2===M.requestStatus&&!function hr(M){const F=Date.now();return F<M.creationTime||M.creationTime+M.expiresIn<F+36e5}(M)}function fi(M){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:F})}function ue(){return(ue=(0,H.Z)(function*(M){const F=M,{installationEntry:N,registrationPromise:X}=yield kr(F);return X?X.catch(console.error):_e(F).catch(console.error),N.fid})).apply(this,arguments)}function Nt(){return(Nt=(0,H.Z)(function*(M,F=!1){const N=M;return yield mn(N),(yield _e(N,F)).token})).apply(this,arguments)}function mn(M){return yn.apply(this,arguments)}function yn(){return(yn=(0,H.Z)(function*(M){const{registrationPromise:F}=yield kr(M);F&&(yield F)})).apply(this,arguments)}function rl(M){return qt.create("missing-app-config-values",{valueName:M})}const il="installations",sl=M=>{const F=M.getProvider("app").getImmediate(),N=function Fr(M){if(!M||!M.options)throw rl("App Configuration");if(!M.name)throw rl("App Name");const F=["projectId","apiKey","appId"];for(const N of F)if(!M.options[N])throw rl(N);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(F);return{app:F,appConfig:N,heartbeatServiceProvider:(0,Me._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},$l=M=>{const F=M.getProvider("app").getImmediate(),N=(0,Me._getProvider)(F,il).getImmediate();return{getId:()=>function se(M){return ue.apply(this,arguments)}(N),getToken:xe=>function Je(M){return Nt.apply(this,arguments)}(N,xe)}};(function Xu(){(0,Me._registerComponent)(new qe.wA(il,sl,"PUBLIC")),(0,Me._registerComponent)(new qe.wA("installations-internal",$l,"PRIVATE"))})(),(0,Me.registerVersion)(Qe,de),(0,Me.registerVersion)(Qe,de,"esm2017");const ua="@firebase/remote-config",ci=new Pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ah{constructor(F,N,X,xe){this.client=F,this.storage=N,this.storageCache=X,this.logger=xe}isCachedDataFresh(F,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const X=Date.now()-N,xe=X<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${X}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${xe}.`),xe}fetch(F){var N=this;return(0,H.Z)(function*(){const[X,xe]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(xe&&N.isCachedDataFresh(F.cacheMaxAgeMillis,X))return xe;F.eTag=xe&&xe.eTag;const Ve=yield N.client.fetch(F),mt=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ve.status&&mt.push(N.storage.setLastSuccessfulFetchResponse(Ve)),yield Promise.all(mt),Ve})()}}function Qc(M=navigator){return M.languages&&M.languages[0]||M.language}class cl{constructor(F,N,X,xe,Ve,mt){this.firebaseInstallations=F,this.sdkVersion=N,this.namespace=X,this.projectId=xe,this.apiKey=Ve,this.appId=mt}fetch(F){var N=this;return(0,H.Z)(function*(){var X,xe,Ve;const[mt,Pt]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),En=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},_n={sdk_version:N.sdkVersion,app_instance_id:mt,app_instance_id_token:Pt,app_id:N.appId,language_code:Qc()},si={method:"POST",headers:Pn,body:JSON.stringify(_n)},Ai=fetch(En,si),$a=new Promise((ys,Za)=>{F.signal.addEventListener(()=>{const Ih=new Error("The operation was aborted.");Ih.name="AbortError",Za(Ih)})});let ba;try{yield Promise.race([Ai,$a]),ba=yield Ai}catch(ys){let Za="fetch-client-network";throw"AbortError"===(null===(X=ys)||void 0===X?void 0:X.name)&&(Za="fetch-timeout"),ci.create(Za,{originalErrorMessage:null===(xe=ys)||void 0===xe?void 0:xe.message})}let vl=ba.status;const za=ba.headers.get("ETag")||void 0;let Ho,yi;if(200===ba.status){let ys;try{ys=yield ba.json()}catch(Za){throw ci.create("fetch-client-parse",{originalErrorMessage:null===(Ve=Za)||void 0===Ve?void 0:Ve.message})}Ho=ys.entries,yi=ys.state}if("INSTANCE_STATE_UNSPECIFIED"===yi?vl=500:"NO_CHANGE"===yi?vl=304:("NO_TEMPLATE"===yi||"EMPTY_CONFIG"===yi)&&(Ho={}),304!==vl&&200!==vl)throw ci.create("fetch-status",{httpStatus:vl});return{status:vl,eTag:za,config:Ho}})()}}class ha{constructor(F,N){this.client=F,this.storage=N}fetch(F){var N=this;return(0,H.Z)(function*(){const X=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(F,X)})()}attemptFetch(F,{throttleEndTimeMillis:N,backoffCount:X}){var xe=this;return(0,H.Z)(function*(){yield function Xs(M,F){return new Promise((N,X)=>{const xe=Math.max(F-Date.now(),0),Ve=setTimeout(N,xe);M.addEventListener(()=>{clearTimeout(Ve),X(ci.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,N);try{const Ve=yield xe.client.fetch(F);return yield xe.storage.deleteThrottleMetadata(),Ve}catch(Ve){if(!function F_(M){if(!(M instanceof Pe.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ve))throw Ve;const mt={throttleEndTimeMillis:Date.now()+(0,Pe.$s)(X),backoffCount:X+1};return yield xe.storage.setThrottleMetadata(mt),xe.attemptFetch(F,mt)}})()}}class P_{constructor(F,N,X,xe,Ve){this.app=F,this._client=N,this._storageCache=X,this._storage=xe,this._logger=Ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jc(M,F){var N;const X=M.target.error||void 0;return ci.create(F,{originalErrorMessage:X&&(null===(N=X)||void 0===N?void 0:N.message)})}const zl="app_namespace_store";class Zl{constructor(F,N,X,xe=function L_(){return new Promise((M,F)=>{var N;try{const X=indexedDB.open("firebase_remote_config",1);X.onerror=xe=>{F(Jc(xe,"storage-open"))},X.onsuccess=xe=>{M(xe.target.result)},X.onupgradeneeded=xe=>{0===xe.oldVersion&&xe.target.result.createObjectStore(zl,{keyPath:"compositeKey"})}}catch(X){F(ci.create("storage-open",{originalErrorMessage:null===(N=X)||void 0===N?void 0:N.message}))}})}()){this.appId=F,this.appName=N,this.namespace=X,this.openDbPromise=xe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var N=this;return(0,H.Z)(function*(){const X=yield N.openDbPromise;return new Promise((xe,Ve)=>{var mt;const fn=X.transaction([zl],"readonly").objectStore(zl),En=N.createCompositeKey(F);try{const Pn=fn.get(En);Pn.onerror=_n=>{Ve(Jc(_n,"storage-get"))},Pn.onsuccess=_n=>{const si=_n.target.result;xe(si?si.value:void 0)}}catch(Pn){Ve(ci.create("storage-get",{originalErrorMessage:null===(mt=Pn)||void 0===mt?void 0:mt.message}))}})})()}set(F,N){var X=this;return(0,H.Z)(function*(){const xe=yield X.openDbPromise;return new Promise((Ve,mt)=>{var Pt;const En=xe.transaction([zl],"readwrite").objectStore(zl),Pn=X.createCompositeKey(F);try{const _n=En.put({compositeKey:Pn,value:N});_n.onerror=si=>{mt(Jc(si,"storage-set"))},_n.onsuccess=()=>{Ve()}}catch(_n){mt(ci.create("storage-set",{originalErrorMessage:null===(Pt=_n)||void 0===Pt?void 0:Pt.message}))}})})()}delete(F){var N=this;return(0,H.Z)(function*(){const X=yield N.openDbPromise;return new Promise((xe,Ve)=>{var mt;const fn=X.transaction([zl],"readwrite").objectStore(zl),En=N.createCompositeKey(F);try{const Pn=fn.delete(En);Pn.onerror=_n=>{Ve(Jc(_n,"storage-delete"))},Pn.onsuccess=()=>{xe()}}catch(Pn){Ve(ci.create("storage-delete",{originalErrorMessage:null===(mt=Pn)||void 0===mt?void 0:mt.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class Wl{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,H.Z)(function*(){const N=F.storage.getLastFetchStatus(),X=F.storage.getLastSuccessfulFetchTimestampMillis(),xe=F.storage.getActiveConfig(),Ve=yield N;Ve&&(F.lastFetchStatus=Ve);const mt=yield X;mt&&(F.lastSuccessfulFetchTimestampMillis=mt);const Pt=yield xe;Pt&&(F.activeConfig=Pt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function k1(){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,H.Z)(function*(){if(!(0,Pe.hl)())return!1;try{return yield(0,Pe.eu)()}catch{return!1}})).apply(this,arguments)}!function Tf(){(0,Me._registerComponent)(new qe.wA("remote-config",function M(F,{instanceIdentifier:N}){const X=F.getProvider("app").getImmediate(),xe=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ci.create("registration-window");if(!(0,Pe.hl)())throw ci.create("indexed-db-unavailable");const{projectId:Ve,apiKey:mt,appId:Pt}=X.options;if(!Ve)throw ci.create("registration-project-id");if(!mt)throw ci.create("registration-api-key");if(!Pt)throw ci.create("registration-app-id");const fn=new Zl(Pt,X.name,N=N||"firebase"),En=new Wl(fn),Pn=new Fe.Yd(ua);Pn.logLevel=Fe.in.ERROR;const _n=new cl(xe,Me.SDK_VERSION,N,Ve,mt,Pt),si=new ha(_n,fn),Ai=new ah(si,fn,En,Pn),$a=new P_(X,Ai,En,fn,Pn);return function Jr(M){const F=(0,Pe.m9)(M);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}($a),$a},"PUBLIC").setMultipleInstances(!0)),(0,Me.registerVersion)(ua,"0.3.11"),(0,Me.registerVersion)(ua,"0.3.11","esm2017")}();const Zi="/firebase-messaging-sw.js",Yl="/firebase-cloud-messaging-push-scope",La="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ju="google.c.a.c_id",lh="google.c.a.c_l",kf="google.c.a.ts",Kl="google.c.a.e";var Qs=(()=>{return(M=Qs||(Qs={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",Qs;var M})();function fa(M){const F=new Uint8Array(M);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ns(M){const N=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),X=atob(N),xe=new Uint8Array(X.length);for(let Ve=0;Ve<X.length;++Ve)xe[Ve]=X.charCodeAt(Ve);return xe}const ul="fcm_token_details_db",Xl="fcm_token_object_Store";function V_(M){return ch.apply(this,arguments)}function ch(){return ch=(0,H.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ve=>Ve.name).includes(ul))return null;let F=null;return(yield(0,je.X3)(ul,5,{upgrade:(X=(0,H.Z)(function*(xe,Ve,mt,Pt){var fn;if(Ve<2||!xe.objectStoreNames.contains(Xl))return;const En=Pt.objectStore(Xl),Pn=yield En.index("fcmSenderId").get(M);if(yield En.clear(),Pn)if(2===Ve){const _n=Pn;if(!_n.auth||!_n.p256dh||!_n.endpoint)return;F={token:_n.fcmToken,createTime:null!==(fn=_n.createTime)&&void 0!==fn?fn:Date.now(),subscriptionOptions:{auth:_n.auth,p256dh:_n.p256dh,endpoint:_n.endpoint,swScope:_n.swScope,vapidKey:"string"==typeof _n.vapidKey?_n.vapidKey:fa(_n.vapidKey)}}}else if(3===Ve){const _n=Pn;F={token:_n.fcmToken,createTime:_n.createTime,subscriptionOptions:{auth:fa(_n.auth),p256dh:fa(_n.p256dh),endpoint:_n.endpoint,swScope:_n.swScope,vapidKey:fa(_n.vapidKey)}}}else if(4===Ve){const _n=Pn;F={token:_n.fcmToken,createTime:_n.createTime,subscriptionOptions:{auth:fa(_n.auth),p256dh:fa(_n.p256dh),endpoint:_n.endpoint,swScope:_n.swScope,vapidKey:fa(_n.vapidKey)}}}}),function(Ve,mt,Pt,fn){return X.apply(this,arguments)})})).close(),yield(0,je.Lj)(ul),yield(0,je.Lj)("fcm_vapid_details_db"),yield(0,je.Lj)("undefined"),Zr(F)?F:null;var X}),ch.apply(this,arguments)}function Zr(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:F}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const _o="firebase-messaging-store";let Wi=null;function ed(){return Wi||(Wi=(0,je.X3)("firebase-messaging-database",1,{upgrade:(M,F)=>{0===F&&M.createObjectStore(_o)}})),Wi}function Ql(M){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,H.Z)(function*(M){const F=eo(M),X=yield(yield ed()).transaction(_o).objectStore(_o).get(F);if(X)return X;{const xe=yield V_(M.appConfig.senderId);if(xe)return yield lr(M,xe),xe}})).apply(this,arguments)}function lr(M,F){return td.apply(this,arguments)}function td(){return(td=(0,H.Z)(function*(M,F){const N=eo(M),xe=(yield ed()).transaction(_o,"readwrite");return yield xe.objectStore(_o).put(F,N),yield xe.done,F})).apply(this,arguments)}function Va(M){return uh.apply(this,arguments)}function uh(){return(uh=(0,H.Z)(function*(M){const F=eo(M),X=(yield ed()).transaction(_o,"readwrite");yield X.objectStore(_o).delete(F),yield X.done})).apply(this,arguments)}function eo({appConfig:M}){return M.appId}const ei=new Pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kn(M,F){return tu.apply(this,arguments)}function tu(){return(tu=(0,H.Z)(function*(M,F){var N;const X=yield iu(M),xe=pt(F),Ve={method:"POST",headers:X,body:JSON.stringify(xe)};let mt;try{mt=yield(yield fetch(dl(M.appConfig),Ve)).json()}catch(Pt){throw ei.create("token-subscribe-failed",{errorInfo:null===(N=Pt)||void 0===N?void 0:N.toString()})}if(mt.error)throw ei.create("token-subscribe-failed",{errorInfo:mt.error.message});if(!mt.token)throw ei.create("token-subscribe-no-token");return mt.token})).apply(this,arguments)}function B_(M,F){return nu.apply(this,arguments)}function nu(){return(nu=(0,H.Z)(function*(M,F){var N;const X=yield iu(M),xe=pt(F.subscriptionOptions),Ve={method:"PATCH",headers:X,body:JSON.stringify(xe)};let mt;try{mt=yield(yield fetch(`${dl(M.appConfig)}/${F.token}`,Ve)).json()}catch(Pt){throw ei.create("token-update-failed",{errorInfo:null===(N=Pt)||void 0===N?void 0:N.toString()})}if(mt.error)throw ei.create("token-update-failed",{errorInfo:mt.error.message});if(!mt.token)throw ei.create("token-update-no-token");return mt.token})).apply(this,arguments)}function Ff(M,F){return ru.apply(this,arguments)}function ru(){return(ru=(0,H.Z)(function*(M,F){var N;const xe={method:"DELETE",headers:yield iu(M)};try{const mt=yield(yield fetch(`${dl(M.appConfig)}/${F}`,xe)).json();if(mt.error)throw ei.create("token-unsubscribe-failed",{errorInfo:mt.error.message})}catch(Ve){throw ei.create("token-unsubscribe-failed",{errorInfo:null===(N=Ve)||void 0===N?void 0:N.toString()})}})).apply(this,arguments)}function dl({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function iu(M){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,H.Z)(function*({appConfig:M,installations:F}){const N=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function pt({p256dh:M,auth:F,endpoint:N,vapidKey:X}){const xe={web:{endpoint:N,auth:F,p256dh:M}};return X!==La&&(xe.web.applicationPubKey=X),xe}const qn=6048e5;function Fm(M){return ec.apply(this,arguments)}function ec(){return(ec=(0,H.Z)(function*(M){const F=yield Om(M.swRegistration,M.vapidKey),N={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:F.endpoint,auth:fa(F.getKey("auth")),p256dh:fa(F.getKey("p256dh"))},X=yield Ql(M.firebaseDependencies);if(X){if(U_(X.subscriptionOptions,N))return Date.now()>=X.createTime+qn?nd(M,{token:X.token,createTime:Date.now(),subscriptionOptions:N}):X.token;try{yield Ff(M.firebaseDependencies,X.token)}catch(xe){console.warn(xe)}return rd(M.firebaseDependencies,N)}return rd(M.firebaseDependencies,N)})).apply(this,arguments)}function mi(M){return tc.apply(this,arguments)}function tc(){return(tc=(0,H.Z)(function*(M){const F=yield Ql(M.firebaseDependencies);F&&(yield Ff(M.firebaseDependencies,F.token),yield Va(M.firebaseDependencies));const N=yield M.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function nd(M,F){return _s.apply(this,arguments)}function _s(){return(_s=(0,H.Z)(function*(M,F){try{const N=yield B_(M.firebaseDependencies,F),X=Object.assign(Object.assign({},F),{token:N,createTime:Date.now()});return yield lr(M.firebaseDependencies,X),N}catch(N){throw yield mi(M),N}})).apply(this,arguments)}function rd(M,F){return nc.apply(this,arguments)}function nc(){return(nc=(0,H.Z)(function*(M,F){const X={token:yield kn(M,F),createTime:Date.now(),subscriptionOptions:F};return yield lr(M,X),X.token})).apply(this,arguments)}function Om(M,F){return su.apply(this,arguments)}function su(){return(su=(0,H.Z)(function*(M,F){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ns(F)})})).apply(this,arguments)}function U_(M,F){return F.vapidKey===M.vapidKey&&F.endpoint===M.endpoint&&F.auth===M.auth&&F.p256dh===M.p256dh}function pa(M){const F={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function gi(M,F){if(!F.notification)return;M.notification={};const N=F.notification.title;N&&(M.notification.title=N);const X=F.notification.body;X&&(M.notification.body=X);const xe=F.notification.image;xe&&(M.notification.image=xe)}(F,M),function Po(M,F){!F.data||(M.data=F.data)}(F,M),function ou(M,F){var N,X,xe,Ve,mt;if(!(F.fcmOptions||null!==(N=F.notification)&&void 0!==N&&N.click_action))return;M.fcmOptions={};const Pt=null!==(xe=null===(X=F.fcmOptions)||void 0===X?void 0:X.link)&&void 0!==xe?xe:null===(Ve=F.notification)||void 0===Ve?void 0:Ve.click_action;Pt&&(M.fcmOptions.link=Pt);const fn=null===(mt=F.fcmOptions)||void 0===mt?void 0:mt.analytics_label;fn&&(M.fcmOptions.analyticsLabel=fn)}(F,M),F}function au(M){return"object"==typeof M&&!!M&&Ju in M}function ma(M,F){const N=[];for(let X=0;X<M.length;X++)N.push(M.charAt(X)),X<F.length&&N.push(F.charAt(X));return N.join("")}function dh(M){return ei.create("missing-app-config-values",{valueName:M})}ma("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ma("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pf{constructor(F,N,X){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xe=function Of(M){if(!M||!M.options)throw dh("App Configuration Object");if(!M.name)throw dh("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:N}=M;for(const X of F)if(!N[X])throw dh(X);return{appName:M.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:xe,installations:N,analyticsProvider:X}}_delete(){return Promise.resolve()}}function Pm(M){return rc.apply(this,arguments)}function rc(){return(rc=(0,H.Z)(function*(M){var F;try{M.swRegistration=yield navigator.serviceWorker.register(Zi,{scope:Yl}),M.swRegistration.update().catch(()=>{})}catch(N){throw ei.create("failed-service-worker-registration",{browserErrorMessage:null===(F=N)||void 0===F?void 0:F.message})}})).apply(this,arguments)}function hh(M,F){return lu.apply(this,arguments)}function lu(){return(lu=(0,H.Z)(function*(M,F){if(!F&&!M.swRegistration&&(yield Pm(M)),F||!M.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw ei.create("invalid-sw-registration");M.swRegistration=F}})).apply(this,arguments)}function fh(M,F){return cu.apply(this,arguments)}function cu(){return(cu=(0,H.Z)(function*(M,F){F?M.vapidKey=F:M.vapidKey||(M.vapidKey=La)})).apply(this,arguments)}function ic(){return(ic=(0,H.Z)(function*(M,F){if(!navigator)throw ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ei.create("permission-blocked");return yield fh(M,F?.vapidKey),yield hh(M,F?.serviceWorkerRegistration),Fm(M)})).apply(this,arguments)}function Nm(M,F,N){return uu.apply(this,arguments)}function uu(){return(uu=(0,H.Z)(function*(M,F,N){const X=Lm(F);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(X,{message_id:N[Ju],message_name:N[lh],message_time:N[kf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lm(M){switch(M){case Qs.NOTIFICATION_CLICKED:return"notification_open";case Qs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ba(){return(Ba=(0,H.Z)(function*(M,F){const N=F.data;if(!N.isFirebaseMessaging)return;M.onMessageHandler&&N.messageType===Qs.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(pa(N)):M.onMessageHandler.next(pa(N)));const X=N.data;au(X)&&"1"===X[Kl]&&(yield Nm(M,N.messageType,X))})).apply(this,arguments)}const Ua="@firebase/messaging",Hr=M=>{const F=new Pf(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Lf(M,F){return Ba.apply(this,arguments)}(F,N)),F},ga=M=>{const F=M.getProvider("messaging").getImmediate();return{getToken:X=>function Nf(M,F){return ic.apply(this,arguments)}(F,X)}};function ph(){return mh.apply(this,arguments)}function mh(){return(mh=(0,H.Z)(function*(){try{yield(0,Pe.eu)()}catch{return!1}return typeof window<"u"&&(0,Pe.hl)()&&(0,Pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function jr(){(0,Me._registerComponent)(new qe.wA("messaging",Hr,"PUBLIC")),(0,Me._registerComponent)(new qe.wA("messaging-internal",ga,"PRIVATE")),(0,Me.registerVersion)(Ua,"0.9.16"),(0,Me.registerVersion)(Ua,"0.9.16","esm2017")}();const ac="analytics",jf="firebase_id",yh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gf="https://www.googletagmanager.com/gtag/js",ti=new Fe.Yd("@firebase/analytics");function id(M){return Promise.all(M.map(F=>F.catch(N=>N)))}function sd(M,F){const N=document.createElement("script");N.src=`${Gf}?l=${M}&id=${F}`,N.async=!0,document.head.appendChild(N)}function Vm(M,F,N,X,xe,Ve){return du.apply(this,arguments)}function du(){return(du=(0,H.Z)(function*(M,F,N,X,xe,Ve){const mt=X[xe];try{if(mt)yield F[mt];else{const fn=(yield id(N)).find(En=>En.measurementId===xe);fn&&(yield F[fn.appId])}}catch(Pt){ti.error(Pt)}M("config",xe,Ve)})).apply(this,arguments)}function _a(M,F,N,X,xe){return hu.apply(this,arguments)}function hu(){return(hu=(0,H.Z)(function*(M,F,N,X,xe){try{let Ve=[];if(xe&&xe.send_to){let mt=xe.send_to;Array.isArray(mt)||(mt=[mt]);const Pt=yield id(N);for(const fn of mt){const En=Pt.find(_n=>_n.measurementId===fn),Pn=En&&F[En.appId];if(!Pn){Ve=[];break}Ve.push(Pn)}}0===Ve.length&&(Ve=Object.values(F)),yield Promise.all(Ve),M("event",X,xe||{})}catch(Ve){ti.error(Ve)}})).apply(this,arguments)}function $f(){const M=window.document.getElementsByTagName("script");for(const F of Object.values(M))if(F.src&&F.src.includes(Gf))return F;return null}const _i=new Pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),pu=new class xh{constructor(F={},N=1e3){this.throttleMetadata=F,this.intervalMillis=N}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,N){this.throttleMetadata[F]=N}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function lc(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Hm(M){return ni.apply(this,arguments)}function ni(){return(ni=(0,H.Z)(function*(M){var F;const{appId:N,apiKey:X}=M,xe={method:"GET",headers:lc(X)},Ve=yh.replace("{app-id}",N),mt=yield fetch(Ve,xe);if(200!==mt.status&&304!==mt.status){let Pt="";try{const fn=yield mt.json();null!==(F=fn.error)&&void 0!==F&&F.message&&(Pt=fn.error.message)}catch{}throw _i.create("config-fetch-failed",{httpStatus:mt.status,responseMessage:Pt})}return mt.json()})).apply(this,arguments)}function zf(M){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,H.Z)(function*(M,F=pu,N){const{appId:X,apiKey:xe,measurementId:Ve}=M.options;if(!X)throw _i.create("no-app-id");if(!xe){if(Ve)return{measurementId:Ve,appId:X};throw _i.create("no-api-key")}const mt=F.getThrottleMetadata(X)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pt=new mu;return setTimeout((0,H.Z)(function*(){Pt.abort()}),void 0!==N?N:6e4),Zf({appId:X,apiKey:xe,measurementId:Ve},mt,Pt,F)})).apply(this,arguments)}function Zf(M,F,N){return va.apply(this,arguments)}function va(){return(va=(0,H.Z)(function*(M,{throttleEndTimeMillis:F,backoffCount:N},X,xe=pu){var Ve,mt;const{appId:Pt,measurementId:fn}=M;try{yield bh(X,F)}catch(En){if(fn)return ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fn} provided in the "measurementId" field in the local Firebase config. [${null===(Ve=En)||void 0===Ve?void 0:Ve.message}]`),{appId:Pt,measurementId:fn};throw En}try{const En=yield Hm(M);return xe.deleteThrottleMetadata(Pt),En}catch(En){const Pn=En;if(!ad(Pn)){if(xe.deleteThrottleMetadata(Pt),fn)return ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fn} provided in the "measurementId" field in the local Firebase config. [${Pn?.message}]`),{appId:Pt,measurementId:fn};throw En}const _n=503===Number(null===(mt=Pn?.customData)||void 0===mt?void 0:mt.httpStatus)?(0,Pe.$s)(N,xe.intervalMillis,30):(0,Pe.$s)(N,xe.intervalMillis),si={throttleEndTimeMillis:Date.now()+_n,backoffCount:N+1};return xe.setThrottleMetadata(Pt,si),ti.debug(`Calling attemptFetch again in ${_n} millis`),Zf(M,si,X,xe)}})).apply(this,arguments)}function bh(M,F){return new Promise((N,X)=>{const xe=Math.max(F-Date.now(),0),Ve=setTimeout(N,xe);M.addEventListener(()=>{clearTimeout(Ve),X(_i.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function ad(M){if(!(M instanceof Pe.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}class mu{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let hl,cd;function cc(){return(cc=(0,H.Z)(function*(M,F,N,X,xe){if(xe&&xe.global)M("event",N,X);else{const Ve=yield F;M("event",N,Object.assign(Object.assign({},X),{send_to:Ve}))}})).apply(this,arguments)}function hc(M){cd=M}function Eh(M){hl=M}function ja(){return fc.apply(this,arguments)}function fc(){return(fc=(0,H.Z)(function*(){var M;if(!(0,Pe.hl)())return ti.warn(_i.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Pe.eu)()}catch(F){return ti.warn(_i.create("indexeddb-unavailable",{errorInfo:null===(M=F)||void 0===M?void 0:M.toString()}).message),!1}return!0})).apply(this,arguments)}function pc(){return(pc=(0,H.Z)(function*(M,F,N,X,xe,Ve,mt){var Pt;const fn=zf(M);fn.then(Ai=>{N[Ai.measurementId]=Ai.appId,M.options.measurementId&&Ai.measurementId!==M.options.measurementId&&ti.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Ai.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ai=>ti.error(Ai)),F.push(fn);const En=ja().then(Ai=>{if(Ai)return X.getId()}),[Pn,_n]=yield Promise.all([fn,En]);$f()||sd(Ve,Pn.measurementId),cd&&(xe("consent","default",cd),hc(void 0)),xe("js",new Date);const si=null!==(Pt=mt?.config)&&void 0!==Pt?Pt:{};return si.origin="firebase",si.update=!0,null!=_n&&(si[jf]=_n),xe("config",Pn.measurementId,si),hl&&(xe("set",hl),Eh(void 0)),Pn.measurementId})).apply(this,arguments)}class ud{constructor(F){this.app=F}_delete(){return delete rs[this.app.options.appId],Promise.resolve()}}let rs={},mc=[];const pl={};let _c,Lo,gc="dataLayer",qf=!1;function $m(M,F,N){!function H_(){const M=[];if((0,Pe.ru)()&&M.push("This is a browser extension environment."),(0,Pe.zI)()||M.push("Cookies are not available."),M.length>0){const F=M.map((X,xe)=>`(${xe+1}) ${X}`).join(" "),N=_i.create("invalid-analytics-context",{errorInfo:F});ti.warn(N.message)}}();const X=M.options.appId;if(!X)throw _i.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw _i.create("no-api-key");ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rs[X])throw _i.create("already-exists",{id:X});if(!qf){!function od(M){let F=[];Array.isArray(window[M])?F=window[M]:window[M]=F}(gc);const{wrappedGtag:Ve,gtagCore:mt}=function fu(M,F,N,X,xe){let Ve=function(...mt){window[X].push(arguments)};return window[xe]&&"function"==typeof window[xe]&&(Ve=window[xe]),window[xe]=function wh(M,F,N,X){function Ve(){return(Ve=(0,H.Z)(function*(mt,Pt,fn){try{"event"===mt?yield _a(M,F,N,Pt,fn):"config"===mt?yield Vm(M,F,N,X,Pt,fn):"consent"===mt?M("consent","update",fn):M("set",Pt)}catch(En){ti.error(En)}})).apply(this,arguments)}return function xe(mt,Pt,fn){return Ve.apply(this,arguments)}}(Ve,M,F,N),{gtagCore:Ve,wrappedGtag:window[xe]}}(rs,mc,pl,gc,"gtag");Lo=Ve,_c=mt,qf=!0}return rs[X]=function Gm(M,F,N,X,xe,Ve,mt){return pc.apply(this,arguments)}(M,mc,pl,F,_c,gc,N),new ud(M)}function R1(){return zm.apply(this,arguments)}function zm(){return(zm=(0,H.Z)(function*(){if((0,Pe.ru)()||!(0,Pe.zI)()||!(0,Pe.hl)())return!1;try{return yield(0,Pe.eu)()}catch{return!1}})).apply(this,arguments)}const Dh="@firebase/analytics";!function is(){(0,Me._registerComponent)(new qe.wA(ac,(F,{options:N})=>$m(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,Me._registerComponent)(new qe.wA("analytics-internal",function M(F){try{const N=F.getProvider(ac).getImmediate();return{logEvent:(X,xe,Ve)=>function vr(M,F,N,X){M=(0,Pe.m9)(M),function gu(M,F,N,X,xe){return cc.apply(this,arguments)}(Lo,rs[M.app.options.appId],F,N,X).catch(xe=>ti.error(xe))}(N,X,xe,Ve)}}catch(N){throw _i.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,Me.registerVersion)(Dh,"0.8.0"),(0,Me.registerVersion)(Dh,"0.8.0","esm2017")}();var ya=z(4408),ml=z(7565);const gl=new class Vs extends ml.v{}(class vu extends ya.o{constructor(F,N){super(F,N),this.scheduler=F,this.work=N}schedule(F,N=0){return N>0?super.schedule(F,N):(this.delay=N,this.state=F,this.scheduler.flush(this),this)}execute(F,N){return N>0||this.closed?super.execute(F,N):this._execute(F,N)}requestAsyncId(F,N,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(F,N,X):F.flush(this)}});var bn=z(4986),vc=z(8505),Kf=z(9468),hd=z(5363);const vs=new l.GfV("7.4.1"),yu="__angularfire_symbol__analyticsIsSupportedValue",yo="__angularfire_symbol__analyticsIsSupported",wa="__angularfire_symbol__remoteConfigIsSupportedValue",ss="__angularfire_symbol__remoteConfigIsSupported",Sh="__angularfire_symbol__messagingIsSupportedValue",yc="__angularfire_symbol__messagingIsSupported";function wu(M,F,N){if(F){if(1===F.length)return F[0];const Ve=F.filter(mt=>mt.app===N);if(1===Ve.length)return Ve[0]}return N.container.getProvider(M).getImmediate({optional:!0})}globalThis[yo]||(globalThis[yo]=R1().then(M=>globalThis[yu]=M).catch(()=>globalThis[yu]=!1)),globalThis[yc]||(globalThis[yc]=ph().then(M=>globalThis[Sh]=M).catch(()=>globalThis[Sh]=!1)),globalThis[ss]||(globalThis[ss]=k1().then(M=>globalThis[wa]=M).catch(()=>globalThis[wa]=!1));const wo=(M,F)=>{const N=F?[F]:(0,te.C6)(),X=[];return N.forEach(xe=>{xe.container.getProvider(M).instances.forEach(mt=>{X.includes(mt)||X.push(mt)})}),X};function Vo(){}class Wr{constructor(F,N=gl){this.zone=F,this.delegate=N}now(){return this.delegate.now()}schedule(F,N,X){const xe=this.zone;return this.delegate.schedule(function(mt){xe.runGuarded(()=>{F.apply(this,[mt])})},N,X)}}class Bo{constructor(F){this.zone=F,this.task=null}call(F,N){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vo,{},Vo,Vo)),N.pipe((0,vc.b)({next:X,complete:X,error:X})).subscribe(F).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wc=(()=>{class M{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Wr(Zone.current)),this.insideAngular=N.run(()=>new Wr(Zone.current,bn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(N){return new(N||M)(l.LFG(l.R0b))},M.\u0275prov=l.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Uo(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function xa(M){return Uo(),function Qf(M){return function(N){return(N=N.lift(new Bo(M.ngZone))).pipe((0,Kf.R)(M.outsideAngular),(0,hd.Q)(M.insideAngular))}}(Uo())(M)}},8554:(ln,ct,z)=>{z.d(ct,{$:()=>dl,A:()=>he,B:()=>_t,G:()=>$l,H:()=>Os,J:()=>ha,L:()=>mr,M:()=>Qu,N:()=>If,P:()=>bn,Q:()=>Ju,R:()=>F1,T:()=>lh,U:()=>La,V:()=>Qs,W:()=>fa,X:()=>V_,Y:()=>eu,Z:()=>kn,_:()=>B_,a:()=>Ha,a0:()=>Fm,a1:()=>mi,a2:()=>nd,a3:()=>rd,a4:()=>Om,a5:()=>U_,a6:()=>gi,a7:()=>Po,a8:()=>au,a9:()=>ma,aA:()=>Ai,aB:()=>fn,aC:()=>Ah,aD:()=>Ga,aE:()=>gn,aI:()=>lc,aL:()=>Kl,aa:()=>Pm,ab:()=>hh,ac:()=>fh,af:()=>Nm,ag:()=>Lm,ah:()=>Lf,ak:()=>_o,al:()=>gh,an:()=>Gf,ao:()=>du,ap:()=>Yn,aq:()=>Xe,ar:()=>Jt,as:()=>mn,at:()=>Yt,au:()=>bc,av:()=>za,aw:()=>vt,ax:()=>ke,ay:()=>Ce,az:()=>hr,b:()=>_i,c:()=>Sh,d:()=>j_,e:()=>Th,f:()=>Qf,g:()=>X,h:()=>M,i:()=>fc,j:()=>mt,k:()=>Qm,l:()=>Yf,m:()=>yl,o:()=>je,r:()=>ya,s:()=>vi,u:()=>gl});var l=z(5861),te=z(2090),H=z(9681),Me=z(655),Pe=z(1877),qe=z(4859);const je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const _t=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},en=new te.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new Pe.Yd("@firebase/auth");function qt(b,...v){We.logLevel<=Pe.in.ERROR&&We.error(`Auth (${H.SDK_VERSION}): ${b}`,...v)}function Yt(b,...v){throw Vt(b,...v)}function vt(b,...v){return Vt(b,...v)}function ft(b,v,w){const S=Object.assign(Object.assign({},nt()),{[v]:w});return new te.LL("auth","Firebase",S).create(v,{appName:b.name})}function rt(b,v,w){if(!(v instanceof w))throw w.name!==v.constructor.name&&Yt(b,"argument-error"),ft(b,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vt(b,...v){if("string"!=typeof b){const w=v[0],S=[...v.slice(1)];return S[0]&&(S[0].appName=b.name),b._errorFactory.create(w,...S)}return en.create(b,...v)}function ke(b,v,...w){if(!b)throw Vt(v,...w)}function Le(b){const v="INTERNAL ASSERTION FAILED: "+b;throw qt(v),new Error(v)}function Xe(b,v){b||Le(v)}const ye=new Map;function Ce(b){Xe(b instanceof Function,"Expected a class definition");let v=ye.get(b);return v?(Xe(v instanceof b,"Instance stored in cache mismatched with class"),v):(v=new b,ye.set(b,v),v)}function Et(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ct(){return"http:"===pn()||"https:"===pn()}function pn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Bt{constructor(v,w){this.shortDelay=v,this.longDelay=w,Xe(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,te.uI)()||(0,te.b$)()}get(){return function rr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ct()||(0,te.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cr(b,v){Xe(b.emulator,"Emulator should always be set here");const{url:w}=b.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class Kr{static initialize(v,w,S){this.fetchImpl=v,w&&(this.headersImpl=w),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ar=new Bt(3e4,6e4);function $n(b,v){return b.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:b.tenantId}):v}function Bn(b,v,w,S){return ji.apply(this,arguments)}function ji(){return(ji=(0,l.Z)(function*(b,v,w,S,P={}){return Gl(b,P,(0,l.Z)(function*(){let G={},Ae={};S&&("GET"===v?Ae=S:G={body:JSON.stringify(S)});const ut=(0,te.xO)(Object.assign({key:b.config.apiKey},Ae)).slice(1),Ut=yield b._getAdditionalHeaders();return Ut["Content-Type"]="application/json",b.languageCode&&(Ut["X-Firebase-Locale"]=b.languageCode),Kr.fetch()(Mo(b,b.config.apiHost,w,ut),Object.assign({method:v,headers:Ut,referrerPolicy:"no-referrer"},G))}))})).apply(this,arguments)}function Gl(b,v,w){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(b,v,w){b._canInitEmulator=!1;const S=Object.assign(Object.assign({},dr),v);try{const P=new Rs(b),G=yield Promise.race([w(),P.promise]);P.clearNetworkTimeout();const Ae=yield G.json();if("needConfirmation"in Ae)throw Xr(b,"account-exists-with-different-credential",Ae);if(G.ok&&!("errorMessage"in Ae))return Ae;{const ut=G.ok?Ae.errorMessage:Ae.error.message,[Ut,cn]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ut)throw Xr(b,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===Ut)throw Xr(b,"email-already-in-use",Ae);if("USER_DISABLED"===Ut)throw Xr(b,"user-disabled",Ae);const Gn=S[Ut]||Ut.toLowerCase().replace(/[_\s]+/g,"-");if(cn)throw ft(b,Gn,cn);Yt(b,Gn)}}catch(P){if(P instanceof te.ZR)throw P;Yt(b,"network-request-failed")}})).apply(this,arguments)}function Br(b,v,w,S){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(b,v,w,S,P={}){const G=yield Bn(b,v,w,S,P);return"mfaPendingCredential"in G&&Yt(b,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function Mo(b,v,w,S){const P=`${v}${w}?${S}`;return b.config.emulator?Cr(b.config,P):`${b.config.apiScheme}://${P}`}class Rs{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,S)=>{this.timer=setTimeout(()=>S(vt(this.auth,"network-request-failed")),ar.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xr(b,v,w){const S={appName:b.name};w.email&&(S.email=w.email),w.phoneNumber&&(S.phoneNumber=w.phoneNumber);const P=vt(b,v,S);return P.customData._tokenResponse=w,P}function Fo(){return(Fo=(0,l.Z)(function*(b,v){return Bn(b,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Xt(b,v){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(b,v){return Bn(b,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Qr(b,v){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(b,v){return Bn(b,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function $i(b){if(b)try{const v=new Date(Number(b));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function Rr(){return(Rr=(0,l.Z)(function*(b,v=!1){const w=(0,te.m9)(b),S=yield w.getIdToken(v),P=dn(S);ke(P&&P.exp&&P.auth_time&&P.iat,w.auth,"internal-error");const G="object"==typeof P.firebase?P.firebase:void 0,Ae=G?.sign_in_provider;return{claims:P,token:S,authTime:$i(Sr(P.auth_time)),issuedAtTime:$i(Sr(P.iat)),expirationTime:$i(Sr(P.exp)),signInProvider:Ae||null,signInSecondFactor:G?.sign_in_second_factor||null}})).apply(this,arguments)}function Sr(b){return 1e3*Number(b)}function dn(b){var v;const[w,S,P]=b.split(".");if(void 0===w||void 0===S||void 0===P)return qt("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,te.tV)(S);return G?JSON.parse(G):(qt("Failed to decode base64 JWT payload"),null)}catch(G){return qt("Caught error parsing JWT payload as JSON",null===(v=G)||void 0===v?void 0:v.toString()),null}}function Mn(b,v){return gs.apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(b,v,w=!1){if(w)return v;try{return yield v}catch(S){throw S instanceof te.ZR&&Oi(S)&&b.auth.currentUser===b&&(yield b.auth.signOut()),S}})).apply(this,arguments)}function Oi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class zi{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const P=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const S=this.getInterval(v);this.timerId=setTimeout((0,l.Z)(function*(){yield w.iteration()}),S)}iteration(){var v=this;return(0,l.Z)(function*(){var w;try{yield v.user.getIdToken(!0)}catch(S){return void("auth/network-request-failed"===(null===(w=S)||void 0===w?void 0:w.code)&&v.schedule(!0))}v.schedule()})()}}class xn{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=$i(this.lastLoginAt),this.creationTime=$i(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ns(b){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(b){var v;const w=b.auth,S=yield b.getIdToken(),P=yield Mn(b,Qr(w,{idToken:S}));ke(P?.users.length,w,"internal-error");const G=P.users[0];b._notifyReloadListener(G);const Ae=null!==(v=G.providerUserInfo)&&void 0!==v&&v.length?ce(G.providerUserInfo):[],ut=_e(b.providerData,Ae),Gn=!!b.isAnonymous&&!(b.email&&G.passwordHash||ut?.length),Or={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:ut,metadata:new xn(G.createdAt,G.lastLoginAt),isAnonymous:Gn};Object.assign(b,Or)})).apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(b){const v=(0,te.m9)(b);yield ns(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function _e(b,v){return[...b.filter(S=>!v.some(P=>P.providerId===S.providerId)),...v]}function ce(b){return b.map(v=>{var{providerId:w}=v,S=(0,Me._T)(v,["providerId"]);return{providerId:w,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function fe(){return(fe=(0,l.Z)(function*(b,v){const w=yield Gl(b,{},(0,l.Z)(function*(){const S=(0,te.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:P,apiKey:G}=b.config,Ae=Mo(b,P,"/v1/token",`key=${G}`),ut=yield b._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",Kr.fetch()(Ae,{method:"POST",headers:ut,body:S})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){ke(v.idToken,"internal-error"),ke(typeof v.idToken<"u","internal-error"),ke(typeof v.refreshToken<"u","internal-error");const w="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function hn(b){const v=dn(b);return ke(v,"internal-error"),ke(typeof v.exp<"u","internal-error"),ke(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var S=this;return(0,l.Z)(function*(){return ke(!S.accessToken||S.refreshToken,v,"user-token-expired"),w||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(v,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var S=this;return(0,l.Z)(function*(){const{accessToken:P,refreshToken:G,expiresIn:Ae}=yield function ie(b,v){return fe.apply(this,arguments)}(v,w);S.updateTokensAndExpiration(P,G,Number(Ae))})()}updateTokensAndExpiration(v,w,S){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(v,w){const{refreshToken:S,accessToken:P,expirationTime:G}=w,Ae=new pe;return S&&(ke("string"==typeof S,"internal-error",{appName:v}),Ae.refreshToken=S),P&&(ke("string"==typeof P,"internal-error",{appName:v}),Ae.accessToken=P),G&&(ke("number"==typeof G,"internal-error",{appName:v}),Ae.expirationTime=G),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return Le("not implemented")}}function at(b,v){ke("string"==typeof b||typeof b>"u","internal-error",{appName:v})}class Ft{constructor(v){var{uid:w,auth:S,stsTokenManager:P}=v,G=(0,Me._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=S,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new xn(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,l.Z)(function*(){const S=yield Mn(w,w.stsTokenManager.getToken(w.auth,v));return ke(S,w.auth,"internal-error"),w.accessToken!==S&&(w.accessToken=S,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),S})()}getIdTokenResult(v){return function kr(b){return Rr.apply(this,arguments)}(this,v)}reload(){return function Fs(b){return Wn.apply(this,arguments)}(this)}_assign(v){this!==v&&(ke(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new Ft(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var S=this;return(0,l.Z)(function*(){let P=!1;v.idToken&&v.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(v),P=!0),w&&(yield ns(S)),yield S.auth._persistUserIfCurrent(S),P&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var v=this;return(0,l.Z)(function*(){const w=yield v.getIdToken();return yield Mn(v,function Ro(b,v){return Fo.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var S,P,G,Ae,ut,Ut,cn,Gn;const Or=null!==(S=w.displayName)&&void 0!==S?S:void 0,Ea=null!==(P=w.email)&&void 0!==P?P:void 0,gd=null!==(G=w.phoneNumber)&&void 0!==G?G:void 0,Jm=null!==(Ae=w.photoURL)&&void 0!==Ae?Ae:void 0,Z_=null!==(ut=w.tenantId)&&void 0!==ut?ut:void 0,rp=null!==(Ut=w._redirectEventId)&&void 0!==Ut?Ut:void 0,_d=null!==(cn=w.createdAt)&&void 0!==cn?cn:void 0,ip=null!==(Gn=w.lastLoginAt)&&void 0!==Gn?Gn:void 0,{uid:eg,emailVerified:tg,isAnonymous:ng,providerData:W_,stsTokenManager:q_}=w;ke(eg&&q_,v,"internal-error");const Rh=pe.fromJSON(this.name,q_);ke("string"==typeof eg,v,"internal-error"),at(Or,v.name),at(Ea,v.name),ke("boolean"==typeof tg,v,"internal-error"),ke("boolean"==typeof ng,v,"internal-error"),at(gd,v.name),at(Jm,v.name),at(Z_,v.name),at(rp,v.name),at(_d,v.name),at(ip,v.name);const jo=new Ft({uid:eg,auth:v,email:Ea,emailVerified:tg,displayName:Or,isAnonymous:ng,photoURL:Jm,phoneNumber:gd,tenantId:Z_,stsTokenManager:Rh,createdAt:_d,lastLoginAt:ip});return W_&&Array.isArray(W_)&&(jo.providerData=W_.map(rg=>Object.assign({},rg))),rp&&(jo._redirectEventId=rp),jo}static _fromIdTokenResponse(v,w,S=!1){return(0,l.Z)(function*(){const P=new pe;P.updateFromServerResponse(w);const G=new Ft({uid:w.localId,auth:v,stsTokenManager:P,isAnonymous:S});return yield ns(G),G})()}}const mr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(w,S){var P=this;return(0,l.Z)(function*(){P.storage[w]=S})()}_get(w){var S=this;return(0,l.Z)(function*(){const P=S.storage[w];return void 0===P?null:P})()}_remove(w){var S=this;return(0,l.Z)(function*(){delete S.storage[w]})()}_addListener(w,S){}_removeListener(w,S){}}return b.type="NONE",b})();function hr(b,v,w){return`firebase:${b}:${v}:${w}`}class fi{constructor(v,w,S){this.persistence=v,this.auth=w,this.userKey=S;const{config:P,name:G}=this.auth;this.fullUserKey=hr(this.userKey,P.apiKey,G),this.fullPersistenceKey=hr("persistence",P.apiKey,G),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,l.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?Ft._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,l.Z)(function*(){if(w.persistence===v)return;const S=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,S?w.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,S="authUser"){return(0,l.Z)(function*(){if(!w.length)return new fi(Ce(mr),v,S);const P=(yield Promise.all(w.map(function(){var cn=(0,l.Z)(function*(Gn){if(yield Gn._isAvailable())return Gn});return function(Gn){return cn.apply(this,arguments)}}()))).filter(cn=>cn);let G=P[0]||Ce(mr);const Ae=hr(S,v.config.apiKey,v.name);let ut=null;for(const cn of w)try{const Gn=yield cn._get(Ae);if(Gn){const Or=Ft._fromJSON(v,Gn);cn!==G&&(ut=Or),G=cn;break}}catch{}const Ut=P.filter(cn=>cn._shouldAllowMigration);return G._shouldAllowMigration&&Ut.length?(G=Ut[0],ut&&(yield G._set(Ae,ut.toJSON())),yield Promise.all(w.map(function(){var cn=(0,l.Z)(function*(Gn){if(Gn!==G)try{yield Gn._remove(Ae)}catch{}});return function(Gn){return cn.apply(this,arguments)}}())),new fi(G,v,S)):new fi(G,v,S)})()}}function Se(b){const v=b.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(Nt(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(se(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(yn(v))return"Blackberry";if(wt(v))return"Webos";if(ue(v))return"Safari";if((v.includes("chrome/")||Je(v))&&!v.includes("edge/"))return"Chrome";if(mn(v))return"Android";{const S=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function se(b=(0,te.z$)()){return/firefox\//i.test(b)}function ue(b=(0,te.z$)()){const v=b.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Je(b=(0,te.z$)()){return/crios\//i.test(b)}function Nt(b=(0,te.z$)()){return/iemobile/i.test(b)}function mn(b=(0,te.z$)()){return/android/i.test(b)}function yn(b=(0,te.z$)()){return/blackberry/i.test(b)}function wt(b=(0,te.z$)()){return/webos/i.test(b)}function Jt(b=(0,te.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Yn(b=(0,te.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function xr(b=(0,te.z$)()){return Jt(b)||mn(b)||wt(b)||yn(b)||/windows phone/i.test(b)||Nt(b)}function Fr(b,v=[]){let w;switch(b){case"Browser":w=Se((0,te.z$)());break;case"Worker":w=`${Se((0,te.z$)())}-${b}`;break;default:w=b}const S=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${H.SDK_VERSION}/${S}`}class rl{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const S=G=>new Promise((Ae,ut)=>{try{Ae(v(G))}catch(Ut){ut(Ut)}});S.onAbort=w,this.queue.push(S);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,l.Z)(function*(){var S;if(w.auth.currentUser===v)return;const P=[];try{for(const G of w.queue)yield G(v),G.onAbort&&P.push(G.onAbort)}catch(G){P.reverse();for(const Ae of P)try{Ae()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:null===(S=G)||void 0===S?void 0:S.message})}})()}}class il{constructor(v,w,S){this.app=v,this.heartbeatServiceProvider=w,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sl(this),this.idTokenSubscription=new sl(this),this.beforeStateQueue=new rl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=en,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(v,w){var S=this;return w&&(this._popupRedirectResolver=Ce(w)),this._initializationPromise=this.queue((0,l.Z)(function*(){var P,G;if(!S._deleted&&(S.persistenceManager=yield fi.create(S,v),!S._deleted)){if(null!==(P=S._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(w),S.lastNotifiedUid=(null===(G=S.currentUser)||void 0===G?void 0:G.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,l.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUser(v){var w=this;return(0,l.Z)(function*(){var S;const P=yield w.assertedPersistence.getCurrentUser();let G=P,Ae=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const ut=null===(S=w.redirectUser)||void 0===S?void 0:S._redirectEventId,Ut=G?._redirectEventId,cn=yield w.tryRedirectSignIn(v);(!ut||ut===Ut)&&cn?.user&&(G=cn.user,Ae=!0)}if(!G)return w.directlySetCurrentUser(null);if(!G._redirectEventId){if(Ae)try{yield w.beforeStateQueue.runMiddleware(G)}catch(ut){G=P,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(ut))}return G?w.reloadAndSetCurrentUserOrClear(G):w.directlySetCurrentUser(null)}return ke(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===G._redirectEventId?w.directlySetCurrentUser(G):w.reloadAndSetCurrentUserOrClear(G)})()}tryRedirectSignIn(v){var w=this;return(0,l.Z)(function*(){let S=null;try{S=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch{yield w._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,l.Z)(function*(){var S;try{yield ns(v)}catch(P){if("auth/network-request-failed"!==(null===(S=P)||void 0===S?void 0:S.code))return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function Zn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var v=this;return(0,l.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,l.Z)(function*(){const S=v?(0,te.m9)(v):null;return S&&ke(S.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(S&&S._clone(w))})()}_updateCurrentUser(v,w=!1){var S=this;return(0,l.Z)(function*(){if(!S._deleted)return v&&ke(S.tenantId===v.tenantId,S,"tenant-id-mismatch"),w||(yield S.beforeStateQueue.runMiddleware(v)),S.queue((0,l.Z)(function*(){yield S.directlySetCurrentUser(v),S.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,l.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var w=this;return this.queue((0,l.Z)(function*(){yield w.assertedPersistence.setPersistence(Ce(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new te.LL("auth","Firebase",v())}onAuthStateChanged(v,w,S){return this.registerStateListener(this.authStateSubscription,v,w,S)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,S){return this.registerStateListener(this.idTokenSubscription,v,w,S)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var S=this;return(0,l.Z)(function*(){const P=yield S.getOrInitRedirectPersistenceManager(w);return null===v?P.removeCurrentUser():P.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,l.Z)(function*(){if(!w.redirectPersistenceManager){const S=v&&Ce(v)||w._popupRedirectResolver;ke(S,w,"argument-error"),w.redirectPersistenceManager=yield fi.create(w,[Ce(S._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,l.Z)(function*(){var S,P;return w._isInitialized&&(yield w.queue((0,l.Z)(function*(){}))),(null===(S=w._currentUser)||void 0===S?void 0:S._redirectEventId)===v?w._currentUser:(null===(P=w.redirectUser)||void 0===P?void 0:P._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,l.Z)(function*(){if(v===w.currentUser)return w.queue((0,l.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,S,P){if(this._deleted)return()=>{};const G="function"==typeof w?w:w.next.bind(w),Ae=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(Ae,this,"internal-error"),Ae.then(()=>G(this.currentUser)),"function"==typeof w?v.addObserver(w,S,P):v.addObserver(w)}directlySetCurrentUser(v){var w=this;return(0,l.Z)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,l.Z)(function*(){var w;const S={"X-Client-Version":v.clientVersion};v.app.options.appId&&(S["X-Firebase-gmpid"]=v.app.options.appId);const P=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return P&&(S["X-Firebase-Client"]=P),S})()}}function gn(b){return(0,te.m9)(b)}class sl{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,te.ne)(w=>this.observer=w)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $l(b,v,w){const S=gn(b);ke(S._canInitEmulator,S,"emulator-config-failed"),ke(/^https?:\/\//.test(v),S,"invalid-emulator-scheme");const P=!!w?.disableWarnings,G=Xu(v),{host:Ae,port:ut}=function ua(b){const v=Xu(b),w=/(\/\/)?([^?#/]+)/.exec(b.substr(v.length));if(!w)return{host:"",port:null};const S=w[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(S);if(P){const G=P[1];return{host:G,port:li(S.substr(G.length+1))}}{const[G,Ae]=S.split(":");return{host:G,port:li(Ae)}}}(v);S.config.emulator={url:`${G}//${Ae}${null===ut?"":`:${ut}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Ae,port:ut,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function ol(){function b(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Xu(b){const v=b.indexOf(":");return v<0?"":b.substr(0,v+1)}function li(b){if(!b)return null;const v=Number(b);return isNaN(v)?null:v}class Os{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return Le("not implemented")}_getIdTokenResponse(v){return Le("not implemented")}_linkToIdToken(v,w){return Le("not implemented")}_getReauthenticationResolver(v){return Le("not implemented")}}function Ys(b,v){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(b,v){return Bn(b,"POST","/v1/accounts:resetPassword",$n(b,v))})).apply(this,arguments)}function sh(b,v){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(b,v){return Bn(b,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function km(b,v){return qc.apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(b,v){return Bn(b,"POST","/v1/accounts:update",$n(b,v))})).apply(this,arguments)}function al(){return(al=(0,l.Z)(function*(b,v){return Br(b,"POST","/v1/accounts:signInWithPassword",$n(b,v))})).apply(this,arguments)}function Ti(b,v){return ll.apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(b,v){return Bn(b,"POST","/v1/accounts:sendOobCode",$n(b,v))})).apply(this,arguments)}function da(b,v){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.Z)(function*(b,v){return Ti(b,v)})).apply(this,arguments)}function Mm(b,v){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(b,v){return Ti(b,v)})).apply(this,arguments)}function Ks(b,v){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(b,v){return Ti(b,v)})).apply(this,arguments)}function Kc(b,v){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,l.Z)(function*(b,v){return Ti(b,v)})).apply(this,arguments)}function oh(){return(oh=(0,l.Z)(function*(b,v){return Br(b,"POST","/v1/accounts:signInWithEmailLink",$n(b,v))})).apply(this,arguments)}function ah(){return(ah=(0,l.Z)(function*(b,v){return Br(b,"POST","/v1/accounts:signInWithEmailLink",$n(b,v))})).apply(this,arguments)}class Qc extends Os{constructor(v,w,S,P=null){super("password",S),this._email=v,this._password=w,this._tenantId=P}static _fromEmailAndPassword(v,w){return new Qc(v,w,"password")}static _fromEmailAndCode(v,w,S=null){return new Qc(v,w,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return function Yc(b,v){return al.apply(this,arguments)}(v,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ps(b,v){return oh.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:Yt(v,"internal-error")}})()}_linkToIdToken(v,w){var S=this;return(0,l.Z)(function*(){switch(S.signInMethod){case"password":return sh(v,{idToken:w,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function R_(b,v){return ah.apply(this,arguments)}(v,{idToken:w,email:S._email,oobCode:S._password});default:Yt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function cl(b,v){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(b,v){return Br(b,"POST","/v1/accounts:signInWithIdp",$n(b,v))})).apply(this,arguments)}class ha extends Os{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const w=new ha(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(w.idToken=v.idToken),v.accessToken&&(w.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(w.nonce=v.nonce),v.pendingToken&&(w.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(w.accessToken=v.oauthToken,w.secret=v.oauthTokenSecret):Yt("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v,{providerId:S,signInMethod:P}=w,G=(0,Me._T)(w,["providerId","signInMethod"]);if(!S||!P)return null;const Ae=new ha(S,P);return Ae.idToken=G.idToken||void 0,Ae.accessToken=G.accessToken||void 0,Ae.secret=G.secret,Ae.nonce=G.nonce,Ae.pendingToken=G.pendingToken||null,Ae}_getIdTokenResponse(v){return cl(v,this.buildRequest())}_linkToIdToken(v,w){const S=this.buildRequest();return S.idToken=w,cl(v,S)}_getReauthenticationResolver(v){const w=this.buildRequest();return w.autoCreate=!1,cl(v,w)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),v.postBody=(0,te.xO)(w)}return v}}function O_(b,v){return Df.apply(this,arguments)}function Df(){return(Df=(0,l.Z)(function*(b,v){return Bn(b,"POST","/v1/accounts:sendVerificationCode",$n(b,v))})).apply(this,arguments)}function Jc(){return(Jc=(0,l.Z)(function*(b,v){return Br(b,"POST","/v1/accounts:signInWithPhoneNumber",$n(b,v))})).apply(this,arguments)}function Sf(){return(Sf=(0,l.Z)(function*(b,v){const w=yield Br(b,"POST","/v1/accounts:signInWithPhoneNumber",$n(b,v));if(w.temporaryProof)throw Xr(b,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const N_={USER_NOT_FOUND:"user-not-found"};function Zl(){return(Zl=(0,l.Z)(function*(b,v){return Br(b,"POST","/v1/accounts:signInWithPhoneNumber",$n(b,Object.assign(Object.assign({},v),{operation:"REAUTH"})),N_)})).apply(this,arguments)}class Wl extends Os{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,w){return new Wl({verificationId:v,verificationCode:w})}static _fromTokenResponse(v,w){return new Wl({phoneNumber:v,temporaryProof:w})}_getIdTokenResponse(v){return function P_(b,v){return Jc.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,w){return function zl(b,v){return Sf.apply(this,arguments)}(v,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function L_(b,v){return Zl.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:w,verificationId:S,verificationCode:P}=this.params;return v&&w?{temporaryProof:v,phoneNumber:w}:{sessionInfo:S,code:P}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:w,verificationCode:S,phoneNumber:P,temporaryProof:G}=v;return S||w||P||G?new Wl({verificationId:w,verificationCode:S,phoneNumber:P,temporaryProof:G}):null}}class ql{constructor(v){var w,S,P,G,Ae,ut;const Ut=(0,te.zd)((0,te.pd)(v)),cn=null!==(w=Ut.apiKey)&&void 0!==w?w:null,Gn=null!==(S=Ut.oobCode)&&void 0!==S?S:null,Or=function Tf(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=Ut.mode)&&void 0!==P?P:null);ke(cn&&Gn&&Or,"argument-error"),this.apiKey=cn,this.operation=Or,this.code=Gn,this.continueUrl=null!==(G=Ut.continueUrl)&&void 0!==G?G:null,this.languageCode=null!==(Ae=Ut.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==(ut=Ut.tenantId)&&void 0!==ut?ut:null}static parseLink(v){const w=function Af(b){const v=(0,te.zd)((0,te.pd)(b)).link,w=v?(0,te.zd)((0,te.pd)(v)).deep_link_id:null,S=(0,te.zd)((0,te.pd)(b)).deep_link_id;return(S?(0,te.zd)((0,te.pd)(S)).link:null)||S||w||v||b}(v);try{return new ql(w)}catch{return null}}}let Qu=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(w,S){return Qc._fromEmailAndPassword(w,S)}static credentialWithLink(w,S){const P=ql.parseLink(S);return ke(P,"argument-error"),Qc._fromEmailAndCode(w,P.code,P.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Zi{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Yl extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class La extends Yl{static credentialFromJSON(v){const w="string"==typeof v?JSON.parse(v):v;return ke("providerId"in w&&"signInMethod"in w,"argument-error"),ha._fromParams(w)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return ke(v.idToken||v.accessToken,"argument-error"),ha._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return La.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return La.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:w,oauthAccessToken:S,oauthTokenSecret:P,pendingToken:G,nonce:Ae,providerId:ut}=v;if(!S&&!P&&!w&&!G||!ut)return null;try{return new La(ut)._credential({idToken:w,accessToken:S,nonce:Ae,pendingToken:G})}catch{return null}}}let If=(()=>{class b extends Yl{constructor(){super("facebook.com")}static credential(w){return ha._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return b.credentialFromTaggedObject(w)}static credentialFromError(w){return b.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return b.credential(w.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ju=(()=>{class b extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(w,S){return ha._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:S})}static credentialFromResult(w){return b.credentialFromTaggedObject(w)}static credentialFromError(w){return b.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:S,oauthAccessToken:P}=w;if(!S&&!P)return null;try{return b.credential(S,P)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),lh=(()=>{class b extends Yl{constructor(){super("github.com")}static credential(w){return ha._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return b.credentialFromTaggedObject(w)}static credentialFromError(w){return b.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return b.credential(w.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Kl extends Os{constructor(v,w){super(v,v),this.pendingToken=w}_getIdTokenResponse(v){return cl(v,this.buildRequest())}_linkToIdToken(v,w){const S=this.buildRequest();return S.idToken=w,cl(v,S)}_getReauthenticationResolver(v){const w=this.buildRequest();return w.autoCreate=!1,cl(v,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v,{providerId:S,signInMethod:P,pendingToken:G}=w;return S&&P&&G&&S===P?new Kl(S,G):null}static _create(v,w){return new Kl(v,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qs extends Zi{constructor(v){ke(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return Qs.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return Qs.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const w=Kl.fromJSON(v);return ke(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:w,providerId:S}=v;if(!w||!S)return null;try{return Kl._create(S,w)}catch{return null}}}let fa=(()=>{class b extends Yl{constructor(){super("twitter.com")}static credential(w,S){return ha._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:S})}static credentialFromResult(w){return b.credentialFromTaggedObject(w)}static credentialFromError(w){return b.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:S,oauthTokenSecret:P}=w;if(!S||!P)return null;try{return b.credential(S,P)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Ns(b,v){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.Z)(function*(b,v){return Br(b,"POST","/v1/accounts:signUp",$n(b,v))})).apply(this,arguments)}class Js{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,S,P=!1){return(0,l.Z)(function*(){const G=yield Ft._fromIdTokenResponse(v,S,P),Ae=Xl(S);return new Js({user:G,providerId:Ae,_tokenResponse:S,operationType:w})})()}static _forOperation(v,w,S){return(0,l.Z)(function*(){yield v._updateTokensIfNecessary(S,!0);const P=Xl(S);return new Js({user:v,providerId:P,_tokenResponse:S,operationType:w})})()}}function Xl(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function V_(b){return ch.apply(this,arguments)}function ch(){return(ch=(0,l.Z)(function*(b){var v;const w=gn(b);if(yield w._initializationPromise,null!==(v=w.currentUser)&&void 0!==v&&v.isAnonymous)return new Js({user:w.currentUser,providerId:null,operationType:"signIn"});const S=yield Ns(w,{returnSecureToken:!0}),P=yield Js._fromIdTokenResponse(w,"signIn",S,!0);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}class Zr extends te.ZR{constructor(v,w,S,P){var G;super(w.code,w.message),this.operationType=S,this.user=P,Object.setPrototypeOf(this,Zr.prototype),this.customData={appName:v.name,tenantId:null!==(G=v.tenantId)&&void 0!==G?G:void 0,_serverResponse:w.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(v,w,S,P){return new Zr(v,w,S,P)}}function Rf(b,v,w,S){return("reauthenticate"===v?w._getReauthenticationResolver(b):w._getIdTokenResponse(b)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?Zr._fromErrorAndOperation(b,G,v,S):G})}function Rm(b){return new Set(b.map(({providerId:v})=>v).filter(v=>!!v))}function _o(b,v){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*(b,v){const w=(0,te.m9)(b);yield Oo(!0,w,v);const{providerUserInfo:S}=yield Xt(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[v]}),P=Rm(S||[]);return w.providerData=w.providerData.filter(G=>P.has(G.providerId)),P.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function ed(b,v){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,l.Z)(function*(b,v,w=!1){const S=yield Mn(b,v._linkToIdToken(b.auth,yield b.getIdToken()),w);return Js._forOperation(b,"link",S)})).apply(this,arguments)}function Oo(b,v,w){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(b,v,w){yield ns(v);const P=!1===b?"provider-already-linked":"no-such-provider";ke(Rm(v.providerData).has(w)===b,v.auth,P)})).apply(this,arguments)}function td(b,v){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(b,v,w=!1){var S;const{auth:P}=b,G="reauthenticate";try{const Ae=yield Mn(b,Rf(P,G,v,b),w);ke(Ae.idToken,P,"internal-error");const ut=dn(Ae.idToken);ke(ut,P,"internal-error");const{sub:Ut}=ut;return ke(b.uid===Ut,P,"user-mismatch"),Js._forOperation(b,G,Ae)}catch(Ae){throw"auth/user-not-found"===(null===(S=Ae)||void 0===S?void 0:S.code)&&Yt(P,"user-mismatch"),Ae}})).apply(this,arguments)}function uh(b,v){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(b,v,w=!1){const S="signIn",P=yield Rf(b,S,v),G=yield Js._fromIdTokenResponse(b,S,P);return w||(yield b._updateCurrentUser(G.user)),G})).apply(this,arguments)}function eu(b,v){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(b,v){return uh(gn(b),v)})).apply(this,arguments)}function kn(b,v){return tu.apply(this,arguments)}function tu(){return(tu=(0,l.Z)(function*(b,v){const w=(0,te.m9)(b);return yield Oo(!1,w,v.providerId),ed(w,v)})).apply(this,arguments)}function B_(b,v){return nu.apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(b,v){return td((0,te.m9)(b),v)})).apply(this,arguments)}function Ff(b,v){return ru.apply(this,arguments)}function ru(){return(ru=(0,l.Z)(function*(b,v){return Br(b,"POST","/v1/accounts:signInWithCustomToken",$n(b,v))})).apply(this,arguments)}function dl(b,v){return iu.apply(this,arguments)}function iu(){return(iu=(0,l.Z)(function*(b,v){const w=gn(b),S=yield Ff(w,{token:v,returnSecureToken:!0}),P=yield Js._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}class Jl{constructor(v,w){this.factorId=v,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(v,w){return"phoneInfo"in w?pt._fromServerResponse(v,w):Yt(v,"internal-error")}}class pt extends Jl{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,w){return new pt(w)}}function qn(b,v,w){var S;ke((null===(S=w.url)||void 0===S?void 0:S.length)>0,b,"invalid-continue-uri"),ke(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(ke(w.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(ke(w.android.packageName.length>0,b,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}function Fm(b,v,w){return ec.apply(this,arguments)}function ec(){return(ec=(0,l.Z)(function*(b,v,w){const S=(0,te.m9)(b),P={requestType:"PASSWORD_RESET",email:v};w&&qn(S,P,w),yield Mm(S,P)})).apply(this,arguments)}function mi(b,v,w){return tc.apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(b,v,w){yield Ys((0,te.m9)(b),{oobCode:v,newPassword:w})})).apply(this,arguments)}function nd(b,v){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(b,v){yield km((0,te.m9)(b),{oobCode:v})})).apply(this,arguments)}function rd(b,v){return nc.apply(this,arguments)}function nc(){return(nc=(0,l.Z)(function*(b,v){const w=(0,te.m9)(b),S=yield Ys(w,{oobCode:v}),P=S.requestType;switch(ke(P,w,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(S.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(S.mfaInfo,w,"internal-error");default:ke(S.email,w,"internal-error")}let G=null;return S.mfaInfo&&(G=Jl._fromServerResponse(gn(w),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:G},operation:P}})).apply(this,arguments)}function Om(b,v){return su.apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(b,v){const{data:w}=yield rd((0,te.m9)(b),v);return w.email})).apply(this,arguments)}function U_(b,v,w){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(b,v,w){const S=gn(b),P=yield Ns(S,{returnSecureToken:!0,email:v,password:w}),G=yield Js._fromIdTokenResponse(S,"signIn",P);return yield S._updateCurrentUser(G.user),G})).apply(this,arguments)}function gi(b,v,w){return eu((0,te.m9)(b),Qu.credential(v,w))}function Po(b,v,w){return ou.apply(this,arguments)}function ou(){return(ou=(0,l.Z)(function*(b,v,w){const S=(0,te.m9)(b),P={requestType:"EMAIL_SIGNIN",email:v};ke(w.handleCodeInApp,S,"argument-error"),w&&qn(S,P,w),yield Ks(S,P)})).apply(this,arguments)}function au(b,v){return"EMAIL_SIGNIN"===ql.parseLink(v)?.operation}function ma(b,v,w){return Of.apply(this,arguments)}function Of(){return(Of=(0,l.Z)(function*(b,v,w){const S=(0,te.m9)(b),P=Qu.credentialWithLink(v,w||Et());return ke(P._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),eu(S,P)})).apply(this,arguments)}function dh(b,v){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,l.Z)(function*(b,v){return Bn(b,"POST","/v1/accounts:createAuthUri",$n(b,v))})).apply(this,arguments)}function Pm(b,v){return rc.apply(this,arguments)}function rc(){return(rc=(0,l.Z)(function*(b,v){const S={identifier:v,continueUri:Ct()?Et():"http://localhost"},{signinMethods:P}=yield dh((0,te.m9)(b),S);return P||[]})).apply(this,arguments)}function hh(b,v){return lu.apply(this,arguments)}function lu(){return(lu=(0,l.Z)(function*(b,v){const w=(0,te.m9)(b),P={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};v&&qn(w.auth,P,v);const{email:G}=yield da(w.auth,P);G!==b.email&&(yield b.reload())})).apply(this,arguments)}function fh(b,v,w){return cu.apply(this,arguments)}function cu(){return(cu=(0,l.Z)(function*(b,v,w){const S=(0,te.m9)(b),G={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:v};w&&qn(S.auth,G,w);const{email:Ae}=yield Kc(S.auth,G);Ae!==b.email&&(yield b.reload())})).apply(this,arguments)}function Nf(b,v){return ic.apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(b,v){return Bn(b,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Nm(b,v){return uu.apply(this,arguments)}function uu(){return(uu=(0,l.Z)(function*(b,{displayName:v,photoURL:w}){if(void 0===v&&void 0===w)return;const S=(0,te.m9)(b),G={idToken:yield S.getIdToken(),displayName:v,photoUrl:w,returnSecureToken:!0},Ae=yield Mn(S,Nf(S.auth,G));S.displayName=Ae.displayName||null,S.photoURL=Ae.photoUrl||null;const ut=S.providerData.find(({providerId:Ut})=>"password"===Ut);ut&&(ut.displayName=S.displayName,ut.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Ae)})).apply(this,arguments)}function Lm(b,v){return Ba((0,te.m9)(b),v,null)}function Lf(b,v){return Ba((0,te.m9)(b),null,v)}function Ba(b,v,w){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(b,v,w){const{auth:S}=b,G={idToken:yield b.getIdToken(),returnSecureToken:!0};v&&(G.email=v),w&&(G.password=w);const Ae=yield Mn(b,sh(S,G));yield b._updateTokensIfNecessary(Ae,!0)})).apply(this,arguments)}class Hr{constructor(v,w,S={}){this.isNewUser=v,this.providerId=w,this.profile=S}}class ga extends Hr{constructor(v,w,S,P){super(v,w,S),this.username=P}}class jr extends Hr{constructor(v,w){super(v,"facebook.com",w)}}class ph extends ga{constructor(v,w){super(v,"github.com",w,"string"==typeof w?.login?w?.login:null)}}class mh extends Hr{constructor(v,w){super(v,"google.com",w)}}class Bf extends ga{constructor(v,w,S){super(v,"twitter.com",w,S)}}function gh(b){const{user:v,_tokenResponse:w}=b;return v.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function Vf(b){var v,w;if(!b)return null;const{providerId:S}=b,P=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},G=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!S&&b?.idToken){const Ae=null===(w=null===(v=dn(b.idToken))||void 0===v?void 0:v.firebase)||void 0===w?void 0:w.sign_in_provider;if(Ae)return new Hr(G,"anonymous"!==Ae&&"custom"!==Ae?Ae:null)}if(!S)return null;switch(S){case"facebook.com":return new jr(G,P);case"github.com":return new ph(G,P);case"google.com":return new mh(G,P);case"twitter.com":return new Bf(G,P,b.screenName||null);case"custom":case"anonymous":return new Hr(G,null);default:return new Hr(G,S,P)}}(w)}class to{constructor(v,w){this.type=v,this.credential=w}static _fromIdtoken(v){return new to("enroll",v)}static _fromMfaPendingCredential(v){return new to("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var w,S;if(v?.multiFactorSession){if(null!==(w=v.multiFactorSession)&&void 0!==w&&w.pendingCredential)return to._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null!==(S=v.multiFactorSession)&&void 0!==S&&S.idToken)return to._fromIdtoken(v.multiFactorSession.idToken)}return null}}class yh{constructor(v,w,S){this.session=v,this.hints=w,this.signInResolver=S}static _fromError(v,w){const S=gn(v),P=w.customData._serverResponse,G=(P.mfaInfo||[]).map(ut=>Jl._fromServerResponse(S,ut));ke(P.mfaPendingCredential,S,"internal-error");const Ae=to._fromMfaPendingCredential(P.mfaPendingCredential);return new yh(Ae,G,function(){var ut=(0,l.Z)(function*(Ut){const cn=yield Ut._process(S,Ae);delete P.mfaInfo,delete P.mfaPendingCredential;const Gn=Object.assign(Object.assign({},P),{idToken:cn.idToken,refreshToken:cn.refreshToken});switch(w.operationType){case"signIn":const Or=yield Js._fromIdTokenResponse(S,w.operationType,Gn);return yield S._updateCurrentUser(Or.user),Or;case"reauthenticate":return ke(w.user,S,"internal-error"),Js._forOperation(w.user,w.operationType,Gn);default:Yt(S,"internal-error")}});return function(Ut){return ut.apply(this,arguments)}}())}resolveSignIn(v){var w=this;return(0,l.Z)(function*(){return w.signInResolver(v)})()}}function Gf(b,v){var w;const S=(0,te.m9)(b),P=v;return ke(v.customData.operationType,S,"argument-error"),ke(null===(w=P.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,S,"argument-error"),yh._fromError(S,P)}function ti(b,v){return Bn(b,"POST","/v2/accounts/mfaEnrollment:start",$n(b,v))}class od{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(S=>Jl._fromServerResponse(v.auth,S)))})}static _fromUser(v){return new od(v)}getSession(){var v=this;return(0,l.Z)(function*(){return to._fromIdtoken(yield v.user.getIdToken())})()}enroll(v,w){var S=this;return(0,l.Z)(function*(){const P=v,G=yield S.getSession(),Ae=yield Mn(S.user,P._process(S.user.auth,G,w));return yield S.user._updateTokensIfNecessary(Ae),S.user.reload()})()}unenroll(v){var w=this;return(0,l.Z)(function*(){var S;const P="string"==typeof v?v:v.uid,G=yield w.user.getIdToken(),Ae=yield Mn(w.user,function sd(b,v){return Bn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",$n(b,v))}(w.user.auth,{idToken:G,mfaEnrollmentId:P}));w.enrolledFactors=w.enrolledFactors.filter(({uid:ut})=>ut!==P),yield w.user._updateTokensIfNecessary(Ae);try{yield w.user.reload()}catch(ut){if("auth/user-token-expired"!==(null===(S=ut)||void 0===S?void 0:S.code))throw ut}})()}}const Vm=new WeakMap;function du(b){const v=(0,te.m9)(b);return Vm.has(v)||Vm.set(v,od._fromUser(v)),Vm.get(v)}const _a="__sak";class hu{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const _i=(()=>{class b extends hu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,S)=>this.onStorageEvent(w,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wh(){const b=(0,te.z$)();return ue(b)||Jt(b)}()&&function ca(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xr(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const S of Object.keys(this.listeners)){const P=this.storage.getItem(S),G=this.localCache[S];P!==G&&w(S,G,P)}}onStorageEvent(w,S=!1){if(!w.key)return void this.forAllChangedKeys((ut,Ut,cn)=>{this.notifyListeners(ut,cn)});const P=w.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem(P);if(w.newValue!==ut)null!==w.newValue?this.storage.setItem(P,w.newValue):this.storage.removeItem(P);else if(this.localCache[P]===w.newValue&&!S)return}const G=()=>{const ut=this.storage.getItem(P);!S&&this.localCache[P]===ut||this.notifyListeners(P,ut)},Ae=this.storage.getItem(P);!function On(){return(0,te.w1)()&&10===document.documentMode}()||Ae===w.newValue||w.newValue===w.oldValue?G():setTimeout(G,10)}notifyListeners(w,S){this.localCache[w]=S;const P=this.listeners[w];if(P)for(const G of Array.from(P))G(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,S,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:S,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(S)}_removeListener(w,S){this.listeners[w]&&(this.listeners[w].delete(S),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,S){var P=()=>super._set,G=this;return(0,l.Z)(function*(){yield P().call(G,w,S),G.localCache[w]=JSON.stringify(S)})()}_get(w){var S=()=>super._get,P=this;return(0,l.Z)(function*(){const G=yield S().call(P,w);return P.localCache[w]=JSON.stringify(G),G})()}_remove(w){var S=()=>super._remove,P=this;return(0,l.Z)(function*(){yield S().call(P,w),delete P.localCache[w]})()}}return b.type="LOCAL",b})(),Ha=(()=>{class b extends hu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,S){}_removeListener(w,S){}}return b.type="SESSION",b})();let pu=(()=>{class b{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const S=this.receivers.find(G=>G.isListeningto(w));if(S)return S;const P=new b(w);return this.receivers.push(P),P}isListeningto(w){return this.eventTarget===w}handleEvent(w){var S=this;return(0,l.Z)(function*(){const P=w,{eventId:G,eventType:Ae,data:ut}=P.data,Ut=S.handlersMap[Ae];if(!Ut?.size)return;P.ports[0].postMessage({status:"ack",eventId:G,eventType:Ae});const cn=Array.from(Ut).map(function(){var Or=(0,l.Z)(function*(Ea){return Ea(P.origin,ut)});return function(Ea){return Or.apply(this,arguments)}}()),Gn=yield function xh(b){return Promise.all(b.map(function(){var v=(0,l.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(S){return{fulfilled:!1,reason:S}}});return function(w){return v.apply(this,arguments)}}()))}(cn);P.ports[0].postMessage({status:"done",eventId:G,eventType:Ae,response:Gn})})()}_subscribe(w,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(S)}_unsubscribe(w,S){this.handlersMap[w]&&S&&this.handlersMap[w].delete(S),(!S||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function lc(b="",v=10){let w="";for(let S=0;S<v;S++)w+=Math.floor(10*Math.random());return b+w}class Hm{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,S=50){var P=this;return(0,l.Z)(function*(){const G=typeof MessageChannel<"u"?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let Ae,ut;return new Promise((Ut,cn)=>{const Gn=lc("",20);G.port1.start();const Or=setTimeout(()=>{cn(new Error("unsupported_event"))},S);ut={messageChannel:G,onMessage(Ea){const gd=Ea;if(gd.data.eventId===Gn)switch(gd.data.status){case"ack":clearTimeout(Or),Ae=setTimeout(()=>{cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ae),Ut(gd.data.response);break;default:clearTimeout(Or),clearTimeout(Ae),cn(new Error("invalid_response"))}}},P.handlers.add(ut),G.port1.addEventListener("message",ut.onMessage),P.target.postMessage({eventType:v,eventId:Gn,data:w},[G.port2])}).finally(()=>{ut&&P.removeMessageHandler(ut)})})()}}function ni(){return window}function Ls(){return typeof ni().WorkerGlobalScope<"u"&&"function"==typeof ni().importScripts}function va(){return(va=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const mu="firebaseLocalStorageDb",gu="firebaseLocalStorage",cc="fbase_key";class fl{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function uc(b,v){return b.transaction([gu],v?"readwrite":"readonly").objectStore(gu)}function ld(){const b=indexedDB.open(mu,1);return new Promise((v,w)=>{b.addEventListener("error",()=>{w(b.error)}),b.addEventListener("upgradeneeded",()=>{const S=b.result;try{S.createObjectStore(gu,{keyPath:cc})}catch(P){w(P)}}),b.addEventListener("success",(0,l.Z)(function*(){const S=b.result;S.objectStoreNames.contains(gu)?v(S):(S.close(),yield function Wf(){const b=indexedDB.deleteDatabase(mu);return new fl(b).toPromise()}(),v(yield ld()))}))})}function _u(b,v,w){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(b,v,w){const S=uc(b,!0).put({[cc]:v,value:w});return new fl(S).toPromise()})).apply(this,arguments)}function dc(){return(dc=(0,l.Z)(function*(b,v){const w=uc(b,!1).get(v),S=yield new fl(w).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function cd(b,v){const w=uc(b,!0).delete(v);return new fl(w).toPromise()}const fc=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,l.Z)(function*(){return w.db||(w.db=yield ld()),w.db})()}_withRetries(w){var S=this;return(0,l.Z)(function*(){let P=0;for(;;)try{const G=yield S._openDb();return yield w(G)}catch(G){if(P++>3)throw G;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,l.Z)(function*(){return Ls()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,l.Z)(function*(){w.receiver=pu._getInstance(function ad(){return Ls()?self:null}()),w.receiver._subscribe("keyChanged",function(){var S=(0,l.Z)(function*(P,G){return{keyProcessed:(yield w._poll()).includes(G.key)}});return function(P,G){return S.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var S=(0,l.Z)(function*(P,G){return["keyChanged"]});return function(P,G){return S.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,l.Z)(function*(){var S,P;if(w.activeServiceWorker=yield function Zf(){return va.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new Hm(w.activeServiceWorker);const G=yield w.sender._send("ping",{},800);!G||(null===(S=G[0])||void 0===S?void 0:S.fulfilled)&&(null===(P=G[0])||void 0===P?void 0:P.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var S=this;return(0,l.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function bh(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:w},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const w=yield ld();return yield _u(w,_a,"1"),yield cd(w,_a),!0}catch{}return!1})()}_withPendingWrite(w){var S=this;return(0,l.Z)(function*(){S.pendingWrites++;try{yield w()}finally{S.pendingWrites--}})()}_set(w,S){var P=this;return(0,l.Z)(function*(){return P._withPendingWrite((0,l.Z)(function*(){return yield P._withRetries(G=>_u(G,w,S)),P.localCache[w]=S,P.notifyServiceWorker(w)}))})()}_get(w){var S=this;return(0,l.Z)(function*(){const P=yield S._withRetries(G=>function jm(b,v){return dc.apply(this,arguments)}(G,w));return S.localCache[w]=P,P})()}_remove(w){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(P=>cd(P,w)),delete S.localCache[w],S.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,l.Z)(function*(){const S=yield w._withRetries(Ae=>{const ut=uc(Ae,!1).getAll();return new fl(ut).toPromise()});if(!S)return[];if(0!==w.pendingWrites)return[];const P=[],G=new Set;for(const{fbase_key:Ae,value:ut}of S)G.add(Ae),JSON.stringify(w.localCache[Ae])!==JSON.stringify(ut)&&(w.notifyListeners(Ae,ut),P.push(Ae));for(const Ae of Object.keys(w.localCache))w.localCache[Ae]&&!G.has(Ae)&&(w.notifyListeners(Ae,null),P.push(Ae));return P})()}notifyListeners(w,S){this.localCache[w]=S;const P=this.listeners[w];if(P)for(const G of Array.from(P))G(S)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(S)}_removeListener(w,S){this.listeners[w]&&(this.listeners[w].delete(S),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Gm(b,v){return Bn(b,"POST","/v2/accounts/mfaSignIn:start",$n(b,v))}function rs(){return(rs=(0,l.Z)(function*(b){return(yield Bn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pl(b){return new Promise((v,w)=>{const S=document.createElement("script");S.setAttribute("src",b),S.onload=v,S.onerror=P=>{const G=vt("internal-error");G.customData=P,w(G)},S.type="text/javascript",S.charset="UTF-8",function mc(){var b,v;return null!==(v=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==v?v:document}().appendChild(S)})}function gc(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Lo=1e12;class qf{constructor(v){this.auth=v,this.counter=Lo,this._widgets=new Map}render(v,w){const S=this.counter;return this._widgets.set(S,new Mr(v,this.auth.name,w||{})),this.counter++,S}reset(v){var w;const S=v||Lo;null===(w=this._widgets.get(S))||void 0===w||w.delete(),this._widgets.delete(S)}getResponse(v){var w;return(null===(w=this._widgets.get(v||Lo))||void 0===w?void 0:w.getResponse())||""}execute(v){var w=this;return(0,l.Z)(function*(){var S;return null===(S=w._widgets.get(v||Lo))||void 0===S||S.execute(),""})()}}class Mr{constructor(v,w,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof v?document.getElementById(v):v;ke(P,"argument-error",{appName:w}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function H_(b){const v=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<b;S++)v.push(w.charAt(Math.floor(Math.random()*w.length)));return v.join("")}(50);const{callback:v,"expired-callback":w}=this.params;if(v)try{v(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $m=gc("rcb"),uC=new Bt(3e4,6e4);class R1{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(v=ni().grecaptcha)||void 0===v||!v.render)}load(v,w=""){return ke(function zm(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(w),v,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve(ni().grecaptcha):new Promise((S,P)=>{const G=ni().setTimeout(()=>{P(vt(v,"network-request-failed"))},uC.get());ni()[$m]=()=>{ni().clearTimeout(G),delete ni()[$m];const ut=ni().grecaptcha;if(!ut)return void P(vt(v,"internal-error"));const Ut=ut.render;ut.render=(cn,Gn)=>{const Or=Ut(cn,Gn);return this.counter++,Or},this.hostLanguage=w,S(ut)},pl(`https://www.google.com/recaptcha/api.js??${(0,te.xO)({onload:$m,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(G),P(vt(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var w;return!(null===(w=ni().grecaptcha)||void 0===w||!w.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dC{load(v){return(0,l.Z)(function*(){return new qf(v)})()}clearedOneInstance(){}}const dd="recaptcha",hC={theme:"light",type:"image"};class F1{constructor(v,w=Object.assign({},hC),S){this.parameters=w,this.type=dd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(S),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof v?document.getElementById(v):v;ke(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dC:new R1,this.validateStartingState()}verify(){var v=this;return(0,l.Z)(function*(){v.assertNotDestroyed();const w=yield v.render(),S=v.getAssertedRecaptcha();return S.getResponse(w)||new Promise(G=>{const Ae=ut=>{!ut||(v.tokenChangeListeners.delete(Ae),G(ut))};v.tokenChangeListeners.add(Ae),v.isInvisible&&S.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return w=>{if(this.tokenChangeListeners.forEach(S=>S(w)),"function"==typeof v)v(w);else if("string"==typeof v){const S=ni()[v];"function"==typeof S&&S(w)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,l.Z)(function*(){if(yield v.init(),!v.widgetId){let w=v.container;if(!v.isInvisible){const S=document.createElement("div");w.appendChild(S),w=S}v.widgetId=v.getAssertedRecaptcha().render(w,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,l.Z)(function*(){ke(Ct()&&!Ls(),v.auth,"internal-error"),yield function Pi(){let b=null;return new Promise(v=>{"complete"!==document.readyState?(b=()=>v(),window.addEventListener("load",b)):v()}).catch(v=>{throw b&&window.removeEventListener("load",b),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const w=yield function ud(b){return rs.apply(this,arguments)}(v.auth);ke(w,v.auth,"internal-error"),v.parameters.sitekey=w})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vr{constructor(v,w){this.verificationId=v,this.onConfirmation=w}confirm(v){const w=Wl._fromVerification(this.verificationId,v);return this.onConfirmation(w)}}function vi(b,v,w){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,l.Z)(function*(b,v,w){const S=gn(b),P=yield ml(S,v,(0,te.m9)(w));return new vr(P,G=>eu(S,G))})).apply(this,arguments)}function Yf(b,v,w){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(b,v,w){const S=(0,te.m9)(b);yield Oo(!1,S,"phone");const P=yield ml(S.auth,v,(0,te.m9)(w));return new vr(P,G=>kn(S,G))})).apply(this,arguments)}function ya(b,v,w){return vu.apply(this,arguments)}function vu(){return(vu=(0,l.Z)(function*(b,v,w){const S=(0,te.m9)(b),P=yield ml(S.auth,v,(0,te.m9)(w));return new vr(P,G=>B_(S,G))})).apply(this,arguments)}function ml(b,v,w){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,l.Z)(function*(b,v,w){var S;const P=yield w.verify();try{let G;if(ke("string"==typeof P,b,"argument-error"),ke(w.type===dd,b,"argument-error"),G="string"==typeof v?{phoneNumber:v}:v,"session"in G){const Ae=G.session;if("phoneNumber"in G)return ke("enroll"===Ae.type,b,"internal-error"),(yield ti(b,{idToken:Ae.credential,phoneEnrollmentInfo:{phoneNumber:G.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{ke("signin"===Ae.type,b,"internal-error");const ut=(null===(S=G.multiFactorHint)||void 0===S?void 0:S.uid)||G.multiFactorUid;return ke(ut,b,"missing-multi-factor-info"),(yield Gm(b,{mfaPendingCredential:Ae.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ae}=yield O_(b,{phoneNumber:G.phoneNumber,recaptchaToken:P});return Ae}}finally{w._reset()}})).apply(this,arguments)}function gl(b,v){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(b,v){yield ed((0,te.m9)(b),v)})).apply(this,arguments)}let bn=(()=>{class b{constructor(w){this.providerId=b.PROVIDER_ID,this.auth=gn(w)}verifyPhoneNumber(w,S){return ml(this.auth,w,(0,te.m9)(S))}static credential(w,S){return Wl._fromVerification(w,S)}static credentialFromResult(w){return b.credentialFromTaggedObject(w)}static credentialFromError(w){return b.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:S,temporaryProof:P}=w;return S&&P?Wl._fromTokenResponse(S,P):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function vc(b,v){return v?Ce(v):(ke(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Kf extends Os{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return cl(v,this._buildIdpRequest())}_linkToIdToken(v,w){return cl(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return cl(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function hd(b){return uh(b.auth,new Kf(b),b.bypassAuthState)}function vs(b){const{auth:v,user:w}=b;return ke(w,v,"internal-error"),td(w,new Kf(b),b.bypassAuthState)}function yu(b){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(b){const{auth:v,user:w}=b;return ke(w,v,"internal-error"),ed(w,new Kf(b),b.bypassAuthState)})).apply(this,arguments)}class wa{constructor(v,w,S,P,G=!1){this.auth=v,this.resolver=S,this.user=P,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,l.Z)(function*(S,P){v.pendingPromise={resolve:S,reject:P};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(G){v.reject(G)}});return function(S,P){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,l.Z)(function*(){const{urlResponse:S,sessionId:P,postBody:G,tenantId:Ae,error:ut,type:Ut}=v;if(ut)return void w.reject(ut);const cn={auth:w.auth,requestUri:S,sessionId:P,tenantId:Ae||void 0,postBody:G||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Ut)(cn))}catch(Gn){w.reject(Gn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return hd;case"linkViaPopup":case"linkViaRedirect":return yu;case"reauthViaPopup":case"reauthViaRedirect":return vs;default:Yt(this.auth,"internal-error")}}resolve(v){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ss=new Bt(2e3,1e4);function Sh(b,v,w){return yc.apply(this,arguments)}function yc(){return(yc=(0,l.Z)(function*(b,v,w){const S=gn(b);rt(b,v,Zi);const P=vc(S,w);return new wu(S,"signInViaPopup",v,P).executeNotNull()})).apply(this,arguments)}function Th(b,v,w){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,l.Z)(function*(b,v,w){const S=(0,te.m9)(b);rt(S.auth,v,Zi);const P=vc(S.auth,w);return new wu(S.auth,"reauthViaPopup",v,P,S).executeNotNull()})).apply(this,arguments)}function j_(b,v,w){return _l.apply(this,arguments)}function _l(){return(_l=(0,l.Z)(function*(b,v,w){const S=(0,te.m9)(b);rt(S.auth,v,Zi);const P=vc(S.auth,w);return new wu(S.auth,"linkViaPopup",v,P,S).executeNotNull()})).apply(this,arguments)}let wu=(()=>{class b extends wa{constructor(w,S,P,G,Ae){super(w,S,G,Ae),this.provider=P,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var w=this;return(0,l.Z)(function*(){const S=yield w.execute();return ke(S,w.auth,"internal-error"),S})()}onExecution(){var w=this;return(0,l.Z)(function*(){Xe(1===w.filter.length,"Popup operations only handle one event");const S=lc();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],S),w.authWindow.associatedEvent=S,w.resolver._originValidation(w.auth).catch(P=>{w.reject(P)}),w.resolver._isIframeWebStorageSupported(w.auth,P=>{P||w.reject(vt(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const w=()=>{var S,P;this.pollId=null!==(P=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(vt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,ss.get())};w()}}return b.currentPopupAction=null,b})();const Vo=new Map;class Wr extends wa{constructor(v,w,S=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,S),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,l.Z)(function*(){let S=Vo.get(w.auth._key());if(!S){try{const G=(yield function Bo(b,v){return wc.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;S=()=>Promise.resolve(G)}catch(P){S=()=>Promise.reject(P)}Vo.set(w.auth._key(),S)}return w.bypassAuthState||Vo.set(w.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,S=this;return(0,l.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(S,v);if("unknown"!==v.type){if(v.eventId){const P=yield S.auth._redirectUserForId(v.eventId);if(P)return S.user=P,w().call(S,v);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function wc(){return(wc=(0,l.Z)(function*(b,v){const w=xa(v),S=xc(b);if(!(yield S._isAvailable()))return!1;const P="true"===(yield S._get(w));return yield S._remove(w),P})).apply(this,arguments)}function Uo(b,v){return fd.apply(this,arguments)}function fd(){return(fd=(0,l.Z)(function*(b,v){return xc(b)._set(xa(v),"true")})).apply(this,arguments)}function Ga(){Vo.clear()}function Ah(b,v){Vo.set(b._key(),v)}function xc(b){return Ce(b._redirectPersistence)}function xa(b){return hr("pendingRedirect",b.config.apiKey,b.name)}function Qf(b,v,w){return function ii(b,v,w){return pd.apply(this,arguments)}(b,v,w)}function pd(){return(pd=(0,l.Z)(function*(b,v,w){const S=gn(b);rt(b,v,Zi);const P=vc(S,w);return yield Uo(P,S),P._openRedirect(S,v,"signInViaRedirect")})).apply(this,arguments)}function M(b,v,w){return function F(b,v,w){return N.apply(this,arguments)}(b,v,w)}function N(){return(N=(0,l.Z)(function*(b,v,w){const S=(0,te.m9)(b);rt(S.auth,v,Zi);const P=vc(S.auth,w);yield Uo(P,S.auth);const G=yield Pn(S);return P._openRedirect(S.auth,v,"reauthViaRedirect",G)})).apply(this,arguments)}function X(b,v,w){return function xe(b,v,w){return Ve.apply(this,arguments)}(b,v,w)}function Ve(){return(Ve=(0,l.Z)(function*(b,v,w){const S=(0,te.m9)(b);rt(S.auth,v,Zi);const P=vc(S.auth,w);yield Oo(!1,S,v.providerId),yield Uo(P,S.auth);const G=yield Pn(S);return P._openRedirect(S.auth,v,"linkViaRedirect",G)})).apply(this,arguments)}function mt(b,v){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,l.Z)(function*(b,v){return yield gn(b)._initializationPromise,fn(b,v,!1)})).apply(this,arguments)}function fn(b,v){return En.apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(b,v,w=!1){const S=gn(b),P=vc(S,v),Ae=yield new Wr(S,P,w).execute();return Ae&&!w&&(delete Ae.user._redirectEventId,yield S._persistUserIfCurrent(Ae.user),yield S._setRedirectUser(null,v)),Ae})).apply(this,arguments)}function Pn(b){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(b){const v=lc(`${b.uid}:::`);return b._redirectEventId=v,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),v})).apply(this,arguments)}class Ai{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(v,S)&&(w=!0,this.sendToConsumer(v,S),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function vl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ba(b);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var S;if(v.error&&!ba(v)){const P=(null===(S=v.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";w.onError(vt(this.auth,P))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const S=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&S}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($a(v))}saveEventToCache(v){this.cachedEventUids.add($a(v)),this.lastProcessedEventTime=Date.now()}}function $a(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(v=>v).join("-")}function ba({type:b,error:v}){return"unknown"===b&&"auth/no-auth-event"===v?.code}function za(b){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(function*(b,v={}){return Bn(b,"GET","/v1/projects",v)})).apply(this,arguments)}const yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ys=/^https?/;function Ih(){return(Ih=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:v}=yield za(b);for(const w of v)try{if(II(w))return}catch{}Yt(b,"unauthorized-domain")})).apply(this,arguments)}function II(b){const v=Et(),{protocol:w,hostname:S}=new URL(v);if(b.startsWith("chrome-extension://")){const Ae=new URL(b);return""===Ae.hostname&&""===S?"chrome-extension:"===w&&b.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&Ae.hostname===S}if(!ys.test(w))return!1;if(yi.test(b))return S===b;const P=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(S)}const kh=new Bt(3e4,6e4);function Wa(){const b=ni().___jsl;if(b?.H)for(const v of Object.keys(b.H))if(b.H[v].r=b.H[v].r||[],b.H[v].L=b.H[v].L||[],b.H[v].r=[...b.H[v].L],b.CP)for(let w=0;w<b.CP.length;w++)b.CP[w]=null}let qa=null;function G_(b){return qa=qa||function Zm(b){return new Promise((v,w)=>{var S,P,G;function Ae(){Wa(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Wa(),w(vt(b,"network-request-failed"))},timeout:kh.get()})}if(null!==(P=null===(S=ni().gapi)||void 0===S?void 0:S.iframes)&&void 0!==P&&P.Iframe)v(gapi.iframes.getContext());else{if(null===(G=ni().gapi)||void 0===G||!G.load){const ut=gc("iframefcb");return ni()[ut]=()=>{gapi.load?Ae():w(vt(b,"network-request-failed"))},pl(`https://apis.google.com/js/api.js?onload=${ut}`).catch(Ut=>w(Ut))}Ae()}}).catch(v=>{throw qa=null,v})}(b),qa}const Wm=new Bt(5e3,15e3),O1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z_(b){const v=b.config;ke(v.authDomain,b,"auth-domain-config-required");const w=v.emulator?Cr(v,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,S={apiKey:v.apiKey,appName:b.name,v:H.SDK_VERSION},P=MI.get(b.config.apiHost);P&&(S.eid=P);const G=b._getFrameworks();return G.length&&(S.fw=G.join(",")),`${w}?${(0,te.xO)(S).slice(1)}`}function qm(){return qm=(0,l.Z)(function*(b){const v=yield G_(b),w=ni().gapi;return ke(w,b,"internal-error"),v.open({where:document.body,url:z_(b),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O1,dontclear:!0},S=>new Promise(function(){var P=(0,l.Z)(function*(G,Ae){yield S.restyle({setHideOnLeave:!1});const ut=vt(b,"network-request-failed"),Ut=ni().setTimeout(()=>{Ae(ut)},Wm.get());function cn(){ni().clearTimeout(Ut),G(S)}S.ping(cn).then(cn,()=>{Ae(ut)})});return function(G,Ae){return P.apply(this,arguments)}}()))}),qm.apply(this,arguments)}const Ym={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class L1{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bc(b,v,w,S,P,G){ke(b.config.authDomain,b,"auth-domain-config-required"),ke(b.config.apiKey,b,"invalid-api-key");const Ae={apiKey:b.config.apiKey,appName:b.name,authType:w,redirectUrl:S,v:H.SDK_VERSION,eventId:P};if(v instanceof Zi){v.setDefaultLanguage(b.languageCode),Ae.providerId=v.providerId||"",(0,te.xb)(v.getCustomParameters())||(Ae.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Ut,cn]of Object.entries(G||{}))Ae[Ut]=cn}if(v instanceof Yl){const Ut=v.getScopes().filter(cn=>""!==cn);Ut.length>0&&(Ae.scopes=Ut.join(","))}b.tenantId&&(Ae.tid=b.tenantId);const ut=Ae;for(const Ut of Object.keys(ut))void 0===ut[Ut]&&delete ut[Ut];return`${function Jf({config:b}){return b.emulator?Cr(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,te.xO)(ut).slice(1)}`}const ep="webStorageSupport",Qm=class Xm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ha,this._completeRedirectFn=fn,this._overrideRedirectResult=Ah}_openPopup(v,w,S,P){var G=this;return(0,l.Z)(function*(){var Ae;Xe(null===(Ae=G.eventManagers[v._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const ut=bc(v,w,S,Et(),P);return function md(b,v,w,S=500,P=600){const G=Math.max((window.screen.availHeight-P)/2,0).toString(),Ae=Math.max((window.screen.availWidth-S)/2,0).toString();let ut="";const Ut=Object.assign(Object.assign({},Ym),{width:S.toString(),height:P.toString(),top:G,left:Ae}),cn=(0,te.z$)().toLowerCase();w&&(ut=Je(cn)?"_blank":w),se(cn)&&(v=v||"http://localhost",Ut.scrollbars="yes");const Gn=Object.entries(Ut).reduce((Ea,[gd,Jm])=>`${Ea}${gd}=${Jm},`,"");if(function Ur(b=(0,te.z$)()){var v;return Jt(b)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(cn)&&"_self"!==ut)return function bu(b,v){const w=document.createElement("a");w.href=b,w.target=v;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(S)}(v||"",ut),new L1(null);const Or=window.open(v||"",ut,Gn);ke(Or,b,"popup-blocked");try{Or.focus()}catch{}return new L1(Or)}(v,ut,lc())})()}_openRedirect(v,w,S,P){var G=this;return(0,l.Z)(function*(){return yield G._originValidation(v),function zf(b){ni().location.href=b}(bc(v,w,S,Et(),P)),new Promise(()=>{})})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:P,promise:G}=this.eventManagers[w];return P?Promise.resolve(P):(Xe(G,"If manager is not set, promise should be"),G)}const S=this.initAndGetManager(v);return this.eventManagers[w]={promise:S},S.catch(()=>{delete this.eventManagers[w]}),S}initAndGetManager(v){var w=this;return(0,l.Z)(function*(){const S=yield function fC(b){return qm.apply(this,arguments)}(v),P=new Ai(v);return S.register("authEvent",G=>(ke(G?.authEvent,v,"invalid-auth-event"),{status:P.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:P},w.iframes[v._key()]=S,P})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(ep,{type:ep},P=>{var G;const Ae=null===(G=P?.[0])||void 0===G?void 0:G[ep];void 0!==Ae&&w(!!Ae),Yt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Za(b){return Ih.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return xr()||ue()||Jt()}};class np extends class tp{constructor(v){this.factorId=v}_process(v,w,S){switch(w.type){case"enroll":return this._finalizeEnroll(v,w.credential,S);case"signin":return this._finalizeSignIn(v,w.credential);default:return Le("unexpected MultiFactorSessionType")}}}{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new np(v)}_finalizeEnroll(v,w,S){return function id(b,v){return Bn(b,"POST","/v2/accounts/mfaEnrollment:finalize",$n(b,v))}(v,{idToken:w,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,w){return function pc(b,v){return Bn(b,"POST","/v2/accounts/mfaSignIn:finalize",$n(b,v))}(v,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yl=(()=>{class b{constructor(){}static assertion(w){return np._fromCredential(w)}}return b.FACTOR_ID="phone",b})();var Cu="@firebase/auth";class RI{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,l.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(S=>{var P;v((null===(P=S)||void 0===P?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);!w||(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function pC(b){(0,H._registerComponent)(new qe.wA("auth",(v,{options:w})=>{const S=v.getProvider("app").getImmediate(),P=v.getProvider("heartbeat"),{apiKey:G,authDomain:Ae}=S.options;return((ut,Ut)=>{ke(G&&!G.includes(":"),"invalid-api-key",{appName:ut.name}),ke(!Ae?.includes(":"),"argument-error",{appName:ut.name});const cn={apiKey:G,authDomain:Ae,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fr(b)},Gn=new il(ut,Ut,cn);return function Re(b,v){const w=v?.persistence||[],S=(Array.isArray(w)?w:[w]).map(Ce);v?.errorMap&&b._updateErrorMap(v.errorMap),b._initializeWithPersistence(S,v?.popupRedirectResolver)}(Gn,w),Gn})(S,P)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,S)=>{v.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new qe.wA("auth-internal",v=>{const w=gn(v.getProvider("auth").getImmediate());return new RI(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(Cu,"0.20.6",function FI(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,H.registerVersion)(Cu,"0.20.6","esm2017")}("Browser")},2090:(ln,ct,z)=>{z.d(ct,{$s:()=>ns,BH:()=>kt,G6:()=>ke,L:()=>je,LL:()=>Et,Mn:()=>rt,Sg:()=>_t,UG:()=>et,US:()=>qe,ZB:()=>he,ZR:()=>Re,b$:()=>Yt,d:()=>vt,eu:()=>Xe,hl:()=>Le,jU:()=>We,m9:()=>Wn,ne:()=>Fo,pd:()=>Xr,r3:()=>$n,ru:()=>qt,tV:()=>Qe,uI:()=>en,vZ:()=>Gi,w1:()=>ft,xO:()=>Mo,xb:()=>ji,z$:()=>nt,zI:()=>ye,zd:()=>Rs});const Me=function(_e){const ce=[];let ie=0;for(let fe=0;fe<_e.length;fe++){let pe=_e.charCodeAt(fe);pe<128?ce[ie++]=pe:pe<2048?(ce[ie++]=pe>>6|192,ce[ie++]=63&pe|128):55296==(64512&pe)&&fe+1<_e.length&&56320==(64512&_e.charCodeAt(fe+1))?(pe=65536+((1023&pe)<<10)+(1023&_e.charCodeAt(++fe)),ce[ie++]=pe>>18|240,ce[ie++]=pe>>12&63|128,ce[ie++]=pe>>6&63|128,ce[ie++]=63&pe|128):(ce[ie++]=pe>>12|224,ce[ie++]=pe>>6&63|128,ce[ie++]=63&pe|128)}return ce},qe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,ce){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let pe=0;pe<_e.length;pe+=3){const at=_e[pe],Ft=pe+1<_e.length,vn=Ft?_e[pe+1]:0,mr=pe+2<_e.length,hr=mr?_e[pe+2]:0;let se=(15&vn)<<2|hr>>6,ue=63&hr;mr||(ue=64,Ft||(se=64)),fe.push(ie[at>>2],ie[(3&at)<<4|vn>>4],ie[se],ie[ue])}return fe.join("")},encodeString(_e,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(_e):this.encodeByteArray(Me(_e),ce)},decodeString(_e,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(_e):function(_e){const ce=[];let ie=0,fe=0;for(;ie<_e.length;){const pe=_e[ie++];if(pe<128)ce[fe++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const at=_e[ie++];ce[fe++]=String.fromCharCode((31&pe)<<6|63&at)}else if(pe>239&&pe<365){const mr=((7&pe)<<18|(63&_e[ie++])<<12|(63&_e[ie++])<<6|63&_e[ie++])-65536;ce[fe++]=String.fromCharCode(55296+(mr>>10)),ce[fe++]=String.fromCharCode(56320+(1023&mr))}else{const at=_e[ie++],Ft=_e[ie++];ce[fe++]=String.fromCharCode((15&pe)<<12|(63&at)<<6|63&Ft)}}return ce.join("")}(this.decodeStringToByteArray(_e,ce))},decodeStringToByteArray(_e,ce){this.init_();const ie=ce?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let pe=0;pe<_e.length;){const at=ie[_e.charAt(pe++)],vn=pe<_e.length?ie[_e.charAt(pe)]:0;++pe;const hr=pe<_e.length?ie[_e.charAt(pe)]:64;++pe;const Se=pe<_e.length?ie[_e.charAt(pe)]:64;if(++pe,null==at||null==vn||null==hr||null==Se)throw Error();fe.push(at<<2|vn>>4),64!==hr&&(fe.push(vn<<4&240|hr>>2),64!==Se&&fe.push(hr<<6&192|Se))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}},je=function(_e){return function(_e){const ce=Me(_e);return qe.encodeByteArray(ce,!0)}(_e).replace(/\./g,"")},Qe=function(_e){try{return qe.decodeString(_e,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function he(_e,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return ce}for(const ie in ce)!ce.hasOwnProperty(ie)||!be(ie)||(_e[ie]=he(_e[ie],ce[ie]));return _e}function be(_e){return"__proto__"!==_e}class kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,ie)=>{this.resolve=ce,this.reject=ie})}wrapCallback(ce){return(ie,fe)=>{ie?this.reject(ie):this.resolve(fe),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(ie):ce(ie,fe))}}}function _t(_e,ce){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=ce||"demo-project",pe=_e.iat||0,at=_e.sub||_e.user_id;if(!at)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ft=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:pe,exp:pe+3600,auth_time:pe,sub:at,user_id:at,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(Ft)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function en(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function et(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function qt(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function Yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vt(){return nt().indexOf("Electron/")>=0}function ft(){const _e=nt();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function rt(){return nt().indexOf("MSAppHost/")>=0}function ke(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){return"object"==typeof indexedDB}function Xe(){return new Promise((_e,ce)=>{try{let ie=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(fe);pe.onsuccess=()=>{pe.result.close(),ie||self.indexedDB.deleteDatabase(fe),_e(!0)},pe.onupgradeneeded=()=>{ie=!1},pe.onerror=()=>{var at;ce((null===(at=pe.error)||void 0===at?void 0:at.message)||"")}}catch(ie){ce(ie)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Re extends Error{constructor(ce,ie,fe){super(ie),this.code=ce,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Et.prototype.create)}}class Et{constructor(ce,ie,fe){this.service=ce,this.serviceName=ie,this.errors=fe}create(ce,...ie){const fe=ie[0]||{},pe=`${this.service}/${ce}`,at=this.errors[ce],Ft=at?function Ct(_e,ce){return _e.replace(pn,(ie,fe)=>{const pe=ce[fe];return null!=pe?String(pe):`<${fe}?>`})}(at,fe):"Error";return new Re(pe,`${this.serviceName}: ${Ft} (${pe}).`,fe)}}const pn=/\{\$([^}]+)}/g;function $n(_e,ce){return Object.prototype.hasOwnProperty.call(_e,ce)}function ji(_e){for(const ce in _e)if(Object.prototype.hasOwnProperty.call(_e,ce))return!1;return!0}function Gi(_e,ce){if(_e===ce)return!0;const ie=Object.keys(_e),fe=Object.keys(ce);for(const pe of ie){if(!fe.includes(pe))return!1;const at=_e[pe],Ft=ce[pe];if(Br(at)&&Br(Ft)){if(!Gi(at,Ft))return!1}else if(at!==Ft)return!1}for(const pe of fe)if(!ie.includes(pe))return!1;return!0}function Br(_e){return null!==_e&&"object"==typeof _e}function Mo(_e){const ce=[];for(const[ie,fe]of Object.entries(_e))Array.isArray(fe)?fe.forEach(pe=>{ce.push(encodeURIComponent(ie)+"="+encodeURIComponent(pe))}):ce.push(encodeURIComponent(ie)+"="+encodeURIComponent(fe));return ce.length?"&"+ce.join("&"):""}function Rs(_e){const ce={};return _e.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[pe,at]=fe.split("=");ce[decodeURIComponent(pe)]=decodeURIComponent(at)}}),ce}function Xr(_e){const ce=_e.indexOf("?");if(!ce)return"";const ie=_e.indexOf("#",ce);return _e.substring(ce,ie>0?ie:void 0)}function Fo(_e,ce){const ie=new Xt(_e,ce);return ie.subscribe.bind(ie)}class Xt{constructor(ce,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{ce(this)}).catch(fe=>{this.error(fe)})}next(ce){this.forEachObserver(ie=>{ie.next(ce)})}error(ce){this.forEachObserver(ie=>{ie.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,ie,fe){let pe;if(void 0===ce&&void 0===ie&&void 0===fe)throw new Error("Missing Observer.");pe=function Qr(_e,ce){if("object"!=typeof _e||null===_e)return!1;for(const ie of ce)if(ie in _e&&"function"==typeof _e[ie])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:ie,complete:fe},void 0===pe.next&&(pe.next=wr),void 0===pe.error&&(pe.error=wr),void 0===pe.complete&&(pe.complete=wr);const at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch{}}),this.observers.push(pe),at}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,ce)}sendOne(ce,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{ie(this.observers[ce])}catch(fe){typeof console<"u"&&console.error&&console.error(fe)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wr(){}function ns(_e,ce=1e3,ie=2){const fe=ce*Math.pow(ie,_e),pe=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+pe)}function Wn(_e){return _e&&_e._delegate?_e._delegate:_e}},3671:(ln,ct,z)=>{var l=z(4650);let te=null;function H(){return te}const Fe=new l.OlP("DocumentToken");let je=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Qe(){return(0,l.LFG)(he)}()},providedIn:"platform"}),n})();const de=new l.OlP("Location Initialized");let he=(()=>{class n extends je{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(e){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){be()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){be()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function kt(){return new he((0,l.LFG)(Fe))}()},providedIn:"platform"}),n})();function be(){return!!window.history.pushState}function _t(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function nt(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function en(n){return n&&"?"!==n[0]?"?"+n:n}let et=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(qt)},providedIn:"root"}),n})();const We=new l.OlP("appBaseHref");let qt=(()=>{class n extends et{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _t(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+en(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const o=this.prepareExternalUrl(i+en(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){const o=this.prepareExternalUrl(i+en(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(je),l.LFG(We,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yt=(()=>{class n extends et{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=_t(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+en(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+en(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(je),l.LFG(We,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),vt=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=nt(Vt(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+en(r))}normalize(e){return n.stripTrailingSlash(function rt(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Vt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+en(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+en(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=en,n.joinWithSlash=_t,n.stripTrailingSlash=nt,n.\u0275fac=function(e){return new(e||n)(l.LFG(et))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ft(){return new vt((0,l.LFG)(et))}()},providedIn:"root"}),n})();function Vt(n){return n.replace(/\/index.html$/,"")}var ye=(()=>((ye=ye||{})[ye.Format=0]="Format",ye[ye.Standalone=1]="Standalone",ye))(),Ce=(()=>((Ce=Ce||{})[Ce.Narrow=0]="Narrow",Ce[Ce.Abbreviated=1]="Abbreviated",Ce[Ce.Wide=2]="Wide",Ce[Ce.Short=3]="Short",Ce))(),$e=(()=>(($e=$e||{})[$e.Short=0]="Short",$e[$e.Medium=1]="Medium",$e[$e.Long=2]="Long",$e[$e.Full=3]="Full",$e))(),Re=(()=>((Re=Re||{})[Re.Decimal=0]="Decimal",Re[Re.Group=1]="Group",Re[Re.List=2]="List",Re[Re.PercentSign=3]="PercentSign",Re[Re.PlusSign=4]="PlusSign",Re[Re.MinusSign=5]="MinusSign",Re[Re.Exponential=6]="Exponential",Re[Re.SuperscriptingExponent=7]="SuperscriptingExponent",Re[Re.PerMille=8]="PerMille",Re[Re.Infinity=9]="Infinity",Re[Re.NaN=10]="NaN",Re[Re.TimeSeparator=11]="TimeSeparator",Re[Re.CurrencyDecimal=12]="CurrencyDecimal",Re[Re.CurrencyGroup=13]="CurrencyGroup",Re))();function dr(n,t){return Xt((0,l.cg1)(n)[l.wAp.DateFormat],t)}function ar(n,t){return Xt((0,l.cg1)(n)[l.wAp.TimeFormat],t)}function $n(n,t){return Xt((0,l.cg1)(n)[l.wAp.DateTimeFormat],t)}function Bn(n,t){const e=(0,l.cg1)(n),r=e[l.wAp.NumberSymbols][t];if(typeof r>"u"){if(t===Re.CurrencyDecimal)return e[l.wAp.NumberSymbols][Re.Decimal];if(t===Re.CurrencyGroup)return e[l.wAp.NumberSymbols][Re.Group]}return r}function Rs(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Fi(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const la=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kr={},Rr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Sr=(()=>((Sr=Sr||{})[Sr.Short=0]="Short",Sr[Sr.ShortGMT=1]="ShortGMT",Sr[Sr.Long=2]="Long",Sr[Sr.Extended=3]="Extended",Sr))(),dn=(()=>((dn=dn||{})[dn.FullYear=0]="FullYear",dn[dn.Month=1]="Month",dn[dn.Date=2]="Date",dn[dn.Hours=3]="Hours",dn[dn.Minutes=4]="Minutes",dn[dn.Seconds=5]="Seconds",dn[dn.FractionalSeconds=6]="FractionalSeconds",dn[dn.Day=7]="Day",dn))(),hn=(()=>((hn=hn||{})[hn.DayPeriods=0]="DayPeriods",hn[hn.Days=1]="Days",hn[hn.Months=2]="Months",hn[hn.Eras=3]="Eras",hn))();function Mn(n,t,e,r){let i=function ue(n){if(Nt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(u=>+u);return gs(i,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(la))return function Je(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,u=Number(n[5]||0)-r,h=Number(n[6]||0),p=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,u,h,p),t}(r)}const t=new Date(n);if(!Nt(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Oi(e,t)||t;let u,o=[];for(;t;){if(u=Rr.exec(t),!u){o.push(t);break}{o=o.concat(u.slice(1));const g=o.pop();if(!g)break;t=g}}let h=i.getTimezoneOffset();r&&(h=fi(r,h),i=function se(n,t,e){const r=e?-1:1,i=n.getTimezoneOffset();return function Se(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(fi(t,i)-i))}(i,r,!0));let p="";return o.forEach(g=>{const y=function hr(n){if(mr[n])return mr[n];let t;switch(n){case"G":case"GG":case"GGG":t=Wn(hn.Eras,Ce.Abbreviated);break;case"GGGG":t=Wn(hn.Eras,Ce.Wide);break;case"GGGGG":t=Wn(hn.Eras,Ce.Narrow);break;case"y":t=Rn(dn.FullYear,1,0,!1,!0);break;case"yy":t=Rn(dn.FullYear,2,0,!0,!0);break;case"yyy":t=Rn(dn.FullYear,3,0,!1,!0);break;case"yyyy":t=Rn(dn.FullYear,4,0,!1,!0);break;case"Y":t=vn(1);break;case"YY":t=vn(2,!0);break;case"YYY":t=vn(3);break;case"YYYY":t=vn(4);break;case"M":case"L":t=Rn(dn.Month,1,1);break;case"MM":case"LL":t=Rn(dn.Month,2,1);break;case"MMM":t=Wn(hn.Months,Ce.Abbreviated);break;case"MMMM":t=Wn(hn.Months,Ce.Wide);break;case"MMMMM":t=Wn(hn.Months,Ce.Narrow);break;case"LLL":t=Wn(hn.Months,Ce.Abbreviated,ye.Standalone);break;case"LLLL":t=Wn(hn.Months,Ce.Wide,ye.Standalone);break;case"LLLLL":t=Wn(hn.Months,Ce.Narrow,ye.Standalone);break;case"w":t=Ft(1);break;case"ww":t=Ft(2);break;case"W":t=Ft(1,!0);break;case"d":t=Rn(dn.Date,1);break;case"dd":t=Rn(dn.Date,2);break;case"c":case"cc":t=Rn(dn.Day,1);break;case"ccc":t=Wn(hn.Days,Ce.Abbreviated,ye.Standalone);break;case"cccc":t=Wn(hn.Days,Ce.Wide,ye.Standalone);break;case"ccccc":t=Wn(hn.Days,Ce.Narrow,ye.Standalone);break;case"cccccc":t=Wn(hn.Days,Ce.Short,ye.Standalone);break;case"E":case"EE":case"EEE":t=Wn(hn.Days,Ce.Abbreviated);break;case"EEEE":t=Wn(hn.Days,Ce.Wide);break;case"EEEEE":t=Wn(hn.Days,Ce.Narrow);break;case"EEEEEE":t=Wn(hn.Days,Ce.Short);break;case"a":case"aa":case"aaa":t=Wn(hn.DayPeriods,Ce.Abbreviated);break;case"aaaa":t=Wn(hn.DayPeriods,Ce.Wide);break;case"aaaaa":t=Wn(hn.DayPeriods,Ce.Narrow);break;case"b":case"bb":case"bbb":t=Wn(hn.DayPeriods,Ce.Abbreviated,ye.Standalone,!0);break;case"bbbb":t=Wn(hn.DayPeriods,Ce.Wide,ye.Standalone,!0);break;case"bbbbb":t=Wn(hn.DayPeriods,Ce.Narrow,ye.Standalone,!0);break;case"B":case"BB":case"BBB":t=Wn(hn.DayPeriods,Ce.Abbreviated,ye.Format,!0);break;case"BBBB":t=Wn(hn.DayPeriods,Ce.Wide,ye.Format,!0);break;case"BBBBB":t=Wn(hn.DayPeriods,Ce.Narrow,ye.Format,!0);break;case"h":t=Rn(dn.Hours,1,-12);break;case"hh":t=Rn(dn.Hours,2,-12);break;case"H":t=Rn(dn.Hours,1);break;case"HH":t=Rn(dn.Hours,2);break;case"m":t=Rn(dn.Minutes,1);break;case"mm":t=Rn(dn.Minutes,2);break;case"s":t=Rn(dn.Seconds,1);break;case"ss":t=Rn(dn.Seconds,2);break;case"S":t=Rn(dn.FractionalSeconds,1);break;case"SS":t=Rn(dn.FractionalSeconds,2);break;case"SSS":t=Rn(dn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ce(Sr.Short);break;case"ZZZZZ":t=ce(Sr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ce(Sr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ce(Sr.Long);break;default:return null}return mr[n]=t,t}(g);p+=y?y(i,e,h):"''"===g?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function gs(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Oi(n,t){const e=function Ct(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(kr[e]=kr[e]||{},kr[e][t])return kr[e][t];let r="";switch(t){case"shortDate":r=dr(n,$e.Short);break;case"mediumDate":r=dr(n,$e.Medium);break;case"longDate":r=dr(n,$e.Long);break;case"fullDate":r=dr(n,$e.Full);break;case"shortTime":r=ar(n,$e.Short);break;case"mediumTime":r=ar(n,$e.Medium);break;case"longTime":r=ar(n,$e.Long);break;case"fullTime":r=ar(n,$e.Full);break;case"short":const i=Oi(n,"shortTime"),s=Oi(n,"shortDate");r=zi($n(n,$e.Short),[i,s]);break;case"medium":const o=Oi(n,"mediumTime"),u=Oi(n,"mediumDate");r=zi($n(n,$e.Medium),[o,u]);break;case"long":const h=Oi(n,"longTime"),p=Oi(n,"longDate");r=zi($n(n,$e.Long),[h,p]);break;case"full":const g=Oi(n,"fullTime"),y=Oi(n,"fullDate");r=zi($n(n,$e.Full),[g,y])}return r&&(kr[e][t]=r),r}function zi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function xn(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return r&&(o=o.slice(o.length-t)),s+o}function Rn(n,t,e=0,r=!1,i=!1){return function(s,o){let u=function Fs(n,t){switch(n){case dn.FullYear:return t.getFullYear();case dn.Month:return t.getMonth();case dn.Date:return t.getDate();case dn.Hours:return t.getHours();case dn.Minutes:return t.getMinutes();case dn.Seconds:return t.getSeconds();case dn.FractionalSeconds:return t.getMilliseconds();case dn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||u>-e)&&(u+=e),n===dn.Hours)0===u&&-12===e&&(u=12);else if(n===dn.FractionalSeconds)return function ns(n,t){return xn(n,3).substring(0,t)}(u,t);const h=Bn(o,Re.MinusSign);return xn(u,t,h,r,i)}}function Wn(n,t,e=ye.Format,r=!1){return function(i,s){return function _e(n,t,e,r,i,s){switch(e){case hn.Months:return function Zn(n,t,e){const r=(0,l.cg1)(n),s=Xt([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],t);return Xt(s,e)}(t,i,r)[n.getMonth()];case hn.Days:return function rr(n,t,e){const r=(0,l.cg1)(n),s=Xt([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],t);return Xt(s,e)}(t,i,r)[n.getDay()];case hn.DayPeriods:const o=n.getHours(),u=n.getMinutes();if(s){const p=function Xr(n){const t=(0,l.cg1)(n);return Rs(t),(t[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Fi(r):[Fi(r[0]),Fi(r[1])])}(t),g=function Ro(n,t,e){const r=(0,l.cg1)(n);Rs(r);const s=Xt([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],t)||[];return Xt(s,e)||[]}(t,i,r),y=p.findIndex(E=>{if(Array.isArray(E)){const[T,k]=E,D=o>=T.hours&&u>=T.minutes,R=o<k.hours||o===k.hours&&u<k.minutes;if(T.hours<k.hours){if(D&&R)return!0}else if(D||R)return!0}else if(E.hours===o&&E.minutes===u)return!0;return!1});if(-1!==y)return g[y]}return function pn(n,t,e){const r=(0,l.cg1)(n),s=Xt([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],t);return Xt(s,e)}(t,i,r)[o<12?0:1];case hn.Eras:return function Bt(n,t){return Xt((0,l.cg1)(n)[l.wAp.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,s,n,t,e,r)}}function ce(n){return function(t,e,r){const i=-1*r,s=Bn(e,Re.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Sr.Short:return(i>=0?"+":"")+xn(o,2,s)+xn(Math.abs(i%60),2,s);case Sr.ShortGMT:return"GMT"+(i>=0?"+":"")+xn(o,1,s);case Sr.Long:return"GMT"+(i>=0?"+":"")+xn(o,2,s)+":"+xn(Math.abs(i%60),2,s);case Sr.Extended:return 0===r?"Z":(i>=0?"+":"")+xn(o,2,s)+":"+xn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function at(n){return gs(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ft(n,t=!1){return function(e,r){let i;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7)}else{const s=at(e),o=function pe(n){const t=gs(n,0,1).getDay();return gs(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),u=s.getTime()-o.getTime();i=1+Math.round(u/6048e5)}return xn(i,n,Bn(r,Re.MinusSign))}}function vn(n,t=!1){return function(e,r){return xn(at(e).getFullYear(),n,Bn(r,Re.MinusSign),t)}}const mr={};function fi(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Nt(n){return n instanceof Date&&!isNaN(n.valueOf())}let gr=(()=>{class n{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class al{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ti=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new al(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const u=r.get(s);r.move(u,o),ll(u,i)}});for(let i=0,s=r.length;i<s;i++){const u=r.get(i).context;u.index=i,u.count=s,u.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{ll(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ll(n,t){n.context.$implicit=t.item}let Jr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Mm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Mm{constructor(){this.$implicit=null,this.ngIf=null}}function pi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class Ks{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Na=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Kc=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new Ks(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Na,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();const L_=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Zl=(()=>{class n{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",i,s){if(null==e||""===e||e!=e)return null;try{return Mn(e,r,s||this.locale,i??this.defaultTimezone??void 0)}catch(o){throw function Xs(n,t){return new l.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.soG,16),l.Y36(L_,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Mf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Qs="browser";function Xl(n){return"server"===n}let Rf=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Rm((0,l.LFG)(Fe),window)}),n})();class Rm{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Wi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=_o(this.window.history)||_o(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _o(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ba extends class Lf extends class qe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Pe(n){te||(te=n)}(new Ba)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Vf(){return Ua=Ua||document.querySelector("base"),Ua?Ua.getAttribute("href"):null}();return null==e?null:function ga(n){Hr=Hr||document.createElement("a"),Hr.setAttribute("href",n);const t=Hr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function sh(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Hr,Ua=null;const jr=new l.OlP("TRANSITION_ID"),mh=[{provide:l.ip1,useFactory:function ph(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const r=H(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[jr,Fe,l.zs3],multi:!0}];let gh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _h=new l.OlP("EventManagerPlugins");let Uf=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(_h),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class vh{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=H().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let sc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),oc=(()=>{class n extends sc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Hf),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Hf))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Hf(n){H().remove(n)}const ac={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jf=/%COMP%/g;function sd(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?sd(n,i,e):(i=i.replace(jf,n),e.push(i))}return e}function od(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let du=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new _a(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new $f(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case l.ifc.ShadowDom:return new Bm(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=sd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Uf),l.LFG(oc),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class _a{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ac[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(fu(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(fu(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=ac[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=ac[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,r,i&l.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,od(r)):this.eventManager.addEventListener(t,e,od(r))}}function fu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $f extends _a{constructor(t,e,r,i){super(t),this.component=r;const s=sd(i+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr=function ti(n){return"_ngcontent-%COMP%".replace(jf,n)}(i+"-"+r.id),this.hostAttr=function id(n){return"_nghost-%COMP%".replace(jf,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Bm extends _a{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=sd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const u=document.createElement("style");u.textContent=s[o],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _i=(()=>{class n extends vh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Um=["alt","control","meta","shift"],Ha={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pu=(()=>{class n extends vh{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),o="code."),Um.forEach(p=>{const g=r.indexOf(p);g>-1&&(r.splice(g,1),o+=p+".")}),o+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=i,h.fullKey=o,h}static matchEventFullKeyCode(e,r){let i=Ha[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Um.forEach(o=>{o!==i&&(0,xh[o])(e)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const mu=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Qs},{provide:l.g9A,useValue:function Zf(){Ba.makeCurrent()},multi:!0},{provide:Fe,useFactory:function bh(){return(0,l.RDi)(document),document},deps:[]}]),hl=new l.OlP(""),gu=[{provide:l.rWj,useClass:class Bf{addToWindow(t){l.dqk.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let s=i.length,o=!1;const u=function(h){o=o||h,s--,0==s&&r(o)};i.forEach(function(h){h.whenStable(u)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?H().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],cc=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function va(){return new l.qLn},deps:[]},{provide:_h,useClass:_i,multi:!0,deps:[Fe,l.R0b,l.Lbi]},{provide:_h,useClass:pu,multi:!0,deps:[Fe]},{provide:du,useClass:du,deps:[Uf,oc,l.AFp]},{provide:l.FYo,useExisting:du},{provide:sc,useExisting:oc},{provide:oc,useClass:oc,deps:[Fe]},{provide:Uf,useClass:Uf,deps:[_h,l.R0b]},{provide:class Ql{},useClass:gh,deps:[]},[]];let fl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:jr,useExisting:l.AFp},mh]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(hl,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...cc,...gu],imports:[Mf,l.hGG]}),n})(),No=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function _u(){return new No((0,l.LFG)(Fe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var vr=z(8996),vi=z(9751);const{isArray:Dh}=Array,{getPrototypeOf:Yf,prototype:is,keys:ya}=Object;function vu(n){if(1===n.length){const t=n[0];if(Dh(t))return{args:t,keys:null};if(function ml(n){return n&&"object"==typeof n&&Yf(n)===is}(t)){const e=ya(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Vs=z(8421),gl=z(3269),ri=z(5403),bn=z(4004);const{isArray:vc}=Array;function hd(n){return(0,bn.U)(t=>function Kf(n,t){return vc(t)?n(...t):n(t)}(n,t))}function vs(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}let yo=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),wa=(()=>{class n extends yo{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ss=new l.OlP("NgValueAccessor"),Th={provide:ss,useExisting:(0,l.Gpc)(()=>_l),multi:!0},j_=new l.OlP("CompositionEventMode");let _l=(()=>{class n extends yo{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xf(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(j_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&l.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[l._Bn([Th]),l.qOj]}),n})();function wo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Vo(n){return null!=n&&"number"==typeof n.length}const Wr=new l.OlP("NgValidators"),Bo=new l.OlP("NgAsyncValidators"),wc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Uo{static min(t){return function fd(n){return t=>{if(wo(t.value)||wo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Ga(n){return t=>{if(wo(t.value)||wo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function Ah(n){return wo(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function xc(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function xa(n){return wo(n.value)||wc.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Qf(n){return t=>wo(t.value)||!Vo(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ii(n){return t=>Vo(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function pd(n){if(!n)return M;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(wo(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return Pt(t)}static composeAsync(t){return En(t)}}function M(n){return null}function F(n){return null!=n}function N(n){return(0,l.QGY)(n)?(0,vr.D)(n):n}function X(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function xe(n,t){return t.map(e=>e(n))}function mt(n){return n.map(t=>function Ve(n){return!n.validate}(t)?t:e=>t.validate(e))}function Pt(n){if(!n)return null;const t=n.filter(F);return 0==t.length?null:function(e){return X(xe(e,t))}}function fn(n){return null!=n?Pt(mt(n)):null}function En(n){if(!n)return null;const t=n.filter(F);return 0==t.length?null:function(e){return function yu(...n){const t=(0,gl.jO)(n),{args:e,keys:r}=vu(n),i=new vi.y(s=>{const{length:o}=e;if(!o)return void s.complete();const u=new Array(o);let h=o,p=o;for(let g=0;g<o;g++){let y=!1;(0,Vs.Xf)(e[g]).subscribe((0,ri.x)(s,E=>{y||(y=!0,p--),u[g]=E},()=>h--,void 0,()=>{(!h||!y)&&(p||s.next(r?vs(r,u):u),s.complete())}))}});return t?i.pipe(hd(t)):i}(xe(e,t).map(N)).pipe((0,bn.U)(X))}}function Pn(n){return null!=n?En(mt(n)):null}function _n(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function si(n){return n._rawValidators}function Ai(n){return n._rawAsyncValidators}function $a(n){return n?Array.isArray(n)?n:[n]:[]}function ba(n,t){return Array.isArray(n)?n.includes(t):n===t}function vl(n,t){const e=$a(t);return $a(n).forEach(i=>{ba(e,i)||e.push(i)}),e}function za(n,t){return $a(t).filter(e=>!ba(n,e))}class Ho{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class yi extends Ho{get formDirective(){return null}get path(){return null}}class ys extends Ho{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Za{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kh=(()=>{class n extends Za{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ys,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),Wa=(()=>{class n extends Za{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const bu="VALID",Mh="INVALID",Eu="PENDING",bc="DISABLED";function Jf(n){return(tp(n)?n.validators:n)||null}function ep(n){return Array.isArray(n)?fn(n):n||null}function Xm(n,t){return(tp(t)?t.asyncValidators:n)||null}function Qm(n){return Array.isArray(n)?Pn(n):n||null}function tp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Cu{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ep(this._rawValidators),this._composedAsyncValidatorFn=Qm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===bu}get invalid(){return this.status===Mh}get pending(){return this.status==Eu}get disabled(){return this.status===bc}get enabled(){return this.status!==bc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ep(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Qm(t)}addValidators(t){this.setValidators(vl(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(vl(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(za(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(za(t,this._rawAsyncValidators))}hasValidator(t){return ba(this._rawValidators,t)}hasAsyncValidator(t){return ba(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Eu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bc,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bu,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bu||this.status===Eu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bc:bu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Eu,this._hasOwnPendingAsyncValidator=!0;const e=N(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?bc:this.errors?Mh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eu)?Eu:this._anyControlsHaveStatus(Mh)?Mh:bu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Du extends Cu{constructor(t,e,r){super(Jf(e),Xm(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function yl(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function np(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function b(n,t){return[...t.path,n]}function v(n,t){G(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function ut(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&cn(n,t)})}(n,t),function Gn(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Ut(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&cn(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function P(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function w(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Ae(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function S(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function G(n,t){const e=si(n);null!==t.validator?n.setValidators(_n(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=Ai(n);null!==t.asyncValidator?n.setAsyncValidators(_n(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();S(t._rawValidators,i),S(t._rawAsyncValidators,i)}function Ae(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=si(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const i=Ai(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}const r=()=>{};return S(t._rawValidators,r),S(t._rawAsyncValidators,r),e}function cn(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Or(n,t){G(n,t)}function _d(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function eg(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tg(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===_l?e=s:function ip(n){return Object.getPrototypeOf(n.constructor)===wa}(s)?r=s:i=s}),i||r||e||null}const q_={provide:yi,useExisting:(0,l.Gpc)(()=>jo)},Rh=(()=>Promise.resolve(null))();let jo=(()=>{class n extends yi{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Du({},fn(e),Pn(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Rh.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),v(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Rh.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Rh.then(()=>{const r=this._findContainer(e.path),i=new Du({});Or(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Rh.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Rh.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,eg(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Wr,10),l.Y36(Bo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&l.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([q_]),l.qOj]}),n})();function rg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function ig(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const sg=class extends Cu{constructor(t=null,e,r){super(Jf(e),Xm(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=ig(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){rg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){rg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){ig(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},LI={provide:ys,useExisting:(0,l.Gpc)(()=>V1)},vC=(()=>Promise.resolve(null))();let V1=(()=>{class n extends ys{constructor(e,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new sg,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tg(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),_d(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){v(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){vC.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&(0,l.D6c)(r);vC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?b(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi,9),l.Y36(Wr,10),l.Y36(Bo,10),l.Y36(ss,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([LI]),l.qOj,l.TTD]}),n})(),sp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),U1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const og=new l.OlP("NgModelWithFormControlWarning"),j1={provide:yi,useExisting:(0,l.Gpc)(()=>vd)};let vd=(()=>{class n extends yi{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ae(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return v(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){w(e.control||null,e,!1),function ng(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,eg(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(w(r||null,e),(n=>n instanceof sg)(i)&&(v(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);Or(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function Ea(n,t){return Ae(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G(this.form,this),this._oldForm&&Ae(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Wr,10),l.Y36(Bo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&l.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([j1]),l.qOj,l.TTD]}),n})();const UI={provide:ys,useExisting:(0,l.Gpc)(()=>Fh)};let Fh=(()=>{class n extends ys{constructor(e,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tg(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),_d(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return b(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(yi,13),l.Y36(Wr,10),l.Y36(Bo,10),l.Y36(ss,10),l.Y36(og,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([UI]),l.qOj,l.TTD]}),n})();const Y_={provide:ss,useExisting:(0,l.Gpc)(()=>cg),multi:!0};function yd(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let cg=(()=>{class n extends wa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=yd(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function CC(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&l.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Y_]),l.qOj]}),n})(),K_=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(yd(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(cg,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const HI={provide:ss,useExisting:(0,l.Gpc)(()=>$1),multi:!0};function G1(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let $1=(()=>{class n extends wa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let u=0;u<o.length;u++){const p=this._getOptionValue(o[u].value);i.push(p)}}else{const o=r.options;for(let u=0;u<o.length;u++){const h=o[u];if(h.selected){const p=this._getOptionValue(h.value);i.push(p)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function ap(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&l.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([HI]),l.qOj]}),n})(),X_=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(G1(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(G1(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36($1,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),RC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[U1]}),n})(),q1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[RC]}),n})(),pN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:og,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[RC]}),n})();function an(...n){const t=(0,gl.yG)(n);return(0,vr.D)(n,t)}var Cn=z(7579);class Ca extends Cn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const hg=(0,z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Nh=z(4671),WI=z(9672);function fg(...n){const t=(0,gl.yG)(n),e=(0,gl.jO)(n),{args:r,keys:i}=vu(n);if(0===r.length)return(0,vr.D)([],t);const s=new vi.y(function pg(n,t,e=Nh.y){return r=>{PC(t,()=>{const{length:i}=n,s=new Array(i);let o=i,u=i;for(let h=0;h<i;h++)PC(t,()=>{const p=(0,vr.D)(n[h],t);let g=!1;p.subscribe((0,ri.x)(r,y=>{s[h]=y,g||(g=!0,u--),u||r.next(e(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>vs(i,o):Nh.y));return e?s.pipe(hd(e)):s}function PC(n,t,e){n?(0,WI.f)(e,n,t):t()}var mg=z(8189);function gg(...n){return function qI(){return(0,mg.J)(1)}()((0,vr.D)(n,(0,gl.yG)(n)))}function NC(n){return new vi.y(t=>{(0,Vs.Xf)(n()).subscribe(t)})}var YI=z(9635),Ec=z(576);function _g(n,t){const e=(0,Ec.m)(n)?n:()=>n,r=i=>i.error(e());return new vi.y(t?i=>t.schedule(r,0,i):r)}var Cc=z(515),os=z(727),ws=z(4482);function Y1(){return(0,ws.e)((n,t)=>{let e=null;n._refCount++;const r=(0,ri.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class K1 extends vi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ws.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new os.w0;const e=this.getSubject();t.add(this.source.subscribe((0,ri.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=os.w0.EMPTY)}return t}refCount(){return Y1()(this)}}function as(n,t){return(0,ws.e)((e,r)=>{let i=null,s=0,o=!1;const u=()=>o&&!i&&r.complete();e.subscribe((0,ri.x)(r,h=>{i?.unsubscribe();let p=0;const g=s++;(0,Vs.Xf)(n(h,g)).subscribe(i=(0,ri.x)(r,y=>r.next(t?t(h,y,g,p++):y),()=>{i=null,u()}))},()=>{o=!0,u()}))})}function Go(n){return n<=0?()=>Cc.E:(0,ws.e)((t,e)=>{let r=0;t.subscribe((0,ri.x)(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Pr(...n){const t=(0,gl.yG)(n);return(0,ws.e)((e,r)=>{(t?gg(n,e,t):gg(n,e)).subscribe(r)})}function no(n,t){return(0,ws.e)((e,r)=>{let i=0;e.subscribe((0,ri.x)(r,s=>n.call(t,s,i++)&&r.next(s)))})}var Bs=z(5577);function lp(n){return(0,ws.e)((t,e)=>{let r=!1;t.subscribe((0,ri.x)(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Us(n=vg){return(0,ws.e)((t,e)=>{let r=!1;t.subscribe((0,ri.x)(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function vg(){return new hg}function wl(n,t){const e=arguments.length>=2;return r=>r.pipe(n?no((i,s)=>n(i,s,r)):Nh.y,Go(1),e?lp(t):Us(()=>new hg))}function Lh(n,t){return(0,Ec.m)(t)?(0,Bs.z)(n,t,1):(0,Bs.z)(n,1)}var Hs=z(8505);function Tu(n){return(0,ws.e)((t,e)=>{let s,r=null,i=!1;r=t.subscribe((0,ri.x)(e,void 0,void 0,o=>{s=(0,Vs.Xf)(n(o,Tu(n)(t))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function KI(n,t,e,r,i){return(s,o)=>{let u=e,h=t,p=0;s.subscribe((0,ri.x)(o,g=>{const y=p++;h=u?n(h,g,y):(u=!0,g),r&&o.next(h)},i&&(()=>{u&&o.next(h),o.complete()})))}}function cp(n,t){return(0,ws.e)(KI(n,t,arguments.length>=2,!0))}function X1(n){return n<=0?()=>Cc.E:(0,ws.e)((t,e)=>{let r=[];t.subscribe((0,ri.x)(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Q1(n,t){const e=arguments.length>=2;return r=>r.pipe(n?no((i,s)=>n(i,s,r)):Nh.y,X1(1),e?lp(t):Us(()=>new hg))}function J1(n){return(0,ws.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Jn="primary",yg=Symbol("RouteTitle");class up{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $o(n){return new up(n)}function JI(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],u=n[s];if(o.startsWith(":"))i[o.substring(1)]=u;else if(o!==u.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Au(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!tk(n[i],t[i]))return!1;return!0}function tk(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}return n===t}function ew(n){return Array.prototype.concat.apply([],n)}function nk(n){return n.length>0?n[n.length-1]:null}function ls(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Dc(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,vr.D)(Promise.resolve(n)):an(n)}const rk={exact:function J_(n,t,e){if(!Vh(n.segments,t.segments)||!ku(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!J_(n.children[r],t.children[r],e))return!1;return!0},subset:rw},dp={exact:function ik(n,t){return Au(n,t)},subset:function nw(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>tk(n[e],t[e]))},ignored:()=>!0};function VC(n,t,e){return rk[e.paths](n.root,t.root,e.matrixParams)&&dp[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function rw(n,t,e){return sk(n,t,t.segments,e)}function sk(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Vh(i,e)||t.hasChildren()||!ku(i,e,r))}if(n.segments.length===e.length){if(!Vh(n.segments,e)||!ku(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!rw(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Vh(n.segments,i)&&ku(n.segments,i,r)&&n.children[Jn])&&sk(n.children[Jn],t,s,r)}}function ku(n,t,e){return t.every((r,i)=>dp[e](n[i].parameters,r.parameters))}class Mu{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$o(this.queryParams)),this._queryParamMap}toString(){return ak.serialize(this)}}class er{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ls(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ev(this)}}class wg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$o(this.parameters)),this._parameterMap}toString(){return cw(this)}}function Vh(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let BC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new sw},providedIn:"root"}),n})();class sw{parse(t){const e=new GC(t);return new Mu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${hp(t.root,!0)}`,r=function UC(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${xg(e)}=${xg(i)}`).join("&"):`${xg(e)}=${xg(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function ow(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ak=new sw;function ev(n){return n.segments.map(t=>cw(t)).join("/")}function hp(n,t){if(!n.hasChildren())return ev(n);if(t){const e=n.children[Jn]?hp(n.children[Jn],!1):"",r=[];return ls(n.children,(i,s)=>{s!==Jn&&r.push(`${s}:${hp(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function ok(n,t){let e=[];return ls(n.children,(r,i)=>{i===Jn&&(e=e.concat(t(r,i)))}),ls(n.children,(r,i)=>{i!==Jn&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Jn?[hp(n.children[Jn],!1)]:[`${i}:${hp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jn]?`${ev(n)}/${e[0]}`:`${ev(n)}/(${e.join("//")})`}}function tv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xg(n){return tv(n).replace(/%3B/gi,";")}function aw(n){return tv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nv(n){return decodeURIComponent(n)}function lw(n){return nv(n.replace(/\+/g,"%20"))}function cw(n){return`${aw(n.path)}${function Bh(n){return Object.keys(n).map(t=>`;${aw(t)}=${aw(n[t])}`).join("")}(n.parameters)}`}const HC=/^[^\/()?;=#]+/;function rv(n){const t=n.match(HC);return t?t[0]:""}const _N=/^[^=?&#]+/,lk=/^[^&#]+/;class GC{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new er([],{}):new er([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Jn]=new er(t,e)),r}parseSegment(){const t=rv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(t),new wg(nv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=rv(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=rv(this.remaining);i&&(r=i,this.capture(r))}t[nv(e)]=nv(r)}parseQueryParam(t){const e=function iv(n){const t=n.match(_N);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=function jC(n){const t=n.match(lk);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=lw(e),s=lw(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Jn);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Jn]:new er([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,!1)}}function sv(n){return n.segments.length>0?new er([],{[Jn]:n}):n}function fp(n){const t={};for(const r of Object.keys(n.children)){const s=fp(n.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function $C(n){if(1===n.numberOfChildren&&n.children[Jn]){const t=n.children[Jn];return new er(n.segments.concat(t.segments),t.children)}return n}(new er(n.segments,t))}function Sc(n){return n instanceof Mu}function dw(n,t,e,r,i){if(0===e.length)return Uh(t.root,t.root,t.root,r,i);const s=function hw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new WC(!0,0,n);let t=0,e=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return ls(s.outlets,(h,p)=>{u[p]="string"==typeof h?h.split("/"):h}),[...i,{outlets:u}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((u,h)=>{0==h&&"."===u||(0==h&&""===u?e=!0:".."===u?t++:""!=u&&i.push(u))}),i):[...i,s]},[]);return new WC(e,t,r)}(e);return s.toRoot()?Uh(t.root,t.root,new er([],{}),r,i):function o(h){const p=function vN(n,t,e,r){if(n.isAbsolute)return new wd(t.root,!0,0);if(-1===r)return new wd(e,e===t.root,0);return function fw(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new wd(r,!1,i-s)}(e,r+(Ru(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,h),g=p.processChildren?Eg(p.segmentGroup,p.index,s.commands):ov(p.segmentGroup,p.index,s.commands);return Uh(t.root,p.segmentGroup,g,r,i)}(n.snapshot?._lastPathIndex)}function Ru(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bg(n){return"object"==typeof n&&null!=n&&n.outlets}function Uh(n,t,e,r,i){let o,s={};r&&ls(r,(h,p)=>{s[p]=Array.isArray(h)?h.map(g=>`${g}`):`${h}`}),o=n===t?e:ZC(n,t,e);const u=sv(fp(o));return new Mu(u,s,i)}function ZC(n,t,e){const r={};return ls(n.children,(i,s)=>{r[s]=i===t?e:ZC(i,t,e)}),new er(n.segments,r)}class WC{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Ru(r[0]))throw new l.vHH(4003,!1);const i=r.find(bg);if(i&&i!==nk(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wd{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function ov(n,t,e){if(n||(n=new er([],{})),0===n.segments.length&&n.hasChildren())return Eg(n,t,e);const r=function dk(n,t,e){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;const o=n.segments[i],u=e[r];if(bg(u))break;const h=`${u}`,p=r<e.length-1?e[r+1]:null;if(i>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!YC(h,p,o))return s;r+=2}else{if(!YC(h,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new er(n.segments.slice(0,r.pathIndex),{});return s.children[Jn]=new er(n.segments.slice(r.pathIndex),n.children),Eg(s,0,i)}return r.match&&0===i.length?new er(n.segments,{}):r.match&&!n.hasChildren()?Da(n,t,e):r.match?Eg(n,0,i):Da(n,t,e)}function Eg(n,t,e){if(0===e.length)return new er(n.segments,{});{const r=function uk(n){return bg(n[0])?n[0].outlets:{[Jn]:n}}(e),i={};return ls(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=ov(n.children[o],t,s))}),ls(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new er(n.segments,i)}}function Da(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const s=e[i];if(bg(s)){const h=hk(s.outlets);return new er(r,h)}if(0===i&&Ru(e[0])){r.push(new wg(n.segments[t].path,pw(e[0]))),i++;continue}const o=bg(s)?s.outlets[Jn]:`${s}`,u=i<e.length-1?e[i+1]:null;o&&u&&Ru(u)?(r.push(new wg(o,pw(u))),i+=2):(r.push(new wg(o,{})),i++)}return new er(r,{})}function hk(n){const t={};return ls(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Da(new er([],{}),0,e))}),t}function pw(n){const t={};return ls(n,(e,r)=>t[r]=`${e}`),t}function YC(n,t,e){return n==e.path&&Au(t,e.parameters)}class Fu{constructor(t,e){this.id=t,this.url=e}}class mw extends Fu{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hh extends Fu{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cg extends Fu{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class KC extends Fu{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fk extends Fu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pk extends Fu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un extends Fu{constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XC extends Fu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QC extends Fu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JC{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mk{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gk{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eD{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _k{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tD{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nD{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yk{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=av(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=av(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=lv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return lv(t,this._root).map(e=>e.value)}}function av(n,t){if(n===t.value)return t;for(const e of t.children){const r=av(n,e);if(r)return r}return null}function lv(n,t){if(n===t.value)return[t];for(const e of t.children){const r=lv(n,e);if(r.length)return r.unshift(t),r}return[]}class xo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function mp(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class cv extends yk{constructor(t,e){super(t),this.snapshot=e,rD(this,t)}toString(){return this.snapshot.toString()}}function uv(n,t){const e=function wk(n,t){const o=new dv([],{},{},"",{},Jn,t,null,n.root,-1,{});return new gw("",new xo(o,[]))}(n,t),r=new Ca([new wg("",{})]),i=new Ca({}),s=new Ca({}),o=new Ca({}),u=new Ca(""),h=new jh(r,i,o,u,s,Jn,t,e.root);return h.snapshot=e.root,new cv(new xo(h,[]),e)}class jh{constructor(t,e,r,i,s,o,u,h){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=u,this.title=this.data?.pipe((0,bn.U)(p=>p[yg]))??an(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bn.U)(t=>$o(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bn.U)(t=>$o(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xk(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function yN(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class dv{constructor(t,e,r,i,s,o,u,h,p,g,y,E){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=u,this.title=this.data?.[yg],this.routeConfig=h,this._urlSegment=p,this._lastPathIndex=g,this._correctedLastPathIndex=E??g,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$o(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$o(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gw extends yk{constructor(t,e){super(e),this.url=t,rD(this,e)}toString(){return iD(this._root)}}function rD(n,t){t.value._routerState=n,t.children.forEach(e=>rD(n,e))}function iD(n){const t=n.children.length>0?` { ${n.children.map(iD).join(", ")} } `:"";return`${n.value}${t}`}function xd(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Au(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Au(t.params,e.params)||n.params.next(e.params),function ek(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Au(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Au(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _w(n,t){const e=Au(n.params,t.params)&&function iw(n,t){return Vh(n,t)&&n.every((e,r)=>Au(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||_w(n.parent,t.parent))}function bd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function bk(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return bd(n,r,i);return bd(n,r)})}(n,t,e);return new xo(r,i)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(u=>bd(n,u)),o}}const r=function oD(n){return new jh(new Ca(n.url),new Ca(n.params),new Ca(n.queryParams),new Ca(n.fragment),new Ca(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(s=>bd(n,s));return new xo(r,i)}}const vw="ngNavigationCancelingError";function aD(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Sc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=lD(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function lD(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[vw]=!0,r.cancellationCode=t,e&&(r.url=e),r}function cD(n){return uD(n)&&Sc(n.url)}function uD(n){return n&&n[vw]}class dD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Dg,this.attachRef=null}}let Dg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new dD,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sg=!1;let hv=(()=>{class n{constructor(e,r,i,s,o){this.parentContexts=e,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||Jn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Sg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Sg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Sg);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new l.vHH(4013,Sg);this._activatedRoute=e;const i=this.location,o=e._futureSnapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new yw(e,u,i.injector);if(r&&function wN(n){return!!n.resolveComponentFactory}(r)){const p=r.resolveComponentFactory(o);this.activated=i.createComponent(p,i.length,h)}else this.activated=i.createComponent(o,{index:i.length,injector:h,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Dg),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class yw{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===jh?this.route:t===Dg?this.childContexts:this.parent.get(t,e)}}let Tg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(e,r){1&e&&l._UZ(0,"router-outlet")},dependencies:[hv],encapsulation:2}),n})();function hD(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ig(n){const t=n.children&&n.children.map(Ig),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Jn&&(e.component=Tg),e}function qi(n){return n.outlet||Jn}function fv(n,t){const e=n.filter(r=>qi(r)===t);return e.push(...n.filter(r=>qi(r)!==t)),e}function _p(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class xN{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),xd(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=mp(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),ls(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=mp(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=mp(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=mp(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new tD(s.value.snapshot))}),t.children.length&&this.forwardEvent(new eD(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(xd(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(u.contexts),o.attachRef=u.componentRef,o.route=u.route.value,o.outlet&&o.outlet.attach(u.componentRef,u.route.value),xd(u.route.value),this.activateChildRoutes(t,null,o.children)}else{const u=_p(i.snapshot),h=u?.get(l._Vd)??null;o.attachRef=null,o.route=i,o.resolver=h,o.injector=u,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class xw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class bw{constructor(t,e){this.component=t,this.route=e}}function pv(n,t,e){const r=n._root;return Gh(r,t?t._root:null,e,[r.value])}function Ed(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,l.Z0I)(n)?t.get(n):n:r}function Gh(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=mp(t);return n.children.forEach(o=>{(function Ew(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const h=function bN(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Vh(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Vh(n.url,t.url)||!Au(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_w(n,t)||!Au(n.queryParams,t.queryParams);default:return!_w(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);h?i.canActivateChecks.push(new xw(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Gh(n,t,s.component?u?u.children:null:e,r,i),h&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new bw(u.outlet.component,o))}else o&&kg(t,u,i),i.canActivateChecks.push(new xw(r)),Gh(n,null,s.component?u?u.children:null:e,r,i)})(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),ls(s,(o,u)=>kg(o,e.getContext(u),i)),i}function kg(n,t,e){const r=mp(n),i=n.value;ls(r,(s,o)=>{kg(s,i.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new bw(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Mg(n){return"function"==typeof n}function Cw(n){return n instanceof hg||"EmptyError"===n?.name}const vp=Symbol("INITIAL_VALUE");function Rg(){return as(n=>fg(n.map(t=>t.pipe(Go(1),Pr(vp)))).pipe((0,bn.U)(t=>{for(const e of t)if(!0!==e){if(e===vp)return vp;if(!1===e||e instanceof Mu)return e}return!0}),no(t=>t!==vp),Go(1)))}function Ou(n){return(0,YI.z)((0,Hs.b)(t=>{if(Sc(t))throw aD(0,t)}),(0,bn.U)(t=>!0===t))}const Sw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tw(n,t,e,r,i){const s=Fg(n,t,e);return s.matched?function Dw(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?an(i.map(o=>{const u=Ed(o,n);return Dc(function CN(n){return n&&Mg(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(Rg(),Ou()):an(!0)}(r=hD(t,r),t,e).pipe((0,bn.U)(o=>!0===o?s:{...Sw})):an(s)}function Fg(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Sw}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||JI)(e,n,t);if(!i)return{...Sw};const s={};ls(i.posParams,(u,h)=>{s[h]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Og(n,t,e,r,i="corrected"){if(e.length>0&&function Cd(n,t,e){return e.some(r=>gv(n,t,r)&&qi(r)!==Jn)}(n,e,r)){const o=new er(t,function kk(n,t,e,r){const i={};i[Jn]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&qi(s)!==Jn){const o=new er([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,i[qi(s)]=o}return i}(n,t,r,new er(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function gD(n,t,e){return e.some(r=>gv(n,t,r))}(n,e,r)){const o=new er(n.segments,function Aw(n,t,e,r,i,s){const o={};for(const u of r)if(gv(n,e,u)&&!i[qi(u)]){const h=new er([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:t.length,o[qi(u)]=h}return{...i,...o}}(n,t,e,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new er(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function gv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function _D(n,t,e,r){return!!(qi(n)===r||r!==Jn&&gv(t,e,n))&&("**"===n.path||Fg(t,n,e).matched)}function Iw(n,t,e){return 0===t.length&&!n.children[e]}const _v=!1;class vv{constructor(t){this.segmentGroup=t||null}}class Pg{constructor(t){this.urlTree=t}}function Tc(n){return _g(new vv(n))}function yv(n){return _g(new Pg(n))}class Mk{constructor(t,e,r,i,s){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const t=Og(this.urlTree.root,[],[],this.config).segmentGroup,e=new er(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Jn).pipe((0,bn.U)(s=>this.createUrlTree(fp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Tu(s=>{if(s instanceof Pg)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof vv?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Jn).pipe((0,bn.U)(i=>this.createUrlTree(fp(i),t.queryParams,t.fragment))).pipe(Tu(i=>{throw i instanceof vv?this.noMatchError(i):i}))}noMatchError(t){return new l.vHH(4002,_v)}createUrlTree(t,e,r){const i=sv(t);return new Mu(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,bn.U)(s=>new er([],s))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,vr.D)(i).pipe(Lh(s=>{const o=r.children[s],u=fv(e,s);return this.expandSegmentGroup(t,u,o,s).pipe((0,bn.U)(h=>({segment:h,outlet:s})))}),cp((s,o)=>(s[o.outlet]=o.segment,s),{}),Q1())}expandSegment(t,e,r,i,s,o){return(0,vr.D)(r).pipe(Lh(u=>this.expandSegmentAgainstRoute(t,e,r,u,i,s,o).pipe(Tu(p=>{if(p instanceof vv)return an(null);throw p}))),wl(u=>!!u),Tu((u,h)=>{if(Cw(u))return Iw(e,i,s)?an(new er([],{})):Tc(e);throw u}))}expandSegmentAgainstRoute(t,e,r,i,s,o,u){return _D(i,e,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,s,o):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o):Tc(e):Tc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yv(s):this.lineralizeSegments(r,s).pipe((0,Bs.z)(o=>{const u=new er(o,{});return this.expandSegment(t,u,e,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){const{matched:u,consumedSegments:h,remainingSegments:p,positionalParamSegments:g}=Fg(e,i,s);if(!u)return Tc(e);const y=this.applyRedirectCommands(h,i.redirectTo,g);return i.redirectTo.startsWith("/")?yv(y):this.lineralizeSegments(i,y).pipe((0,Bs.z)(E=>this.expandSegment(t,e,r,E.concat(p),o,!1)))}matchSegmentAgainstRoute(t,e,r,i,s){return"**"===r.path?(t=hD(r,t),r.loadChildren?(r._loadedRoutes?an({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,bn.U)(u=>(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,new er(i,{})))):an(new er(i,{}))):Tw(e,r,i,t).pipe(as(({matched:o,consumedSegments:u,remainingSegments:h})=>o?this.getChildConfig(t=r._injector??t,r,i).pipe((0,Bs.z)(g=>{const y=g.injector??t,E=g.routes,{segmentGroup:T,slicedSegments:k}=Og(e,u,h,E),D=new er(T.segments,T.children);if(0===k.length&&D.hasChildren())return this.expandChildren(y,E,D).pipe((0,bn.U)(V=>new er(u,V)));if(0===E.length&&0===k.length)return an(new er(u,{}));const R=qi(r)===s;return this.expandSegment(y,D,E,k,R?Jn:s,!0).pipe((0,bn.U)(j=>new er(u.concat(j.segments),j.children)))})):Tc(e)))}getChildConfig(t,e,r){return e.children?an({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?an({routes:e._loadedRoutes,injector:e._loadedInjector}):function FN(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?an(!0):an(i.map(o=>{const u=Ed(o,n);return Dc(function Tk(n){return n&&Mg(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(Rg(),Ou())}(t,e,r).pipe((0,Bs.z)(i=>i?this.configLoader.loadChildren(t,e).pipe((0,Hs.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function wv(n){return _g(lD(_v,3))}())):an({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return an(r);if(i.numberOfChildren>1||!i.children[Jn])return _g(new l.vHH(4e3,_v));i=i.children[Jn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const s=this.createSegmentGroup(t,e.root,r,i);return new Mu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ls(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const u=i.substring(1);r[s]=e[u]}else r[s]=i}),r}createSegmentGroup(t,e,r,i){const s=this.createSegments(t,e.segments,r,i);let o={};return ls(e.children,(u,h)=>{o[h]=this.createSegmentGroup(t,u,r,i)}),new er(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new l.vHH(4001,_v);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class kw{}class Rw{constructor(t,e,r,i,s,o,u,h){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u,this.urlSerializer=h}recognize(){const t=Og(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Jn).pipe((0,bn.U)(e=>{if(null===e)return null;const r=new dv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new xo(r,e),s=new gw(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,r=xk(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return(0,vr.D)(Object.keys(r.children)).pipe(Lh(i=>{const s=r.children[i],o=fv(e,i);return this.processSegmentGroup(t,o,s,i)}),cp((i,s)=>i&&s?(i.push(...s),i):null),function XI(n,t=!1){return(0,ws.e)((e,r)=>{let i=0;e.subscribe((0,ri.x)(r,s=>{const o=n(s,i++);(o||t)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),lp(null),Q1(),(0,bn.U)(i=>{if(null===i)return null;const s=Fw(i);return function Rk(n){n.sort((t,e)=>t.value.outlet===Jn?-1:e.value.outlet===Jn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,r,i,s){return(0,vr.D)(e).pipe(Lh(o=>this.processSegmentAgainstRoute(o._injector??t,o,r,i,s)),wl(o=>!!o),Tu(o=>{if(Cw(o))return Iw(r,i,s)?an([]):an(null);throw o}))}processSegmentAgainstRoute(t,e,r,i,s){if(e.redirectTo||!_D(e,r,i,s))return an(null);let o;if("**"===e.path){const u=i.length>0?nk(i).parameters:{},h=Pw(r)+i.length;o=an({snapshot:new dv(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zo(e),qi(e),e.component??e._loadedComponent??null,e,Ow(r),h,Nw(e),h),consumedSegments:[],remainingSegments:[]})}else o=Tw(r,e,i,t).pipe((0,bn.U)(({matched:u,consumedSegments:h,remainingSegments:p,parameters:g})=>{if(!u)return null;const y=Pw(r)+h.length;return{snapshot:new dv(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zo(e),qi(e),e.component??e._loadedComponent??null,e,Ow(r),y,Nw(e),y),consumedSegments:h,remainingSegments:p}}));return o.pipe(as(u=>{if(null===u)return an(null);const{snapshot:h,consumedSegments:p,remainingSegments:g}=u;t=e._injector??t;const y=e._loadedInjector??t,E=function ON(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:T,slicedSegments:k}=Og(r,p,g,E.filter(R=>void 0===R.redirectTo),this.relativeLinkResolution);if(0===k.length&&T.hasChildren())return this.processChildren(y,E,T).pipe((0,bn.U)(R=>null===R?null:[new xo(h,R)]));if(0===E.length&&0===k.length)return an([new xo(h,[])]);const D=qi(e)===s;return this.processSegment(y,E,T,k,D?Jn:s).pipe((0,bn.U)(R=>null===R?null:[new xo(h,R)]))}))}}function Fk(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Fw(n){const t=[],e=new Set;for(const r of n){if(!Fk(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=Fw(r.children);t.push(new xo(r.value,i))}return t.filter(r=>!e.has(r))}function Ow(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Pw(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function zo(n){return n.data||{}}function Nw(n){return n.resolve||{}}function bD(n){return"string"==typeof n.title||null===n.title}function Vw(n){return as(t=>{const e=n(t);return e?(0,vr.D)(e).pipe((0,bn.U)(()=>t)):an(t)})}let Bw=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Jn);return r}getResolvedTitleForRoute(e){return e.data[yg]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(ED)},providedIn:"root"}),n})(),ED=(()=>{class n extends Bw{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(No))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bk{}class CD extends class Uk{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const xv=new l.OlP("",{providedIn:"root",factory:()=>({})}),Vg=new l.OlP("ROUTES");let Uw=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return an(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Dc(e.loadComponent()).pipe((0,Hs.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),J1(()=>{this.componentLoaders.delete(e)})),i=new K1(r,()=>new Cn.x).pipe(Y1());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return an({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,bn.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(r);let h,p,g=!1;Array.isArray(u)?p=u:(h=u.create(e).injector,p=ew(h.get(Vg,[],l.XFs.Self|l.XFs.Optional)));return{routes:p.map(Ig),injector:h}}),J1(()=>{this.childrenLoaders.delete(r)})),o=new K1(s,()=>new Cn.x).pipe(Y1());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(e){return Dc(e()).pipe((0,Bs.z)(r=>r instanceof l.YKP||Array.isArray(r)?an(r):(0,vr.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Hk{}class NN{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function jk(n){throw n}function Gk(n,t,e){return t.parse("/")}const $k={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function SD(){const n=(0,l.f3M)(BC),t=(0,l.f3M)(Dg),e=(0,l.f3M)(vt),r=(0,l.f3M)(l.zs3),i=(0,l.f3M)(l.Sil),s=(0,l.f3M)(Vg,{optional:!0})??[],o=(0,l.f3M)(xv,{optional:!0})??{},u=(0,l.f3M)(ED),h=(0,l.f3M)(Bw,{optional:!0}),p=(0,l.f3M)(Hk,{optional:!0}),g=(0,l.f3M)(Bk,{optional:!0}),y=new br(null,n,t,e,r,i,ew(s));return p&&(y.urlHandlingStrategy=p),g&&(y.routeReuseStrategy=g),y.titleStrategy=h??u,function zk(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,y),y}let br=(()=>{class n{constructor(e,r,i,s,o,u,h){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Cn.x,this.errorHandler=jk,this.malformedUriErrorHandler=Gk,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>an(void 0),this.urlHandlingStrategy=new NN,this.routeReuseStrategy=new CD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Uw),this.configLoader.onLoadEndListener=E=>this.triggerEvent(new mk(E)),this.configLoader.onLoadStartListener=E=>this.triggerEvent(new JC(E)),this.ngModule=o.get(l.h0i),this.console=o.get(l.c2e);const y=o.get(l.R0b);this.isNgZoneEnabled=y instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function LC(){return new Mu(new er([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=uv(this.currentUrlTree,this.rootComponentType),this.transitions=new Ca({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(no(i=>0!==i.id),(0,bn.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),as(i=>{let s=!1,o=!1;return an(i).pipe((0,Hs.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),as(u=>{const h=this.browserUrlTree.toString(),p=!this.navigated||u.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||p)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return TD(u.source)&&(this.browserUrlTree=u.extractedUrl),an(u).pipe(as(y=>{const E=this.transitions.getValue();return r.next(new mw(y.id,this.serializeUrl(y.extractedUrl),y.source,y.restoredState)),E!==this.transitions.getValue()?Cc.E:Promise.resolve(y)}),function vD(n,t,e,r){return as(i=>function Ng(n,t,e,r,i){return new Mk(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe((0,bn.U)(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Hs.b)(y=>{this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects},i.urlAfterRedirects=y.urlAfterRedirects}),function Pk(n,t,e,r,i,s){return(0,Bs.z)(o=>function yD(n,t,e,r,i,s,o="emptyOnly",u="legacy"){return new Rw(n,t,e,r,i,o,u,s).recognize().pipe(as(h=>null===h?function Mw(n){return new vi.y(t=>t.error(n))}(new kw):an(h)))}(n,t,e,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe((0,bn.U)(u=>({...o,targetSnapshot:u}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Hs.b)(y=>{if(i.targetSnapshot=y.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!y.extras.skipLocationChange){const T=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);this.setBrowserUrl(T,y)}this.browserUrlTree=y.urlAfterRedirects}const E=new fk(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);r.next(E)}));if(p&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:T,source:k,restoredState:D,extras:R}=u,B=new mw(E,this.serializeUrl(T),k,D);r.next(B);const j=uv(T,this.rootComponentType).snapshot;return an(i={...u,targetSnapshot:j,urlAfterRedirects:T,extras:{...R,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=u.rawUrl,u.resolve(null),Cc.E}),(0,Hs.b)(u=>{const h=new pk(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}),(0,bn.U)(u=>i={...u,guards:pv(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function DN(n,t){return(0,Bs.z)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?an({...e,guardsResult:!0}):function SN(n,t,e,r){return(0,vr.D)(n).pipe((0,Bs.z)(i=>function RN(n,t,e,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?an(s.map(u=>{const h=_p(t)??i,p=Ed(u,h);return Dc(function Ak(n){return n&&Mg(n.canDeactivate)}(p)?p.canDeactivate(n,t,e,r):h.runInContext(()=>p(n,t,e,r))).pipe(wl())})).pipe(Rg()):an(!0)}(i.component,i.route,e,t,r)),wl(i=>!0!==i,!0))}(o,r,i,n).pipe((0,Bs.z)(u=>u&&function Sk(n){return"boolean"==typeof n}(u)?function TN(n,t,e,r){return(0,vr.D)(t).pipe(Lh(i=>gg(function IN(n,t){return null!==n&&t&&t(new gk(n)),an(!0)}(i.route.parent,r),function AN(n,t){return null!==n&&t&&t(new _k(n)),an(!0)}(i.route,r),function MN(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function mv(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>NC(()=>an(o.guards.map(h=>{const p=_p(o.node)??e,g=Ed(h,p);return Dc(function EN(n){return n&&Mg(n.canActivateChild)}(g)?g.canActivateChild(r,n):p.runInContext(()=>g(r,n))).pipe(wl())})).pipe(Rg())));return an(s).pipe(Rg())}(n,i.path,e),function kN(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return an(!0);const i=r.map(s=>NC(()=>{const o=_p(t)??e,u=Ed(s,o);return Dc(function pD(n){return n&&Mg(n.canActivate)}(u)?u.canActivate(t,n):o.runInContext(()=>u(t,n))).pipe(wl())}));return an(i).pipe(Rg())}(n,i.route,e))),wl(i=>!0!==i,!0))}(r,s,n,t):an(u)),(0,bn.U)(u=>({...e,guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),(0,Hs.b)(u=>{if(i.guardsResult=u.guardsResult,Sc(u.guardsResult))throw aD(0,u.guardsResult);const h=new Un(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(h)}),no(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Vw(u=>{if(u.guards.canActivateChecks.length)return an(u).pipe((0,Hs.b)(h=>{const p=new XC(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),as(h=>{let p=!1;return an(h).pipe(function PN(n,t){return(0,Bs.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return an(e);let s=0;return(0,vr.D)(i).pipe(Lh(o=>function Nk(n,t,e,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!bD(i)&&(s[yg]=i.title),function Lw(n,t,e,r){const i=function xD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return an({});const s={};return(0,vr.D)(i).pipe((0,Bs.z)(o=>function Lk(n,t,e,r){const i=_p(t)??r,s=Ed(n,i);return Dc(s.resolve?s.resolve(t,e):i.runInContext(()=>s(t,e)))}(n[o],t,e,r).pipe(wl(),(0,Hs.b)(u=>{s[o]=u}))),X1(1),function QI(n){return(0,bn.U)(()=>n)}(s),Tu(o=>Cw(o)?Cc.E:_g(o)))}(s,n,t,r).pipe((0,bn.U)(o=>(n._resolvedData=o,n.data=xk(n,e).resolve,i&&bD(i)&&(n.data[yg]=i.title),null)))}(o.route,r,n,t)),(0,Hs.b)(()=>s++),X1(1),(0,Bs.z)(o=>s===i.length?an(e):Cc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Hs.b)({next:()=>p=!0,complete:()=>{p||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Hs.b)(h=>{const p=new QC(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}))}),Vw(u=>{const h=p=>{const g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,Hs.b)(y=>{p.component=y}),(0,bn.U)(()=>{})));for(const y of p.children)g.push(...h(y));return g};return fg(h(u.targetSnapshot.root)).pipe(lp(),Go(1))}),Vw(()=>this.afterPreactivation()),(0,bn.U)(u=>{const h=function sD(n,t,e){const r=bd(n,t._root,e?e._root:void 0);return new cv(r,t)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:h}}),(0,Hs.b)(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,bn.U)(r=>(new xN(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),(0,Hs.b)({next(){s=!0},complete(){s=!0}}),J1(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Tu(u=>{if(o=!0,uD(u)){cD(u)||(this.navigated=!0,this.restoreHistory(i,!0));const h=new Cg(i.id,this.serializeUrl(i.extractedUrl),u.message,u.cancellationCode);if(r.next(h),cD(u)){const p=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),g={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||TD(i.source)};this.scheduleNavigation(p,"imperative",null,g,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const h=new KC(i.id,this.serializeUrl(i.extractedUrl),u,i.targetSnapshot??void 0);r.next(h);try{i.resolve(this.errorHandler(u))}catch(p){i.reject(p)}}return Cc.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const u={...s};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Ig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:u,preserveFragment:h}=r,p=i||this.routerState.root,g=h?this.currentUrlTree.fragment:o;let y=null;switch(u){case"merge":y={...this.currentUrlTree.queryParams,...s};break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}return null!==y&&(y=this.removeEmptyProps(y)),dw(p,this.currentUrlTree,e,y,g??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Sc(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function jw(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...$k}:!1===r?{...Hw}:r,Sc(e))return VC(this.currentUrlTree,e,i);const s=this.parseUrl(e);return VC(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Hh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let u,h,p;o?(u=o.resolve,h=o.reject,p=o.promise):p=new Promise((E,T)=>{u=E,h=T});const g=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):y=0,this.setTransition({id:g,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:u,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(E=>Promise.reject(E))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const s=new Cg(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return SD()},providedIn:"root"}),n})();function TD(n){return"imperative"!==n}let wp=(()=>{class n{constructor(e,r,i,s,o){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Cn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,l.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,l.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,l.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==e?r.setAttribute(i,"tabindex",e):r.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(br),l.Y36(jh),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class Ev{}let AD=(()=>{class n{constructor(e,r,i,s,o){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(no(e=>e instanceof Hh),Lh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,u=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(u,s.children??s._loadedRoutes))}return(0,vr.D)(i).pipe((0,mg.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):an(null);const s=i.pipe((0,Bs.z)(o=>null===o?an(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(r.loadComponent&&!r._loadedComponent){const o=this.loader.loadComponent(r);return(0,vr.D)([s,o]).pipe((0,mg.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(br),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ev),l.LFG(Uw))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cv=new l.OlP("");let Gw=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Hh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof nD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new nD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Pu(n,t){return{\u0275kind:n,\u0275providers:t}}function $h(n){return[{provide:Vg,multi:!0,useValue:n}]}function Dv(){const n=(0,l.f3M)(l.zs3);return t=>{const e=n.get(l.z2F);if(t!==e.components[0])return;const r=n.get(br),i=n.get($w);1===n.get(zw)&&r.initialNavigation(),n.get(Yk,null,l.XFs.Optional)?.setUpPreloading(),n.get(Cv,null,l.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.next(),i.complete()}}const $w=new l.OlP("",{factory:()=>new Cn.x}),zw=new l.OlP("",{providedIn:"root",factory:()=>1});const Yk=new l.OlP("");function Kk(n){return Pu(0,[{provide:Yk,useExisting:AD},{provide:Ev,useExisting:n}])}const ID=new l.OlP("ROUTER_FORROOT_GUARD"),Xk=[vt,{provide:BC,useClass:sw},{provide:br,useFactory:SD},Dg,{provide:jh,useFactory:function Ug(n){return n.routerState.root},deps:[br]},Uw];function kD(){return new l.PXZ("Router",br)}let Zw=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[Xk,[],$h(e),{provide:ID,useFactory:eM,deps:[[br,new l.FiY,new l.tp0]]},{provide:xv,useValue:r||{}},r?.useHash?{provide:et,useClass:Yt}:{provide:et,useClass:qt},{provide:Cv,useFactory:()=>{const n=(0,l.f3M)(br),t=(0,l.f3M)(Rf),e=(0,l.f3M)(xv);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Gw(n,t,e)}},r?.preloadingStrategy?Kk(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:kD},r?.initialNavigation?tM(r):[],[{provide:MD,useFactory:Dv},{provide:l.tb,multi:!0,useExisting:MD}]]}}static forChild(e){return{ngModule:n,providers:[$h(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ID,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Tg]}),n})();function eM(n){return"guarded"}function tM(n){return["disabled"===n.initialNavigation?Pu(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const t=(0,l.f3M)(br);return()=>{t.setUpLocationChangeListener()}}},{provide:zw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Pu(2,[{provide:zw,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:t=>{const e=t.get(de,Promise.resolve(null));let r=!1;return()=>e.then(()=>new Promise(s=>{const o=t.get(br),u=t.get($w);(function i(s){t.get(br).events.pipe(no(u=>u instanceof Hh||u instanceof Cg||u instanceof KC),(0,bn.U)(u=>u instanceof Hh||u instanceof Cg&&(0===u.code||1===u.code)&&null),no(u=>null!==u),Go(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||u.closed?an(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const MD=new l.OlP("");var Zo=z(2011),Wo=z(6451),qw=z(5363),jg=z(6063);class rM extends Cn.x{constructor(t=1/0,e=1/0,r=jg.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;e||(r.push(t),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!t.closed;o+=r?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=e.now();let u=0;for(let h=1;h<r.length&&r[h]<=o;h+=2)u=h;u&&r.splice(0,u+1)}}}var iM=z(3099);function Tv(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=n??1/0,(0,iM.B)({connector:()=>new rM(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function RD(n,t){return(0,Ec.m)(t)?as(()=>n,t):as(()=>n)}var Ya=z(9468),Li=z(5813),qr=z(5867),Ee=z(5861),Ic=z(9681),Yg=z(4859),tr=z(2090),Nu=z(1877);const FD=new Map,cM={activated:!1,tokenObservers:[]},OD={initialized:!1,enabled:!1};function xs(n){return FD.get(n)||cM}function Ka(n,t){FD.set(n,t)}function Cp(){return OD}class Rv{constructor(t,e,r,i,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ee.Z)(function*(){e.stop();try{e.pending=new tr.BH,yield function Fv(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new tr.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ro=new tr.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Kw(n){if(!xs(n).activated)throw ro.create("use-before-activation",{appName:n.name})}function Xg(n,t){return Xw.apply(this,arguments)}function Xw(){return(Xw=(0,Ee.Z)(function*({url:n,body:t},e){var r,i;const s={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const T=yield o.getHeartbeatsHeader();T&&(s["X-Firebase-Client"]=T)}const u={method:"POST",body:JSON.stringify(t),headers:s};let h,p;try{h=yield fetch(n,u)}catch(T){throw ro.create("fetch-network-error",{originalErrorMessage:null===(r=T)||void 0===r?void 0:r.message})}if(200!==h.status)throw ro.create("fetch-status-error",{httpStatus:h.status});try{p=yield h.json()}catch(T){throw ro.create("fetch-parse-error",{originalErrorMessage:null===(i=T)||void 0===i?void 0:i.message})}const g=p.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const y=1e3*Number(g[1]),E=Date.now();return{token:p.token,expireTimeMillis:E+y,issuedAtTimeMillis:E}})).apply(this,arguments)}function VD(n,t){const{projectId:e,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const Tp="firebase-app-check-store";let Ap=null;function Pv(){return Ap||(Ap=new Promise((n,t)=>{var e;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;t(ro.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Tp,{keyPath:"compositeKey"})}}catch(r){t(ro.create("storage-open",{originalErrorMessage:null===(e=r)||void 0===e?void 0:e.message}))}}),Ap)}function Nv(){return(Nv=(0,Ee.Z)(function*(n,t){const r=(yield Pv()).transaction(Tp,"readwrite"),s=r.objectStore(Tp).put({compositeKey:n,value:t});return new Promise((o,u)=>{s.onsuccess=h=>{o()},r.onerror=h=>{var p;u(ro.create("storage-set",{originalErrorMessage:null===(p=h.target.error)||void 0===p?void 0:p.message}))}})})).apply(this,arguments)}const Qg=new Nu.Yd("@firebase/app-check");function $D(n,t){return(0,tr.hl)()?function HD(n,t){return function Jw(n,t){return Nv.apply(this,arguments)}(function fM(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Qg.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function zD(){return Cp().enabled}function ZD(){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,Ee.Z)(function*(){const n=Cp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const WD={error:"UNKNOWN_ERROR"};function qD(n){return tr.US.encodeString(JSON.stringify(n),!1)}function Lu(n){return tx.apply(this,arguments)}function tx(){return(tx=(0,Ee.Z)(function*(n,t=!1){const e=n.app;Kw(e);const r=xs(e);let s,i=r.token;if(!i){const h=yield r.cachedTokenPromise;h&&Ip(h)&&(i=h)}if(!t&&i&&Ip(i))return{token:i.token};let u,o=!1;if(zD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Xg(VD(e,yield ZD()),n.heartbeatServiceProvider).then(p=>(r.exchangeTokenPromise=void 0,p)),o=!0);const h=yield r.exchangeTokenPromise;return yield $D(e,h),Ka(e,Object.assign(Object.assign({},r),{token:h})),{token:h.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(h=>(r.exchangeTokenPromise=void 0,h)),o=!0),i=yield r.exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?Qg.warn(h.message):Qg.error(h),s=h}return i?(u={token:i.token},Ka(e,Object.assign(Object.assign({},r),{token:i})),yield $D(e,i)):u=rx(s),o&&gM(e,u),u})).apply(this,arguments)}function Hv(n,t){const e=xs(n),r=e.tokenObservers.filter(i=>i.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ka(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function YD(n){const{app:t}=n,e=xs(t);let r=e.tokenRefresher;r||(r=function KD(n){const{app:t}=n;return new Rv((0,Ee.Z)(function*(){let r;if(r=xs(t).token?yield Lu(n,!0):yield Lu(n),r.error)throw r.error}),()=>!0,()=>{const e=xs(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ka(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function gM(n,t){const e=xs(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function Ip(n){return n.expireTimeMillis-Date.now()>0}function rx(n){return{token:qD(WD),error:n}}class kc{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=xs(this.app);for(const e of t)Hv(this.app,e.next);return Promise.resolve()}}const ax="app-check-internal";!function lS(){(0,Ic._registerComponent)(new Yg.wA("app-check",n=>function _M(n,t){return new kc(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(ax).initialize()})),(0,Ic._registerComponent)(new Yg.wA(ax,n=>function vM(n){return{getToken:t=>Lu(n,t),addTokenListener:t=>function nx(n,t,e,r){const{app:i}=n,s=xs(i),o={next:e,error:r,type:t};if(Ka(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Ip(s.token)){const u=s.token;Promise.resolve().then(()=>{e({token:u.token}),YD(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>YD(n))}(n,"INTERNAL",t),removeTokenListener:t=>Hv(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ic.registerVersion)("@firebase/app-check","0.5.12")}();class $v{constructor(){return(0,Li.vb)("app-check")}}typeof window<"u"&&window;var SM=z(127);const cS=new l.OlP("angularfire2.auth.use-emulator"),ux=new l.OlP("angularfire2.auth.settings"),dx=new l.OlP("angularfire2.auth.tenant-id"),hx=new l.OlP("angularfire2.auth.langugage-code"),fx=new l.OlP("angularfire2.auth.use-device-language"),px=new l.OlP("angularfire.auth.persistence"),mx=(n,t,e,r,i,s,o,u)=>(0,Zo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),r&&(h.tenantId=r),h.languageCode=i,s&&h.useDeviceLanguage(),o)for(const[p,g]of Object.entries(o))h.settings[p]=g;return u&&h.setPersistence(u),h},[e,r,i,s,o,u]);let r0=(()=>{class n{constructor(e,r,i,s,o,u,h,p,g,y,E,T){const k=new Cn.x,D=an(void 0).pipe((0,qw.Q)(o.outsideAngular),as(()=>s.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,5881)))),(0,bn.U)(()=>(0,Zo.on)(e,s,r)),(0,bn.U)(R=>mx(R,s,u,p,g,y,h,E)),Tv({bufferSize:1,refCount:!1}));if(Xl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=an(null);else{D.pipe(wl()).subscribe();const B=D.pipe(as(re=>re.getRedirectResult().then(ve=>ve,()=>null)),Li.iC,Tv({bufferSize:1,refCount:!1})),j=D.pipe(as(re=>new vi.y(ve=>({unsubscribe:s.runOutsideAngular(()=>re.onAuthStateChanged(ae=>ve.next(ae),ae=>ve.error(ae),()=>ve.complete()))})))),V=D.pipe(as(re=>new vi.y(ve=>({unsubscribe:s.runOutsideAngular(()=>re.onIdTokenChanged(ae=>ve.next(ae),ae=>ve.error(ae),()=>ve.complete()))}))));this.authState=B.pipe(RD(j),(0,Ya.R)(o.outsideAngular),(0,qw.Q)(o.insideAngular)),this.user=B.pipe(RD(V),(0,Ya.R)(o.outsideAngular),(0,qw.Q)(o.insideAngular)),this.idToken=this.user.pipe(as(re=>re?(0,vr.D)(re.getIdToken()):an(null))),this.idTokenResult=this.user.pipe(as(re=>re?(0,vr.D)(re.getIdTokenResult()):an(null))),this.credential=(0,Wo.T)(B,k,this.authState.pipe(no(re=>!re))).pipe((0,bn.U)(re=>re?.user?re:null),(0,Ya.R)(o.outsideAngular),(0,qw.Q)(o.insideAngular))}return(0,Zo.pX)(this,D,s,{spy:{apply:(R,B,j)=>{(R.startsWith("signIn")||R.startsWith("createUser"))&&j.then(V=>k.next(V))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Zo.Dh),l.LFG(Zo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Li.HU),l.LFG(cS,8),l.LFG(ux,8),l.LFG(dx,8),l.LFG(hx,8),l.LFG(fx,8),l.LFG(px,8),l.LFG($v,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uS=(()=>{class n{constructor(){SM.Z.registerVersion("angularfire",Li.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[r0]}),n})();const Sl_firebase={apiKey:"AIzaSyB216Wk_kFTzBDSxE-x-GjYPzVs1WGHzuA",authDomain:"snowbirdcarpoolapp-5c58c.firebaseapp.com",projectId:"snowbirdcarpoolapp-5c58c",storageBucket:"snowbirdcarpoolapp-5c58c.appspot.com",messagingSenderId:"595671531586",appId:"1:595671531586:web:629deed2dfc657b61b2ddb",measurementId:"G-8WF7Z50K9R"};let gx=(()=>{class n{constructor(){this.title="SnowbirdCarpools"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"navbar","fixed-top","bg-light"],[1,"container-fluid"],["href","/carpools",1,"navbar-brand"],[1,"container"]],template:function(e,r){1&e&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._uU(3,"Snowbird Carpools"),l.qZA()()(),l.TgZ(4,"div",3),l._UZ(5,"br")(6,"router-outlet")(7,"br"),l.qZA())},dependencies:[hv]}),n})();class zv{constructor(t,e,r,i,s,o,u,h,p,g){this.id=t,this.driver=e,this.passengers=r,this.date=i,this.startTime=s,this.arrivalTime=o,this.direction=u,this.vehicle=h,this.totalSeats=p,this.hasStarted=g}}var sn,zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vu={},Td=Td||{},Hn=zh||self;function kp(){}function dS(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Mp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var fS="closure_uid_"+(1e9*Math.random()>>>0),Sn=0;function AM(n,t,e){return n.call.apply(n.bind,arguments)}function IM(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function js(n,t,e){return(js=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?AM:IM).apply(null,arguments)}function Bu(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Gs(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return t.prototype[i].apply(r,o)}}function Tl(){this.s=this.s,this.o=this.o}var Ii={};Tl.prototype.s=!1,Tl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function hS(n){return Object.prototype.hasOwnProperty.call(n,fS)&&n[fS]||(n[fS]=++Sn)}(this);delete Ii[n]}},Tl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kM=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},_x=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&t.call(e,i[s],s,n)};function mS(n){return Array.prototype.concat.apply([],arguments)}function Wv(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function s0(n){return/^[\s\xa0]*$/.test(n)}var bo,vx=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function io(n,t){return-1!=n.indexOf(t)}function yx(n,t){return n<t?-1:n>t?1:0}e:{var gS=Hn.navigator;if(gS){var Rp=gS.userAgent;if(Rp){bo=Rp;break e}}bo=""}function wx(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function _S(n){const t={};for(const e in n)t[e]=n[e];return t}var vS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function o0(n,t){let e,r;for(let i=1;i<arguments.length;i++){for(e in r=arguments[i],r)n[e]=r[e];for(let s=0;s<vS.length;s++)e=vS[s],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function qv(n){return qv[" "](n),n}qv[" "]=kp;var a0,n,wS=io(bo,"Opera"),Fp=io(bo,"Trident")||io(bo,"MSIE"),Op=io(bo,"Edge"),Zh=Op||Fp,xS=io(bo,"Gecko")&&!(io(bo.toLowerCase(),"webkit")&&!io(bo,"Edge"))&&!(io(bo,"Trident")||io(bo,"MSIE"))&&!io(bo,"Edge"),MM=io(bo.toLowerCase(),"webkit")&&!io(bo,"Edge");function bS(){var n=Hn.document;return n?n.documentMode:void 0}e:{var Yv="",Kv=(n=bo,xS?/rv:([^\);]+)(\)|;)/.exec(n):Op?/Edge\/([\d\.]+)/.exec(n):Fp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):MM?/WebKit\/(\S+)/.exec(n):wS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Kv&&(Yv=Kv?Kv[1]:""),Fp){var xx=bS();if(null!=xx&&xx>parseFloat(Yv)){a0=String(xx);break e}}a0=Yv}var ES={};var QN=Hn.document&&Fp&&(bS()||parseInt(a0,10))||void 0,JN=function(){if(!Hn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Hn.addEventListener("test",kp,t),Hn.removeEventListener("test",kp,t)}catch{}return n}();function Eo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Pp(n,t){if(Eo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(xS){e:{try{qv(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pp.Z.h.call(this)}}Eo.prototype.h=function(){this.defaultPrevented=!0},Gs(Pp,Eo);var Xv={2:"touch",3:"pen",4:"mouse"};Pp.prototype.h=function(){Pp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var l0="closure_listenable_"+(1e6*Math.random()|0),OM=0;function CS(n,t,e,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=i,this.key=++OM,this.ca=this.fa=!1}function Ad(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Qv(n){this.src=n,this.g={},this.h=0}function Ex(n,t){var e=t.type;if(e in n.g){var s,r=n.g[e],i=kM(r,t);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ad(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Cx(n,t,e,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==r)return i}return-1}Qv.prototype.add=function(n,t,e,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=Cx(n,t,r,i);return-1<o?(t=n[o],e||(t.fa=!1)):((t=new CS(t,this.src,s,!!r,i)).fa=e,n.push(t)),t};var Dx="closure_lm_"+(1e6*Math.random()|0),Sx={};function Tx(n,t,e,r,i){if(r&&r.once)return Wh(n,t,e,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Tx(n,t[s],e,r,i);return null}return e=Ix(e),n&&n[l0]?n.N(t,e,Mp(r)?!!r.capture:!!r,i):DS(n,t,e,!1,r,i)}function DS(n,t,e,r,i,s){if(!t)throw Error("Invalid event type");var o=Mp(i)?!!i.capture:!!i,u=Ax(n);if(u||(n[Dx]=u=new Qv(n)),(e=u.add(t,e,r,o,s)).proxy)return e;if(r=function PM(){var t=AS;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)JN||(i=o),void 0===i&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(TS(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function Wh(n,t,e,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Wh(n,t[s],e,r,i);return null}return e=Ix(e),n&&n[l0]?n.O(t,e,Mp(r)?!!r.capture:!!r,i):DS(n,t,e,!0,r,i)}function SS(n,t,e,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)SS(n,t[s],e,r,i);else r=Mp(r)?!!r.capture:!!r,e=Ix(e),n&&n[l0]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Cx(s=n.g[t],e,r,i))&&(Ad(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=Ax(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Cx(t,e,r,i)),(e=-1<n?t[n]:null)&&Jv(e))}function Jv(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[l0])Ex(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(TS(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=Ax(t))?(Ex(e,n),0==e.h&&(e.src=null,t[Dx]=null)):Ad(n)}}}function TS(n){return n in Sx?Sx[n]:Sx[n]="on"+n}function AS(n,t){if(n.ca)n=!0;else{t=new Pp(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&Jv(n),n=e.call(r,t)}return n}function Ax(n){return(n=n[Dx])instanceof Qv?n:null}var ey="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ix(n){return"function"==typeof n?n:(n[ey]||(n[ey]=function(t){return n.handleEvent(t)}),n[ey])}function Yi(){Tl.call(this),this.i=new Qv(this),this.P=this,this.I=null}function $s(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new Eo(t,n);else if(t instanceof Eo)t.target=t.target||n;else{var i=t;o0(t=new Eo(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];i=c0(o,r,!0,t)&&i}if(i=c0(o=t.g=n,r,!0,t)&&i,i=c0(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=c0(o=t.g=e[s],r,!1,t)&&i}function c0(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==e){var u=o.listener,h=o.ia||o.src;o.fa&&Ex(n.i,o),i=!1!==u.call(h,r)&&i}}return i&&!r.defaultPrevented}Gs(Yi,Tl),Yi.prototype[l0]=!0,Yi.prototype.removeEventListener=function(n,t,e,r){SS(this,n,t,e,r)},Yi.prototype.M=function(){if(Yi.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)Ad(e[r]);delete n.g[t],n.h--}}this.I=null},Yi.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},Yi.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var ty=Hn.JSON.stringify;function NM(){var n=kS;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Mx,IS=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new kx,n=>n.reset());class kx{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function VM(n){Hn.setTimeout(()=>{throw n},0)}function ny(n,t){Mx||function BM(){var n=Hn.Promise.resolve(void 0);Mx=function(){n.then(UM)}}(),Rx||(Mx(),Rx=!0),kS.add(n,t)}var Rx=!1,kS=new class LM{constructor(){this.h=this.g=null}add(t,e){const r=IS.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function UM(){for(var n;n=NM();){try{n.h.call(n.g)}catch(e){VM(e)}var t=IS;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Rx=!1}function ry(n,t){Yi.call(this),this.h=n||1,this.g=t||Hn,this.j=js(this.kb,this),this.l=Date.now()}function Fx(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Ox(n,t,e){if("function"==typeof n)e&&(n=js(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=js(n.handleEvent,n)}return 2147483647<Number(t)?-1:Hn.setTimeout(n,t||0)}function Px(n){n.g=Ox(()=>{n.g=null,n.i&&(n.i=!1,Px(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Gs(ry,Yi),(sn=ry.prototype).da=!1,sn.S=null,sn.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$s(this,"tick"),this.da&&(Fx(this),this.start()))}},sn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sn.M=function(){ry.Z.M.call(this),Fx(this),delete this.g};class MS extends Tl{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Px(this)}M(){super.M(),this.g&&(Hn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function u0(n){Tl.call(this),this.h=n,this.g={}}Gs(u0,Tl);var RS=[];function Nx(n,t,e,r){Array.isArray(e)||(e&&(RS[0]=e.toString()),e=RS);for(var i=0;i<e.length;i++){var s=Tx(t,e[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function FS(n){wx(n.g,function(t,e){this.g.hasOwnProperty(e)&&Jv(t)},n),n.g={}}function iy(){this.g=!0}function Id(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Vx(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ty(e)}catch{return t}}(n,e)+(r?" "+r:"")})}u0.prototype.M=function(){u0.Z.M.call(this),FS(this)},u0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iy.prototype.Aa=function(){this.g=!1},iy.prototype.info=function(){};var qh={},PS=null;function Np(){return PS=PS||new Yi}function NS(n){Eo.call(this,qh.Ma,n)}function Lp(n){const t=Np();$s(t,new NS(t,n))}function Yh(n,t){Eo.call(this,qh.STAT_EVENT,n),this.stat=t}function so(n){const t=Np();$s(t,new Yh(t,n))}function LS(n,t){Eo.call(this,qh.Na,n),this.size=t}function sy(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Hn.setTimeout(function(){n()},t)}qh.Ma="serverreachability",Gs(NS,Eo),qh.STAT_EVENT="statevent",Gs(Yh,Eo),qh.Na="timingevent",Gs(LS,Eo);var d0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oy={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Bx(){}function VS(){}Bx.prototype.h=null;var cy,Vp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function h0(){Eo.call(this,"d")}function ly(){Eo.call(this,"c")}function f0(){}function Bp(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new u0(this),this.P=jM,this.W=new ry(n=Zh?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new BS}function BS(){this.i=null,this.g="",this.h=!1}Gs(h0,Eo),Gs(ly,Eo),Gs(f0,Bx),f0.prototype.g=function(){return new XMLHttpRequest},f0.prototype.i=function(){return{}},cy=new f0;var jM=45e3,Ux={},uy={};function dy(n,t,e){n.K=1,n.v=my(Sa(t)),n.s=e,n.U=!0,GM(n,null)}function GM(n,t){n.F=Date.now(),hy(n),n.A=Sa(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),GS(e.h,"t",r),n.C=0,e=n.l.H,n.h=new BS,n.g=nf(n.l,e?t:null,!n.s),0<n.O&&(n.L=new MS(js(n.Ia,n,n.g),n.O)),Nx(n.V,n.g,"readystatechange",n.gb),t=n.H?_S(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Lp(1),function HM(n,t,e,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",u=s.split("&"),h=0;h<u.length;h++){var p=u[h].split("=");if(1<p.length){var g=p[0];p=p[1];var y=g.split("_");o=2<=y.length&&"type"==y[1]?o+(g+"=")+p+"&":o+(g+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Hx(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function US(n,t,e){let i,r=!0;for(;!n.I&&n.C<e.length;){if(i=$M(n,e),i==uy){4==t&&(n.o=4,so(14),r=!1),Id(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ux){n.o=4,so(15),Id(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}Id(n.j,n.m,i,null),py(n,i)}Hx(n)&&i!=uy&&i!=Ux&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,so(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),xy(t),t.L=!0,so(11))):(Id(n.j,n.m,e,"[Invalid Chunked Response]"),Kh(n),p0(n))}function $M(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?uy:(e=Number(t.substring(e,r)),isNaN(e)?Ux:(r+=1)+e>t.length?uy:(t=t.substr(r,e),n.C=r+e,t))}function hy(n){n.Y=Date.now()+n.P,zM(n,n.P)}function zM(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sy(js(n.eb,n),t)}function fy(n){n.B&&(Hn.clearTimeout(n.B),n.B=null)}function p0(n){0==n.l.G||n.I||by(n.l,n)}function Kh(n){fy(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Fx(n.W),FS(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function py(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||vy(e.i,n)))if(e.I=n.N,!n.J&&vy(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;tf(e),T0(e)}I0(e),so(18)}}else e.ta=i[1],0<e.ta-e.U&&37500>i[2]&&e.N&&0==e.A&&!e.v&&(e.v=sy(js(e.ab,e),6e3));if(1>=Zx(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else Md(e,11)}else if((n.J||e.g==n)&&tf(e),!s0(t))for(i=e.Ca.g.parse(t),t=0;t<i.length;t++){let p=i[t];if(e.U=p[0],p=p[1],2==e.G)if("c"==p[0]){e.J=p[1],e.la=p[2];const g=p[3];null!=g&&(e.ma=g,e.h.info("VER="+e.ma));const y=p[4];null!=y&&(e.za=y,e.h.info("SVER="+e.za));const E=p[5];null!=E&&"number"==typeof E&&0<E&&(e.K=r=1.5*E,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const T=n.g;if(T){const k=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(k){var s=r.i;!s.g&&(io(k,"spdy")||io(k,"quic")||io(k,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(b0(s,s.h),s.h=null))}if(r.D){const D=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.sa=D,oi(r.F,r.D,D))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var o=n;if((r=e).oa=sb(r,r.H?r.la:null,r.W),o.J){Wx(r.i,o);var u=o,h=r.K;h&&u.setTimeout(h),u.B&&(fy(u),hy(u)),r.g=o}else eT(r);0<e.l.length&&zp(e)}else"stop"!=p[0]&&"close"!=p[0]||Md(e,7);else 3==e.G&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?Md(e,7):wy(e):"noop"!=p[0]&&e.j&&e.j.wa(p),e.A=0)}Lp(4)}catch{}}function jx(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(dS(n)||"string"==typeof n)_x(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(dS(n)||"string"==typeof n){e=[];for(var r=n.length,i=0;i<r;i++)e.push(i)}else for(i in e=[],r=0,n)e[r++]=i;r=function ZM(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(dS(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],e&&e[s],n)}}function Up(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Up)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function Gx(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];Xh(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var i={};for(e=t=0;t<n.g.length;)Xh(i,r=n.g[t])||(n.g[e++]=r,i[r]=1),t++;n.g.length=e}}function Xh(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(sn=Bp.prototype).setTimeout=function(n){this.P=n},sn.gb=function(n){n=n.target;const t=this.L;t&&3==wi(n)?t.l():this.Ia(n)},sn.Ia=function(n){try{if(n==this.g)e:{const g=wi(this.g);var t=this.g.Da();const y=this.g.ba();if(!(3>g)&&(3!=g||Zh||this.g&&(this.h.h||this.g.ga()||ef(this.g)))){this.I||4!=g||7==t||Lp(8==t||0>=y?3:2),fy(this);var e=this.g.ba();this.N=e;t:if(Hx(this)){var r=ef(this.g);n="";var i=r.length,s=4==wi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kh(this),p0(this);var o="";break t}this.h.i=new Hn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==e,function Lx(n,t,e,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,g,e),this.i){if(this.$&&!this.J){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!s0(u)){var p=u;break t}}p=null}if(!(e=p)){this.i=!1,this.o=3,so(12),Kh(this),p0(this);break e}Id(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,py(this,e)}this.U?(US(this,g,o),Zh&&this.i&&3==g&&(Nx(this.V,this.W,"tick",this.fb),this.W.start())):(Id(this.j,this.m,o,null),py(this,o)),4==g&&Kh(this),this.i&&!this.I&&(4==g?by(this.l,this):(this.i=!1,hy(this)))}else 400==e&&0<o.indexOf("Unknown SID")?(this.o=3,so(12)):(this.o=0,so(13)),Kh(this),p0(this)}}}catch{}},sn.fb=function(){if(this.g){var n=wi(this.g),t=this.g.ga();this.C<t.length&&(fy(this),US(this,n,t),this.i&&4!=n&&hy(this))}},sn.cancel=function(){this.I=!0,Kh(this)},sn.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function OS(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Lp(3),so(17)),Kh(this),this.o=2,p0(this)):zM(this,this.Y-n)},(sn=Up.prototype).R=function(){Gx(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},sn.T=function(){return Gx(this),this.g.concat()},sn.get=function(n,t){return Xh(this.h,n)?this.h[n]:t},sn.set=function(n,t){Xh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},sn.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var i=e[r],s=this.get(i);n.call(t,s,i,this)}};var HS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qh(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Qh){this.g=void 0!==t?t:n.g,m0(this,n.j),this.s=n.s,g0(this,n.i),_0(this,n.m),this.l=n.l,t=n.h;var e=new qo;e.i=t.i,t.g&&(e.g=new Up(t.g),e.h=t.h),$x(this,e),this.o=n.o}else n&&(e=String(n).match(HS))?(this.g=!!t,m0(this,e[1]||"",!0),this.s=v0(e[2]||""),g0(this,e[3]||"",!0),_0(this,e[4]),this.l=v0(e[5]||"",!0),$x(this,e[6]||"",!0),this.o=v0(e[7]||"")):(this.g=!!t,this.h=new qo(null,this.g))}function Sa(n){return new Qh(n)}function m0(n,t,e){n.j=e?v0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function g0(n,t,e){n.i=e?v0(t,!0):t}function _0(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function $x(n,t,e){t instanceof qo?(n.h=t,function QM(n,t){t&&!n.j&&(kd(n),n.i=null,n.g.forEach(function(e,r){var i=r.toLowerCase();r!=i&&(gy(this,r),GS(this,i,e))},n)),n.j=t}(n.h,n.g)):(e||(t=y0(t,XM)),n.h=new qo(t,n.g))}function oi(n,t,e){n.h.set(t,e)}function my(n){return oi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function v0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function y0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,YM),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function YM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qh.prototype.toString=function(){var n=[],t=this.j;t&&n.push(y0(t,jS,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(y0(t,jS,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(y0(e,"/"==e.charAt(0)?w0:KM,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",y0(e,zx)),n.join("")};var jS=/[#\/\?@]/g,KM=/[#\?:]/g,w0=/[#\?]/g,XM=/[#\?@]/g,zx=/#/g;function qo(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function kd(n){n.g||(n.g=new Up,n.h=0,n.i&&function WM(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),i=null;if(0<=r){var s=n[e].substring(0,r);i=n[e].substring(r+1)}else s=n[e];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function gy(n,t){kd(n),t=jp(n,t),Xh(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Xh((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Gx(n)))}function Hp(n,t){return kd(n),t=jp(n,t),Xh(n.g.h,t)}function GS(n,t,e){gy(n,t),0<e.length&&(n.i=null,n.g.set(jp(n,t),Wv(e)),n.h+=e.length)}function jp(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function x0(n){this.l=n||JM,n=Hn.PerformanceNavigationTiming?0<(n=Hn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Hn.g&&Hn.g.Ea&&Hn.g.Ea()&&Hn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(sn=qo.prototype).add=function(n,t){kd(this),this.i=null,n=jp(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},sn.forEach=function(n,t){kd(this),this.g.forEach(function(e,r){_x(e,function(i){n.call(t,i,r,this)},this)},this)},sn.T=function(){kd(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var i=n[r],s=0;s<i.length;s++)e.push(t[r]);return e},sn.R=function(n){kd(this);var t=[];if("string"==typeof n)Hp(this,n)&&(t=mS(t,this.g.get(jp(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=mS(t,n[e])}return t},sn.set=function(n,t){return kd(this),this.i=null,Hp(this,n=jp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},sn.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},sn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var JM=10;function $S(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Zx(n){return n.h?1:n.g?n.g.size:0}function vy(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function b0(n,t){n.g?n.g.add(t):n.h=t}function Wx(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function zS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Wv(n.i)}function qx(){}function tL(){this.g=new qx}function Yx(n,t,e){const r=e||"";try{jx(n,function(i,s){let o=i;Mp(i)&&(o=ty(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function E0(n,t,e,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Jh(n){this.l=n.$b||null,this.j=n.ib||!1}function Gp(n,t){Yi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Xx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}x0.prototype.cancel=function(){if(this.i=zS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qx.prototype.stringify=function(n){return Hn.JSON.stringify(n,void 0)},qx.prototype.parse=function(n){return Hn.JSON.parse(n,void 0)},Gs(Jh,Bx),Jh.prototype.g=function(){return new Gp(this.l,this.j)},Jh.prototype.i=function(n){return function(){return n}}({}),Gs(Gp,Yi);var Xx=0;function ZS(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function C0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,D0(n)}function D0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(sn=Gp.prototype).open=function(n,t){if(this.readyState!=Xx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,D0(this)},sn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Hn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},sn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,C0(this)),this.readyState=Xx},sn.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,D0(this)),this.g&&(this.readyState=3,D0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Hn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZS(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},sn.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?C0(this):D0(this),3==this.readyState&&ZS(this)}},sn.Ua=function(n){this.g&&(this.response=this.responseText=n,C0(this))},sn.Ta=function(n){this.g&&(this.response=n,C0(this))},sn.ha=function(){this.g&&C0(this)},sn.setRequestHeader=function(n,t){this.v.append(n,t)},sn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},sn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Gp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var WS=Hn.JSON.parse;function ki(n){Yi.call(this),this.headers=new Up,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qx,this.K=this.L=!1}Gs(ki,Yi);var Qx="",qS=/^https?$/i,YS=["POST","PUT"];function eR(n){return"content-type"==n.toLowerCase()}function Jx(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,eb(n),S0(n)}function eb(n){n.D||(n.D=!0,$s(n,"complete"),$s(n,"error"))}function XS(n){if(n.h&&typeof Td<"u"&&(!n.C[1]||4!=wi(n)||2!=n.ba()))if(n.v&&4==wi(n))Ox(n.Fa,0,n);else if($s(n,"readystatechange"),4==wi(n)){n.h=!1;try{const u=n.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===u){var i=String(n.H).match(HS)[1]||null;if(!i&&Hn.self&&Hn.self.location){var s=Hn.self.location.protocol;i=s.substr(0,s.length-1)}r=!qS.test(i?i.toLowerCase():"")}e=r}if(e)$s(n,"complete"),$s(n,"success");else{n.m=6;try{var o=2<wi(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.ba()+"]",eb(n)}}finally{S0(n)}}}function S0(n,t){if(n.g){QS(n);const e=n.g,r=n.C[0]?kp:null;n.g=null,n.C=null,t||$s(n,"ready");try{e.onreadystatechange=r}catch{}}}function QS(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Hn.clearTimeout(n.A),n.A=null)}function wi(n){return n.g?n.g.readyState:0}function ef(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Qx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function tb(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function tR(n){let t="";return wx(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):oi(n,t,e))}function yy(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function nR(n){this.za=0,this.l=[],this.h=new iy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yy("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yy("baseRetryDelayMs",5e3,n),this.$a=yy("retryDelaySeedMs",1e4,n),this.Ya=yy("forwardChannelMaxRetries",2,n),this.ra=yy("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new x0(n&&n.concurrentRequestLimit),this.Ca=new tL,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function wy(n){if($p(n),3==n.G){var t=n.V++,e=Sa(n.F);oi(e,"SID",n.J),oi(e,"RID",t),oi(e,"TYPE","terminate"),A0(n,e),(t=new Bp(n,n.h,t,void 0)).K=2,t.v=my(Sa(e)),e=!1,Hn.navigator&&Hn.navigator.sendBeacon&&(e=Hn.navigator.sendBeacon(t.v.toString(),"")),!e&&Hn.Image&&((new Image).src=t.v,e=!0),e||(t.g=nf(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hy(t)}tT(n)}function T0(n){n.g&&(xy(n),n.g.cancel(),n.g=null)}function $p(n){T0(n),n.u&&(Hn.clearTimeout(n.u),n.u=null),tf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Hn.clearTimeout(n.m),n.m=null)}function nb(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&zp(n)}function zp(n){$S(n.i)||n.m||(n.m=!0,ny(n.Ha,n),n.C=0)}function rb(n,t){var e;e=t?t.m:n.V++;const r=Sa(n.F);oi(r,"SID",n.J),oi(r,"RID",e),oi(r,"AID",n.U),A0(n,r),n.o&&n.s&&tb(r,n.o,n.s),e=new Bp(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=JS(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),b0(n.i,e),dy(e,r,t)}function A0(n,t){n.j&&jx({},function(e,r){oi(t,r,e)})}function JS(n,t,e){e=Math.min(n.l.length,e);var r=n.j?js(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let h=0;h<e;h++){let p=i[h].h;const g=i[h].g;if(p-=s,0>p)s=Math.max(0,i[h].h-100),u=!1;else try{Yx(g,o,"req"+p+"_")}catch{r&&r(g)}}if(u){r=o.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function eT(n){n.g||n.u||(n.Y=1,ny(n.Ga,n),n.A=0)}function I0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=sy(js(n.Ga,n),iR(n,n.A)),n.A++,0))}function xy(n){null!=n.B&&(Hn.clearTimeout(n.B),n.B=null)}function ib(n){n.g=new Bp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Sa(n.oa);oi(t,"RID","rpc"),oi(t,"SID",n.J),oi(t,"CI",n.N?"0":"1"),oi(t,"AID",n.U),A0(n,t),oi(t,"TYPE","xmlhttp"),n.o&&n.s&&tb(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=my(Sa(t)),e.s=null,e.U=!0,GM(e,n)}function tf(n){null!=n.v&&(Hn.clearTimeout(n.v),n.v=null)}function by(n,t){var e=null;if(n.g==t){tf(n),xy(n),n.g=null;var r=2}else{if(!vy(n.i,t))return;e=t.D,Wx(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var i=n.C;$s(r=Np(),new LS(r,e,t,i)),zp(n)}else eT(n);else if(3==(i=t.o)||0==i&&0<n.I||!(1==r&&function rR(n,t){return!(Zx(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=sy(js(n.Ha,n,t),iR(n,n.C)),n.C++,0)))}(n,t)||2==r&&I0(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),i){case 1:Md(n,5);break;case 4:Md(n,10);break;case 3:Md(n,6);break;default:Md(n,2)}}function iR(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Md(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=js(n.jb,n);e||(e=new Qh("//www.google.com/images/cleardot.gif"),Hn.location&&"http"==Hn.location.protocol||m0(e,"https"),my(e)),function Kx(n,t){const e=new iy;if(Hn.Image){const r=new Image;r.onload=Bu(E0,e,r,"TestLoadImage: loaded",!0,t),r.onerror=Bu(E0,e,r,"TestLoadImage: error",!1,t),r.onabort=Bu(E0,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bu(E0,e,r,"TestLoadImage: timeout",!1,t),Hn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else so(2);n.G=0,n.j&&n.j.va(t),tT(n),$p(n)}function tT(n){n.G=0,n.I=-1,n.j&&((0!=zS(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Wv(n.l),n.l.length=0),n.j.ua())}function sb(n,t,e){let r=function qM(n){return n instanceof Qh?Sa(n):new Qh(n,void 0)}(e);if(""!=r.i)t&&g0(r,t+"."+r.i),_0(r,r.m);else{const i=Hn.location;r=function eL(n,t,e,r){var i=new Qh(null,void 0);return n&&m0(i,n),t&&g0(i,t),e&&_0(i,e),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,e)}return n.aa&&wx(n.aa,function(i,s){oi(r,s,i)}),e=n.sa,(t=n.D)&&e&&oi(r,t,e),oi(r,"VER",n.ma),A0(n,r),r}function nf(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ki(e&&n.Ba&&!n.qa?new Jh({ib:!0}):n.qa)).L=n.H,t}function nT(){}function k0(){if(Fp&&!(10<=Number(QN)))throw Error("Environmental error: no available transport.")}function Co(n,t){Yi.call(this),this.g=new nR(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!s0(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!s0(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new M0(this)}function sR(n){h0.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function rT(){ly.call(this),this.status=1}function M0(n){this.g=n}(sn=ki.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cy.g(),this.C=function ay(n){return n.h||(n.h=n.i())}(this.u?this.u:cy),this.g.onreadystatechange=js(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void Jx(this,s)}n=e||"";const i=new Up(this.headers);r&&jx(r,function(s,o){i.set(o,s)}),r=function pS(n){e:{var t=eR;const e=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<e;i++)if(i in r&&t.call(void 0,r[i],i,n)){t=i;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(i.T()),e=Hn.FormData&&n instanceof Hn.FormData,!(0<=kM(YS,t))||r||e||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{QS(this),0<this.B&&((this.K=function KS(n){return Fp&&function RM(){return function yS(n){var t=ES;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=vx(String(a0)).split("."),e=vx("9").split("."),r=Math.max(t.length,e.length);for(let o=0;0==n&&o<r;o++){var i=t[o]||"",s=e[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=yx(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||yx(0==i[2].length,0==s[2].length)||yx(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=js(this.pa,this)):this.A=Ox(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Jx(this,s)}},sn.pa=function(){typeof Td<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$s(this,"timeout"),this.abort(8))},sn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$s(this,"complete"),$s(this,"abort"),S0(this))},sn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),S0(this,!0)),ki.Z.M.call(this)},sn.Fa=function(){this.s||(this.F||this.v||this.l?XS(this):this.cb())},sn.cb=function(){XS(this)},sn.ba=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},sn.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},sn.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),WS(t)}},sn.Da=function(){return this.m},sn.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(sn=nR.prototype).ma=8,sn.G=1,sn.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},sn.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Bp(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=_S(s),o0(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=JS(this,i,t),oi(e=Sa(this.F),"RID",n),oi(e,"CVER",22),this.D&&oi(e,"X-HTTP-Session-Id",this.D),A0(this,e),this.o&&s&&tb(e,this.o,s),b0(this.i,i),this.Ra&&oi(e,"TYPE","init"),this.ja?(oi(e,"$req",t),oi(e,"SID","null"),i.$=!0,dy(i,e,null)):dy(i,e,t),this.G=2}}else 3==this.G&&(n?rb(this,n):0==this.l.length||$S(this.i)||rb(this))},sn.Ga=function(){if(this.u=null,ib(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=sy(js(this.bb,this),n)}},sn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,so(10),T0(this),ib(this))},sn.ab=function(){null!=this.v&&(this.v=null,T0(this),I0(this),so(19))},sn.jb=function(n){n?(this.h.info("Successfully pinged google.com"),so(2)):(this.h.info("Failed to ping google.com"),so(1))},(sn=nT.prototype).xa=function(){},sn.wa=function(){},sn.va=function(){},sn.ua=function(){},sn.Oa=function(){},k0.prototype.g=function(n,t){return new Co(n,t)},Gs(Co,Yi),Co.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),ny(js(n.hb,n,t))),so(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=sb(n,null,n.W),zp(n)},Co.prototype.close=function(){wy(this.g)},Co.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,nb(this.g,t)}else this.v?((t={}).__data__=ty(n),nb(this.g,t)):nb(this.g,n)},Co.prototype.M=function(){this.g.j=null,delete this.j,wy(this.g),delete this.g,Co.Z.M.call(this)},Gs(sR,h0),Gs(rT,ly),Gs(M0,nT),M0.prototype.xa=function(){$s(this.g,"a")},M0.prototype.wa=function(n){$s(this.g,new sR(n))},M0.prototype.va=function(n){$s(this.g,new rT(n))},M0.prototype.ua=function(){$s(this.g,"b")},k0.prototype.createWebChannel=k0.prototype.g,Co.prototype.send=Co.prototype.u,Co.prototype.open=Co.prototype.m,Co.prototype.close=Co.prototype.close,d0.NO_ERROR=0,d0.TIMEOUT=8,d0.HTTP_ERROR=6,oy.COMPLETE="complete",VS.EventType=Vp,Vp.OPEN="a",Vp.CLOSE="b",Vp.ERROR="c",Vp.MESSAGE="d",Yi.prototype.listen=Yi.prototype.N,ki.prototype.listenOnce=ki.prototype.O,ki.prototype.getLastError=ki.prototype.La,ki.prototype.getLastErrorCode=ki.prototype.Da,ki.prototype.getStatus=ki.prototype.ba,ki.prototype.getResponseJson=ki.prototype.Qa,ki.prototype.getResponseText=ki.prototype.ga,ki.prototype.send=ki.prototype.ea;var oR=Vu.createWebChannelTransport=function(){return new k0},aR=Vu.getStatEventTarget=function(){return Np()},ob=Vu.ErrorCode=d0,iT=Vu.EventType=oy,sT=Vu.Event=qh,oT=Vu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},aT=Vu.FetchXmlHttpFactory=Jh,R0=Vu.WebChannel=VS,lR=Vu.XhrIo=ki;const lT="@firebase/firestore";class us{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}us.UNAUTHENTICATED=new us(null),us.GOOGLE_CREDENTIALS=new us("google-credentials-uid"),us.FIRST_PARTY=new us("first-party-uid"),us.MOCK_USER=new us("mock-user");let Zp="9.9.4";const Uu=new Nu.Yd("@firebase/firestore");function Ey(){return Uu.logLevel}function Tt(n,...t){if(Uu.logLevel<=Nu.in.DEBUG){const e=t.map(uT);Uu.debug(`Firestore (${Zp}): ${n}`,...e)}}function Vi(n,...t){if(Uu.logLevel<=Nu.in.ERROR){const e=t.map(uT);Uu.error(`Firestore (${Zp}): ${n}`,...e)}}function rf(n,...t){if(Uu.logLevel<=Nu.in.WARN){const e=t.map(uT);Uu.warn(`Firestore (${Zp}): ${n}`,...e)}}function uT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function on(n="Unexpected state"){const t=`FIRESTORE (${Zp}) INTERNAL ASSERTION FAILED: `+n;throw Vi(t),new Error(t)}function Fn(n,t){n||on()}function Qt(n,t){return n}const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends tr.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class cR{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(us.UNAUTHENTICATED))}shutdown(){}}class Cy{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class iL{constructor(t){this.t=t,this.currentUser=us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const s=p=>this.i!==i?(i=this.i,e(p)):Promise.resolve();let o=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zs,t.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const p=o;t.enqueueRetryable((0,Ee.Z)(function*(){yield p.promise,yield s(r.currentUser)}))},h=p=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zs)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fn("string"==typeof r.accessToken),new cR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Fn(null===t||"string"==typeof t),new us(t)}}class dT{constructor(t,e,r,i){this.h=t,this.l=e,this.m=r,this.g=i,this.type="FirstParty",this.user=us.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Fn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Dy{constructor(t,e,r,i){this.h=t,this.l=e,this.m=r,this.g=i}getToken(){return Promise.resolve(new dT(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(us.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ab{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hT{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const r=s=>{null!=s.error&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Tt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Fn("string"==typeof e.token),this.A=e.token,new ab(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lb(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class cb{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=lb(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+=t.charAt(i[s]%t.length))}return r}}function Vn(n,t){return n<t?-1:n>t?1:0}function sf(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}function uR(n){return n+"\0"}class ui{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ui.fromMillis(Date.now())}static fromDate(t){return ui.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new ui(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Vn(this.nanoseconds,t.nanoseconds):Vn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class An{constructor(t){this.timestamp=t}static fromTimestamp(t){return new An(t)}static min(){return new An(new ui(0,0))}static max(){return new An(new ui(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class F0{constructor(t,e,r){void 0===e?e=0:e>t.length&&on(),void 0===r?r=t.length-e:r>t.length-e&&on(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===F0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof F0?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const s=t.get(i),o=e.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ir extends F0{construct(t,e,r){return new ir(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new bt(Ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new ir(e)}static emptyPath(){return new ir([])}}const dR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bi extends F0{construct(t,e,r){return new Bi(t,e,r)}static isValidIdentifier(t){return dR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bi(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const s=()=>{if(0===r.length)throw new bt(Ye.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let o=!1;for(;i<t.length;){const u=t[i];if("\\"===u){if(i+1===t.length)throw new bt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[i+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new bt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=h,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new bt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Bi(e)}static emptyPath(){return new Bi([])}}class Wt{constructor(t){this.path=t}static fromPath(t){return new Wt(ir.fromString(t))}static fromName(t){return new Wt(ir.fromString(t).popFirst(5))}static empty(){return new Wt(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ir.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ir.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Wt(new ir(t.slice()))}}class ub{constructor(t,e,r,i){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=i}}function db(n){return n.fields.find(t=>2===t.kind)}function af(n){return n.fields.filter(t=>2!==t.kind)}ub.UNKNOWN_ID=-1;class hb{constructor(t,e){this.fieldPath=t,this.kind=e}}class Wp{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Wp(0,xi.min())}}function fb(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=An.fromTimestamp(1e9===r?new ui(e+1,0):new ui(e,r));return new xi(i,Wt.empty(),t)}function pR(n){return new xi(n.readTime,n.key,-1)}class xi{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new xi(An.min(),Wt.empty(),-1)}static max(){return new xi(An.max(),Wt.empty(),-1)}}function pb(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Wt.comparator(n.documentKey,t.documentKey),0!==e?e:Vn(n.largestBatchId,t.largestBatchId))}const Sy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function ds(n){return mb.apply(this,arguments)}function mb(){return mb=(0,Ee.Z)(function*(n){if(n.code!==Ye.FAILED_PRECONDITION||n.message!==Sy)throw n;Tt("LocalStore","Unexpectedly lost primary lease")}),mb.apply(this,arguments)}class Ne{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&on(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ne?e:Ne.resolve(e)}catch(e){return Ne.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ne.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ne.reject(e)}static resolve(t){return new Ne((e,r)=>{e(t)})}static reject(t){return new Ne((e,r)=>{r(t)})}static waitFor(t){return new Ne((e,r)=>{let i=0,s=0,o=!1;t.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&e()},h=>r(h))}),o=!0,s===i&&e()})}static or(t){let e=Ne.resolve(!1);for(const r of t)e=e.next(i=>i?Ne.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,s)=>{r.push(e.call(this,i,s))}),this.waitFor(r)}static mapArray(t,e){return new Ne((r,i)=>{const s=t.length,o=new Array(s);let u=0;for(let h=0;h<s;h++){const p=h;e(t[p]).next(g=>{o[p]=g,++u,u===s&&r(o)},g=>i(g))}})}static doWhile(t,e){return new Ne((r,i)=>{const s=()=>{!0===t()?e().next(()=>{s()},i):r()};s()})}}class Ty{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new zs,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new qp(t,e.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=vb(r.target.error);this.P.reject(new qp(t,i))}}static open(t,e,r,i){try{return new Ty(e,t.transaction(i,r))}catch(s){throw new qp(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Tt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new mR(e)}}class Al{constructor(t,e,r){this.name=t,this.version=e,this.S=r,12.2===Al.D((0,tr.z$)())&&Vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Tt("SimpleDb","Removing database:",t),Rd(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,tr.hl)())return!1;if(Al.N())return!0;const t=(0,tr.z$)(),e=Al.D(t),r=0<e&&e<10,i=Al.k(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(t){var e=this;return(0,Ee.Z)(function*(){return e.db||(Tt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,i)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new qp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;i("VersionError"===u.name?new bt(Ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new bt(Ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new qp(t,u))},s.onupgradeneeded=o=>{Tt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.S.$(o.target.result,s.transaction,o.oldVersion,e.version).next(()=>{Tt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=r=>e.B(r)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,i){var s=this;return(0,Ee.Z)(function*(){const o="readonly"===e;let u=0;for(;;){++u;try{s.db=yield s.F(t);const h=Ty.open(s.db,t,o?"readonly":"readwrite",r),p=i(h).next(g=>(h.V(),g)).catch(g=>(h.abort(g),Ne.reject(g))).toPromise();return p.catch(()=>{}),yield h.v,p}catch(h){const p=h,g="FirebaseError"!==p.name&&u<3;if(Tt("SimpleDb","Transaction failed with error:",p.message,"Retrying:",g),s.close(),!g)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gb{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return Rd(this.U.delete())}}class qp extends bt{constructor(t,e){super(Ye.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Hu(n){return"IndexedDbTransactionError"===n.name}class mR{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Tt("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Tt("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Rd(r)}add(t){return Tt("SimpleDb","ADD",this.store.name,t,t),Rd(this.store.add(t))}get(t){return Rd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Tt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Tt("SimpleDb","DELETE",this.store.name,t),Rd(this.store.delete(t))}count(){return Tt("SimpleDb","COUNT",this.store.name),Rd(this.store.count())}W(t,e){const r=this.options(t,e);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.H(i,(o,u)=>{s.push(u)}).next(()=>s)}{const i=this.store.getAll(r.range);return new Ne((s,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{s(u.target.result)}})}}J(t,e){const r=this.store.getAll(t,null===e?void 0:e);return new Ne((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(t,e){Tt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,u)=>u.delete())}Z(t,e){let r;e?r=t:(r={},e=t);const i=this.cursor(r);return this.H(i,e)}tt(t){const e=this.cursor({});return new Ne((r,i)=>{e.onerror=s=>{const o=vb(s.target.error);i(o)},e.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(u=>{u?o.continue():r()}):r()}})}H(t,e){const r=[];return new Ne((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const u=o.target.result;if(!u)return void i();const h=new gb(u),p=e(u.primaryKey,u.value,h);if(p instanceof Ne){const g=p.catch(y=>(h.done(),Ne.reject(y)));r.push(g)}h.isDone?i():null===h.G?u.continue():u.continue(h.G)}}).next(()=>Ne.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.X?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Rd(n){return new Ne((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const i=vb(r.target.error);e(i)}})}let _b=!1;function vb(n){const t=Al.D((0,tr.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _b||(_b=!0,setTimeout(()=>{throw r},0)),r}}return n}class pT{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Tt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ee.Z)(function*(){e.task=null;try{Tt("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(r){Hu(r)?Tt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ds(r)}yield e.nt(1)}))}}class gR{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Ee.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.it(r,t))})()}it(t,e){const r=new Set;let i=e,s=!0;return Ne.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!r.has(o))return Tt("IndexBackiller",`Processing collection: ${o}`),this.rt(t,o,i).next(u=>{i-=u,r.add(o)});s=!1})).next(()=>e-i)}rt(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(i=>this.localStore.localDocuments.getNextDocuments(t,e,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.ot(i,s)).next(u=>(Tt("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>o.size)}))}ot(t,e){let r=t;return e.changes.forEach((i,s)=>{const o=pR(s);pb(o,r)>0&&(r=o)}),new xi(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}class oo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>e.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function ju(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Fd(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Ay(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}oo.at=-1;class Tr{constructor(t,e){this.comparator=t,this.root=e||ao.EMPTY}insert(t,e){return new Tr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(t){return new Tr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ao.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Iy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Iy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Iy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Iy(this.root,t,this.comparator,!0)}}class Iy{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ao{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??ao.RED,this.left=i??ao.EMPTY,this.right=s??ao.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new ao(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===s?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ao.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return ao.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ao.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ao.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw on();const t=this.left.check();if(t!==this.right.check())throw on();return t+(this.isRed()?0:1)}}ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1,ao.EMPTY=new class{constructor(){this.size=0}get key(){throw on()}get value(){throw on()}get color(){throw on()}get left(){throw on()}get right(){throw on()}copy(n,t,e,r,i){return this}insert(n,t,e){return new ao(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nr{constructor(t){this.comparator=t,this.data=new Tr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new mT(this.data.getIterator())}getIteratorFrom(t){return new mT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Nr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Nr(this.comparator);return e.data=t,e}}class mT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yp(n){return n.hasNext()?n.getNext():void 0}class Ta{constructor(t){this.fields=t,t.sort(Bi.comparator)}static empty(){return new Ta([])}unionWith(t){let e=new Nr(Bi.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Ta(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return sf(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class bs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new bs(e)}static fromUint8Array(t){const e=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new bs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bs.EMPTY_BYTE_STRING=new bs("");const _T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Od(n){if(Fn(!!n),"string"==typeof n){let t=0;const e=_T.exec(n);if(Fn(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bi(n.seconds),nanos:bi(n.nanos)}}function bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Kp(n){return"string"==typeof n?bs.fromBase64String(n):bs.fromUint8Array(n)}function O0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function yb(n){const t=n.mapValue.fields.__previous_value__;return O0(t)?yb(t):t}function Xp(n){const t=Od(n.mapValue.fields.__local_write_time__.timestampValue);return new ui(t.seconds,t.nanos)}class vT{constructor(t,e,r,i,s,o,u,h){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class Gu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Gu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Gu&&t.projectId===this.projectId&&t.database===this.database}}function Qp(n){return null==n}function Pd(n){return 0===n&&1/n==-1/0}function P0(n){return"number"==typeof n&&Number.isInteger(n)&&!Pd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const $u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ky={nullValue:"NULL_VALUE"};function Nd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?O0(n)?4:wR(n)?9007199254740991:10:on()}function Il(n,t){if(n===t)return!0;const e=Nd(n);if(e!==Nd(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xp(n).isEqual(Xp(t));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Od(r.timestampValue),o=Od(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return i=t,Kp(n.bytesValue).isEqual(Kp(i.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,i){return bi(r.geoPointValue.latitude)===bi(i.geoPointValue.latitude)&&bi(r.geoPointValue.longitude)===bi(i.geoPointValue.longitude)}(n,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return bi(r.integerValue)===bi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=bi(r.doubleValue),o=bi(i.doubleValue);return s===o?Pd(s)===Pd(o):isNaN(s)&&isNaN(o)}return!1}(n,t);case 9:return sf(n.arrayValue.values||[],t.arrayValue.values||[],Il);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(ju(s)!==ju(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===o[u]||!Il(s[u],o[u])))return!1;return!0}(n,t);default:return on()}var i}function N0(n,t){return void 0!==(n.values||[]).find(e=>Il(e,t))}function Ld(n,t){if(n===t)return 0;const e=Nd(n),r=Nd(t);if(e!==r)return Vn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Vn(n.booleanValue,t.booleanValue);case 2:return function(i,s){const o=bi(i.integerValue||i.doubleValue),u=bi(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(n,t);case 3:return _R(n.timestampValue,t.timestampValue);case 4:return _R(Xp(n),Xp(t));case 5:return Vn(n.stringValue,t.stringValue);case 6:return function(i,s){const o=Kp(i),u=Kp(s);return o.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let h=0;h<o.length&&h<u.length;h++){const p=Vn(o[h],u[h]);if(0!==p)return p}return Vn(o.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Vn(bi(i.latitude),bi(s.latitude));return 0!==o?o:Vn(bi(i.longitude),bi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],u=s.values||[];for(let h=0;h<o.length&&h<u.length;++h){const p=Ld(o[h],u[h]);if(p)return p}return Vn(o.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===$u.mapValue&&s===$u.mapValue)return 0;if(i===$u.mapValue)return 1;if(s===$u.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),h=s.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const y=Vn(u[g],p[g]);if(0!==y)return y;const E=Ld(o[u[g]],h[p[g]]);if(0!==E)return E}return Vn(u.length,p.length)}(n.mapValue,t.mapValue);default:throw on()}}function _R(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Vn(n,t);const e=Od(n),r=Od(t),i=Vn(e.seconds,r.seconds);return 0!==i?i:Vn(e.nanos,r.nanos)}function L0(n){return My(n)}function My(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Od(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Kp(n.bytesValue).toBase64():"referenceValue"in n?Wt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=My(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${My(r.fields[u])}`;return s+"}"}(n.mapValue):on();var t}function lf(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function wb(n){return!!n&&"integerValue"in n}function V0(n){return!!n&&"arrayValue"in n}function vR(n){return!!n&&"nullValue"in n}function yR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xb(n){return!!n&&"mapValue"in n}function Ry(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Fd(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Ry(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ry(n.arrayValue.values[e]);return t}return Object.assign({},n)}function wR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xR(n){return"nullValue"in n?ky:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lf(Gu.empty(),Wt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:on()}function Fy(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lf(Gu.empty(),Wt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?$u:on()}function yT(n,t){const e=Ld(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function wT(n,t){const e=Ld(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Es{constructor(t){this.value=t}static empty(){return new Es({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!xb(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ry(e)}setAll(t){let e=Bi.emptyPath(),r={},i=[];t.forEach((o,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,r,i),r={},i=[],e=u.popLast()}o?r[u.lastSegment()]=Ry(o):i.push(u.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){const e=this.field(t.popLast());xb(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Il(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];xb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){Fd(e,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Es(Ry(this.value))}}function Vd(n){const t=[];return Fd(n.fields,(e,r)=>{const i=new Bi([e]);if(xb(r)){const s=Vd(r.mapValue).fields;if(0===s.length)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Ta(t)}class Gr{constructor(t,e,r,i,s,o){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Gr(t,0,An.min(),An.min(),Es.empty(),0)}static newFoundDocument(t,e,r){return new Gr(t,1,e,An.min(),r,0)}static newNoDocument(t,e){return new Gr(t,2,e,An.min(),Es.empty(),0)}static newUnknownDocument(t,e){return new Gr(t,3,e,An.min(),Es.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=An.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Gr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bb{constructor(t,e=null,r=[],i=[],s=null,o=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ht=null}}function Oy(n,t=null,e=[],r=[],i=null,s=null,o=null){return new bb(n,t,e,r,i,s,o)}function cf(n){const t=Qt(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+L0(i.value);var i}).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Qp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>L0(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>L0(r)).join(",")),t.ht=e}return t.ht}function uf(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!ST(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((e=n.filters[i]).op!==(r=t.filters[i]).op||!e.field.isEqual(r.field)||!Il(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!TR(n.startAt,t.startAt)&&TR(n.endAt,t.endAt)}function df(n){return Wt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Cb(n,t){return n.filters.filter(e=>e instanceof lo&&e.field.isEqual(t))}function bR(n,t,e){let r=ky,i=!0;for(const s of Cb(n,t)){let o=ky,u=!0;switch(s.op){case"<":case"<=":o=xR(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,u=!1;break;case"!=":case"not-in":o=ky}yT({value:r,inclusive:i},{value:o,inclusive:u})<0&&(r=o,i=u)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];yT({value:r,inclusive:i},{value:o,inclusive:e.inclusive})<0&&(r=o,i=e.inclusive);break}return{value:r,inclusive:i}}function ER(n,t,e){let r=$u,i=!0;for(const s of Cb(n,t)){let o=$u,u=!0;switch(s.op){case">=":case">":o=Fy(s.value),u=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,u=!1;break;case"!=":case"not-in":o=$u}wT({value:r,inclusive:i},{value:o,inclusive:u})>0&&(r=o,i=u)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];wT({value:r,inclusive:i},{value:o,inclusive:e.inclusive})>0&&(r=o,i=e.inclusive);break}return{value:r,inclusive:i}}class lo extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,r):new xT(t,e,r):"array-contains"===e?new SR(t,r):"in"===e?new ET(t,r):"not-in"===e?new CT(t,r):"array-contains-any"===e?new DT(t,r):new lo(t,e,r)}static lt(t,e,r){return"in"===e?new CR(t,r):new DR(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Ld(e,this.value)):null!==e&&Nd(this.value)===Nd(e)&&this.ft(Ld(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return on()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xT extends lo{constructor(t,e,r){super(t,e,r),this.key=Wt.fromName(r.referenceValue)}matches(t){const e=Wt.comparator(t.key,this.key);return this.ft(e)}}class CR extends lo{constructor(t,e){super(t,"in",e),this.keys=bT(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class DR extends lo{constructor(t,e){super(t,"not-in",e),this.keys=bT(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function bT(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Wt.fromName(r.referenceValue))}class SR extends lo{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return V0(e)&&N0(e.arrayValue,this.value)}}class ET extends lo{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&N0(this.value.arrayValue,e)}}class CT extends lo{constructor(t,e){super(t,"not-in",e)}matches(t){if(N0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!N0(this.value.arrayValue,e)}}class DT extends lo{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!V0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>N0(this.value.arrayValue,r))}}class Bd{constructor(t,e){this.position=t,this.inclusive=e}}class Jp{constructor(t,e="asc"){this.field=t,this.dir=e}}function ST(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Py(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const s=t[i],o=n.position[i];if(r=s.field.isKeyField()?Wt.comparator(Wt.fromName(o.referenceValue),e.key):Ld(o,e.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function TR(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Il(n.position[e],t.position[e]))return!1;return!0}class Rc{constructor(t,e=null,r=[],i=[],s=null,o="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=h,this._t=null,this.wt=null}}function Ny(n,t,e,r,i,s,o,u){return new Rc(n,t,e,r,i,s,o,u)}function em(n){return new Rc(n)}function TT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function AT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function IT(n){for(const t of n.filters)if(t.dt())return t.field;return null}function Db(n){return null!==n.collectionGroup}function tm(n){const t=Qt(n);if(null===t._t){t._t=[];const e=IT(t),r=AT(t);if(null!==e&&null===r)e.isKeyField()||t._t.push(new Jp(e)),t._t.push(new Jp(Bi.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Jp(Bi.keyField(),s))}}}return t._t}function Yo(n){const t=Qt(n);if(!t.wt)if("F"===t.limitType)t.wt=Oy(t.path,t.collectionGroup,tm(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of tm(t))e.push(new Jp(s.field,"desc"===s.dir?"asc":"desc"));const r=t.endAt?new Bd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Bd(t.startAt.position,t.startAt.inclusive):null;t.wt=Oy(t.path,t.collectionGroup,e,t.filters,t.limit,r,i)}return t.wt}function Sb(n,t,e){return new Rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ly(n,t){return uf(Yo(n),Yo(t))&&n.limitType===t.limitType}function AR(n){return`${cf(Yo(n))}|lt:${n.limitType}`}function kT(n){return`Query(target=${function Eb(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${L0(r.value)}`;var r}).join(", ")}]`),Qp(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>L0(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>L0(e)).join(",")),`Target(${t})`}(Yo(n))}; limitType=${n.limitType})`}function MT(n,t){return t.isFoundDocument()&&function(e,r){const i=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):Wt.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(n,t)&&function(e,r){for(const i of e.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,t)&&function(e,r){for(const i of e.filters)if(!i.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!function(i,s,o){const u=Py(i,s,o);return i.inclusive?u<=0:u<0}(e.startAt,tm(e),r)||e.endAt&&!function(i,s,o){const u=Py(i,s,o);return i.inclusive?u>=0:u>0}(e.endAt,tm(e),r)));var e,r}function RT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IR(n){return(t,e)=>{let r=!1;for(const i of tm(n)){const s=sL(i,t,e);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function sL(n,t,e){const r=n.field.isKeyField()?Wt.comparator(t.key,e.key):function(i,s,o){const u=s.data.field(i),h=o.data.field(i);return null!==u&&null!==h?Ld(u,h):on()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return on()}}function kR(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pd(t)?"-0":t}}function MR(n){return{integerValue:""+n}}function RR(n,t){return P0(t)?MR(t):kR(n,t)}class Tb{constructor(){this._=void 0}}function a(n,t,e){return n instanceof f?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(e,t):n instanceof m?_(n,t):n instanceof x?C(n,t):function(r,i){const s=d(r,i),o=O(s)+O(r.yt);return wb(s)&&wb(r.yt)?MR(o):kR(r.It,o)}(n,t)}function c(n,t,e){return n instanceof m?_(n,t):n instanceof x?C(n,t):e}function d(n,t){return n instanceof I?wb(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class f extends Tb{}class m extends Tb{constructor(t){super(),this.elements=t}}function _(n,t){const e=L(t);for(const r of n.elements)e.some(i=>Il(i,r))||e.push(r);return{arrayValue:{values:e}}}class x extends Tb{constructor(t){super(),this.elements=t}}function C(n,t){let e=L(t);for(const r of n.elements)e=e.filter(i=>!Il(i,r));return{arrayValue:{values:e}}}class I extends Tb{constructor(t,e){super(),this.It=t,this.yt=e}}function O(n){return bi(n.integerValue||n.doubleValue)}function L(n){return V0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class q{constructor(t,e){this.field=t,this.transform=e}}class Ie{constructor(t,e){this.version=t,this.transformResults=e}}class ze{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ze}static exists(t){return new ze(void 0,t)}static updateTime(t){return new ze(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dt(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Gt{}function rn(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Ud(n.key,ze.none()):new Ar(n.key,n.data,ze.none());{const e=n.data,r=Es.empty();let i=new Nr(Bi.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Do(n.key,r,new Ta(i.toArray()),ze.none())}}function Tn(n,t,e){n instanceof Ar?function(r,i,s){const o=r.value.clone(),u=By(r.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,t,e):n instanceof Do?function(r,i,s){if(!Dt(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=By(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(Vy(r)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function gt(n,t,e,r){return n instanceof Ar?function(i,s,o,u){if(!Dt(i.precondition,s))return o;const h=i.value.clone(),p=Uy(i.fieldTransforms,u,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,t,e,r):n instanceof Do?function(i,s,o,u){if(!Dt(i.precondition,s))return o;const h=Uy(i.fieldTransforms,u,s),p=s.data;return p.setAll(Vy(i)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(n,t,e,r):(o=e,Dt(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function wn(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),s=d(r.transform,i||null);null!=s&&(null===e&&(e=Es.empty()),e.set(r.field,s))}return e||null}function sr(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&sf(e,r,(i,s)=>function ge(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof m&&r instanceof m||e instanceof x&&r instanceof x?sf(e.elements,r.elements,Il):e instanceof I&&r instanceof I?Il(e.yt,r.yt):e instanceof f&&r instanceof f);var e,r}(i,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}class Ar extends Gt{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Do extends Gt{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Vy(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function By(n,t,e){const r=new Map;Fn(n.length===e.length);for(let i=0;i<e.length;i++){const s=n[i],o=s.transform,u=t.data.field(s.field);r.set(s.field,c(o,u,e[i]))}return r}function Uy(n,t,e){const r=new Map;for(const i of n){const s=i.transform,o=e.data.field(i.field);r.set(i.field,a(s,o,t))}return r}class Ud extends Gt{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B0 extends Gt{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ab{constructor(t){this.count=t}}var Mi,cr;function Hy(n){switch(n){default:return on();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0}}function oL(n){if(void 0===n)return Vi("GRPC error has no .code"),Ye.UNKNOWN;switch(n){case Mi.OK:return Ye.OK;case Mi.CANCELLED:return Ye.CANCELLED;case Mi.UNKNOWN:return Ye.UNKNOWN;case Mi.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case Mi.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case Mi.INTERNAL:return Ye.INTERNAL;case Mi.UNAVAILABLE:return Ye.UNAVAILABLE;case Mi.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case Mi.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case Mi.NOT_FOUND:return Ye.NOT_FOUND;case Mi.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case Mi.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case Mi.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case Mi.ABORTED:return Ye.ABORTED;case Mi.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case Mi.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case Mi.DATA_LOSS:return Ye.DATA_LOSS;default:return on()}}(cr=Mi||(Mi={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";class nm{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Fd(this.inner,(e,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Ay(this.inner)}size(){return this.innerSize}}const Z8=new Tr(Wt.comparator);function Xa(){return Z8}const aL=new Tr(Wt.comparator);function Ib(...n){let t=aL;for(const e of n)t=t.insert(e.key,e);return t}function lL(n){let t=aL;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Hd(){return kb()}function cL(){return kb()}function kb(){return new nm(n=>n.toString(),(n,t)=>n.isEqual(t))}const W8=new Tr(Wt.comparator),q8=new Nr(Wt.comparator);function Kn(...n){let t=q8;for(const e of n)t=t.add(e);return t}const Y8=new Nr(Vn);function FT(){return Y8}class Mb{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,Rb.createSynthesizedTargetChangeForCurrentChange(t,e)),new Mb(An.min(),r,FT(),Xa(),Kn())}}class Rb{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Rb(bs.EMPTY_BYTE_STRING,e,Kn(),Kn(),Kn())}}class OT{constructor(t,e,r,i){this.Tt=t,this.removedTargetIds=e,this.key=r,this.Et=i}}class uL{constructor(t,e){this.targetId=t,this.At=e}}class dL{constructor(t,e,r=bs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class hL{constructor(){this.Rt=0,this.bt=pL(),this.Pt=bs.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=Kn(),e=Kn(),r=Kn();return this.bt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:on()}}),new Rb(this.Pt,this.vt,t,e,r)}Nt(){this.Vt=!1,this.bt=pL()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class K8{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Xa(),this.qt=fL(),this.Kt=new Nr(Vn)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const r=this.zt(e);switch(t.state){case 0:this.Ht(e)&&r.Ct(t.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(t.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(r.$t(),r.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),r.Ct(t.resumeToken));break;default:on()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((r,i)=>{this.Ht(i)&&e(i)})}Yt(t){const e=t.targetId,r=t.At.count,i=this.Xt(e);if(i){const s=i.target;if(df(s))if(0===r){const o=new Wt(s.path);this.jt(e,o,Gr.newNoDocument(o,An.min()))}else Fn(1===r);else this.Zt(e)!==r&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,o)=>{const u=this.Xt(o);if(u){if(s.current&&df(u.target)){const h=new Wt(u.target.path);null!==this.Ut.get(h)||this.ee(o,h)||this.jt(o,h,Gr.newNoDocument(h,t))}s.Dt&&(e.set(o,s.xt()),s.Nt())}});let r=Kn();this.qt.forEach((s,o)=>{let u=!0;o.forEachWhile(h=>{const p=this.Xt(h);return!p||2===p.purpose||(u=!1,!1)}),u&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(t));const i=new Mb(t,e,this.Kt,this.Ut,r);return this.Ut=Xa(),this.qt=fL(),this.Kt=new Nr(Vn),i}Qt(t,e){if(!this.Ht(t))return;const r=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,r),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,r){if(!this.Ht(t))return;const i=this.zt(t);this.ee(t,e)?i.kt(e,1):i.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),r&&(this.Ut=this.Ut.insert(e,r))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new hL,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new Nr(Vn),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Tt("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new hL),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function fL(){return new Tr(Wt.comparator)}function pL(){return new Tr(Wt.comparator)}const X8={asc:"ASCENDING",desc:"DESCENDING"},Q8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class J8{constructor(t,e){this.databaseId=t,this.gt=e}}function Fb(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mL(n,t){return n.gt?t.toBase64():t.toUint8Array()}function eH(n,t){return Fb(n,t.toTimestamp())}function co(n){return Fn(!!n),An.fromTimestamp(function(t){const e=Od(t);return new ui(e.seconds,e.nanos)}(n))}function FR(n,t){return(e=n,new ir(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function gL(n){const t=ir.fromString(n);return Fn(DL(t)),t}function Ob(n,t){return FR(n.databaseId,t.path)}function jd(n,t){const e=gL(t);if(e.get(1)!==n.databaseId.projectId)throw new bt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new bt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Wt(vL(e))}function OR(n,t){return FR(n.databaseId,t)}function _L(n){const t=gL(n);return 4===t.length?ir.emptyPath():vL(t)}function Pb(n){return new ir(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vL(n){return Fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yL(n,t,e){return{name:Ob(n,t),fields:e.value.mapValue.fields}}function wL(n,t,e){const r=jd(n,t.name),i=co(t.updateTime),s=new Es({mapValue:{fields:t.fields}}),o=Gr.newFoundDocument(r,i,s);return e&&o.setHasCommittedMutations(),e?o.setHasCommittedMutations():o}function Nb(n,t){let e;if(t instanceof Ar)e={update:yL(n,t.key,t.value)};else if(t instanceof Ud)e={delete:Ob(n,t.key)};else if(t instanceof Do)e={update:yL(n,t.key,t.data),updateMask:cH(t.fieldMask)};else{if(!(t instanceof B0))return on();e={verify:Ob(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof f)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof m)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof x)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof I)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw on()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:eH(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:on()),e;var i}function PR(n,t){const e=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?ze.updateTime(co(i.updateTime)):void 0!==i.exists?ze.exists(i.exists):ze.none():ze.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(s,o){let u=null;"setToServerValue"in o?(Fn("REQUEST_TIME"===o.setToServerValue),u=new f):"appendMissingElements"in o?u=new m(o.appendMissingElements.values||[]):"removeAllFromArray"in o?u=new x(o.removeAllFromArray.values||[]):"increment"in o?u=new I(s,o.increment):on();const h=Bi.fromServerFormat(o.fieldPath);return new q(h,u)}(n,i)):[];var i;if(t.update){const i=jd(n,t.update.name),s=new Es({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new Ta((t.updateMask.fieldPaths||[]).map(p=>Bi.fromServerFormat(p)));return new Do(i,s,o,e,r)}return new Ar(i,s,e,r)}if(t.delete){const i=jd(n,t.delete);return new Ud(i,e)}if(t.verify){const i=jd(n,t.verify);return new B0(i,e)}return on()}function xL(n,t){return{documents:[OR(n,t.path)]}}function bL(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=OR(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=OR(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(0===h.length)return;const p=h.map(g=>function(y){if("=="===y.op){if(yR(y.value))return{unaryFilter:{field:jy(y.field),op:"IS_NAN"}};if(vR(y.value))return{unaryFilter:{field:jy(y.field),op:"IS_NULL"}}}else if("!="===y.op){if(yR(y.value))return{unaryFilter:{field:jy(y.field),op:"IS_NOT_NAN"}};if(vR(y.value))return{unaryFilter:{field:jy(y.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jy(y.field),op:oH(y.op),value:y.value}}}(g));return 1===p.length?p[0]:{compositeFilter:{op:"AND",filters:p}}}(t.filters);i&&(e.structuredQuery.where=i);const s=function(h){if(0!==h.length)return h.map(p=>{return{field:jy((g=p).field),direction:sH(g.dir)};var g})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=(p=t.limit,n.gt||Qp(p)?p:{value:p});var p,u,h;return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function EL(n){let t=_L(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){Fn(1===r);const g=e.from[0];g.allDescendants?i=g.collectionId:t=t.child(g.collectionId)}let s=[];e.where&&(s=CL(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(g=>{return new Jp(Gy((y=g).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let u=null;e.limit&&(u=function(g){let y;return y="object"==typeof g?g.value:g,Qp(y)?null:y}(e.limit));let h=null;var g;e.startAt&&(h=new Bd((g=e.startAt).values||[],!!g.before));let p=null;return e.endAt&&(p=function(g){return new Bd(g.values||[],!g.before)}(e.endAt)),Ny(t,i,o,s,u,"F",h,p)}function CL(n){return n?void 0!==n.unaryFilter?[lH(n)]:void 0!==n.fieldFilter?[aH(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>CL(t)).reduce((t,e)=>t.concat(e)):on():[]}function sH(n){return X8[n]}function oH(n){return Q8[n]}function jy(n){return{fieldPath:n.canonicalString()}}function Gy(n){return Bi.fromServerFormat(n.fieldPath)}function aH(n){return lo.create(Gy(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return on()}}(n.fieldFilter.op),n.fieldFilter.value)}function lH(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Gy(n.unaryFilter.field);return lo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Gy(n.unaryFilter.field);return lo.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gy(n.unaryFilter.field);return lo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gy(n.unaryFilter.field);return lo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return on()}}function cH(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function DL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Aa(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=SL(t)),t=uH(n.get(e),t);return SL(t)}function uH(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function SL(n){return n+"\x01\x01"}function Gd(n){const t=n.length;if(Fn(t>=2),2===t)return Fn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ir.emptyPath();const e=t-2,r=[];let i="";for(let s=0;s<t;){const o=n.indexOf("\x01",s);switch((o<0||o>e)&&on(),n.charAt(o+1)){case"\x01":const u=n.substring(s,o);let h;0===i.length?h=u:(i+=u,h=i,i=""),r.push(h);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:on()}s=o+2}return new ir(r)}const TL=["userId","batchId"];function PT(n,t){return[n,Aa(t)]}function AL(n,t,e){return[n,Aa(t),e]}const dH={},hH=["prefixPath","collectionGroup","readTime","documentId"],fH=["prefixPath","collectionGroup","documentId"],pH=["collectionGroup","readTime","prefixPath","documentId"],mH=["canonicalId","targetId"],gH=["targetId","path"],_H=["path","targetId"],vH=["collectionId","parent"],yH=["indexId","uid"],wH=["uid","sequenceNumber"],xH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bH=["indexId","uid","orderedDocumentKey"],EH=["userId","collectionPath","documentId"],CH=["userId","collectionPath","largestBatchId"],DH=["userId","collectionGroup","largestBatchId"],IL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SH=[...IL,"documentOverlays"],kL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ML=kL,TH=[...ML,"indexConfiguration","indexState","indexEntries"];class NR extends fT{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function uo(n,t){const e=Qt(n);return Al.O(e.ie,t)}class LR{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Tn(s,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=gt(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=gt(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=cL();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=e.has(i.key)?null:u;const h=rn(o,u);null!==h&&r.set(i.key,h),o.isValidDocument()||o.convertToNoDocument(An.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Kn())}isEqual(t){return this.batchId===t.batchId&&sf(this.mutations,t.mutations,(e,r)=>sr(e,r))&&sf(this.baseMutations,t.baseMutations,(e,r)=>sr(e,r))}}class VR{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){Fn(t.mutations.length===r.length);let i=W8;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new VR(t,e,r,i)}}class BR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rm{constructor(t,e,r,i,s=An.min(),o=An.min(),u=bs.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}withSequenceNumber(t){return new rm(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new rm(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new rm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class RL{constructor(t){this.re=t}}function FL(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:NT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:Ob(i=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Fb(i,s.version.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:U0(t.version)};else{if(!t.isUnknownDocument())return on();r.unknownDocument={path:e.path.toArray(),version:U0(t.version)}}var i,s;return r}function NT(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function U0(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function H0(n){const t=new ui(n.seconds,n.nanoseconds);return An.fromTimestamp(t)}function j0(n,t){const e=(t.baseMutations||[]).map(s=>PR(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const o=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(o.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(s=>PR(n.re,s)),i=ui.fromMillis(t.localWriteTimeMs);return new LR(t.batchId,i,e,r)}function Lb(n){const t=H0(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?H0(n.lastLimboFreeSnapshotVersion):An.min();let r;var i;return void 0!==n.query.documents?(Fn(1===(i=n.query).documents.length),r=Yo(em(_L(i.documents[0])))):r=Yo(EL(n.query)),new rm(r,n.targetId,0,n.lastListenSequenceNumber,t,e,bs.fromBase64String(n.resumeToken))}function OL(n,t){const e=U0(t.snapshotVersion),r=U0(t.lastLimboFreeSnapshotVersion);let i;i=df(t.target)?xL(n.re,t.target):bL(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:cf(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function UR(n){const t=EL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Sb(t,t.limit,"L"):t}function HR(n,t){return new BR(t.largestBatchId,PR(n.re,t.overlayMutation))}function PL(n,t){const e=t.path.lastSegment();return[n,Aa(t.path.popLast()),e]}function NL(n,t,e,r){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:U0(r.readTime),documentKey:Aa(r.documentKey.path),largestBatchId:r.largestBatchId}}class IH{getBundleMetadata(t,e){return LL(t).get(e).next(r=>{if(r)return{id:(i=r).bundleId,createTime:H0(i.createTime),version:i.version};var i})}saveBundleMetadata(t,e){return LL(t).put({bundleId:(r=e).id,createTime:U0(co(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return VL(t).get(e).next(r=>{if(r)return{name:(i=r).name,query:UR(i.bundledQuery),readTime:H0(i.readTime)};var i})}saveNamedQuery(t,e){return VL(t).put({name:(r=e).name,readTime:U0(co(r.readTime)),bundledQuery:r.bundledQuery});var r}}function LL(n){return uo(n,"bundles")}function VL(n){return uo(n,"namedQueries")}class LT{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new LT(t,e.uid||"")}getOverlay(t,e){return Vb(t).get(PL(this.userId,e)).next(r=>r?HR(this.It,r):null)}getOverlays(t,e){const r=Hd();return Ne.forEach(e,i=>this.getOverlay(t,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){const i=[];return r.forEach((s,o)=>{const u=new BR(e,o);i.push(this.ue(t,u))}),Ne.waitFor(i)}removeOverlaysForBatchId(t,e,r){const i=new Set;e.forEach(o=>i.add(Aa(o.getCollectionPath())));const s=[];return i.forEach(o=>{const u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Vb(t).Y("collectionPathOverlayIndex",u))}),Ne.waitFor(s)}getOverlaysForCollection(t,e,r){const i=Hd(),s=Aa(e),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Vb(t).W("collectionPathOverlayIndex",o).next(u=>{for(const h of u){const p=HR(this.It,h);i.set(p.getKey(),p)}return i})}getOverlaysForCollectionGroup(t,e,r,i){const s=Hd();let o;const u=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Vb(t).Z({index:"collectionGroupOverlayIndex",range:u},(h,p,g)=>{const y=HR(this.It,p);s.size()<i||y.largestBatchId===o?(s.set(y.getKey(),y),o=y.largestBatchId):g.done()}).next(()=>s)}ue(t,e){return Vb(t).put(function(r,i,s){const[o,u,h]=PL(i,s.mutation.key);return{userId:i,collectionPath:u,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Nb(r.re,s.mutation)}}(this.It,this.userId,e))}}function Vb(n){return uo(n,"documentOverlays")}class G0{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(bi(t.integerValue));else if("doubleValue"in t){const r=bi(t.doubleValue);isNaN(r)?this.le(e,13):(this.le(e,15),Pd(r)?e.fe(0):e.fe(r))}else if("timestampValue"in t){const r=t.timestampValue;this.le(e,20),"string"==typeof r?e.de(r):(e.de(`${r.seconds||""}`),e.fe(r.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Kp(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.le(e,45),e.fe(r.latitude||0),e.fe(r.longitude||0)}else"mapValue"in t?wR(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):on()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const r=t.fields||{};this.le(e,55);for(const i of Object.keys(r))this._e(i,e),this.ae(r[i],e)}pe(t,e){const r=t.values||[];this.le(e,50);for(const i of r)this.ae(i,e)}ge(t,e){this.le(e,37),Wt.fromName(t).path.forEach(r=>{this.le(e,60),this.Ie(r,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function kH(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function BL(n){const t=64-function(e){let r=0;for(let i=0;i<8;++i){const s=kH(255&e[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}G0.Te=new G0;class MH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ae(r.value),r=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Pe(r.value),r=e.next();this.ve()}Ve(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=e.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=e.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(t){const e=this.Ce(t),r=BL(e);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=255&e[i]}Ne(t){const e=this.Ce(t),r=BL(e);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=~(255&e[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(t),r=0!=(128&e[0]);e[0]^=r?255:128;for(let i=1;i<e.length;++i)e[i]^=r?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class RH{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class FH{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class Bb{constructor(){this.Be=new MH,this.Le=new RH(this.Be),this.Ue=new FH(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class $0{constructor(t,e,r,i){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=i}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new $0(this.indexId,this.documentKey,this.arrayValue,r)}}function z0(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=UL(n.arrayValue,t.arrayValue),0!==e?e:(e=UL(n.directionalValue,t.directionalValue),0!==e?e:Wt.comparator(n.documentKey,t.documentKey)))}function UL(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(0!==r)return r}return n.length-t.length}class OH{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const r=e;r.dt()?this.je=r:this.Qe.push(r)}}We(t){const e=db(t);if(void 0!==e&&!this.ze(e))return!1;const r=af(t);let i=0,s=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const o=r[i];if(!this.He(this.je,o)||!this.Je(this.Ge[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ge.length||!this.Je(this.Ge[s++],o))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class PH{constructor(){this.Ye=new jR}addToCollectionParentIndex(t,e){return this.Ye.add(e),Ne.resolve()}getCollectionParents(t,e){return Ne.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return Ne.resolve()}deleteFieldIndex(t,e){return Ne.resolve()}getDocumentsMatchingTarget(t,e){return Ne.resolve(null)}getIndexType(t,e){return Ne.resolve(0)}getFieldIndexes(t,e){return Ne.resolve([])}getNextCollectionGroupToUpdate(t){return Ne.resolve(null)}getMinOffset(t,e){return Ne.resolve(xi.min())}getMinOffsetFromCollectionGroup(t,e){return Ne.resolve(xi.min())}updateCollectionGroup(t,e,r){return Ne.resolve()}updateIndexEntries(t,e){return Ne.resolve()}}class jR{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new Nr(ir.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Nr(ir.comparator)).toArray()}}const VT=new Uint8Array(0);class NH{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new jR,this.Ze=new nm(r=>cf(r),(r,i)=>uf(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:r,parent:Aa(i)};return HL(t).put(s)}return Ne.resolve()}getCollectionParents(t,e){const r=[],i=IDBKeyRange.bound([e,""],[uR(e),""],!1,!0);return HL(t).W(i).next(s=>{for(const o of s){if(o.collectionId!==e)break;r.push(Gd(o.parent))}return r})}addFieldIndex(t,e){const r=BT(t),i={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var o;delete i.indexId;const s=r.add(i);if(e.indexState){const o=Hb(t);return s.next(u=>{o.put(NL(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const r=BT(t),i=Hb(t),s=Ub(t);return r.delete(e.indexId).next(()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const r=Ub(t);let i=!0;const s=new Map;return Ne.forEach(this.tn(e),o=>this.en(t,o).next(u=>{i&&(i=!!u),s.set(o,u)})).next(()=>{if(i){let o=Kn();const u=[];return Ne.forEach(s,(h,p)=>{var g;Tt("IndexedDbIndexManager",`Using index ${g=h,`id=${g.indexId}|cg=${g.collectionGroup}|f=${g.fields.map(V=>`${V.fieldPath}:${V.kind}`).join(",")}`} to execute ${cf(e)}`);const y=function(V,re){const ve=db(re);if(void 0===ve)return null;for(const ae of Cb(V,ve.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null}(p,h),E=function(V,re){const ve=new Map;for(const ae of af(re))for(const Y of Cb(V,ae.fieldPath))switch(Y.op){case"==":case"in":ve.set(ae.fieldPath.canonicalString(),Y.value);break;case"not-in":case"!=":return ve.set(ae.fieldPath.canonicalString(),Y.value),Array.from(ve.values())}return null}(p,h),T=function(V,re){const ve=[];let ae=!0;for(const Y of af(re)){const De=0===Y.kind?bR(V,Y.fieldPath,V.startAt):ER(V,Y.fieldPath,V.startAt);ve.push(De.value),ae&&(ae=De.inclusive)}return new Bd(ve,ae)}(p,h),k=function(V,re){const ve=[];let ae=!0;for(const Y of af(re)){const De=0===Y.kind?ER(V,Y.fieldPath,V.endAt):bR(V,Y.fieldPath,V.endAt);ve.push(De.value),ae&&(ae=De.inclusive)}return new Bd(ve,ae)}(p,h),D=this.nn(h,p,T),R=this.nn(h,p,k),B=this.sn(h,p,E),j=this.rn(h.indexId,y,D,T.inclusive,R,k.inclusive,B);return Ne.forEach(j,V=>r.J(V,e.limit).next(re=>{re.forEach(ve=>{const ae=Wt.fromSegments(ve.documentKey);o.has(ae)||(o=o.add(ae),u.push(ae))})}))}).next(()=>u)}return Ne.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,r,i,s,o,u){const h=(null!=e?e.length:1)*Math.max(r.length,s.length),p=h/(null!=e?e.length:1),g=[];for(let y=0;y<h;++y){const E=e?this.on(e[y/p]):VT,T=this.un(t,E,r[y%p],i),k=this.cn(t,E,s[y%p],o),D=u.map(R=>this.un(t,E,R,!0));g.push(...this.createRange(T,k,D))}return g}un(t,e,r,i){const s=new $0(t,Wt.empty(),e,r);return i?s:s.Ke()}cn(t,e,r,i){const s=new $0(t,Wt.empty(),e,r);return i?s.Ke():s}en(t,e){const r=new OH(e),i=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,i).next(s=>{let o=null;for(const u of s)r.We(u)&&(!o||u.fields.length>o.fields.length)&&(o=u);return o})}getIndexType(t,e){let r=2;return Ne.forEach(this.tn(e),i=>this.en(t,i).next(s=>{s?0!==r&&s.fields.length<function(o){let u=new Nr(Bi.comparator),h=!1;for(const p of o.filters){const g=p;g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:u=u.add(g.field))}for(const p of o.orderBy)p.field.isKeyField()||(u=u.add(p.field));return u.size+(h?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(t,e){const r=new Bb;for(const i of af(t)){const s=e.data.field(i.fieldPath);if(null==s)return null;const o=r.qe(i.kind);G0.Te.ce(s,o)}return r.$e()}on(t){const e=new Bb;return G0.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const r=new Bb;return G0.Te.ce(lf(this.databaseId,e),r.qe(function(i){const s=af(i);return 0===s.length?0:s[s.length-1].kind}(t))),r.$e()}sn(t,e,r){if(null===r)return[];let i=[];i.push(new Bb);let s=0;for(const o of af(t)){const u=r[s++];for(const h of i)if(this.ln(e,o.fieldPath)&&V0(u))i=this.fn(i,o,u);else{const p=h.qe(o.kind);G0.Te.ce(u,p)}}return this.dn(i)}nn(t,e,r){return this.sn(t,e,r.position)}dn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].$e();return e}fn(t,e,r){const i=[...t],s=[];for(const o of r.arrayValue.values||[])for(const u of i){const h=new Bb;h.seed(u.$e()),G0.Te.ce(o,h.qe(e.kind)),s.push(h)}return s}ln(t,e){return!!t.filters.find(r=>r instanceof lo&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(t,e){const r=BT(t),i=Hb(t);return(e?r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.W()).next(s=>{const o=[];return Ne.forEach(s,u=>i.get([u.indexId,this.uid]).next(h=>{o.push(function(p,g){const y=g?new Wp(g.sequenceNumber,new xi(H0(g.readTime),new Wt(Gd(g.documentKey)),g.largestBatchId)):Wp.empty(),E=p.fields.map(([T,k])=>new hb(Bi.fromServerFormat(T),k));return new ub(p.indexId,p.collectionGroup,E,y)}(u,h))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Vn(r.collectionGroup,i.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const i=BT(t),s=Hb(t);return this._n(t).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>Ne.forEach(u,h=>s.put(NL(h.indexId,this.user,o,r)))))}updateIndexEntries(t,e){const r=new Map;return Ne.forEach(e,(i,s)=>{const o=r.get(i.collectionGroup);return(o?Ne.resolve(o):this.getFieldIndexes(t,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),Ne.forEach(u,h=>this.wn(t,i,h).next(p=>{const g=this.mn(s,h);return p.isEqual(g)?Ne.resolve():this.gn(t,s,h,p,g)}))))})}yn(t,e,r,i){return Ub(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,e.key),documentKey:e.key.path.toArray()})}pn(t,e,r,i){return Ub(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,e.key),e.key.path.toArray()])}wn(t,e,r){const i=Ub(t);let s=new Nr(z0);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,e)])},(o,u)=>{s=s.add(new $0(r.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>s)}mn(t,e){let r=new Nr(z0);const i=this.an(e,t);if(null==i)return r;const s=db(e);if(null!=s){const o=t.data.field(s.fieldPath);if(V0(o))for(const u of o.arrayValue.values||[])r=r.add(new $0(e.indexId,t.key,this.on(u),i))}else r=r.add(new $0(e.indexId,t.key,VT,i));return r}gn(t,e,r,i,s){Tt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(u,h,p,g,y){const E=u.getIterator(),T=h.getIterator();let k=Yp(E),D=Yp(T);for(;k||D;){let R=!1,B=!1;if(k&&D){const j=p(k,D);j<0?B=!0:j>0&&(R=!0)}else null!=k?B=!0:R=!0;R?(g(D),D=Yp(T)):B?(y(k),k=Yp(E)):(k=Yp(E),D=Yp(T))}}(i,s,z0,u=>{o.push(this.yn(t,e,r,u))},u=>{o.push(this.pn(t,e,r,u))}),Ne.waitFor(o)}_n(t){let e=1;return Hb(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),e=i.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((o,u)=>z0(o,u)).filter((o,u,h)=>!u||0!==z0(o,h[u-1]));const i=[];i.push(t);for(const o of r){const u=z0(o,t),h=z0(o,e);if(0===u)i[0]=t.Ke();else if(u>0&&h<0)i.push(o),i.push(o.Ke());else if(h>0)break}i.push(e);const s=[];for(let o=0;o<i.length;o+=2)s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,VT,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,VT,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(jL)}getMinOffset(t,e){return Ne.mapArray(this.tn(e),r=>this.en(t,r).next(i=>i||on())).next(jL)}}function HL(n){return uo(n,"collectionParents")}function Ub(n){return uo(n,"indexEntries")}function BT(n){return uo(n,"indexConfiguration")}function Hb(n){return uo(n,"indexState")}function jL(n){Fn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;pb(i,t)<0&&(t=i),e<i.largestBatchId&&(e=i.largestBatchId)}return new xi(t.readTime,t.documentKey,e)}const GL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qa{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Qa(t,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $L(n,t,e){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(e.batchId);let u=0;const h=r.Z({range:o},(g,y,E)=>(u++,E.delete()));s.push(h.next(()=>{Fn(1===u)}));const p=[];for(const g of e.mutations){const y=AL(t,g.key.path,e.batchId);s.push(i.delete(y)),p.push(g.key)}return Ne.waitFor(s).next(()=>p)}function UT(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw on();t=n.noDocument}return JSON.stringify(t).length}Qa.DEFAULT_COLLECTION_PERCENTILE=10,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qa.DEFAULT=new Qa(41943040,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qa.DISABLED=new Qa(-1,0,0);class HT{constructor(t,e,r,i){this.userId=t,this.It=e,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(t,e,r,i){Fn(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new HT(s,e,r,i)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return im(t).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,r,i){const s=$y(t),o=im(t);return o.add({}).next(u=>{Fn("number"==typeof u);const h=new LR(u,e,r,i),p=function(E,T,k){const D=k.baseMutations.map(B=>Nb(E.re,B)),R=k.mutations.map(B=>Nb(E.re,B));return{userId:T,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:D,mutations:R}}(this.It,this.userId,h),g=[];let y=new Nr((E,T)=>Vn(E.canonicalString(),T.canonicalString()));for(const E of i){const T=AL(this.userId,E.key.path,u);y=y.add(E.key.path.popLast()),g.push(o.put(p)),g.push(s.put(T,dH))}return y.forEach(E=>{g.push(this.indexManager.addToCollectionParentIndex(t,E))}),t.addOnCommittedListener(()=>{this.In[u]=h.keys()}),Ne.waitFor(g).next(()=>h)})}lookupMutationBatch(t,e){return im(t).get(e).next(r=>r?(Fn(r.userId===this.userId),j0(this.It,r)):null)}Tn(t,e){return this.In[e]?Ne.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const i=r.keys();return this.In[e]=i,i}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return im(t).Z({index:"userMutationsIndex",range:i},(o,u,h)=>{u.userId===this.userId&&(Fn(u.batchId>=r),s=j0(this.It,u)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return im(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return im(t).W("userMutationsIndex",e).next(r=>r.map(i=>j0(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=PT(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return $y(t).Z({range:i},(o,u,h)=>{const[p,g,y]=o,E=Gd(g);if(p===this.userId&&e.path.isEqual(E))return im(t).get(y).next(T=>{if(!T)throw on();Fn(T.userId===this.userId),s.push(j0(this.It,T))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Nr(Vn);const i=[];return e.forEach(s=>{const o=PT(this.userId,s.path),u=IDBKeyRange.lowerBound(o),h=$y(t).Z({range:u},(p,g,y)=>{const[E,T,k]=p,D=Gd(T);E===this.userId&&s.path.isEqual(D)?r=r.add(k):y.done()});i.push(h)}),Ne.waitFor(i).next(()=>this.En(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1,s=PT(this.userId,r),o=IDBKeyRange.lowerBound(s);let u=new Nr(Vn);return $y(t).Z({range:o},(h,p,g)=>{const[y,E,T]=h,k=Gd(E);y===this.userId&&r.isPrefixOf(k)?k.length===i&&(u=u.add(T)):g.done()}).next(()=>this.En(t,u))}En(t,e){const r=[],i=[];return e.forEach(s=>{i.push(im(t).get(s).next(o=>{if(null===o)throw on();Fn(o.userId===this.userId),r.push(j0(this.It,o))}))}),Ne.waitFor(i).next(()=>r)}removeMutationBatch(t,e){return $L(t.ie,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),Ne.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ne.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return $y(t).Z({range:r},(s,o,u)=>{if(s[0]===this.userId){const h=Gd(s[1]);i.push(h)}else u.done()}).next(()=>{Fn(0===i.length)})})}containsKey(t,e){return zL(t,this.userId,e)}Rn(t){return ZL(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zL(n,t,e){const r=PT(t,e.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return $y(n).Z({range:s,X:!0},(u,h,p)=>{const[g,y,E]=u;g===t&&y===i&&(o=!0),p.done()}).next(()=>o)}function im(n){return uo(n,"mutations")}function $y(n){return uo(n,"documentMutations")}function ZL(n){return uo(n,"mutationQueues")}class Z0{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Z0(0)}static vn(){return new Z0(-1)}}class LH{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const r=new Z0(e.highestTargetId);return e.highestTargetId=r.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>An.fromTimestamp(new ui(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.Vn(t).next(i=>(i.highestListenSequenceNumber=e,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.Sn(t,i)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(r=>(r.targetCount+=1,this.Cn(e,r),this.Sn(t,r))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>zy(t).delete(e.targetId)).next(()=>this.Vn(t)).next(r=>(Fn(r.targetCount>0),r.targetCount-=1,this.Sn(t,r)))}removeTargets(t,e,r){let i=0;const s=[];return zy(t).Z((o,u)=>{const h=Lb(u);h.sequenceNumber<=e&&null===r.get(h.targetId)&&(i++,s.push(this.removeTargetData(t,h)))}).next(()=>Ne.waitFor(s)).next(()=>i)}forEachTarget(t,e){return zy(t).Z((r,i)=>{const s=Lb(i);e(s)})}Vn(t){return WL(t).get("targetGlobalKey").next(e=>(Fn(null!==e),e))}Sn(t,e){return WL(t).put("targetGlobalKey",e)}Dn(t,e){return zy(t).put(OL(this.It,e))}Cn(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const r=cf(e),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return zy(t).Z({range:i,index:"queryTargetsIndex"},(o,u,h)=>{const p=Lb(u);uf(e,p.target)&&(s=p,h.done())}).next(()=>s)}addMatchingKeys(t,e,r){const i=[],s=sm(t);return e.forEach(o=>{const u=Aa(o.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(t,r,o))}),Ne.waitFor(i)}removeMatchingKeys(t,e,r){const i=sm(t);return Ne.forEach(e,s=>{const o=Aa(s.path);return Ne.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(t,r,s)])})}removeMatchingKeysForTargetId(t,e){const r=sm(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),i=sm(t);let s=Kn();return i.Z({range:r,X:!0},(o,u,h)=>{const p=Gd(o[1]),g=new Wt(p);s=s.add(g)}).next(()=>s)}containsKey(t,e){const r=Aa(e.path),i=IDBKeyRange.bound([r],[uR(r)],!1,!0);let s=0;return sm(t).Z({index:"documentTargetsIndex",X:!0,range:i},([o,u],h,p)=>{0!==o&&(s++,p.done())}).next(()=>s>0)}se(t,e){return zy(t).get(e).next(r=>r?Lb(r):null)}}function zy(n){return uo(n,"targets")}function WL(n){return uo(n,"targetGlobal")}function sm(n){return uo(n,"targetDocuments")}function qL([n,t],[e,r]){const i=Vn(n,e);return 0===i?Vn(t,r):i}class VH{constructor(t){this.xn=t,this.buffer=new Nr(qL),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();qL(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class BH{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){var e=this;Tt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ee.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){Hu(r)?Tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ds(r)}yield e.Fn(3e5)}))}}class UH{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return Ne.resolve(oo.at);const r=new VH(e);return this.$n.forEachTarget(t,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(t,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.$n.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(GL)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GL):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let r,i,s,o,u,h,p;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,o=Date.now(),this.nthSequenceNumber(t,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(t,r,e))).next(y=>(s=y,h=Date.now(),this.removeOrphanedDocuments(t,r))).next(y=>(p=Date.now(),Ey()<=Nu.in.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-g}ms\n\tDetermined least recently used ${i} in `+(u-o)+`ms\n\tRemoved ${s} targets in `+(h-u)+`ms\n\tRemoved ${y} documents in `+(p-h)+`ms\nTotal Duration: ${p-g}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}class HH{constructor(t,e){this.db=t,this.garbageCollector=new UH(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}qn(t){let e=0;return this.Ln(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(r,i)=>e(i))}addReference(t,e,r){return jT(t,r)}removeReference(t,e,r){return jT(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return jT(t,e)}Gn(t,e){return function(r,i){let s=!1;return ZL(r).tt(o=>zL(r,o,i).next(u=>(u&&(s=!0),Ne.resolve(!u)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(t,(o,u)=>{if(u<=e){const h=this.Gn(t,o).next(p=>{if(!p)return s++,r.getEntry(t,o).next(()=>(r.removeEntry(o,An.min()),sm(t).delete([0,Aa(o.path)])))});i.push(h)}}).next(()=>Ne.waitFor(i)).next(()=>r.apply(t)).next(()=>s)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return jT(t,e)}Kn(t,e){const r=sm(t);let i,s=oo.at;return r.Z({index:"documentTargetsIndex"},([o,u],{path:h,sequenceNumber:p})=>{0===o?(s!==oo.at&&e(new Wt(Gd(i)),s),s=p,i=h):s=oo.at}).next(()=>{s!==oo.at&&e(new Wt(Gd(i)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function jT(n,t){return sm(n).put((r=n.currentSequenceNumber,{targetId:0,path:Aa(t.path),sequenceNumber:r}));var r}class YL{constructor(){this.changes=new nm(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Gr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?Ne.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jH{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return W0(t).put(r)}removeEntry(t,e,r){return W0(t).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],NT(s),o[o.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Qn(t,r)))}getEntry(t,e){let r=Gr.newInvalidDocument(e);return W0(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jb(e))},(i,s)=>{r=this.jn(e,s)}).next(()=>r)}Wn(t,e){let r={size:0,document:Gr.newInvalidDocument(e)};return W0(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jb(e))},(i,s)=>{r={document:this.jn(e,s),size:UT(s)}}).next(()=>r)}getEntries(t,e){let r=Xa();return this.zn(t,e,(i,s)=>{const o=this.jn(i,s);r=r.insert(i,o)}).next(()=>r)}Hn(t,e){let r=Xa(),i=new Tr(Wt.comparator);return this.zn(t,e,(s,o)=>{const u=this.jn(s,o);r=r.insert(s,u),i=i.insert(s,UT(o))}).next(()=>({documents:r,Jn:i}))}zn(t,e,r){if(e.isEmpty())return Ne.resolve();let i=new Nr(JL);e.forEach(h=>i=i.add(h));const s=IDBKeyRange.bound(jb(i.first()),jb(i.last())),o=i.getIterator();let u=o.getNext();return W0(t).Z({index:"documentKeyIndex",range:s},(h,p,g)=>{const y=Wt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&JL(u,y)<0;)r(u,null),u=o.getNext();u&&u.isEqual(y)&&(r(u,p),u=o.hasNext()?o.getNext():null),u?g.j(jb(u)):g.done()}).next(()=>{for(;u;)r(u,null),u=o.hasNext()?o.getNext():null})}getAllFromCollection(t,e,r){const i=[e.popLast().toArray(),e.lastSegment(),NT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return W0(t).W(IDBKeyRange.bound(i,s,!0)).next(o=>{let u=Xa();for(const h of o){const p=this.jn(Wt.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);u=u.insert(p.key,p)}return u})}getAllFromCollectionGroup(t,e,r,i){let s=Xa();const o=QL(e,r),u=QL(e,xi.max());return W0(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(h,p,g)=>{const y=this.jn(Wt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);s=s.insert(y.key,y),s.size===i&&g.done()}).next(()=>s)}newChangeBuffer(t){return new GH(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return XL(t).get("remoteDocumentGlobalKey").next(e=>(Fn(!!e),e))}Qn(t,e){return XL(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const r=function AH(n,t){let e;if(t.document)e=wL(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=Wt.fromSegments(t.noDocument.path),i=H0(t.noDocument.readTime);e=Gr.newNoDocument(r,i),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return on();{const r=Wt.fromSegments(t.unknownDocument.path),i=H0(t.unknownDocument.version);e=Gr.newUnknownDocument(r,i)}}return t.readTime&&e.setReadTime(function(r){const i=new ui(r[0],r[1]);return An.fromTimestamp(i)}(t.readTime)),e}(this.It,e);if(!r.isNoDocument()||!r.version.isEqual(An.min()))return r}return Gr.newInvalidDocument(t)}}function KL(n){return new jH(n)}class GH extends YL{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new nm(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const e=[];let r=0,i=new Nr((s,o)=>Vn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const u=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,u.readTime)),o.isValidDocument()){const h=FL(this.Yn.It,o);i=i.add(s.path.popLast()),r+=UT(h)-u.size,e.push(this.Yn.addEntry(t,s,h))}else if(r-=u.size,this.trackRemovals){const h=FL(this.Yn.It,o.convertToNoDocument(An.min()));e.push(this.Yn.addEntry(t,s,h))}}),i.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,r)),Ne.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(r=>(this.Xn.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:r,Jn:i})=>(i.forEach((s,o)=>{this.Xn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function XL(n){return uo(n,"remoteDocumentGlobal")}function W0(n){return uo(n,"remoteDocumentsV14")}function jb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function QL(n,t){const e=t.documentKey.path.toArray();return[n,NT(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function JL(n,t){const e=n.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<e.length-2&&s<r.length-2;++s)if(i=Vn(e[s],r[s]),i)return i;return i=Vn(e.length,r.length),i||(i=Vn(e[e.length-2],r[r.length-2]),i||Vn(e[e.length-1],r[r.length-1]))}class $H{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class e3{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.getBaseDocument(t,e,r))).next(i=>(null!==r&&gt(r.mutation,i,Ta.empty(),ui.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,Kn()).next(()=>r))}getLocalViewOfDocuments(t,e,r=Kn()){const i=Hd();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(s=>{let o=Ib();return s.forEach((u,h)=>{o=o.insert(u,h.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const r=Hd();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,Kn()))}populateOverlays(t,e,r){const i=[];return r.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,u)=>{e.set(o,u)})})}computeViews(t,e,r,i){let s=Xa();const o=kb(),u=kb();return e.forEach((h,p)=>{const g=r.get(p.key);i.has(p.key)&&(void 0===g||g.mutation instanceof Do)?s=s.insert(p.key,p):void 0!==g&&(o.set(p.key,g.mutation.getFieldMask()),gt(g.mutation,p,g.mutation.getFieldMask(),ui.now()))}),this.recalculateAndSaveOverlays(t,s).next(h=>(h.forEach((p,g)=>o.set(p,g)),e.forEach((p,g)=>{var y;return u.set(p,new $H(g,null!==(y=o.get(p))&&void 0!==y?y:null))}),u))}recalculateAndSaveOverlays(t,e){const r=kb();let i=new Tr((o,u)=>o-u),s=Kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const u of o)u.keys().forEach(h=>{const p=e.get(h);if(null===p)return;let g=r.get(h)||Ta.empty();g=u.applyToLocalView(p,g),r.set(h,g);const y=(i.get(u.batchId)||Kn()).add(h);i=i.insert(u.batchId,y)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,g=h.value,y=cL();g.forEach(E=>{if(!s.has(E)){const T=rn(e.get(E),r.get(E));null!==T&&y.set(E,T),s=s.add(E)}}),o.push(this.documentOverlayCache.saveOverlays(t,p,y))}return Ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r){return Wt.isDocumentKey((i=e).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Db(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r):this.getDocumentsMatchingCollectionQuery(t,e,r);var i}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):Ne.resolve(Hd());let u=-1,h=s;return o.next(p=>Ne.forEach(p,(g,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),s.get(g)?Ne.resolve():this.getBaseDocument(t,g,y).next(E=>{h=h.insert(g,E)}))).next(()=>this.populateOverlays(t,p,s)).next(()=>this.computeViews(t,h,p,Kn())).next(g=>({batchId:u,changes:lL(g)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Wt(e)).next(r=>{let i=Ib();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r){const i=e.collectionGroup;let s=Ib();return this.indexManager.getCollectionParents(t,i).next(o=>Ne.forEach(o,u=>{const h=(p=e,g=u.child(i),new Rc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(t,h,r).next(p=>{p.forEach((g,y)=>{s=s.insert(g,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,r){let i;return this.remoteDocumentCache.getAllFromCollection(t,e.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId))).next(s=>{s.forEach((u,h)=>{const p=h.getKey();null===i.get(p)&&(i=i.insert(p,Gr.newInvalidDocument(p)))});let o=Ib();return i.forEach((u,h)=>{const p=s.get(u);void 0!==p&&gt(p.mutation,h,Ta.empty(),ui.now()),MT(e,h)&&(o=o.insert(u,h))}),o})}getBaseDocument(t,e,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(t,e):Ne.resolve(Gr.newInvalidDocument(e))}}class zH{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return Ne.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var r;return this.Zn.set(e.id,{id:(r=e).id,version:r.version,createTime:co(r.createTime)}),Ne.resolve()}getNamedQuery(t,e){return Ne.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(r=e).name,query:UR(r.bundledQuery),readTime:co(r.readTime)}),Ne.resolve();var r}}class ZH{constructor(){this.overlays=new Tr(Wt.comparator),this.es=new Map}getOverlay(t,e){return Ne.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Hd();return Ne.forEach(e,i=>this.getOverlay(t,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,s)=>{this.ue(t,e,s)}),Ne.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),Ne.resolve()}getOverlaysForCollection(t,e,r){const i=Hd(),s=e.length+1,o=new Wt(e.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ne.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new Tr((p,g)=>p-g);const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>r){let g=s.get(p.largestBatchId);null===g&&(g=Hd(),s=s.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=Hd(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>u.set(p,g)),!(u.size()>=i)););return Ne.resolve(u)}ue(t,e,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BR(e,r));let s=this.es.get(e);void 0===s&&(s=Kn(),this.es.set(e,s)),this.es.set(e,s.add(r.key))}}class GR{constructor(){this.ns=new Nr(ho.ss),this.rs=new Nr(ho.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const r=new ho(t,e);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.cs(new ho(t,e))}hs(t,e){t.forEach(r=>this.removeReference(r,e))}ls(t){const e=new Wt(new ir([])),r=new ho(e,t),i=new ho(e,t+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Wt(new ir([])),r=new ho(e,t),i=new ho(e,t+1);let s=Kn();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new ho(t,0),r=this.ns.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class ho{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Wt.comparator(t.key,e.key)||Vn(t._s,e._s)}static os(t,e){return Vn(t._s,e._s)||Wt.comparator(t.key,e.key)}}class WH{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Nr(ho.ss)}checkEmpty(t){return Ne.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,i){const s=this.ws;this.ws++;const o=new LR(s,e,r,i);this.mutationQueue.push(o);for(const u of i)this.gs=this.gs.add(new ho(u.key,s)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return Ne.resolve(o)}lookupMutationBatch(t,e){return Ne.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.ps(e+1),s=i<0?0:i;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new ho(e,0),i=new ho(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const u=this.ys(o._s);s.push(u)}),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Nr(Vn);return e.forEach(i=>{const s=new ho(i,0),o=new ho(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],u=>{r=r.add(u._s)})}),Ne.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let s=r;Wt.isDocumentKey(s)||(s=s.child(""));const o=new ho(new Wt(s),0);let u=new Nr(Vn);return this.gs.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(h._s)),!0)},o),Ne.resolve(this.Is(u))}Is(t){const e=[];return t.forEach(r=>{const i=this.ys(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){Fn(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Ne.forEach(e.mutations,i=>{const s=new ho(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.gs=r})}An(t){}containsKey(t,e){const r=new ho(e,0),i=this.gs.firstAfterOrEqual(r);return Ne.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return Ne.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class qH{constructor(t){this.Es=t,this.docs=new Tr(Wt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Ne.resolve(r?r.document.mutableCopy():Gr.newInvalidDocument(e))}getEntries(t,e){let r=Xa();return e.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gr.newInvalidDocument(i))}),Ne.resolve(r)}getAllFromCollection(t,e,r){let i=Xa();const s=new Wt(e.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:u,value:{document:h}}=o.getNext();if(!e.isPrefixOf(u.path))break;u.path.length>e.length+1||pb(pR(h),r)<=0||(i=i.insert(h.key,h.mutableCopy()))}return Ne.resolve(i)}getAllFromCollectionGroup(t,e,r,i){on()}As(t,e){return Ne.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new YH(this)}getSize(t){return Ne.resolve(this.size)}}class YH extends YL{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.Yn.addEntry(t,i)):this.Yn.removeEntry(r)}),Ne.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class KH{constructor(t){this.persistence=t,this.Rs=new nm(e=>cf(e),uf),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.bs=0,this.Ps=new GR,this.targetCount=0,this.vs=Z0.Pn()}forEachTarget(t,e){return this.Rs.forEach((r,i)=>e(i)),Ne.resolve()}getLastRemoteSnapshotVersion(t){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ne.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.bs&&(this.bs=e),Ne.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Z0(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,Ne.resolve()}updateTargetData(t,e){return this.Dn(e),Ne.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(t,e,r){let i=0;const s=[];return this.Rs.forEach((o,u)=>{u.sequenceNumber<=e&&null===r.get(u.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,u.targetId)),i++)}),Ne.waitFor(s).next(()=>i)}getTargetCount(t){return Ne.resolve(this.targetCount)}getTargetData(t,e){const r=this.Rs.get(e)||null;return Ne.resolve(r)}addMatchingKeys(t,e,r){return this.Ps.us(e,r),Ne.resolve()}removeMatchingKeys(t,e,r){this.Ps.hs(e,r);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Ne.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),Ne.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Ps.ds(e);return Ne.resolve(r)}containsKey(t,e){return Ne.resolve(this.Ps.containsKey(e))}}class t3{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new oo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new KH(this),this.indexManager=new PH,this.remoteDocumentCache=new qH(r=>this.referenceDelegate.xs(r)),this.It=new RL(e),this.Ns=new zH(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ZH,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Vs[t.toKey()];return r||(r=new WH(e,this.referenceDelegate),this.Vs[t.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,r){Tt("MemoryPersistence","Starting transaction:",t);const i=new XH(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(t,e){return Ne.or(Object.values(this.Vs).map(r=>()=>r.containsKey(t,e)))}}class XH extends fT{constructor(t){super(),this.currentSequenceNumber=t}}class GT{constructor(t){this.persistence=t,this.Fs=new GR,this.$s=null}static Bs(t){return new GT(t)}get Ls(){if(this.$s)return this.$s;throw on()}addReference(t,e,r){return this.Fs.addReference(r,e),this.Ls.delete(r.toString()),Ne.resolve()}removeReference(t,e,r){return this.Fs.removeReference(r,e),this.Ls.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),Ne.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Ls,r=>{const i=Wt.fromPath(r);return this.Us(t,i).next(s=>{s||e.removeEntry(i,An.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(r=>{r?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return Ne.or([()=>Ne.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class QH{constructor(t){this.It=t}$(t,e,r,i){const s=new Ty("createOrUpgrade",e);var u;r<1&&i>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TL,{unique:!0}),u.createObjectStore("documentMutations"),n3(t),function(u){u.createObjectStore("remoteDocuments")}(t));let o=Ne.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),n3(t)),o=o.next(()=>function(u){const h=u.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:An.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",p)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,h){return h.store("mutations").W().next(p=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TL,{unique:!0});const g=h.store("mutations"),y=p.map(E=>g.put(E));return Ne.waitFor(y)})}(t,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),r<5&&i>=5&&(o=o.next(()=>this.qs(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),r<7&&i>=7&&(o=o.next(()=>this.Gs(s))),r<8&&i>=8&&(o=o.next(()=>this.Qs(t,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),r<10&&i>=10&&(o=o.next(()=>this.js(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const h=u.createObjectStore("documentOverlays",{keyPath:EH});h.createIndex("collectionPathOverlayIndex",CH,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",DH,{unique:!1})}(t)})),r<13&&i>=13&&(o=o.next(()=>function(u){const h=u.createObjectStore("remoteDocumentsV14",{keyPath:hH});h.createIndex("documentKeyIndex",fH),h.createIndex("collectionGroupIndex",pH)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.zs(t,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:yH}).createIndex("sequenceNumberIndex",wH,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:xH}).createIndex("documentKeyIndex",bH,{unique:!1})}(t))),o}Ks(t){let e=0;return t.store("remoteDocuments").Z((r,i)=>{e+=UT(i)}).next(()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.W().next(i=>Ne.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(u=>Ne.forEach(u,h=>{Fn(h.userId===s.userId);const p=j0(this.It,h);return $L(t,s.userId,p).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,u)=>{const h=new ir(o),p=[0,Aa(h)];s.push(e.get(p).next(g=>g?Ne.resolve():e.put({targetId:0,path:Aa(h),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ne.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:vH});const r=e.store("collectionParents"),i=new jR,s=o=>{if(i.add(o)){const u=o.lastSegment(),h=o.popLast();return r.put({collectionId:u,parent:Aa(h)})}};return e.store("remoteDocuments").Z({X:!0},(o,u)=>{const h=new ir(o);return s(h.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([o,u,h],p)=>{const g=Gd(u);return s(g.popLast())}))}js(t){const e=t.store("targets");return e.Z((r,i)=>{const s=Lb(i),o=OL(this.It,s);return e.put(o)})}Ws(t,e){const r=e.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const u=e.store("remoteDocumentsV14"),h=(p=o,p.document?new Wt(ir.fromString(p.document.name).popFirst(5)):p.noDocument?Wt.fromSegments(p.noDocument.path):p.unknownDocument?Wt.fromSegments(p.unknownDocument.path):on()).path.toArray();var p;const g={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(u.put(g))}).next(()=>Ne.waitFor(i))}zs(t,e){const r=e.store("mutations"),i=KL(this.It),s=new t3(GT.Bs,this.It.re);return r.W().next(o=>{const u=new Map;return o.forEach(h=>{var p;let g=null!==(p=u.get(h.userId))&&void 0!==p?p:Kn();j0(this.It,h).keys().forEach(y=>g=g.add(y)),u.set(h.userId,g)}),Ne.forEach(u,(h,p)=>{const g=new us(p),y=LT.oe(this.It,g),E=s.getIndexManager(g),T=HT.oe(g,this.It,E,s.referenceDelegate);return new e3(i,T,y,E).recalculateAndSaveOverlaysForDocumentKeys(new NR(e,oo.at),h).next()})})}}function n3(n){n.createObjectStore("targetDocuments",{keyPath:gH}).createIndex("documentTargetsIndex",_H,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mH,{unique:!0}),n.createObjectStore("targetGlobal")}const $R="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zR{constructor(t,e,r,i,s,o,u,h,p,g,y=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Hs=s,this.window=o,this.document=u,this.Js=p,this.Ys=g,this.Xs=y,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=E=>Promise.resolve(),!zR.C())throw new bt(Ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HH(this,i),this.ii=e+"main",this.It=new RL(h),this.ri=new Al(this.ii,this.Xs,new QH(this.It)),this.Cs=new LH(this.referenceDelegate,this.It),this.remoteDocumentCache=KL(this.It),this.Ns=new IH,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===g&&Vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new bt(Ye.FAILED_PRECONDITION,$R);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new oo(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var r=(0,Ee.Z)(function*(i){if(e.started)return t(i)});return function(i){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Ee.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>$T(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Hu(t))return Tt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return Gb(t).get("owner").next(e=>Ne.resolve(this.mi(e)))}gi(t){return $T(t).delete(this.clientId)}yi(){var t=this;return(0,Ee.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=uo(r,"clientMetadata");return i.W().next(s=>{const o=t.Ii(s,18e5),u=s.filter(h=>-1===o.indexOf(h));return Ne.forEach(u,h=>i.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(t.oi)for(const r of e)t.oi.removeItem(t.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?Ne.resolve(!0):Gb(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new bt(Ye.FAILED_PRECONDITION,$R);return!1}}return!(!this.networkEnabled||!this.inForeground)||$T(t).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||o&&u)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Tt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ee.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new NR(e,oo.at);return t._i(r).next(()=>t.gi(r))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(r=>this.pi(r.updateTimeMs,e)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>$T(t).W().next(e=>this.Ii(e,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return HT.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new NH(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return LT.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,r){Tt("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",s=15===(o=this.Xs)?TH:14===o?ML:13===o?kL:12===o?SH:11===o?IL:void on();var o;let u;return this.ri.runTransaction(t,i,s,h=>(u=new NR(h,this.Ss?this.Ss.next():oo.at),"readwrite-primary"===e?this.fi(u).next(p=>!!p||this.di(u)).next(p=>{if(!p)throw Vi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new bt(Ye.FAILED_PRECONDITION,Sy);return r(u)}).next(p=>this.wi(u).next(()=>p)):this.Vi(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Vi(t){return Gb(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new bt(Ye.FAILED_PRECONDITION,$R)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gb(t).put("owner",e)}static C(){return Al.C()}_i(t){const e=Gb(t);return e.get("owner").next(r=>this.mi(r)?(Tt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ne.resolve())}pi(t,e){const r=Date.now();return!(t<r-e||t>r&&(Vi(`Detected an update time that is in the future: ${t} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,tr.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const r=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Tt("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Vi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Gb(n){return uo(n,"owner")}function $T(n){return uo(n,"clientMetadata")}function ZR(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class WR{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Si=r,this.Di=i}static Ci(t,e){let r=Kn(),i=Kn();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new WR(t,e.fromCache,r,i)}}class r3{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,r,i){return this.ki(t,e).next(s=>s||this.Mi(t,e,i,r)).next(s=>s||this.Oi(t,e))}ki(t,e){if(TT(e))return Ne.resolve(null);let r=Yo(e);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=Sb(e,null,"F"),r=Yo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Kn(...s);return this.Ni.getDocuments(t,o).next(u=>this.indexManager.getMinOffset(t,r).next(h=>{const p=this.Fi(e,u);return this.$i(e,p,o,h.readTime)?this.ki(t,Sb(e,null,"F")):this.Bi(t,p,e,h)}))})))}Mi(t,e,r,i){return TT(e)||i.isEqual(An.min())?this.Oi(t,e):this.Ni.getDocuments(t,r).next(s=>{const o=this.Fi(e,s);return this.$i(e,o,r,i)?this.Oi(t,e):(Ey()<=Nu.in.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kT(e)),this.Bi(t,o,e,fb(i,-1)))})}Fi(t,e){let r=new Nr(IR(t));return e.forEach((i,s)=>{MT(t,s)&&(r=r.add(s))}),r}$i(t,e,r,i){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(t,e){return Ey()<=Nu.in.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",kT(e)),this.Ni.getDocumentsMatchingQuery(t,e,xi.min())}Bi(t,e,r,i){return this.Ni.getDocumentsMatchingQuery(t,r,i).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class JH{constructor(t,e,r,i){this.persistence=t,this.Li=e,this.It=i,this.Ui=new Tr(Vn),this.qi=new nm(s=>cf(s),uf),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new e3(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function s3(n,t,e,r){return new JH(n,t,e,r)}function o3(n,t){return qR.apply(this,arguments)}function qR(){return qR=(0,Ee.Z)(function*(n,t){const e=Qt(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let h=Kn();for(const p of i){o.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of s){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return e.localDocuments.getDocuments(r,h).next(p=>({ji:p,removedBatchIds:o,addedBatchIds:u}))})})}),qR.apply(this,arguments)}function ej(n,t){const e=Qt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(o,u,h,p){const g=h.batch,y=g.keys();let E=Ne.resolve();return y.forEach(T=>{E=E.next(()=>p.getEntry(u,T)).next(k=>{const D=h.docVersions.get(T);Fn(null!==D),k.version.compareTo(D)<0&&(g.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),p.addEntry(k)))})}),E.next(()=>o.mutationQueue.removeMutationBatch(u,g))}(e,r,t,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=Kn();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}function a3(n){const t=Qt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function tj(n,t){const e=Qt(n),r=t.snapshotVersion;let i=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Gi.newChangeBuffer({trackRemovals:!0});i=e.Ui;const u=[];t.targetChanges.forEach((g,y)=>{const E=i.get(y);if(!E)return;u.push(e.Cs.removeMatchingKeys(s,g.removedDocuments,y).next(()=>e.Cs.addMatchingKeys(s,g.addedDocuments,y)));let T=E.withSequenceNumber(s.currentSequenceNumber);var k,D,R;t.targetMismatches.has(y)?T=T.withResumeToken(bs.EMPTY_BYTE_STRING,An.min()).withLastLimboFreeSnapshotVersion(An.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(y,T),D=T,R=g,(0===(k=E).resumeToken.approximateByteSize()||D.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0)&&u.push(e.Cs.updateTargetData(s,T))});let h=Xa(),p=Kn();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(s,g))}),u.push(l3(s,o,t.documentUpdates).next(g=>{h=g.Wi,p=g.zi})),!r.isEqual(An.min())){const g=e.Cs.getLastRemoteSnapshotVersion(s).next(y=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(g)}return Ne.waitFor(u).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(e.Ui=i,s))}function l3(n,t,e){let r=Kn(),i=Kn();return e.forEach(s=>r=r.add(s)),t.getEntries(n,r).next(s=>{let o=Xa();return e.forEach((u,h)=>{const p=s.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(An.min())?(t.removeEntry(u,h.readTime),o=o.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(t.addEntry(h),o=o.insert(u,h)):Tt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{Wi:o,zi:i}})}function nj(n,t){const e=Qt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Zy(n,t){const e=Qt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Cs.getTargetData(r,t).next(s=>s?(i=s,Ne.resolve(i)):e.Cs.allocateTargetId(r).next(o=>(i=new rm(t,o,0,r.currentSequenceNumber),e.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(r.targetId,r),e.qi.set(t,r.targetId)),r})}function Wy(n,t,e){return YR.apply(this,arguments)}function YR(){return YR=(0,Ee.Z)(function*(n,t,e){const r=Qt(n),i=r.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Hu(o))throw o;Tt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ui=r.Ui.remove(t),r.qi.delete(i.target)}),YR.apply(this,arguments)}function zT(n,t,e){const r=Qt(n);let i=An.min(),s=Kn();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,h,p){const g=Qt(u),y=g.qi.get(p);return void 0!==y?Ne.resolve(g.Ui.get(y)):g.Cs.getTargetData(h,p)}(r,o,Yo(t)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,u.targetId).next(h=>{s=h})}).next(()=>r.Li.getDocumentsMatchingQuery(o,t,e?i:An.min(),e?s:Kn())).next(u=>(d3(r,RT(t),u),{documents:u,Hi:s})))}function c3(n,t){const e=Qt(n),r=Qt(e.Cs),i=e.Ui.get(t);return i?Promise.resolve(i.target):e.persistence.runTransaction("Get target data","readonly",s=>r.se(s,t).next(o=>o?o.target:null))}function u3(n,t){const e=Qt(n),r=e.Ki.get(t)||An.min();return e.persistence.runTransaction("Get new document changes","readonly",i=>e.Gi.getAllFromCollectionGroup(i,t,fb(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(d3(e,t,i),i))}function d3(n,t,e){let r=An.min();e.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(t,r)}function KR(){return KR=(0,Ee.Z)(function*(n,t,e,r){const i=Qt(n);let s=Kn(),o=Xa();for(const p of e){const g=t.Ji(p.metadata.name);p.document&&(s=s.add(g));const y=t.Yi(p);y.setReadTime(t.Xi(p.metadata.readTime)),o=o.insert(g,y)}const u=i.Gi.newChangeBuffer({trackRemovals:!0}),h=yield Zy(i,(p=r,Yo(em(ir.fromString(`__bundle__/docs/${p}`)))));var p;return i.persistence.runTransaction("Apply bundle documents","readwrite",p=>l3(p,u,o).next(g=>(u.apply(p),g)).next(g=>i.Cs.removeMatchingKeysForTargetId(p,h.targetId).next(()=>i.Cs.addMatchingKeys(p,s,h.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,g.Wi,g.zi)).next(()=>g.Wi)))}),KR.apply(this,arguments)}function ij(n,t){return XR.apply(this,arguments)}function XR(){return XR=(0,Ee.Z)(function*(n,t,e=Kn()){const r=yield Zy(n,Yo(UR(t.bundledQuery))),i=Qt(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=co(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(s,t);const u=r.withResumeToken(bs.EMPTY_BYTE_STRING,o);return i.Ui=i.Ui.insert(u.targetId,u),i.Cs.updateTargetData(s,u).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,e,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,t))})}),XR.apply(this,arguments)}function h3(n,t){return`firestore_clients_${n}_${t}`}function f3(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function QR(n,t){return`firestore_targets_${n}_${t}`}class ZT{constructor(t,e,r,i){this.user=t,this.batchId=e,this.state=r,this.error=i}static Zi(t,e,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new bt(i.error.code,i.error.message))),o?new ZT(t,e,i.state,s):(Vi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class $b{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Zi(t,e){const r=JSON.parse(e);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new bt(r.error.code,r.error.message))),s?new $b(t,r.state,i):(Vi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class WT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const r=JSON.parse(e);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=FT();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=P0(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new WT(t,s):(Vi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class JR{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new JR(e.clientId,e.onlineState):(Vi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class e2{constructor(){this.activeTargetIds=FT()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class t2{constructor(t,e,r,i,s){this.window=t,this.Hs=e,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Tr(Vn),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=h3(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new e2),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.syncEngine.vi();for(const i of e){if(i===t.sr)continue;const s=t.getItem(h3(t.persistenceKey,i));if(s){const o=WT.Zi(i,s);o&&(t.ur=t.ur.insert(o.clientId,o))}}t.gr();const r=t.storage.getItem(t.wr);if(r){const i=t.yr(r);i&&t.pr(i)}for(const i of t.cr)t.rr(i);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,r){this.Tr(t,e,r),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(QR(this.persistenceKey,t));if(r){const i=$b.Zi(t,r);i&&(e=i.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(QR(this.persistenceKey,t))}updateQueryState(t,e,r){this.Rr(t,e,r)}handleUserChange(t,e,r){e.forEach(i=>{this.Er(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Tt("SharedClientState","READ",t,e),e}setItem(t,e){Tt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Tt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Tt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ee.Z)(function*(){if(e.started){if(null!==r.key)if(e.lr.test(r.key)){if(null==r.newValue){const i=e.vr(r.key);return e.Vr(i,null)}{const i=e.Sr(r.key,r.newValue);if(i)return e.Vr(i.clientId,i)}}else if(e.dr.test(r.key)){if(null!==r.newValue){const i=e.Dr(r.key,r.newValue);if(i)return e.Cr(i)}}else if(e._r.test(r.key)){if(null!==r.newValue){const i=e.Nr(r.key,r.newValue);if(i)return e.kr(i)}}else if(r.key===e.wr){if(null!==r.newValue){const i=e.yr(r.newValue);if(i)return e.pr(i)}}else if(r.key===e.hr){const i=function(s){let o=oo.at;if(null!=s)try{const u=JSON.parse(s);Fn("number"==typeof u),o=u}catch(u){Vi("SharedClientState","Failed to read sequence number from WebStorage",u)}return o}(r.newValue);i!==oo.at&&e.sequenceNumberHandler(i)}else if(r.key===e.mr){const i=e.Mr(r.newValue);yield Promise.all(i.map(s=>e.syncEngine.Or(s)))}}else e.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,r){const i=new ZT(this.currentUser,t,e,r),s=f3(this.persistenceKey,this.currentUser,t);this.setItem(s,i.tr())}Er(t){const e=f3(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,r){const i=QR(this.persistenceKey,t),s=new $b(t,e,r);this.setItem(i,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const r=this.vr(t);return WT.Zi(r,e)}Dr(t,e){const r=this.dr.exec(t),i=Number(r[1]);return ZT.Zi(new us(void 0!==r[2]?r[2]:null),i,e)}Nr(t,e){const r=this._r.exec(t),i=Number(r[1]);return $b.Zi(i,e)}yr(t){return JR.Zi(t)}Mr(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Ee.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Tt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const r=e?this.ur.insert(t,e):this.ur.remove(t),i=this.Ir(this.ur),s=this.Ir(r),o=[],u=[];return s.forEach(h=>{i.has(h)||o.push(h)}),i.forEach(h=>{s.has(h)||u.push(h)}),this.syncEngine.Br(o,u).then(()=>{this.ur=r})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=FT();return t.forEach((r,i)=>{e=e.unionWith(i.activeTargetIds)}),e}}class p3{constructor(){this.Lr=new e2,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,r){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new e2,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class sj{qr(t){}shutdown(){}}class m3{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const oj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class aj{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class lj extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,r,i,s){const o=this.ao(t,e);Tt("RestConnection","Sending: ",o,r);const u={};return this.ho(u,i,s),this.lo(t,o,u,r).then(h=>(Tt("RestConnection","Received: ",h),h),h=>{throw rf("RestConnection",`${t} failed with error: `,h,"url: ",o,"request:",r),h})}fo(t,e,r,i,s,o){return this.co(t,e,r,i,s)}ho(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Zp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}ao(t,e){return`${this.oo}/v1/${e}:${oj[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,r,i){return new Promise((s,o)=>{const u=new lR;u.listenOnce(iT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ob.NO_ERROR:const p=u.getResponseJson();Tt("Connection","XHR received:",JSON.stringify(p)),s(p);break;case ob.TIMEOUT:Tt("Connection",'RPC "'+t+'" timed out'),o(new bt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case ob.HTTP_ERROR:const g=u.getStatus();if(Tt("Connection",'RPC "'+t+'" failed with status:',g,"response text:",u.getResponseText()),g>0){const y=u.getResponseJson().error;if(y&&y.status&&y.message){const E=function(T){const k=T.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(k)>=0?k:Ye.UNKNOWN}(y.status);o(new bt(E,y.message))}else o(new bt(Ye.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new bt(Ye.UNAVAILABLE,"Connection failed."));break;default:on()}}finally{Tt("Connection",'RPC "'+t+'" completed.')}});const h=JSON.stringify(i);u.send(e,"POST",h,r,15)})}_o(t,e,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=oR(),o=aR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new aT({})),this.ho(u.initMessageHeaders,e,r),(0,tr.uI)()||(0,tr.b$)()||(0,tr.d)()||(0,tr.w1)()||(0,tr.Mn)()||(0,tr.ru)()||(u.httpHeadersOverwriteParam="$httpHeaders");const h=i.join("");Tt("Connection","Creating WebChannel: "+h,u);const p=s.createWebChannel(h,u);let g=!1,y=!1;const E=new aj({Hr:k=>{y?Tt("Connection","Not sending because WebChannel is closed:",k):(g||(Tt("Connection","Opening WebChannel transport."),p.open(),g=!0),Tt("Connection","WebChannel sending:",k),p.send(k))},Jr:()=>p.close()}),T=(k,D,R)=>{k.listen(D,B=>{try{R(B)}catch(j){setTimeout(()=>{throw j},0)}})};return T(p,R0.EventType.OPEN,()=>{y||Tt("Connection","WebChannel transport opened.")}),T(p,R0.EventType.CLOSE,()=>{y||(y=!0,Tt("Connection","WebChannel transport closed"),E.io())}),T(p,R0.EventType.ERROR,k=>{y||(y=!0,rf("Connection","WebChannel transport errored:",k),E.io(new bt(Ye.UNAVAILABLE,"The operation could not be completed")))}),T(p,R0.EventType.MESSAGE,k=>{var D;if(!y){const R=k.data[0];Fn(!!R);const B=R,j=B.error||(null===(D=B[0])||void 0===D?void 0:D.error);if(j){Tt("Connection","WebChannel received error:",j);const V=j.status;let re=function(ae){const Y=Mi[ae];if(void 0!==Y)return oL(Y)}(V),ve=j.message;void 0===re&&(re=Ye.INTERNAL,ve="Unknown error status: "+V+" with message "+j.message),y=!0,E.io(new bt(re,ve)),p.close()}else Tt("Connection","WebChannel received:",R),E.ro(R)}}),T(o,sT.STAT_EVENT,k=>{k.stat===oT.PROXY?Tt("Connection","Detected buffering proxy"):k.stat===oT.NOPROXY&&Tt("Connection","Detected no buffering proxy")}),setTimeout(()=>{E.so()},0),E}}function g3(){return typeof window<"u"?window:null}function qT(){return typeof document<"u"?document:null}function zb(n){return new J8(n,!0)}class n2{constructor(t,e,r=1e3,i=1.5,s=6e4){this.Hs=t,this.timerId=e,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,e-r);i>0&&Tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class _3{constructor(t,e,r,i,s,o,u,h){this.Hs=t,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new n2(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,Ee.Z)(function*(){t.No()&&(yield t.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,Ee.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var r=this;return(0,Ee.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==t?r.xo.reset():e&&e.code===Ye.RESOURCE_EXHAUSTED?(Vi(e.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):e&&e.code===Ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===e&&this.Go(r,i)},r=>{t(()=>{const i=new bt(Ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(t,e){const r=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var t=this;this.state=5,this.xo.Ao((0,Ee.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Tt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cj extends _3{constructor(t,e,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,o),this.It=s}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=function nH(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:on(),i=t.targetChange.targetIds||[],s=function(h,p){return h.gt?(Fn(void 0===p||"string"==typeof p),bs.fromBase64String(p||"")):(Fn(void 0===p||p instanceof Uint8Array),bs.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(h){const p=void 0===h.code?Ye.UNKNOWN:oL(h.code);return new bt(p,h.message||"")}(o);e=new dL(r,i,s,u||null)}else if("documentChange"in t){const r=t.documentChange,i=jd(n,r.document.name),s=co(r.document.updateTime),o=new Es({mapValue:{fields:r.document.fields}}),u=Gr.newFoundDocument(i,s,o);e=new OT(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in t){const r=t.documentDelete,i=jd(n,r.document),s=r.readTime?co(r.readTime):An.min(),o=Gr.newNoDocument(i,s);e=new OT([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=jd(n,r.document);e=new OT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return on();{const r=t.filter,s=new Ab(r.count||0);e=new uL(r.targetId,s)}}var h;return e}(this.It,t),r=function(i){if(!("targetChange"in i))return An.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?An.min():s.readTime?co(s.readTime):An.min()}(t);return this.listener.Wo(e,r)}zo(t){const e={};e.database=Pb(this.It),e.addTarget=function(i,s){let o;const u=s.target;return o=df(u)?{documents:xL(i,u)}:{query:bL(i,u)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mL(i,s.resumeToken):s.snapshotVersion.compareTo(An.min())>0&&(o.readTime=Fb(i,s.snapshotVersion.toTimestamp())),o}(this.It,t);const r=function iH(n,t){const e=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return on()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.Bo(e)}Ho(t){const e={};e.database=Pb(this.It),e.removeTarget=t,this.Bo(e)}}class uj extends _3{constructor(t,e,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(Fn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function rH(n,t){return n&&n.length>0?(Fn(void 0!==t),n.map(e=>function(r,i){let s=co(r.updateTime?r.updateTime:i);return s.isEqual(An.min())&&(s=co(i)),new Ie(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=co(t.commitTime);return this.listener.Zo(r,e)}return Fn(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Pb(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>Nb(this.It,r))};this.Bo(e)}}class dj extends class{}{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new bt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(t,e,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new bt(Ye.UNKNOWN,i.toString())})}fo(t,e,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(t,e,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new bt(Ye.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class hj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Vi(e),this.ou=!1):Tt("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class fj{constructor(t,e,r,i,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(u=>{r.enqueueAndForget((0,Ee.Z)(function*(){var h;om(o)&&(Tt("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,Ee.Z)(function*(p){const g=Qt(p);g._u.add(4),yield qy(g),g.gu.set("Unknown"),g._u.delete(4),yield Zb(g)}),function(p){return h.apply(this,arguments)})(o))}))}),this.gu=new hj(r,i)}}function Zb(n){return r2.apply(this,arguments)}function r2(){return r2=(0,Ee.Z)(function*(n){if(om(n))for(const t of n.wu)yield t(!0)}),r2.apply(this,arguments)}function qy(n){return s2.apply(this,arguments)}function s2(){return s2=(0,Ee.Z)(function*(n){for(const t of n.wu)yield t(!1)}),s2.apply(this,arguments)}function YT(n,t){const e=Qt(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),l2(e)?a2(e):Ky(e).ko()&&o2(e,t))}function Wb(n,t){const e=Qt(n),r=Ky(e);e.du.delete(t),r.ko()&&v3(e,t),0===e.du.size&&(r.ko()?r.Fo():om(e)&&e.gu.set("Unknown"))}function o2(n,t){n.yu.Ot(t.targetId),Ky(n).zo(t)}function v3(n,t){n.yu.Ot(t),Ky(n).Ho(t)}function a2(n){n.yu=new K8({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Ky(n).start(),n.gu.uu()}function l2(n){return om(n)&&!Ky(n).No()&&n.du.size>0}function om(n){return 0===Qt(n)._u.size}function y3(n){n.yu=void 0}function pj(n){return c2.apply(this,arguments)}function c2(){return c2=(0,Ee.Z)(function*(n){n.du.forEach((t,e)=>{o2(n,t)})}),c2.apply(this,arguments)}function mj(n,t){return u2.apply(this,arguments)}function u2(){return u2=(0,Ee.Z)(function*(n,t){y3(n),l2(n)?(n.gu.hu(t),a2(n)):n.gu.set("Unknown")}),u2.apply(this,arguments)}function gj(n,t,e){return d2.apply(this,arguments)}function d2(){return d2=(0,Ee.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof dL&&2===t.state&&t.cause)try{yield(r=(0,Ee.Z)(function*(i,s){const o=s.cause;for(const u of s.targetIds)i.du.has(u)&&(yield i.remoteSyncer.rejectListen(u,o),i.du.delete(u),i.yu.removeTarget(u))}),function(i,s){return r.apply(this,arguments)})(n,t)}catch(r){Tt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield KT(n,r)}else if(t instanceof OT?n.yu.Gt(t):t instanceof uL?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(An.min()))try{const r=yield a3(n.localStore);e.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=i.du.get(h);p&&i.du.set(h,p.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach(u=>{const h=i.du.get(u);if(!h)return;i.du.set(u,h.withResumeToken(bs.EMPTY_BYTE_STRING,h.snapshotVersion)),v3(i,u);const p=new rm(h.target,u,1,h.sequenceNumber);o2(i,p)}),i.remoteSyncer.applyRemoteEvent(o)}(n,e))}catch(r){Tt("RemoteStore","Failed to raise snapshot:",r),yield KT(n,r)}var r}),d2.apply(this,arguments)}function KT(n,t,e){return h2.apply(this,arguments)}function h2(){return h2=(0,Ee.Z)(function*(n,t,e){if(!Hu(t))throw t;n._u.add(1),yield qy(n),n.gu.set("Offline"),e||(e=()=>a3(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Tt("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield Zb(n)}))}),h2.apply(this,arguments)}function w3(n,t){return t().catch(e=>KT(n,e,t))}function Yy(n){return f2.apply(this,arguments)}function f2(){return f2=(0,Ee.Z)(function*(n){const t=Qt(n),e=am(t);let r=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;_j(t);)try{const i=yield nj(t.localStore,r);if(null===i){0===t.fu.length&&e.Fo();break}r=i.batchId,vj(t,i)}catch(i){yield KT(t,i)}x3(t)&&b3(t)}),f2.apply(this,arguments)}function _j(n){return om(n)&&n.fu.length<10}function vj(n,t){n.fu.push(t);const e=am(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function x3(n){return om(n)&&!am(n).No()&&n.fu.length>0}function b3(n){am(n).start()}function yj(n){return p2.apply(this,arguments)}function p2(){return p2=(0,Ee.Z)(function*(n){am(n).eu()}),p2.apply(this,arguments)}function wj(n){return m2.apply(this,arguments)}function m2(){return m2=(0,Ee.Z)(function*(n){const t=am(n);for(const e of n.fu)t.Xo(e.mutations)}),m2.apply(this,arguments)}function xj(n,t,e){return g2.apply(this,arguments)}function g2(){return g2=(0,Ee.Z)(function*(n,t,e){const r=n.fu.shift(),i=VR.from(r,t,e);yield w3(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Yy(n)}),g2.apply(this,arguments)}function bj(n,t){return _2.apply(this,arguments)}function _2(){return _2=(0,Ee.Z)(function*(n,t){var e;t&&am(n).Yo&&(yield(e=(0,Ee.Z)(function*(r,i){if(Hy(s=i.code)&&s!==Ye.ABORTED){const o=r.fu.shift();am(r).Oo(),yield w3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Yy(r)}var s}),function(r,i){return e.apply(this,arguments)})(n,t)),x3(n)&&b3(n)}),_2.apply(this,arguments)}function E3(n,t){return v2.apply(this,arguments)}function v2(){return v2=(0,Ee.Z)(function*(n,t){const e=Qt(n);e.asyncQueue.verifyOperationInProgress(),Tt("RemoteStore","RemoteStore received new credentials");const r=om(e);e._u.add(3),yield qy(e),r&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield Zb(e)}),v2.apply(this,arguments)}function y2(n,t){return w2.apply(this,arguments)}function w2(){return w2=(0,Ee.Z)(function*(n,t){const e=Qt(n);t?(e._u.delete(2),yield Zb(e)):t||(e._u.add(2),yield qy(e),e.gu.set("Unknown"))}),w2.apply(this,arguments)}function Ky(n){return n.pu||(n.pu=function(t,e,r){const i=Qt(t);return i.su(),new cj(e,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:pj.bind(null,n),Zr:mj.bind(null,n),Wo:gj.bind(null,n)}),n.wu.push(function(){var t=(0,Ee.Z)(function*(e){e?(n.pu.Oo(),l2(n)?a2(n):n.gu.set("Unknown")):(yield n.pu.stop(),y3(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function am(n){return n.Iu||(n.Iu=function(t,e,r){const i=Qt(t);return i.su(),new uj(e,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:yj.bind(null,n),Zr:bj.bind(null,n),tu:wj.bind(null,n),Zo:xj.bind(null,n)}),n.wu.push(function(){var t=(0,Ee.Z)(function*(e){e?(n.Iu.Oo(),yield Yy(n)):(yield n.Iu.stop(),n.fu.length>0&&(Tt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class x2{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,e,r,i,s){const o=Date.now()+r,u=new x2(t,e,o,i,s);return u.start(r),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bt(Ye.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xy(n,t){if(Vi("AsyncQueue",`${t}: ${n}`),Hu(n))return new bt(Ye.UNAVAILABLE,`${t}: ${n}`);throw n}class Qy{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Wt.comparator(e.key,r.key):(e,r)=>Wt.comparator(e.key,r.key),this.keyedMap=Ib(),this.sortedSet=new Tr(this.comparator)}static emptySet(t){return new Qy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Qy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Qy;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class C3{constructor(){this.Tu=new Tr(Wt.comparator)}track(t){const e=t.doc.key,r=this.Tu.get(e);r?0!==t.type&&3===r.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==r.type?this.Tu=this.Tu.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.Tu=this.Tu.remove(e):1===t.type&&2===r.type?this.Tu=this.Tu.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):on():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,r)=>{t.push(r)}),t}}class Jy{constructor(t,e,r,i,s,o,u,h){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=h}static fromInitialDocuments(t,e,r,i){const s=[];return e.forEach(o=>{s.push({type:0,doc:o})}),new Jy(t,e,Qy.emptySet(e),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ly(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ej{constructor(){this.Au=void 0,this.listeners=[]}}class Cj{constructor(){this.queries=new nm(t=>AR(t),Ly),this.onlineState="Unknown",this.Ru=new Set}}function b2(n,t){return E2.apply(this,arguments)}function E2(){return E2=(0,Ee.Z)(function*(n,t){const e=Qt(n),r=t.query;let i=!1,s=e.queries.get(r);if(s||(i=!0,s=new Ej),i)try{s.Au=yield e.onListen(r)}catch(o){const u=Xy(o,`Initialization of query '${kT(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&S2(e)}),E2.apply(this,arguments)}function C2(n,t){return D2.apply(this,arguments)}function D2(){return D2=(0,Ee.Z)(function*(n,t){const e=Qt(n),r=t.query;let i=!1;const s=e.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return e.queries.delete(r),e.onUnlisten(r)}),D2.apply(this,arguments)}function Dj(n,t){const e=Qt(n);let r=!1;for(const i of t){const o=e.queries.get(i.query);if(o){for(const u of o.listeners)u.Pu(i)&&(r=!0);o.Au=i}}r&&S2(e)}function Sj(n,t,e){const r=Qt(n),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(e);r.queries.delete(t)}function S2(n){n.Ru.forEach(t=>{t.next()})}class T2{constructor(t,e,r){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new Jy(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||!(this.options.Nu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Jy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}class Tj{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}class D3{constructor(t){this.It=t}Ji(t){return jd(this.It,t)}Yi(t){return t.metadata.exists?wL(this.It,t.document,!1):Gr.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return co(t)}}class Aj{constructor(t,e,r){this.Mu=t,this.localStore=e,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=S3(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const r=ir.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,r=new D3(this.It);for(const i of t)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const o of i.metadata.queries){const u=(e.get(o)||Kn()).add(s);e.set(o,u)}}return e}complete(){var t=this;return(0,Ee.Z)(function*(){const e=yield function rj(n,t,e,r){return KR.apply(this,arguments)}(t.localStore,new D3(t.It),t.documents,t.Mu.id),r=t.Fu(t.documents);for(const i of t.queries)yield ij(t.localStore,i,r.get(i.name));return t.progress.taskState="Success",{progress:t.progress,$u:t.collectionGroups,Bu:e}})()}}function S3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class T3{constructor(t){this.key=t}}class A3{constructor(t){this.key=t}}class I3{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=Kn(),this.mutatedKeys=Kn(),this.Ku=IR(t),this.Gu=new Qy(this.Ku)}get Qu(){return this.Lu}ju(t,e){const r=e?e.Wu:new C3,i=e?e.Gu:this.Gu;let s=e?e.mutatedKeys:this.mutatedKeys,o=i,u=!1;const h="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,p="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((g,y)=>{const E=i.get(g),T=MT(this.query,y)?y:null,k=!!E&&this.mutatedKeys.has(E.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;E&&T?E.data.isEqual(T.data)?k!==D&&(r.track({type:3,doc:T}),R=!0):this.zu(E,T)||(r.track({type:2,doc:T}),R=!0,(h&&this.Ku(T,h)>0||p&&this.Ku(T,p)<0)&&(u=!0)):!E&&T?(r.track({type:0,doc:T}),R=!0):E&&!T&&(r.track({type:1,doc:E}),R=!0,(h||p)&&(u=!0)),R&&(T?(o=o.add(T),s=D?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const g="F"===this.query.limitType?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{Gu:o,Wu:r,$i:u,mutatedKeys:s}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const i=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.Wu.Eu();s.sort((p,g)=>function(y,E){const T=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return on()}};return T(y)-T(E)}(p.type,g.type)||this.Ku(p.doc,g.doc)),this.Hu(r);const o=e?this.Ju():[],u=0===this.qu.size&&this.current?1:0,h=u!==this.Uu;return this.Uu=u,0!==s.length||h?{snapshot:new Jy(this.query,t.Gu,i,s,t.mutatedKeys,0===u,h,!1),Yu:o}:{Yu:o}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new C3,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=Kn(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const e=[];return t.forEach(r=>{this.qu.has(r)||e.push(new A3(r))}),this.qu.forEach(r=>{t.has(r)||e.push(new T3(r))}),e}Zu(t){this.Lu=t.Hi,this.qu=Kn();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return Jy.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Ij{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class kj{constructor(t){this.key=t,this.ec=!1}}class Mj{constructor(t,e,r,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new nm(u=>AR(u),Ly),this.ic=new Map,this.rc=new Set,this.oc=new Tr(Wt.comparator),this.uc=new Map,this.cc=new GR,this.ac={},this.hc=new Map,this.lc=Z0.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Rj(n,t){return A2.apply(this,arguments)}function A2(){return A2=(0,Ee.Z)(function*(n,t){const e=X2(n);let r,i;const s=e.sc.get(t);if(s)r=s.targetId,e.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=yield Zy(e.localStore,Yo(t));e.isPrimaryClient&&YT(e.remoteStore,o);const u=e.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield I2(e,t,r,"current"===u)}return i}),A2.apply(this,arguments)}function I2(n,t,e,r){return k2.apply(this,arguments)}function k2(){return k2=(0,Ee.Z)(function*(n,t,e,r){n.dc=(g,y,E)=>{return(T=(0,Ee.Z)(function*(k,D,R,B){let j=D.view.ju(R);j.$i&&(j=yield zT(k.localStore,D.query,!1).then(({documents:ve})=>D.view.ju(ve,j)));const V=B&&B.targetChanges.get(D.targetId),re=D.view.applyChanges(j,k.isPrimaryClient,V);return U2(k,D.targetId,re.Yu),re.snapshot}),function(k,D,R,B){return T.apply(this,arguments)})(n,g,y,E);var T};const i=yield zT(n.localStore,t,!0),s=new I3(t,i.Hi),o=s.ju(i.documents),u=Rb.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),h=s.applyChanges(o,n.isPrimaryClient,u);U2(n,e,h.Yu);const p=new Ij(t,e,s);return n.sc.set(t,p),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),h.snapshot}),k2.apply(this,arguments)}function Fj(n,t){return M2.apply(this,arguments)}function M2(){return M2=(0,Ee.Z)(function*(n,t){const e=Qt(n),r=e.sc.get(t),i=e.ic.get(r.targetId);if(i.length>1)return e.ic.set(r.targetId,i.filter(s=>!Ly(s,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Wy(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),Wb(e.remoteStore,r.targetId),e1(e,r.targetId)}).catch(ds))):(e1(e,r.targetId),yield Wy(e.localStore,r.targetId,!0))}),M2.apply(this,arguments)}function R2(){return R2=(0,Ee.Z)(function*(n,t,e){const r=Q2(n);try{const i=yield function(s,o){const u=Qt(s),h=ui.now(),p=o.reduce((E,T)=>E.add(T.key),Kn());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=Xa(),k=Kn();return u.Gi.getEntries(E,p).next(D=>{T=D,T.forEach((R,B)=>{B.isValidDocument()||(k=k.add(R))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,T)).next(D=>{g=D;const R=[];for(const B of o){const j=wn(B,g.get(B.key).overlayedDocument);null!=j&&R.push(new Do(B.key,j,Vd(j.value.mapValue),ze.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,R,o)}).next(D=>{y=D;const R=D.applyToLocalDocumentSet(g,k);return u.documentOverlayCache.saveOverlays(E,D.batchId,R)})}).then(()=>({batchId:y.batchId,changes:lL(g)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let h=s.ac[s.currentUser.toKey()];h||(h=new Tr(Vn)),h=h.insert(o,u),s.ac[s.currentUser.toKey()]=h}(r,i.batchId,e),yield hf(r,i.changes),yield Yy(r.remoteStore)}catch(i){const s=Xy(i,"Failed to persist write");e.reject(s)}}),R2.apply(this,arguments)}function k3(n,t){return F2.apply(this,arguments)}function F2(){return F2=(0,Ee.Z)(function*(n,t){const e=Qt(n);try{const r=yield tj(e.localStore,t);t.targetChanges.forEach((i,s)=>{const o=e.uc.get(s);o&&(Fn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Fn(o.ec):i.removedDocuments.size>0&&(Fn(o.ec),o.ec=!1))}),yield hf(e,r,t)}catch(r){yield ds(r)}}),F2.apply(this,arguments)}function M3(n,t,e){const r=Qt(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.sc.forEach((s,o)=>{const u=o.view.bu(t);u.snapshot&&i.push(u.snapshot)}),function(s,o){const u=Qt(s);u.onlineState=o;let h=!1;u.queries.forEach((p,g)=>{for(const y of g.listeners)y.bu(o)&&(h=!0)}),h&&S2(u)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Pj(n,t,e){return O2.apply(this,arguments)}function O2(){return O2=(0,Ee.Z)(function*(n,t,e){const r=Qt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.uc.get(t),s=i&&i.key;if(s){let o=new Tr(Wt.comparator);o=o.insert(s,Gr.newNoDocument(s,An.min()));const u=Kn().add(s),h=new Mb(An.min(),new Map,new Nr(Vn),o,u);yield k3(r,h),r.oc=r.oc.remove(s),r.uc.delete(t),H2(r)}else yield Wy(r.localStore,t,!1).then(()=>e1(r,t,e)).catch(ds)}),O2.apply(this,arguments)}function Nj(n,t){return P2.apply(this,arguments)}function P2(){return P2=(0,Ee.Z)(function*(n,t){const e=Qt(n),r=t.batch.batchId;try{const i=yield ej(e.localStore,t);B2(e,r,null),V2(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield hf(e,i)}catch(i){yield ds(i)}}),P2.apply(this,arguments)}function Lj(n,t,e){return N2.apply(this,arguments)}function N2(){return N2=(0,Ee.Z)(function*(n,t,e){const r=Qt(n);try{const i=yield function(s,o){const u=Qt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,o).next(g=>(Fn(null!==g),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,t);B2(r,t,e),V2(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield hf(r,i)}catch(i){yield ds(i)}}),N2.apply(this,arguments)}function L2(){return L2=(0,Ee.Z)(function*(n,t){const e=Qt(n);om(e.remoteStore)||Tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const o=Qt(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>o.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===r)return void t.resolve();const i=e.hc.get(r)||[];i.push(t),e.hc.set(r,i)}catch(r){const i=Xy(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}}),L2.apply(this,arguments)}function V2(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function B2(n,t,e){const r=Qt(n);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function e1(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.ic.get(t))n.sc.delete(r),e&&n.nc._c(r,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(r=>{n.cc.containsKey(r)||R3(n,r)})}function R3(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&(Wb(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),H2(n))}function U2(n,t,e){for(const r of e)r instanceof T3?(n.cc.addReference(r.key,t),Bj(n,r)):r instanceof A3?(Tt("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,t),n.cc.containsKey(r.key)||R3(n,r.key)):on()}function Bj(n,t){const e=t.key,r=e.path.canonicalString();n.oc.get(e)||n.rc.has(r)||(Tt("SyncEngine","New document in limbo: "+e),n.rc.add(r),H2(n))}function H2(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new Wt(ir.fromString(t)),r=n.lc.next();n.uc.set(r,new kj(e)),n.oc=n.oc.insert(e,r),YT(n.remoteStore,new rm(Yo(em(e.path)),r,2,oo.at))}}function hf(n,t,e){return j2.apply(this,arguments)}function j2(){return j2=(0,Ee.Z)(function*(n,t,e){const r=Qt(n),i=[],s=[],o=[];var u;r.sc.isEmpty()||(r.sc.forEach((u,h)=>{o.push(r.dc(h,t,e).then(p=>{if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);const g=WR.Ci(h.targetId,p);s.push(g)}}))}),yield Promise.all(o),r.nc.Wo(i),yield(u=(0,Ee.Z)(function*(h,p){const g=Qt(h);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Ne.forEach(p,E=>Ne.forEach(E.Si,T=>g.persistence.referenceDelegate.addReference(y,E.targetId,T)).next(()=>Ne.forEach(E.Di,T=>g.persistence.referenceDelegate.removeReference(y,E.targetId,T)))))}catch(y){if(!Hu(y))throw y;Tt("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const E=y.targetId;if(!y.fromCache){const T=g.Ui.get(E),D=T.withLastLimboFreeSnapshotVersion(T.snapshotVersion);g.Ui=g.Ui.insert(E,D)}}}),function(h,p){return u.apply(this,arguments)})(r.localStore,s))}),j2.apply(this,arguments)}function Uj(n,t){return G2.apply(this,arguments)}function G2(){return G2=(0,Ee.Z)(function*(n,t){const e=Qt(n);if(!e.currentUser.isEqual(t)){Tt("SyncEngine","User change. New user:",t.toKey());const r=yield o3(e.localStore,t);e.currentUser=t,(i=e).hc.forEach(o=>{o.forEach(u=>{u.reject(new bt(Ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield hf(e,r.ji)}var i}),G2.apply(this,arguments)}function Hj(n,t){const e=Qt(n),r=e.uc.get(t);if(r&&r.ec)return Kn().add(r.key);{let i=Kn();const s=e.ic.get(t);if(!s)return i;for(const o of s){const u=e.sc.get(o);i=i.unionWith(u.view.Qu)}return i}}function jj(n,t){return $2.apply(this,arguments)}function $2(){return $2=(0,Ee.Z)(function*(n,t){const e=Qt(n),r=yield zT(e.localStore,t.query,!0),i=t.view.Zu(r);return e.isPrimaryClient&&U2(e,t.targetId,i.Yu),i}),$2.apply(this,arguments)}function Gj(n,t){return z2.apply(this,arguments)}function z2(){return z2=(0,Ee.Z)(function*(n,t){const e=Qt(n);return u3(e.localStore,t).then(r=>hf(e,r))}),z2.apply(this,arguments)}function $j(n,t,e,r){return Z2.apply(this,arguments)}function Z2(){return Z2=(0,Ee.Z)(function*(n,t,e,r){const i=Qt(n),s=yield function(o,u){const h=Qt(o),p=Qt(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>p.Tn(g,u).next(y=>y?h.localDocuments.getDocuments(g,y):Ne.resolve(null)))}(i.localStore,t);var u;null!==s?("pending"===e?yield Yy(i.remoteStore):"acknowledged"===e||"rejected"===e?(B2(i,t,r||null),V2(i,t),u=t,Qt(Qt(i.localStore).mutationQueue).An(u)):on(),yield hf(i,s)):Tt("SyncEngine","Cannot apply mutation batch with id: "+t)}),Z2.apply(this,arguments)}function W2(){return W2=(0,Ee.Z)(function*(n,t){const e=Qt(n);if(X2(e),Q2(e),!0===t&&!0!==e.fc){const r=e.sharedClientState.getAllActiveQueryTargets(),i=yield F3(e,r.toArray());e.fc=!0,yield y2(e.remoteStore,!0);for(const s of i)YT(e.remoteStore,s)}else if(!1===t&&!1!==e.fc){const r=[];let i=Promise.resolve();e.ic.forEach((s,o)=>{e.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(e1(e,o),Wy(e.localStore,o,!0))),Wb(e.remoteStore,o)}),yield i,yield F3(e,r),function(s){const o=Qt(s);o.uc.forEach((u,h)=>{Wb(o.remoteStore,h)}),o.cc.fs(),o.uc=new Map,o.oc=new Tr(Wt.comparator)}(e),e.fc=!1,yield y2(e.remoteStore,!1)}}),W2.apply(this,arguments)}function F3(n,t,e){return q2.apply(this,arguments)}function q2(){return q2=(0,Ee.Z)(function*(n,t,e){const r=Qt(n),i=[],s=[];for(const o of t){let u;const h=r.ic.get(o);if(h&&0!==h.length){u=yield Zy(r.localStore,Yo(h[0]));for(const p of h){const g=r.sc.get(p),y=yield jj(r,g);y.snapshot&&s.push(y.snapshot)}}else{const p=yield c3(r.localStore,o);u=yield Zy(r.localStore,p),yield I2(r,O3(p),o,!1)}i.push(u)}return r.nc.Wo(s),i}),q2.apply(this,arguments)}function O3(n){return Ny(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Zj(n){const t=Qt(n);return Qt(Qt(t.localStore).persistence).vi()}function Wj(n,t,e,r){return Y2.apply(this,arguments)}function Y2(){return Y2=(0,Ee.Z)(function*(n,t,e,r){const i=Qt(n);if(i.fc)return void Tt("SyncEngine","Ignoring unexpected query state notification.");const s=i.ic.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const o=yield u3(i.localStore,RT(s[0])),u=Mb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield hf(i,o,u);break}case"rejected":yield Wy(i.localStore,t,!0),e1(i,t,r);break;default:on()}}),Y2.apply(this,arguments)}function qj(n,t,e){return K2.apply(this,arguments)}function K2(){return K2=(0,Ee.Z)(function*(n,t,e){const r=X2(n);if(r.fc){for(const i of t){if(r.ic.has(i)){Tt("SyncEngine","Adding an already active target "+i);continue}const s=yield c3(r.localStore,i),o=yield Zy(r.localStore,s);yield I2(r,O3(s),o.targetId,!1),YT(r.remoteStore,o)}for(const i of e)r.ic.has(i)&&(yield Wy(r.localStore,i,!1).then(()=>{Wb(r.remoteStore,i),e1(r,i)}).catch(ds))}}),K2.apply(this,arguments)}function X2(n){const t=Qt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=k3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pj.bind(null,t),t.nc.Wo=Dj.bind(null,t.eventManager),t.nc._c=Sj.bind(null,t.eventManager),t}function Q2(n){const t=Qt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Lj.bind(null,t),t}class P3{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ee.Z)(function*(){e.It=zb(t.databaseInfo.databaseId),e.sharedClientState=e.mc(t),e.persistence=e.gc(t),yield e.persistence.start(),e.localStore=e.yc(t),e.gcScheduler=e.Ic(t,e.localStore),e.indexBackfillerScheduler=e.Tc(t,e.localStore)})()}Ic(t,e){return null}Tc(t,e){return null}yc(t){return s3(this.persistence,new r3,t.initialUser,this.It)}gc(t){return new t3(GT.Bs,this.It)}mc(t){return new p3}terminate(){var t=this;return(0,Ee.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class N3 extends P3{constructor(t,e,r){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield e().call(r,t),yield r.Ec.initialize(r,t),yield Q2(r.Ec.syncEngine),yield Yy(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(t){return s3(this.persistence,new r3,t.initialUser,this.It)}Ic(t,e){return new BH(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Tc(t,e){const r=new gR(e,this.persistence);return new pT(t.asyncQueue,r)}gc(t){const e=ZR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Qa.withCacheSize(this.cacheSizeBytes):Qa.DEFAULT;return new zR(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,g3(),qT(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new p3}}class Kj extends N3{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield e().call(r,t);const i=r.Ec.syncEngine;r.sharedClientState instanceof t2&&(r.sharedClientState.syncEngine={Fr:$j.bind(null,i),$r:Wj.bind(null,i),Br:qj.bind(null,i),vi:Zj.bind(null,i),Or:Gj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var s=(0,Ee.Z)(function*(o){yield function zj(n,t){return W2.apply(this,arguments)}(r.Ec.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}mc(t){const e=g3();if(!t2.C(e))throw new bt(Ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ZR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new t2(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class J2{initialize(t,e){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>M3(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Uj.bind(null,r.syncEngine),yield y2(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Cj}createDatastore(t){const e=zb(t.databaseInfo.databaseId),r=new lj(t.databaseInfo);return new dj(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,i=t.asyncQueue,s=u=>M3(this.syncEngine,u,0),o=m3.C()?new m3:new sj,new fj(e,r,i,s,o);var e,r,i,s,o}createSyncEngine(t,e){return function(r,i,s,o,u,h,p){const g=new Mj(r,i,s,o,u,h);return p&&(g.fc=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ee.Z)(function*(e){const r=Qt(e);Tt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield qy(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function L3(n,t=10240){let e=0;return{read:()=>(0,Ee.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class XT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):Vi("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Xj{constructor(t,e){this.bc=t,this.It=e,this.metadata=new zs,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var t=this;return(0,Ee.Z)(function*(){return t.metadata.promise})()}wc(){var t=this;return(0,Ee.Z)(function*(){return yield t.getMetadata(),t.vc()})()}vc(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.Vc();if(null===e)return null;const r=t.Pc.decode(e),i=Number(r);isNaN(i)&&t.Sc(`length string (${r}) is not valid number`);const s=yield t.Dc(i);return new Tj(JSON.parse(s),e.length+i)})()}Cc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Vc(){var t=this;return(0,Ee.Z)(function*(){for(;t.Cc()<0&&!(yield t.xc()););if(0===t.buffer.length)return null;const e=t.Cc();e<0&&t.Sc("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}Dc(t){var e=this;return(0,Ee.Z)(function*(){for(;e.buffer.length<t;)(yield e.xc())&&e.Sc("Reached the end of bundle when more is expected.");const r=e.Pc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}xc(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.bc.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class Qj{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new bt(Ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ee.Z)(function*(s,o){const u=Qt(s),h=Pb(u.It)+"/documents",p={documents:o.map(T=>Ob(u.It,T))},g=yield u.fo("BatchGetDocuments",h,p,o.length),y=new Map;g.forEach(T=>{const k=function tH(n,t){return"found"in t?function(e,r){Fn(!!r.found);const i=jd(e,r.found.name),s=co(r.found.updateTime),o=new Es({mapValue:{fields:r.found.fields}});return Gr.newFoundDocument(i,s,o)}(n,t):"missing"in t?function(e,r){Fn(!!r.missing),Fn(!!r.readTime);const i=jd(e,r.missing),s=co(r.readTime);return Gr.newNoDocument(i,s)}(n,t):on()}(u.It,T);y.set(k.key.toString(),k)});const E=[];return o.forEach(T=>{const k=y.get(T.toString());Fn(!!k),E.push(k)}),E}),function(s,o){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ud(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const s=Wt.fromPath(i);t.mutations.push(new B0(s,t.precondition(s)))}),yield(r=(0,Ee.Z)(function*(i,s){const o=Qt(i),u=Pb(o.It)+"/documents",h={writes:s.map(p=>Nb(o.It,p))};yield o.co("Commit",u,h)}),function(i,s){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw on();e=An.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new bt(Ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(An.min())?ze.exists(!1):ze.updateTime(e):ze.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(An.min()))throw new bt(Ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ze.updateTime(e)}return ze.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Jj{constructor(t,e,r,i,s){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=i,this.deferred=s,this.Nc=r.maxAttempts,this.xo=new n2(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var t=this;this.xo.Ao((0,Ee.Z)(function*(){const e=new Qj(t.datastore),r=t.Mc(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(s=>{t.Oc(s)}))}).catch(i=>{t.Oc(i)})}))}Mc(t){try{const e=this.updateFunction(t);return!Qp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Hy(e)}return!1}}class e7{constructor(t,e,r,i){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=us.UNAUTHENTICATED,this.clientId=cb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Ee.Z)(function*(u){Tt("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Tt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return(0,Ee.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new bt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=Xy(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function V3(n,t){return eF.apply(this,arguments)}function eF(){return eF=(0,Ee.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Tt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ee.Z)(function*(s){r.isEqual(s)||(yield o3(t.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),eF.apply(this,arguments)}function B3(n,t){return tF.apply(this,arguments)}function tF(){return tF=(0,Ee.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield nF(n);Tt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(i=>E3(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>E3(t.remoteStore,s)),n.onlineComponents=t}),tF.apply(this,arguments)}function nF(n){return rF.apply(this,arguments)}function rF(){return rF=(0,Ee.Z)(function*(n){return n.offlineComponents||(Tt("FirestoreClient","Using default OfflineComponentProvider"),yield V3(n,new P3)),n.offlineComponents}),rF.apply(this,arguments)}function QT(n){return iF.apply(this,arguments)}function iF(){return iF=(0,Ee.Z)(function*(n){return n.onlineComponents||(Tt("FirestoreClient","Using default OnlineComponentProvider"),yield B3(n,new J2)),n.onlineComponents}),iF.apply(this,arguments)}function U3(n){return nF(n).then(t=>t.persistence)}function JT(n){return nF(n).then(t=>t.localStore)}function H3(n){return QT(n).then(t=>t.remoteStore)}function sF(n){return QT(n).then(t=>t.syncEngine)}function t1(n){return oF.apply(this,arguments)}function oF(){return oF=(0,Ee.Z)(function*(n){const t=yield QT(n),e=t.eventManager;return e.onListen=Rj.bind(null,t.syncEngine),e.onUnlisten=Fj.bind(null,t.syncEngine),e}),oF.apply(this,arguments)}function j3(n,t,e={}){const r=new zs;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,s,o,u,h){const p=new XT({next:y=>{s.enqueueAndForget(()=>C2(i,g));const E=y.docs.has(o);!E&&y.fromCache?h.reject(new bt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&u&&"server"===u.source?h.reject(new bt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new T2(em(o.path),p,{includeMetadataChanges:!0,Nu:!0});return b2(i,g)}(yield t1(n),n.asyncQueue,t,e,r)})),r.promise}function G3(n,t,e={}){const r=new zs;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,s,o,u,h){const p=new XT({next:y=>{s.enqueueAndForget(()=>C2(i,g)),y.fromCache&&"server"===u.source?h.reject(new bt(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new T2(o,p,{includeMetadataChanges:!0,Nu:!0});return b2(i,g)}(yield t1(n),n.asyncQueue,t,e,r)})),r.promise}const $3=new Map;function aF(n,t,e){if(!e)throw new bt(Ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function z3(n,t,e,r){if(!0===t&&!0===r)throw new bt(Ye.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Z3(n){if(!Wt.isDocumentKey(n))throw new bt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function W3(n){if(Wt.isDocumentKey(n))throw new bt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":on()}function yr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new bt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=eA(n);throw new bt(Ye.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function q3(n,t){if(t<=0)throw new bt(Ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class Y3{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new bt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,z3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qb{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new bt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new bt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y3(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new rL;switch(e.type){case"gapi":return new Dy(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new bt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=$3.get(t);e&&(Tt("ComponentProvider","Removing Datastore"),$3.delete(t),e.terminate())}(this),Promise.resolve()}}class Ei{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $d(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ei(this.firestore,t,this._key)}}class Ko{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ko(this.firestore,t,this._query)}}class $d extends Ko{constructor(t,e,r){super(t,e,em(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ei(this.firestore,null,new Wt(t))}withConverter(t){return new $d(this.firestore,t,this._path)}}function Ia(n,t,...e){if(n=(0,tr.m9)(n),aF("collection","path",t),n instanceof qb){const r=ir.fromString(t,...e);return W3(r),new $d(n,null,r)}{if(!(n instanceof Ei||n instanceof $d))throw new bt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ir.fromString(t,...e));return W3(r),new $d(n.firestore,null,r)}}function q0(n,t,...e){if(n=(0,tr.m9)(n),1===arguments.length&&(t=cb.R()),aF("doc","path",t),n instanceof qb){const r=ir.fromString(t,...e);return Z3(r),new Ei(n,null,new Wt(r))}{if(!(n instanceof Ei||n instanceof $d))throw new bt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ir.fromString(t,...e));return Z3(r),new Ei(n.firestore,n instanceof $d?n.converter:null,new Wt(r))}}function K3(n,t){return n=(0,tr.m9)(n),t=(0,tr.m9)(t),(n instanceof Ei||n instanceof $d)&&(t instanceof Ei||t instanceof $d)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function X3(n,t){return n=(0,tr.m9)(n),t=(0,tr.m9)(t),n instanceof Ko&&t instanceof Ko&&n.firestore===t.firestore&&Ly(n._query,t._query)&&n.converter===t.converter}class d7{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new n2(this,"async_queue_retry"),this.jc=()=>{const e=qT();e&&Tt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=qT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=qT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new zs;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}Hc(){var t=this;return(0,Ee.Z)(function*(){if(0!==t.Bc.length){try{yield t.Bc[0](),t.Bc.shift(),t.xo.reset()}catch(e){if(!Hu(e))throw e;Tt("AsyncQueue","Operation failed with retryable error: "+e)}t.Bc.length>0&&t.xo.Ao(()=>t.Hc())}})()}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(r=>{throw this.qc=r,this.Kc=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=e,e}enqueueAfterDelay(t,e,r){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const i=x2.createAndSchedule(this,t,e,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&on()}verifyOperationInProgress(){}Yc(){var t=this;return(0,Ee.Z)(function*(){let e;do{e=t.$c,yield e}while(e!==t.$c)})()}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function lF(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class h7{constructor(){this._progressObserver={},this._taskCompletionResolver=new zs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ri extends qb{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new d7,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Q3(this),this._firestoreClient.terminate()}}function lm(n,t){const e="object"==typeof n?n:(0,Ic.getApp)(),r="string"==typeof n?n:t||"(default)";return(0,Ic._getProvider)(e,"firestore").getImmediate({identifier:r})}function Cs(n){return n._firestoreClient||Q3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Q3(n){var t;const e=n._freezeSettings(),r=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new vT(n._databaseId,s,n._persistenceKey,(u=e).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var s,u;n._firestoreClient=new e7(n._authCredentials,n._appCheckCredentials,n._queue,r)}function J3(n,t,e){const r=new zs;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield V3(n,e),yield B3(n,t),r.resolve()}catch(i){const s=i;if(!("FirebaseError"===(o=s).name?o.code===Ye.FAILED_PRECONDITION||o.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw s;rf("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var o})).then(()=>r.promise)}function e4(n){if(n._initialized||n._terminated)throw new bt(Ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ff{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new bt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class zd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zd(bs.fromBase64String(t))}catch(e){throw new bt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new zd(bs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Y0{constructor(t){this._methodName=t}}class tA{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new bt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new bt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vn(this._lat,t._lat)||Vn(this._long,t._long)}}const b7=/^__.*__$/;class E7{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new Do(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ar(t,this.data,e,this.fieldTransforms)}}class t4{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Do(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function n4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw on()}}class nA{constructor(t,e,r,i,s,o){this.settings=t,this.databaseId=e,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new nA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.sa({path:r,ra:!1});return i.oa(t),i}ua(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return sA(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(n4(this.na)&&b7.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class C7{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=r||zb(t)}fa(t,e,r,i=!1){return new nA({na:t,methodName:e,la:r,path:Bi.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function K0(n){const t=n._freezeSettings(),e=zb(n._databaseId);return new C7(n._databaseId,!!t.ignoreUndefinedProperties,e)}function rA(n,t,e,r,i,s={}){const o=n.fa(s.merge||s.mergeFields?2:0,t,e,i);hF("Data must be an object, but it was:",o,r);const u=s4(r,o);let h,p;if(s.merge)h=new Ta(o.fieldMask),p=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const y of s.mergeFields){const E=fF(t,y,e);if(!o.contains(E))throw new bt(Ye.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);a4(g,E)||g.push(E)}h=new Ta(g),p=o.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,p=o.fieldTransforms;return new E7(new Es(u),h,p)}class Yb extends Y0{_toFieldTransform(t){if(2!==t.na)throw t.aa(1===t.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yb}}function r4(n,t,e){return new nA({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class cF extends Y0{_toFieldTransform(t){return new q(t.path,new f)}isEqual(t){return t instanceof cF}}class D7 extends Y0{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=r4(this,t,!0),r=this.da.map(s=>X0(s,e)),i=new m(r);return new q(t.path,i)}isEqual(t){return this===t}}class S7 extends Y0{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=r4(this,t,!0),r=this.da.map(s=>X0(s,e)),i=new x(r);return new q(t.path,i)}isEqual(t){return this===t}}class T7 extends Y0{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new I(t.It,RR(t.It,this._a));return new q(t.path,e)}isEqual(t){return this===t}}function uF(n,t,e,r){const i=n.fa(1,t,e);hF("Data must be an object, but it was:",i,r);const s=[],o=Es.empty();Fd(r,(h,p)=>{const g=iA(t,h,e);p=(0,tr.m9)(p);const y=i.ua(g);if(p instanceof Yb)s.push(g);else{const E=X0(p,y);null!=E&&(s.push(g),o.set(g,E))}});const u=new Ta(s);return new t4(o,u,i.fieldTransforms)}function dF(n,t,e,r,i,s){const o=n.fa(1,t,e),u=[fF(t,r,e)],h=[i];if(s.length%2!=0)throw new bt(Ye.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)u.push(fF(t,s[E])),h.push(s[E+1]);const p=[],g=Es.empty();for(let E=u.length-1;E>=0;--E)if(!a4(p,u[E])){const T=u[E];let k=h[E];k=(0,tr.m9)(k);const D=o.ua(T);if(k instanceof Yb)p.push(T);else{const R=X0(k,D);null!=R&&(p.push(T),g.set(T,R))}}const y=new Ta(p);return new t4(g,y,o.fieldTransforms)}function i4(n,t,e,r=!1){return X0(e,n.fa(r?4:3,t))}function X0(n,t){if(o4(n=(0,tr.m9)(n)))return hF("Unsupported field value:",t,n),s4(n,t);if(n instanceof Y0)return function(e,r){if(!n4(r.na))throw r.aa(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${e._methodName}() is not currently supported inside arrays`);const i=e._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,r){const i=[];let s=0;for(const o of e){let u=X0(o,r.ca(s));null==u&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(n,t)}return function(e,r){if(null===(e=(0,tr.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return RR(r.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const i=ui.fromDate(e);return{timestampValue:Fb(r.It,i)}}if(e instanceof ui){const i=new ui(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fb(r.It,i)}}if(e instanceof tA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zd)return{bytesValue:mL(r.It,e._byteString)};if(e instanceof Ei){const i=r.databaseId,s=e.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:FR(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.aa(`Unsupported field value: ${eA(e)}`)}(n,t)}function s4(n,t){const e={};return Ay(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fd(n,(r,i)=>{const s=X0(i,t.ia(r));null!=s&&(e[r]=s)}),{mapValue:{fields:e}}}function o4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ui||n instanceof tA||n instanceof zd||n instanceof Ei||n instanceof Y0)}function hF(n,t,e){if(!o4(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=eA(e);throw t.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function fF(n,t,e){if((t=(0,tr.m9)(t))instanceof ff)return t._internalPath;if("string"==typeof t)return iA(n,t);throw sA("Field path arguments must be of type string or ",n,!1,void 0,e)}const A7=new RegExp("[~\\*/\\[\\]]");function iA(n,t,e){if(t.search(A7)>=0)throw sA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ff(...t.split("."))._internalPath}catch{throw sA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function sA(n,t,e,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${r}`),o&&(h+=` in document ${i}`),h+=")"),new bt(Ye.INVALID_ARGUMENT,u+n+h)}function a4(n,t){return n.some(e=>e.isEqual(t))}class Kb{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new I7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(oA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class I7 extends Kb{data(){return super.data()}}function oA(n,t){return"string"==typeof t?iA(n,t):t instanceof ff?t._internalPath:t._delegate._internalPath}class Q0{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pf extends Kb{constructor(t,e,r,i,s,o){super(t,e,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Xb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(oA("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Xb extends pf{data(t={}){return super.data(t)}}class cm{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Q0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Xb(this._firestore,this._userDataWriter,r.key,r,new Q0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new bt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Xb(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Q0(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const u=new Xb(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Q0(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,p=-1;return 0!==o.type&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),p=s.indexOf(o.doc.key)),{type:k7(o.type),doc:u,oldIndex:h,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function k7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return on()}}function l4(n,t){return n instanceof pf&&t instanceof pf?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof cm&&t instanceof cm&&n._firestore===t._firestore&&X3(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function c4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new bt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qb{}function hs(n,...t){for(const e of t)n=e._apply(n);return n}class M7 extends Qb{constructor(t,e,r){super(),this.wa=t,this.ma=e,this.ga=r,this.type="where"}_apply(t){const e=K0(t.firestore),r=function(i,s,o,u,h,p,g){let y;if(h.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new bt(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){m4(g,p);const T=[];for(const k of g)T.push(p4(u,i,k));y={arrayValue:{values:T}}}else y=p4(u,i,g)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||m4(g,p),y=i4(o,"where",g,"in"===p||"not-in"===p);const E=lo.create(h,p,y);return function(T,k){if(k.dt()){const R=IT(T);if(null!==R&&!R.isEqual(k.field))throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${R.toString()}' and '${k.field.toString()}'`);const B=AT(T);null!==B&&g4(0,k.field,B)}const D=function(R,B){for(const j of R.filters)if(B.indexOf(j.op)>=0)return j.op;return null}(T,function(R){switch(R){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(null!==D)throw new bt(Ye.INVALID_ARGUMENT,D===k.op?`Invalid query. You cannot use more than one '${k.op.toString()}' filter.`:`Invalid query. You cannot use '${k.op.toString()}' filters with '${D.toString()}' filters.`)}(i,E),E}(t._query,0,e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new Ko(t.firestore,t.converter,function(i,s){const o=i.filters.concat([s]);return new Rc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function kl(n,t,e){const r=t,i=oA("where",n);return new M7(i,r,e)}class R7 extends Qb{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(r,i,s){if(null!==r.startAt)throw new bt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new bt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Jp(i,s);return function(u,h){if(null===AT(u)){const p=IT(u);null!==p&&g4(0,p,h.field)}}(r,o),o}(t._query,this.wa,this.ya);return new Ko(t.firestore,t.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Rc(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class u4 extends Qb{constructor(t,e,r){super(),this.type=t,this.pa=e,this.Ia=r}_apply(t){return new Ko(t.firestore,t.converter,Sb(t._query,this.pa,this.Ia))}}class d4 extends Qb{constructor(t,e,r){super(),this.type=t,this.Ta=e,this.Ea=r}_apply(t){const e=f4(t,this.type,this.Ta,this.Ea);return new Ko(t.firestore,t.converter,(i=e,new Rc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class h4 extends Qb{constructor(t,e,r){super(),this.type=t,this.Ta=e,this.Ea=r}_apply(t){const e=f4(t,this.type,this.Ta,this.Ea);return new Ko(t.firestore,t.converter,(i=e,new Rc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function f4(n,t,e,r){if(e[0]=(0,tr.m9)(e[0]),e[0]instanceof Kb)return function(i,s,o,u,h){if(!u)throw new bt(Ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const p=[];for(const g of tm(i))if(g.field.isKeyField())p.push(lf(s,u.key));else{const y=u.data.field(g.field);if(O0(y))throw new bt(Ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const E=g.field.canonicalString();throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}p.push(y)}return new Bd(p,h)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const i=K0(n.firestore);return function(s,o,u,h,p,g){const y=s.explicitOrderBy;if(p.length>y.length)throw new bt(Ye.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let T=0;T<p.length;T++){const k=p[T];if(y[T].field.isKeyField()){if("string"!=typeof k)throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof k}`);if(!Db(s)&&-1!==k.indexOf("/"))throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${k}' contains a slash.`);const D=s.path.child(ir.fromString(k));if(!Wt.isDocumentKey(D))throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const R=new Wt(D);E.push(lf(o,R))}else{const D=i4(u,h,k);E.push(D)}}return new Bd(E,g)}(n._query,n.firestore._databaseId,i,t,e,r)}}function p4(n,t,e){if("string"==typeof(e=(0,tr.m9)(e))){if(""===e)throw new bt(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Db(t)&&-1!==e.indexOf("/"))throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(ir.fromString(e));if(!Wt.isDocumentKey(r))throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lf(n,new Wt(r))}if(e instanceof Ei)return lf(n,e._key);throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eA(e)}.`)}function m4(n,t){if(!Array.isArray(n)||0===n.length)throw new bt(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new bt(Ye.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function g4(n,t,e){if(!e.isEqual(t))throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const U7={maxAttempts:5};class pF{convertValue(t,e="none"){switch(Nd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Kp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw on()}}convertObject(t,e){const r={};return Fd(t.fields,(i,s)=>{r[i]=this.convertValue(s,e)}),r}convertGeoPoint(t){return new tA(bi(t.latitude),bi(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=yb(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Xp(t));default:return null}}convertTimestamp(t){const e=Od(t);return new ui(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ir.fromString(t);Fn(DL(r));const i=new Gu(r.get(1),r.get(3)),s=new Wt(r.popFirst(5));return i.isEqual(e)||Vi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function aA(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class H7 extends pF{constructor(t){super(),this.firestore=t}convertBytes(t){return new zd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,e)}}class _4{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=K0(t)}set(t,e,r){this._verifyNotCommitted();const i=um(t,this._firestore),s=aA(i.converter,e,r),o=rA(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,ze.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const s=um(t,this._firestore);let o;return o="string"==typeof(e=(0,tr.m9)(e))||e instanceof ff?dF(this._dataReader,"WriteBatch.update",s._key,e,r,i):uF(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,ze.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=um(t,this._firestore);return this._mutations=this._mutations.concat(new Ud(e._key,ze.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new bt(Ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function um(n,t){if((n=(0,tr.m9)(n)).firestore!==t)throw new bt(Ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function v4(n){n=yr(n,Ei);const t=yr(n.firestore,Ri);return j3(Cs(t),n._key).then(e=>mF(t,n,e))}class J0 extends pF{constructor(t){super(),this.firestore=t}convertBytes(t){return new zd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,e)}}function Ja(n){n=yr(n,Ko);const t=yr(n.firestore,Ri),e=Cs(t),r=new J0(t);return c4(n._query),G3(e,n._query).then(i=>new cm(t,r,n,i))}function y4(n,t,e){n=yr(n,Ei);const r=yr(n.firestore,Ri),i=aA(n.converter,t,e);return n1(r,[rA(K0(r),"setDoc",n._key,i,null!==n.converter,e).toMutation(n._key,ze.none())])}function lA(n,t,e,...r){n=yr(n,Ei);const i=yr(n.firestore,Ri),s=K0(i);let o;return o="string"==typeof(t=(0,tr.m9)(t))||t instanceof ff?dF(s,"updateDoc",n._key,t,e,r):uF(s,"updateDoc",n._key,t),n1(i,[o.toMutation(n._key,ze.exists(!0))])}function w4(n,...t){var e,r,i;n=(0,tr.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||lF(t[o])||(s=t[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(lF(t[o])){const y=t[o];t[o]=null===(e=y.next)||void 0===e?void 0:e.bind(y),t[o+1]=null===(r=y.error)||void 0===r?void 0:r.bind(y),t[o+2]=null===(i=y.complete)||void 0===i?void 0:i.bind(y)}let h,p,g;if(n instanceof Ei)p=yr(n.firestore,Ri),g=em(n._key.path),h={next:y=>{t[o]&&t[o](mF(p,n,y))},error:t[o+1],complete:t[o+2]};else{const y=yr(n,Ko);p=yr(y.firestore,Ri),g=y._query;const E=new J0(p);h={next:T=>{t[o]&&t[o](new cm(p,E,y,T))},error:t[o+1],complete:t[o+2]},c4(n._query)}return function(y,E,T,k){const D=new XT(k),R=new T2(E,D,T);return y.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return b2(yield t1(y),R)})),()=>{D.Rc(),y.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return C2(yield t1(y),R)}))}}(Cs(p),g,u,h)}function n1(n,t){return function(e,r){const i=new zs;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function Oj(n,t,e){return R2.apply(this,arguments)}(yield sF(e),r,i)})),i.promise}(Cs(n),t)}function mF(n,t,e){const r=e.docs.get(t._key),i=new J0(n);return new pf(n,i,t._key,r,new Q0(e.hasPendingWrites,e.fromCache),t.converter)}class Y7 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=K0(t)}get(t){const e=um(t,this._firestore),r=new H7(this._firestore);return this._transaction.lookup([e._key]).then(i=>{if(!i||1!==i.length)return on();const s=i[0];if(s.isFoundDocument())return new Kb(this._firestore,r,s.key,s,e.converter);if(s.isNoDocument())return new Kb(this._firestore,r,e._key,null,e.converter);throw on()})}set(t,e,r){const i=um(t,this._firestore),s=aA(i.converter,e,r),o=rA(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,o),this}update(t,e,r,...i){const s=um(t,this._firestore);let o;return o="string"==typeof(e=(0,tr.m9)(e))||e instanceof ff?dF(this._dataReader,"Transaction.update",s._key,e,r,i):uF(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this}delete(t){const e=um(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=um(t,this._firestore),r=new J0(this._firestore);return super.get(t).then(i=>new pf(this._firestore,r,e._key,i._document,new Q0(!1,!1),e.converter))}}function x4(...n){return new D7("arrayUnion",n)}function b4(...n){return new S7("arrayRemove",n)}!function(n,t=!0){Zp=Ic.SDK_VERSION,(0,Ic._registerComponent)(new Yg.wA("firestore",(e,{instanceIdentifier:r,options:i})=>{const s=e.getProvider("app").getImmediate(),o=new Ri(new iL(e.getProvider("auth-internal")),new hT(e.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new bt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(u.options.projectId,h)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),(0,Ic.registerVersion)(lT,"3.4.15",n),(0,Ic.registerVersion)(lT,"3.4.15","esm2017")}();var Jb=z(4986);function gF(){return(0,ws.e)((n,t)=>{let e,r=!1;n.subscribe((0,ri.x)(t,i=>{const s=e;e=i,r&&t.next([s,i]),r=!0}))})}function C4(n,t=Nh.y){return n=n??e9,(0,ws.e)((e,r)=>{let i,s=!0;e.subscribe((0,ri.x)(r,o=>{const u=t(o);(s||!n(i,u))&&(s=!1,i=u,r.next(o))}))})}function e9(n,t){return n===t}z(5881);var t9=z(3942);function _F(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new bt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function D4(){if(typeof Uint8Array>"u")throw new bt("unimplemented","Uint8Arrays are not available in this environment.")}function S4(){if(!function gT(){return typeof atob<"u"}())throw new bt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class eE{constructor(t){this._delegate=t}static fromBase64String(t){return S4(),new eE(zd.fromBase64String(t))}static fromUint8Array(t){return D4(),new eE(zd.fromUint8Array(t))}toBase64(){return S4(),this._delegate.toBase64()}toUint8Array(){return D4(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vF(n){return function i9(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(n,["next","error","complete"])}class s9{enableIndexedDbPersistence(t,e){return function p7(n,t){e4(n=yr(n,Ri));const e=Cs(n),r=n._freezeSettings(),i=new J2;return J3(e,i,new N3(i,r.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function m7(n){e4(n=yr(n,Ri));const t=Cs(n),e=n._freezeSettings(),r=new J2;return J3(t,r,new Kj(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function g7(n){if(n._initialized&&!n._terminated)throw new bt(Ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new zs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(e=(0,Ee.Z)(function*(r){if(!Al.C())return Promise.resolve();const i=r+"main";yield Al.delete(i)}),function(r){return e.apply(this,arguments)})(ZR(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class T4{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof Gu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&rf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function c7(n,t,e,r={}){var i;const s=(n=yr(n,qb))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&rf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let o,u;if("string"==typeof r.mockUserToken)o=r.mockUserToken,u=us.MOCK_USER;else{o=(0,tr.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new bt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new us(h)}n._authCredentials=new Cy(new cR(o,u))}}(this._delegate,t,e,r)}enableNetwork(){return function v7(n){return function t7(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield U3(n),e=yield H3(n);return t.setNetworkEnabled(!0),function(r){const i=Qt(r);return i._u.delete(0),Zb(i)}(e)}))}(Cs(n=yr(n,Ri)))}(this._delegate)}disableNetwork(){return function y7(n){return function n7(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield U3(n),e=yield H3(n);return t.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(i){const s=Qt(i);s._u.add(0),yield qy(s),s.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(e);var r}))}(Cs(n=yr(n,Ri)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,z3("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _7(n){return function(t){const e=new zs;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function Vj(n,t){return L2.apply(this,arguments)}(yield sF(t),e)})),e.promise}(Cs(n=yr(n,Ri)))}(this._delegate)}onSnapshotsInSync(t){return function q7(n,t){return function s7(n,t){const e=new XT(t);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield t1(n),i=e,Qt(r).Ru.add(i),void i.next();var r,i})),()=>{e.Rc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield t1(n),i=e,void Qt(r).Ru.delete(i);var r,i}))}}(Cs(n=yr(n,Ri)),lF(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new bt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new r1(this,Ia(this._delegate,t))}catch(e){throw ka(e,"collection()","Firestore.collection()")}}doc(t){try{return new Fc(this,q0(this._delegate,t))}catch(e){throw ka(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ma(this,function u7(n,t){if(n=yr(n,qb),aF("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new bt(Ye.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ko(n,null,(e=t,new Rc(ir.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ka(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function K7(n,t,e){n=yr(n,Ri);const r=Object.assign(Object.assign({},U7),e);return function(i){if(i.maxAttempts<1)throw new bt(Ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function o7(n,t,e){const r=new zs;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const i=yield(s=n,QT(s).then(o=>o.datastore));var s;new Jj(n.asyncQueue,i,e,t,r).run()})),r.promise}(Cs(n),i=>t(new Y7(n,i)),r)}(this._delegate,e=>t(new A4(this,e)))}batch(){return Cs(this._delegate),new I4(new _4(this._delegate,t=>n1(this._delegate,t)))}loadBundle(t){return function w7(n,t){const e=Cs(n=yr(n,Ri)),r=new h7;return function a7(n,t,e,r){const i=function(s,o){let u;return u="string"==typeof s?(new TextEncoder).encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return L3(h,p);if(h instanceof ArrayBuffer)return L3(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new Xj(h,o);var h}(e,zb(t));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function Yj(n,t,e){const r=Qt(n);var i;(i=(0,Ee.Z)(function*(s,o,u){try{const h=yield o.getMetadata();if(yield function(E,T){const k=Qt(E),D=co(T.createTime);return k.persistence.runTransaction("hasNewerBundle","readonly",R=>k.Ns.getBundleMetadata(R,T.id)).then(R=>!!R&&R.createTime.compareTo(D)>=0)}(s.localStore,h))return yield o.close(),u._completeWith({taskState:"Success",documentsLoaded:(E=h).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);u._updateProgress(S3(h));const p=new Aj(h,s.localStore,o.It);let g=yield o.wc();for(;g;){const E=yield p.Ou(g);E&&u._updateProgress(E),g=yield o.wc()}const y=yield p.complete();return yield hf(s,y.Bu,void 0),yield function(E,T){const k=Qt(E);return k.persistence.runTransaction("Save bundle","readwrite",D=>k.Ns.saveBundleMetadata(D,T))}(s.localStore,h),u._completeWith(y.progress),Promise.resolve(y.$u)}catch(h){return rf("SyncEngine",`Loading bundle failed with ${h}`),u._failWith(h),Promise.resolve(new Set)}var E}),function(s,o,u){return i.apply(this,arguments)})(r,t,e).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield sF(n),i,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function x7(n,t){return function l7(n,t){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(e,r){const i=Qt(e);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(yield JT(n),t)}))}(Cs(n=yr(n,Ri)),t).then(e=>e?new Ko(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ma(this,e):null)}}class cA extends pF{constructor(t){super(),this.firestore=t}convertBytes(t){return new eE(new zd(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Fc.forKey(e,this.firestore,null)}}class A4{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new cA(t)}get(t){const e=t_(t);return this._delegate.get(e).then(r=>new tE(this._firestore,new pf(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const i=t_(t);return r?(_F("Transaction.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const s=t_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,r,...i),this}delete(t){const e=t_(t);return this._delegate.delete(e),this}}class I4{constructor(t){this._delegate=t}set(t,e,r){const i=t_(t);return r?(_F("WriteBatch.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const s=t_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,r,...i),this}delete(t){const e=t_(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class e_{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new Xb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nE(this._firestore,r),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=e_.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(e);return s||(s=new e_(t,new cA(t),e),i.set(e,s)),s}}e_.INSTANCES=new WeakMap;class Fc{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cA(t)}static forPath(t,e,r){if(t.length%2!=0)throw new bt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Fc(e,new Ei(e._delegate,r,new Wt(t)))}static forKey(t,e,r){return new Fc(e,new Ei(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new r1(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new r1(this.firestore,Ia(this._delegate,t))}catch(e){throw ka(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,tr.m9)(t))instanceof Ei&&K3(this._delegate,t)}set(t,e){e=_F("DocumentReference.set",e);try{return e?y4(this._delegate,t,e):y4(this._delegate,t)}catch(r){throw ka(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?lA(this._delegate,t):lA(this._delegate,t,e,...r)}catch(i){throw ka(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Z7(n){return n1(yr(n.firestore,Ri),[new Ud(n._key,ze.none())])}(this._delegate)}onSnapshot(...t){const e=k4(t),r=M4(t,i=>new tE(this.firestore,new pf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return w4(this._delegate,e,r)}get(t){let e;return e="cache"===t?.source?function j7(n){n=yr(n,Ei);const t=yr(n.firestore,Ri),e=Cs(t),r=new J0(t);return function r7(n,t){const e=new zs;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,s,o){try{const u=yield function(h,p){const g=Qt(h);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,p))}(i,s);u.isFoundDocument()?o.resolve(u):u.isNoDocument()?o.resolve(null):o.reject(new bt(Ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const h=Xy(u,`Failed to get document '${s} from cache`);o.reject(h)}}),function(i,s,o){return r.apply(this,arguments)})(yield JT(n),t,e);var r})),e.promise}(e,n._key).then(i=>new pf(t,r,n._key,i,new Q0(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function G7(n){n=yr(n,Ei);const t=yr(n.firestore,Ri);return j3(Cs(t),n._key,{source:"server"}).then(e=>mF(t,n,e))}(this._delegate):v4(this._delegate),e.then(r=>new tE(this.firestore,new pf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new Fc(this.firestore,this._delegate.withConverter(t?e_.getInstance(this.firestore,t):null))}}function ka(n,t,e){return n.message=n.message.replace(t,e),n}function k4(n){for(const t of n)if("object"==typeof t&&!vF(t))return t;return{}}function M4(n,t){var e,r;let i;return i=vF(n[0])?n[0]:vF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(t(s))},error:null===(e=i.error)||void 0===e?void 0:e.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class tE{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Fc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return l4(this._delegate,t._delegate)}}class nE extends tE{data(t){const e=this._delegate.data(t);return function nL(n,t){n||on()}(void 0!==e),e}}class Ma{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cA(t)}where(t,e,r){try{return new Ma(this.firestore,hs(this._delegate,kl(t,e,r)))}catch(i){throw ka(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ma(this.firestore,hs(this._delegate,function F7(n,t="asc"){const e=t,r=oA("orderBy",n);return new R7(r,e)}(t,e)))}catch(r){throw ka(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ma(this.firestore,hs(this._delegate,function O7(n){return q3("limit",n),new u4("limit",n,"F")}(t)))}catch(e){throw ka(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ma(this.firestore,hs(this._delegate,function P7(n){return q3("limitToLast",n),new u4("limitToLast",n,"L")}(t)))}catch(e){throw ka(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ma(this.firestore,hs(this._delegate,function N7(...n){return new d4("startAt",n,!0)}(...t)))}catch(e){throw ka(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ma(this.firestore,hs(this._delegate,function L7(...n){return new d4("startAfter",n,!1)}(...t)))}catch(e){throw ka(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ma(this.firestore,hs(this._delegate,function V7(...n){return new h4("endBefore",n,!1)}(...t)))}catch(e){throw ka(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ma(this.firestore,hs(this._delegate,function B7(...n){return new h4("endAt",n,!0)}(...t)))}catch(e){throw ka(e,"endAt()","Query.endAt()")}}isEqual(t){return X3(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function $7(n){n=yr(n,Ko);const t=yr(n.firestore,Ri),e=Cs(t),r=new J0(t);return function i7(n,t){const e=new zs;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,s,o){try{const u=yield zT(i,s,!0),h=new I3(s,u.Hi),p=h.ju(u.documents),g=h.applyChanges(p,!1);o.resolve(g.snapshot)}catch(u){const h=Xy(u,`Failed to execute query '${s} against cache`);o.reject(h)}}),function(i,s,o){return r.apply(this,arguments)})(yield JT(n),t,e);var r})),e.promise}(e,n._query).then(i=>new cm(t,r,n,i))}(this._delegate):"server"===t?.source?function z7(n){n=yr(n,Ko);const t=yr(n.firestore,Ri),e=Cs(t),r=new J0(t);return G3(e,n._query,{source:"server"}).then(i=>new cm(t,r,n,i))}(this._delegate):Ja(this._delegate),e.then(r=>new yF(this.firestore,new cm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=k4(t),r=M4(t,i=>new yF(this.firestore,new cm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return w4(this._delegate,e,r)}withConverter(t){return new Ma(this.firestore,this._delegate.withConverter(t?e_.getInstance(this.firestore,t):null))}}class a9{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new nE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ma(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new nE(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new a9(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new nE(this._firestore,r))})}isEqual(t){return l4(this._delegate,t._delegate)}}class r1 extends Ma{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Fc(this.firestore,t):null}doc(t){try{return new Fc(this.firestore,void 0===t?q0(this._delegate):q0(this._delegate,t))}catch(e){throw ka(e,"doc()","CollectionReference.doc()")}}add(t){return function W7(n,t){const e=yr(n.firestore,Ri),r=q0(n),i=aA(n.converter,t);return n1(e,[rA(K0(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ze.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new Fc(this.firestore,e))}isEqual(t){return K3(this._delegate,t._delegate)}withConverter(t){return new r1(this.firestore,this._delegate.withConverter(t?e_.getInstance(this.firestore,t):null))}}function t_(n){return yr(n,Ei)}class wF{constructor(...t){this._delegate=new ff(...t)}static documentId(){return new wF(Bi.keyField().canonicalString())}isEqual(t){return(t=(0,tr.m9)(t))instanceof ff&&this._delegate._internalPath.isEqual(t._internalPath)}}class n_{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Q7(){return new cF("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new n_(t)}static delete(){const t=function X7(){return new Yb("deleteField")}();return t._methodName="FieldValue.delete",new n_(t)}static arrayUnion(...t){const e=x4(...t);return e._methodName="FieldValue.arrayUnion",new n_(e)}static arrayRemove(...t){const e=b4(...t);return e._methodName="FieldValue.arrayRemove",new n_(e)}static increment(t){const e=function J7(n){return new T7("increment",n)}(t);return e._methodName="FieldValue.increment",new n_(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const l9={Firestore:T4,GeoPoint:tA,Timestamp:ui,Blob:eE,Transaction:A4,WriteBatch:I4,DocumentReference:Fc,DocumentSnapshot:tE,Query:Ma,QueryDocumentSnapshot:nE,QuerySnapshot:yF,CollectionReference:r1,FieldPath:wF,FieldValue:n_,setLogLevel:function o9(n){!function cT(n){Uu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function R4(n,t){return function d9(n,t=Jb.z){return new vi.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{r?.()}})}(n,t)}function xF(n,t){return R4(n,t).pipe((0,bn.U)(e=>({payload:e,type:"query"})))}function uA(n,t){return xF(n,t).pipe(Pr(void 0),gF(),(0,bn.U)(([e,r])=>{const i=r.payload.docChanges(),s=i.map(o=>({type:o.type,payload:o}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((o,u)=>{const h=i.find(g=>g.doc.ref.isEqual(o.ref)),p=e?.payload.docs.find(g=>g.ref.isEqual(o.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(o.metadata)||!h&&p&&JSON.stringify(p.metadata)===JSON.stringify(o.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:o}})}),s}))}function F4(n,t,e){return uA(n,e).pipe(cp((r,i)=>function f9(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function p9(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return bF(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return bF(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return bF(n,t.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),t),[]),C4(),(0,bn.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function bF(n,t,e,...r){const i=n.slice();return i.splice(t,e,...r),i}function O4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function u9(n){(function c9(n,t){n.INTERNAL.registerComponent(new Yg.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(r,i)},"PUBLIC").setServiceProps(Object.assign({},l9)))})(n,(t,e)=>new T4(t,e,new s9)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(t9.Z);class P4{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=uA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,bn.U)(r=>r.filter(i=>t.indexOf(i.type)>-1)))),e.pipe(Pr(void 0),gF(),no(([r,i])=>i.length>0||!r),(0,bn.U)(([r,i])=>i),Li.iC)}auditTrail(t){return this.stateChanges(t).pipe(cp((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=O4(t);return F4(this.query,e,this.afs.schedulers.outsideAngular).pipe(Li.iC)}valueChanges(t={}){return xF(this.query,this.afs.schedulers.outsideAngular).pipe((0,bn.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),Li.iC)}get(t){return(0,vr.D)(this.query.get(t)).pipe(Li.iC)}add(t){return this.ref.add(t)}doc(t){return new N4(this.ref.doc(t),this.afs)}}class N4{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:i,query:s}=L4(r,e);return new P4(i,s,this.afs)}snapshotChanges(){return function h9(n,t){return R4(n,t).pipe(Pr(void 0),gF(),(0,bn.U)(([e,r])=>r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Li.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,bn.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,vr.D)(this.ref.get(t)).pipe(Li.iC)}}class m9{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?uA(this.query,this.afs.schedulers.outsideAngular).pipe((0,bn.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),no(e=>e.length>0),Li.iC):uA(this.query,this.afs.schedulers.outsideAngular).pipe(Li.iC)}auditTrail(t){return this.stateChanges(t).pipe(cp((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=O4(t);return F4(this.query,e,this.afs.schedulers.outsideAngular).pipe(Li.iC)}valueChanges(t={}){return xF(this.query,this.afs.schedulers.outsideAngular).pipe((0,bn.U)(r=>r.payload.docs.map(i=>t.idField?Object.assign({[t.idField]:i.id},i.data()):i.data())),Li.iC)}get(t){return(0,vr.D)(this.query.get(t)).pipe(Li.iC)}}const g9=new l.OlP("angularfire2.enableFirestorePersistence"),_9=new l.OlP("angularfire2.firestore.persistenceSettings"),v9=new l.OlP("angularfire2.firestore.settings"),y9=new l.OlP("angularfire2.firestore.use-emulator");function L4(n,t=(e=>e)){return{query:t(n),ref:n}}let rE=(()=>{class n{constructor(e,r,i,s,o,u,h,p,g,y,E,T,k,D,R,B,j){this.schedulers=h;const V=(0,Zo.on)(e,u,r),re=g;y&&mx(V,u,E,k,D,R,T,B),[this.firestore,this.persistenceEnabled$]=(0,Zo.cc)(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{const ve=u.runOutsideAngular(()=>V.firestore());if(s&&ve.settings(s),re&&ve.useEmulator(...re),i&&!Xl(o)){const ae=()=>{try{return(0,vr.D)(ve.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(Y){return typeof console<"u"&&console.warn(Y),an(!1)}};return[ve,u.runOutsideAngular(ae)]}return[ve,an(!1)]},[s,re,i])}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:o}=L4(i,r),u=this.schedulers.ngZone.run(()=>s);return new P4(u,o,this)}collectionGroup(e,r){const i=r||(o=>o),s=this.firestore.collectionGroup(e);return new m9(i(s),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const i=this.schedulers.ngZone.run(()=>r);return new N4(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Zo.Dh),l.LFG(Zo.xv,8),l.LFG(g9,8),l.LFG(v9,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Li.HU),l.LFG(_9,8),l.LFG(y9,8),l.LFG(r0,8),l.LFG(cS,8),l.LFG(ux,8),l.LFG(dx,8),l.LFG(hx,8),l.LFG(fx,8),l.LFG(px,8),l.LFG($v,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),So=(()=>{class n{constructor(e){this.router=e,this.app=(0,qr.ZF)(Sl_firebase)}setData(e){this.data=e}getData(){let e=this.data;return this.clearData(),e}clearData(){this.data=void 0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(br))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iE=(()=>{class n{constructor(e,r){this.afs=e,this.transferService=r,this.app=(0,qr.ZF)(Sl_firebase),this.db=lm(this.app),this.carpoolConverter={toFirestore:i=>({id:i.id,driver:i.driver,passengers:i.passengers,date:i.date,startTime:i.startTime,arrivalTime:i.arrivalTime,direction:i.direction,vehicle:i.vehicle,totalSeats:i.totalSeats,hasStarted:i.hasStarted}),fromFirestore:(i,s)=>{const o=i.data(s);var u=new Date(1e3*o.date.seconds);return new zv(o.id,o.driver,o.passengers,u,o.startTime,o.arrivalTime,o.direction,o.vehicle,o.totalSeats,o.hasStarted)}}}addCarpool(e){var r=this;return(0,Ee.Z)(function*(){var i="";yield r.afs.collection("/Carpools").add(e).then(function(s){console.log("Carpool doc created with ID: ",s.id),i=s.id}).then(()=>{r.afs.doc("/Carpools/"+i).update({id:i})})})()}getAllCarpools(){return this.afs.collection("/Carpools").snapshotChanges()}getAllCarpoolsFromDate(e){var r=this;return(0,Ee.Z)(function*(){var s,i=[];const u=hs(Ia(r.db,"Carpools"),kl("date","==",e));yield Ja(u).then(h=>{if(0==h.size)console.log("[CPDATA SERVICE] No carpools on "+e+".");else{const g=h.docs;for(var p in g){const y=g[p].data();s={id:y.id,driver:y.driver,passengers:y.passengers,date:y.date,startTime:y.startTime,arrivalTime:y.arrivalTime,direction:y.direction,vehicle:y.vehicle,totalSeats:y.totalSeats,hasStarted:y.hasStarted},console.log("[CPDATA SERVICE] Carpool found."),i.push(s)}r.transferService.setData(i)}}).catch(h=>{console.log("[CPDATA SERVICE] "+h)})})()}deleteCarpool(e){var r=this;return(0,Ee.Z)(function*(){yield r.afs.doc("/Carpools/"+e.id).delete(),console.log("Carpool deleted: "+e.id)})()}updateCarpoolTime(e,r){var i=this;return(0,Ee.Z)(function*(){yield i.afs.doc("/Carpools/"+e.id).update({startTime:r})})()}updateCarpoolPassengers(e,r){var i=this;return(0,Ee.Z)(function*(){yield i.afs.doc("/Carpools/"+e.id).update({passengers:r}),console.log("[CPDATA SERVICE] Updated carpool with id: "+e.id)})()}addCarpoolPassenger(e,r){var i=this;return(0,Ee.Z)(function*(){const s=q0(i.db,"Carpools",e);yield lA(s,{passengers:x4(r)}),console.log("[CPDATA SERVICE] Added passenger to : "+e)})()}removeCarpoolPassenger(e,r){var i=this;return(0,Ee.Z)(function*(){const s=q0(i.db,"Carpools",e.id);yield lA(s,{passengers:b4(r)}),console.log("[CPDATA SERVICE] Removed passenger from : "+e.id)})()}getCarpoolWithId(e){var r=this;return(0,Ee.Z)(function*(){const i=q0(r.db,"Carpools",e).withConverter(r.carpoolConverter),s=yield v4(i);if(s.exists())return s.data();console.log("No such document!")})()}checkUserStatus(e,r){return(0,Ee.Z)(function*(){})()}updateCarpoolStatus(e,r){var i=this;return(0,Ee.Z)(function*(){yield i.afs.doc("/Carpools/"+e).update({hasStarted:r})})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rE),l.LFG(So))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r_=(()=>{class n{constructor(){}saveLocalData(e,r){localStorage.setItem(e,r)}getLocalData(e){return localStorage.getItem(e)}removeLocalData(e){localStorage.removeItem(e)}clearLocalData(){localStorage.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oc=(()=>{class n{constructor(e,r,i,s){this.afs=e,this.transferService=r,this.localService=i,this.router=s,this.app=(0,qr.ZF)(Sl_firebase),this.db=lm(this.app)}checkIn(e){var r=this;return(0,Ee.Z)(function*(){const s=hs(Ia(r.db,"GoogleAccounts"),kl("uid","==",e.uid));(yield Ja(s)).size>0?(console.log("[GUDATA SERVICE] Google account found: "+e.displayName),r.account=e,console.log("[GUDATA SERVICE] ACCOUNT is set."),yield r.updateAccountPhoto(e).then().catch(u=>{console.log("[GUDATA SERVICE] "+u)})):(console.log("[GUDATA SERVICE] New user, account not found."),yield r.addGoogleAccount(e).then().catch(u=>{console.log("[GUDATA SERVICE] "+u)}))})()}updateAccountPhoto(e){var r=this;return(0,Ee.Z)(function*(){yield r.afs.collection("/GoogleAccounts").doc(e.uid).update({photoURL:e.photoURL}).then(i=>{console.log("[GUDATA SERVICE] Google account photo updated.")}).catch(i=>{console.log("[GUDATA SERVICE] "+i)})})()}addGoogleAccount(e){var r=this;return(0,Ee.Z)(function*(){return yield r.afs.collection("/GoogleAccounts").doc(e.uid).set({uid:e.uid,displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,photoURL:e.photoURL}).then(i=>{console.log("[GUDATA SERVICE] New account added: "+e.displayName),r.account=e,console.log("[GUDATA SERVICE] ACCOUNT is set.")}).catch(i=>{console.log("[GUDATA SERVICE] "+i)})})()}deleteAccount(e){var r=this;return(0,Ee.Z)(function*(){yield r.afs.doc("/GoogleAccounts/"+e.uid).delete().then(()=>{console.log("[GUDATA SERVICE] Google account deleted.")})})()}getAllAccounts(){var e=this;return(0,Ee.Z)(function*(){var i,r=[];const o=hs(Ia(e.db,"GoogleAccounts"));yield Ja(o).then(u=>{if(0==u.size)console.log("[GUDATA SERVICE] No accounts found.");else{const p=u.docs;for(var h in p){const g=p[h].data();i={uid:g.uid,email:g.email,displayName:g.displayName,photoURL:g.photoURL,emailVerified:g.emailVerified},console.log("[GUDATA SERVICE] Account found: "+i.displayName),r.push(i)}e.transferService.setData(r)}}).catch(u=>{console.log("[GUDATA SERVICE] "+u)})})()}getAccount(e){var r=this;return(0,Ee.Z)(function*(){var i;const o=hs(Ia(r.db,"GoogleAccounts"),kl("uid","==",e));yield Ja(o).then(u=>{if(0==u.size)console.log("[GUDATA SERVICE] Account not found.");else{const p=u.docs;for(var h in p){const g=p[h].data();i={uid:g.uid,email:g.email,displayName:g.displayname,photoURL:g.photoURL,emailVerified:g.emailVerified},console.log("[GUDATA SERVICE] User found.")}r.transferService.setData(i)}}).catch(u=>{console.log("[GUDATA SERVICE] "+u)})})()}checkAccountStatus(){var e=this;return(0,Ee.Z)(function*(){if(null==e.account){const r=e.localService.getLocalData("uid");null!=r?yield e.getAccount(r).then(i=>{e.account=e.transferService.getData(),e.transferService.clearData()}):(console.log("[GUDATA SERVICE] This user's data is not saved in local cache."),e.router.navigate(["login"]))}})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rE),l.LFG(So),l.LFG(r_),l.LFG(br))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zs=(()=>{class n{constructor(e,r,i,s,o){this.afs=e,this.gudataService=r,this.transferService=i,this.localService=s,this.router=o,this.app=(0,qr.ZF)(Sl_firebase),this.db=lm(this.app)}checkUser(){var e=this;return(0,Ee.Z)(function*(){var r=e.gudataService.account.uid;const s=hs(Ia(e.db,"Users"),kl("uid","==",r));(yield Ja(s)).size>0?(console.log("[UDATA SERVICE] User found."),yield e.assignUser(r).then().catch(u=>{console.log("[UDATA SERVICE] "+u)})):console.log("[UDATA SERVICE] User not found.")})()}assignUser(e){var r=this;return(0,Ee.Z)(function*(){const s=hs(Ia(r.db,"Users"),kl("uid","==",e));yield Ja(s).then(o=>{if(0==o.size)console.log("[UDATA SERVICE] User not found.");else{const h=o.docs;for(var u in h){const p=h[u].data();r.user={uid:p.uid,email:p.email,photoURL:p.photoURL,type:p.type,name:p.name,phone:p.phone,address:p.address,add:p.add,city:p.city,state:p.state,zip:p.zip,initialized:p.initialized},console.log("[UDATA SERVICE] USER is set.")}}}).catch(o=>{console.log("[UDATA SERVICE] "+o)})})()}addUser(e){var r=this;return(0,Ee.Z)(function*(){return r.afs.collection("/Users").doc(e.uid).set({uid:e.uid,email:e.email,photoURL:e.photoURL,type:e.type,name:e.name,phone:e.phone,address:e.address,add:e.add,city:e.city,state:e.state,zip:e.zip,initialized:e.initialized}).then(i=>{console.log("User added: "+e.name),console.log("[UDATA SERVICE] USER is set.")}).catch(i=>{console.log("[UDATA SERVICE] "+i)})})()}updateUser(e){var r=this;return(0,Ee.Z)(function*(){yield r.afs.collection("/Users").doc(e.uid).update({email:e.email,type:e.type,name:e.name,phone:e.phone,address:e.address,add:e.add,city:e.city,state:e.state,zip:e.zip,initialized:!0}).then(i=>{r.user=e,r.localService.saveLocalData("uid",r.user.uid),console.log("[UDATA SERVICE] USER is set.")}).catch(i=>{console.log("[UDATA SERVICE] "+i)})})()}getUser(e){var r=this;return(0,Ee.Z)(function*(){var i;const o=hs(Ia(r.db,"Users"),kl("uid","==",e));yield Ja(o).then(u=>{if(0==u.size)console.log("[UDATA SERVICE] User not found.");else{const p=u.docs;for(var h in p){const g=p[h].data();i={uid:g.uid,email:g.email,photoURL:g.photoURL,type:g.type,name:g.name,phone:g.phone,address:g.address,add:g.add,city:g.city,state:g.state,zip:g.zip,initialized:g.initialized},console.log("[UDATA SERVICE] User found.")}r.transferService.setData(i)}}).catch(u=>{console.log("[UDATA SERVICE] "+u)})})()}getUidAndPhotoByName(e){var r=this;return(0,Ee.Z)(function*(){const o=hs(Ia(r.db,"Users"),kl("name","==",e));yield Ja(o).then(u=>{if(0==u.size)console.log("[UDATA SERVICE] User not found.");else{const g=u.docs;for(var h in g){const y=g[h].data();r.transferService.setData({uid:y.uid,photoURL:y.photoURL})}}}).catch(u=>{console.log("[UDATA SERVICE] "+u)})})()}checkLoginStatus(){var e=this;return(0,Ee.Z)(function*(){if(null==e.user){const r=e.localService.getLocalData("uid");null!=r?yield e.getUser(r).then(i=>{e.user=e.transferService.getData(),e.transferService.clearData()}):(console.log("[UDATA SERVICE] This user's data is not saved in local cache."),e.router.navigate(["login"]))}})()}getAllUsers(){var e=this;return(0,Ee.Z)(function*(){var r=[];const o=hs(Ia(e.db,"Users"));yield Ja(o).then(u=>{if(0==u.size)console.log("[UDATA SERVICE] No users found.");else{const p=u.docs;for(var h in p){const g=p[h].data();r.push({uid:g.uid,email:g.email,photoURL:g.photoURL,type:g.type,name:g.name,phone:g.phone,address:g.address,add:g.add,city:g.city,state:g.state,zip:g.zip,initialized:g.initialized})}e.transferService.setData(r)}}).catch(u=>{console.log("[UDATA SERVICE] "+u)})})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rE),l.LFG(Oc),l.LFG(So),l.LFG(r_),l.LFG(br))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function di(n){return null!=n&&"false"!=`${n}`}function sE(n,t=0){return function w9(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function oE(n){return Array.isArray(n)?n:[n]}function Ds(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ki(n){return n instanceof l.SBq?n.nativeElement:n}function V4(n,t=Jb.z){return(0,ws.e)((e,r)=>{let i=null,s=null,o=null;const u=()=>{if(i){i.unsubscribe(),i=null;const p=s;s=null,r.next(p)}};function h(){const p=o+n,g=t.now();if(g<p)return i=this.schedule(void 0,p-g),void r.add(i);u()}e.subscribe((0,ri.x)(r,p=>{s=p,o=t.now(),i||(i=t.schedule(h,n),r.add(i))},()=>{u(),r.complete()},void 0,()=>{s=i=null}))})}let EF,B4=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b9=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=Ki(e);return new vi.y(i=>{const o=this._observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new Cn.x,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(B4))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E9=(()=>{class n{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=di(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=sE(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(V4(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(b9),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),U4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[B4]}),n})();try{EF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{EF=!1}let s1,Xo=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Js(n){return n===Qs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!EF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const H4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function j4(){if(s1)return s1;if("object"!=typeof document||!document)return s1=new Set(H4),s1;let n=document.createElement("input");return s1=new Set(H4.filter(t=>(n.setAttribute("type",t),n.type===t))),s1}let aE,s_,CF;function i_(n){return function D9(){if(null==aE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>aE=!0}))}finally{aE=aE||!1}return aE}()?n:!!n.capture}function S9(){if(null==s_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return s_=!1,s_;if("scrollBehavior"in document.documentElement.style)s_=!0;else{const n=Element.prototype.scrollTo;s_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return s_}function DF(n){if(function T9(){if(null==CF){const n=typeof document<"u"?document.head:null;CF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return CF}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function G4(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function zu(n){return n.composedPath?n.composedPath()[0]:n.target}function SF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function IF(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function z4(n){return no((t,e)=>n<=e)}var F9=z(5032);function Zd(n){return(0,ws.e)((t,e)=>{(0,Vs.Xf)(n).subscribe((0,ri.x)(e,()=>e.complete(),F9.Z)),!e.closed&&t.subscribe(e)})}const Z4=new Set;let l1,O9=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):N9}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function P9(n){if(!Z4.has(n))try{l1||(l1=document.createElement("style"),l1.setAttribute("type","text/css"),document.head.appendChild(l1)),l1.sheet&&(l1.sheet.insertRule(`@media ${n} {body{ }}`,0),Z4.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Xo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N9(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let L9=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new Cn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return W4(oE(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let s=fg(W4(oE(e)).map(o=>this._registerQuery(o).observable));return s=gg(s.pipe(Go(1)),s.pipe(z4(1),V4(0))),s.pipe((0,bn.U)(o=>{const u={matches:!1,breakpoints:{}};return o.forEach(({matches:h,query:p})=>{u.matches=u.matches||h,u.breakpoints[p]=h}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new vi.y(o=>{const u=h=>this._zone.run(()=>o.next(h));return r.addListener(u),()=>{r.removeListener(u)}}).pipe(Pr(r),(0,bn.U)(({matches:o})=>({query:e,matches:o})),Zd(this._destroySubject)),mql:r};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(O9),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function W4(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let U9=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function j9(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function H9(n){try{return n.frameElement}catch{return null}}(function K9(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===X4(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),s=X4(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function q9(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function Y9(n){return!function $9(n){return function Z9(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function G9(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function z9(n){return function W9(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||K4(n))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Xo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K4(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function X4(n){if(!K4(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class X9{constructor(t,e,r,i,s=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Go(1)).subscribe(t)}}let Q9=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._document=i}create(e,r=!1){return new X9(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(U9),l.LFG(l.R0b),l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J9=(()=>{class n{constructor(e,r,i){this._elementRef=e,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=di(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=di(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const r=e.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=G4(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Q9),l.Y36(Fe))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[l.TTD]}),n})();function kF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function MF(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const eG=new l.OlP("cdk-input-modality-detector-options"),tG={ignoreKeys:[18,17,224,91,16]},c1=i_({passive:!0,capture:!0});let nG=(()=>{class n{constructor(e,r,i,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ca(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(u=>u===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zu(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kF(o)?"keyboard":"mouse"),this._mostRecentTarget=zu(o))},this._onTouchstart=o=>{MF(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zu(o))},this._options={...tG,...s},this.modalityDetected=this._modality.pipe(z4(1)),this.modalityChanged=this.modalityDetected.pipe(C4()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,c1),i.addEventListener("mousedown",this._onMousedown,c1),i.addEventListener("touchstart",this._onTouchstart,c1)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,c1),document.removeEventListener("mousedown",this._onMousedown,c1),document.removeEventListener("touchstart",this._onTouchstart,c1))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Xo),l.LFG(l.R0b),l.LFG(Fe),l.LFG(eG,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iG=new l.OlP("cdk-focus-monitor-default-options"),gA=i_({passive:!0,capture:!0});let RF=(()=>{class n{constructor(e,r,i,s,o){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Cn.x,this._rootNodeFocusAndBlurListener=u=>{for(let p=zu(u);p;p=p.parentElement)"focus"===u.type?this._onFocus(u,p):this._onBlur(u,p)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(e,r=!1){const i=Ki(e);if(!this._platform.isBrowser||1!==i.nodeType)return an(null);const s=DF(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const u={checkChildren:r,subject:new Cn.x,rootNode:s};return this._elementInfo.set(i,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const r=Ki(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=Ki(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,h])=>this._originChanged(u,r,h)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=zu(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,gA),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,gA)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zd(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gA),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gA),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Xo),l.LFG(nG),l.LFG(Fe,8),l.LFG(iG,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sG=(()=>{class n{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new l.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(RF))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const J4="cdk-high-contrast-black-on-white",eV="cdk-high-contrast-white-on-black",FF="cdk-high-contrast-active";let tV=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,l.f3M)(L9).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(FF,J4,eV),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(FF,J4):2===r&&e.add(FF,eV)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Xo),l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oG=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(tV))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[U4]}),n})();const aG=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function lG(){return(0,l.f3M)(Fe)}}),cG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let dm=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const i=e.documentElement?e.documentElement.dir:null;this.value=function uG(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?cG.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(aG,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const hG=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function dG(){return!0}});let Wd=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!SF()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(tV),l.LFG(hG,8),l.LFG(Fe))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[uE,uE]}),n})();function fG(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=di(t)}}}function OF(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function iV(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=di(t)}}}function pG(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?sE(e):this.defaultTabIndex}}}function mG(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const gG=new l.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function _G(){return(0,l.f3M)(l.soG)}});class To{constructor(){this._localeChanges=new Cn.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let r=this.isValid(t),i=this.isValid(e);return r&&i?!this.compareDate(t,e):r==i}return t==e}clampDate(t,e,r){return e&&this.compareDate(t,e)<0?e:r&&this.compareDate(t,r)>0?r:t}}const o_=new l.OlP("mat-date-formats"),vG=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function PF(n,t){const e=Array(n);for(let r=0;r<n;r++)e[r]=t(r);return e}let yG=(()=>{class n extends To{constructor(e,r){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const r=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return PF(12,i=>this._format(r,new Date(2017,i,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return PF(31,r=>this._format(e,new Date(2017,0,r+1)))}getDayOfWeekNames(e){const r=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return PF(7,i=>this._format(r,new Date(2017,0,i+1)))}getYearName(e){const r=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(r,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,r,i){let s=this._createDateWithOverflow(e,r,i);return s.getMonth(),s}today(){return new Date}parse(e,r){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,r){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const i=new Intl.DateTimeFormat(this.locale,{...r,timeZone:"utc"});return this._format(i,e)}addCalendarYears(e,r){return this.addCalendarMonths(e,12*r)}addCalendarMonths(e,r){let i=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+r,this.getDate(e));return this.getMonth(i)!=((this.getMonth(e)+r)%12+12)%12&&(i=this._createDateWithOverflow(this.getYear(i),this.getMonth(i),0)),i}addCalendarDays(e,r){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+r)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(vG.test(e)){let r=new Date(e);if(this.isValid(r))return r}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,r,i){const s=new Date;return s.setFullYear(e,r,i),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,r){const i=new Date;return i.setUTCFullYear(r.getFullYear(),r.getMonth(),r.getDate()),i.setUTCHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),e.format(i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(gG,8),l.LFG(Xo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const wG={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let xG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:To,useClass:yG}]}),n})(),bG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:o_,useValue:wG}],imports:[xG]}),n})(),sV=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class EG{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const oV={enterDuration:225,exitDuration:150},NF=i_({passive:!0}),aV=["mousedown","touchstart"],lV=["mouseup","mouseleave","touchend","touchcancel"];class DG{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ki(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...oV,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=r.radius||function SG(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),u=t-i.left,h=e-i.top,p=s.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=u-o+"px",g.style.top=h-o+"px",g.style.height=2*o+"px",g.style.width=2*o+"px",null!=r.color&&(g.style.backgroundColor=r.color),g.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(g);const y=window.getComputedStyle(g),T=y.transitionDuration,k="none"===y.transitionProperty||"0s"===T||"0s, 0s"===T,D=new EG(this,g,r,k);g.style.transform="scale3d(1, 1, 1)",D.state=0,r.persistent||(this._mostRecentTransientRipple=D);let R=null;return!k&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const B=()=>this._finishRippleTransition(D),j=()=>this._destroyRipple(D);g.addEventListener("transitionend",B),g.addEventListener("transitioncancel",j),R={onTransitionEnd:B,onTransitionCancel:j}}),this._activeRipples.set(D,R),(k||!p)&&this._finishRippleTransition(D),D}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...oV,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ki(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(aV))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(lV),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=kF(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!MF(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,NF)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(aV.forEach(t=>{this._triggerElement.removeEventListener(t,this,NF)}),this._pointerUpEventsRegistered&&lV.forEach(t=>{this._triggerElement.removeEventListener(t,this,NF)}))}}const TG=new l.OlP("mat-ripple-global-options");let LF=(()=>{class n{constructor(e,r,i,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new DG(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Xo),l.Y36(TG,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),cV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wd,Wd]}),n})();var AG=z(1144);const IG=["addListener","removeListener"],kG=["addEventListener","removeEventListener"],MG=["on","off"];function _A(n,t,e,r){if((0,Ec.m)(e)&&(r=e,e=void 0),r)return _A(n,t,e).pipe(hd(r));const[i,s]=function OG(n){return(0,Ec.m)(n.addEventListener)&&(0,Ec.m)(n.removeEventListener)}(n)?kG.map(o=>u=>n[o](t,u,e)):function RG(n){return(0,Ec.m)(n.addListener)&&(0,Ec.m)(n.removeListener)}(n)?IG.map(uV(n,t)):function FG(n){return(0,Ec.m)(n.on)&&(0,Ec.m)(n.off)}(n)?MG.map(uV(n,t)):[];if(!i&&(0,AG.z)(n))return(0,Bs.z)(o=>_A(o,t,e))((0,Vs.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new vi.y(o=>{const u=(...h)=>o.next(1<h.length?h:h[0]);return i(u),()=>s(u)})}function uV(n,t){return e=>r=>n[e](t,r)}class dV{}const mf="*";function VF(n,t){return{type:7,name:n,definitions:t,options:{}}}function hE(n,t=null){return{type:4,styles:t,timings:n}}function hV(n,t=null){return{type:2,steps:n,options:t}}function Zu(n){return{type:6,styles:n,offset:null}}function BF(n,t,e){return{type:0,name:n,styles:t,options:e}}function fV(n){return{type:5,steps:n}}function fE(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function pV(n){Promise.resolve(null).then(n)}class pE{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class mV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const s=this.players.length;0==s?pV(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,u)=>Math.max(o,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const NG=["connectionContainer"],LG=["inputContainer"],VG=["label"];function BG(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function UG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(e);const i=l.oxw();return l.KtG(i.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function HG(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function jG(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function GG(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function $G(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(e);const i=l.oxw();return l.KtG(i.updateOutlineGap())}),l.YNc(2,HG,4,1,"ng-container",12),l.YNc(3,jG,1,0,"ng-content",12),l.YNc(4,GG,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function zG(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function ZG(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function WG(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function qG(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function YG(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,qG,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const KG=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],XG=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],QG=new l.OlP("MatError"),JG={transitionMessages:VF("transitionMessages",[BF("enter",Zu({opacity:1,transform:"translateY(0%)"})),fE("void => enter",[Zu({opacity:0,transform:"translateY(-5px)"}),hE("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let HF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const e$=new l.OlP("MatHint");let gV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),t$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const _V=new l.OlP("MatPrefix");let jF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matPrefix",""]],features:[l._Bn([{provide:_V,useExisting:n}])]}),n})();const n$=new l.OlP("MatSuffix");let vV=0;const i$=OF(class{constructor(n){this._elementRef=n}},"primary"),s$=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),GF=new l.OlP("MatFormField");let $F=(()=>{class n extends i${constructor(e,r,i,s,o,u,h){super(e),this._changeDetectorRef=r,this._dir=i,this._defaults=s,this._platform=o,this._ngZone=u,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Cn.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+vV++,this._labelId="mat-form-field-label-"+vV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=di(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Pr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Zd(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zd(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Wo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Pr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Pr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Zd(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,_A(this._label.nativeElement,"transitionend").pipe(Go(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const g=r.querySelectorAll(`${i}, ${s}`);for(let y=0;y<g.length;y++)g[y].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,u=0;const h=r.querySelectorAll(i),p=r.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const g=r.getBoundingClientRect();if(0===g.width&&0===g.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const y=this._getStartEnd(g),E=e.children,T=this._getStartEnd(E[0].getBoundingClientRect());let k=0;for(let D=0;D<E.length;D++)k+=E[D].offsetWidth;o=Math.abs(T-y)-5,u=k>0?.75*k+10:0}for(let g=0;g<h.length;g++)h[g].style.width=`${o}px`;for(let g=0;g<p.length;g++)p[g].style.width=`${u}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(dm,8),l.Y36(s$,8),l.Y36(Xo),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(l.Suo(i,HF,5),l.Suo(i,HF,7),l.Suo(i,gV,5),l.Suo(i,gV,7),l.Suo(i,t$,5),l.Suo(i,QG,5),l.Suo(i,e$,5),l.Suo(i,_V,5),l.Suo(i,n$,5)),2&e){let s;l.iGM(s=l.CRH())&&(r._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(r._controlStatic=s.first),l.iGM(s=l.CRH())&&(r._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(r._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(r._placeholderChild=s.first),l.iGM(s=l.CRH())&&(r._errorChildren=s),l.iGM(s=l.CRH())&&(r._hintChildren=s),l.iGM(s=l.CRH())&&(r._prefixChildren=s),l.iGM(s=l.CRH())&&(r._suffixChildren=s)}},viewQuery:function(e,r){if(1&e&&(l.Gf(NG,7),l.Gf(LG,5),l.Gf(VG,5)),2&e){let i;l.iGM(i=l.CRH())&&(r._connectionContainerRef=i.first),l.iGM(i=l.CRH())&&(r._inputContainerRef=i.first),l.iGM(i=l.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:GF,useExisting:n}]),l.qOj],ngContentSelectors:XG,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(l.F$t(KG),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),l.YNc(3,BG,9,0,"ng-container",3),l.YNc(4,UG,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,$G,5,16,"label",8),l.qZA()(),l.YNc(10,zG,2,0,"div",9),l.qZA(),l.YNc(11,ZG,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,WG,2,1,"div",12),l.YNc(14,YG,5,2,"div",13),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==r.appearance),l.xp6(1),l.Q6J("ngIf",r._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",r._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",r._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=r.appearance),l.xp6(1),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[Jr,Na,Kc,E9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[JG.transitionMessages]},changeDetection:0}),n})(),zF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Mf,Wd,U4,Wd]}),n})();var wV=z(4408);const mE={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=mE;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(s=>{e=void 0,n(s)});return new os.w0(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=mE;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=mE;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var xV=z(7565);const bV=new class a$ extends xV.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class o$ extends wV.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=mE.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(i=>i.id===e)||(mE.cancelAnimationFrame(e),t._scheduled=void 0)}});let ZF,l$=1;const vA={};function EV(n){return n in vA&&(delete vA[n],!0)}const c$={setImmediate(n){const t=l$++;return vA[t]=!0,ZF||(ZF=Promise.resolve()),ZF.then(()=>EV(t)&&n()),t},clearImmediate(n){EV(n)}},{setImmediate:u$,clearImmediate:d$}=c$,yA={setImmediate(...n){const{delegate:t}=yA;return(t?.setImmediate||u$)(...n)},clearImmediate(n){const{delegate:t}=yA;return(t?.clearImmediate||d$)(n)},delegate:void 0};new class f$ extends xV.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class h$ extends wV.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=yA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(i=>i.id===e)||(yA.clearImmediate(e),t._scheduled=void 0)}});var g$=z(3532);function CV(n=0,t,e=Jb.P){let r=-1;return null!=t&&((0,g$.K)(t)?e=t:r=t),new vi.y(i=>{let s=function _$(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function DV(n,t=Jb.z){return function m$(n){return(0,ws.e)((t,e)=>{let r=!1,i=null,s=null,o=!1;const u=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const p=i;i=null,e.next(p)}o&&e.complete()},h=()=>{s=null,o&&e.complete()};t.subscribe((0,ri.x)(e,p=>{r=!0,i=p,s||(0,Vs.Xf)(n(p)).subscribe(s=(0,ri.x)(e,u,h))},()=>{o=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>CV(n,t))}let SV=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new Cn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new vi.y(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(DV(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):an()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(no(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Ki(r),s=e.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>_A(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Xo),l.LFG(Fe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WF=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new Cn.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(DV(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Xo),l.LFG(l.R0b),l.LFG(Fe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),TV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[uE,wA,uE,wA]}),n})();class qF{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class YF extends qF{constructor(t,e,r,i){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class w$ extends qF{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class x$ extends qF{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class AV{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof YF?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof w$?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof x$?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class b$ extends AV{constructor(t,e,r,i,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");u.parentNode.insertBefore(h,u),this.outletElement.appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=s}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let IV=(()=>{class n extends AV{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const o=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(u,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(o,u)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=r.createComponent(s,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(Fe))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),kV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const MV=S9();class E${constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ds(-this._previousScrollPosition.left),t.style.top=Ds(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),MV&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),MV&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class C${constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class RV{enable(){}disable(){}attach(){}}function KF(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function FV(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class D${constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();KF(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let S$=(()=>{class n{constructor(e,r,i,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new RV,this.close=o=>new C$(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new E$(this._viewportRuler,this._document),this.reposition=o=>new D$(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(SV),l.LFG(WF),l.LFG(l.R0b),l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class OV{constructor(t){if(this.scrollStrategy=new RV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class T${constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let PV=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A$=(()=>{class n extends PV{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const u=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(i)):u.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I$=(()=>{class n extends PV{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=zu(s)},this._clickListener=s=>{const o=zu(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let p=h.length-1;p>-1;p--){const g=h[p];if(g._outsidePointerEvents.observers.length<1||!g.hasAttached())continue;if(g.overlayElement.contains(o)||g.overlayElement.contains(u))break;const y=g._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(s)):y.next(s)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe),l.LFG(Xo),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NV=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||SF()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(e),SF()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe),l.LFG(Xo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class k${constructor(t,e,r,i,s,o,u,h,p,g=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=u,this._location=h,this._outsideClickDispatcher=p,this._animationsDisabled=g,this._backdropElement=null,this._backdropClick=new Cn.x,this._attachments=new Cn.x,this._detachments=new Cn.x,this._locationChanges=os.w0.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new Cn.x,this._outsidePointerEvents=new Cn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Go(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ds(this._config.width),t.height=Ds(this._config.height),t.minWidth=Ds(this._config.minWidth),t.minHeight=Ds(this._config.minHeight),t.maxWidth=Ds(this._config.maxWidth),t.maxHeight=Ds(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=oE(e||[]).filter(s=>!!s);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Zd((0,Wo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const LV="cdk-overlay-connected-position-bounding-box",M$=/([A-Za-z%]+)$/;class VV{constructor(t,e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Cn.x,this._resizeSubscription=os.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(LV),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let u of this._preferredPositions){let h=this._getOriginPoint(t,i,u),p=this._getOverlayPoint(h,e,u),g=this._getOverlayFit(p,e,r,u);if(g.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(g,p,r)?s.push({position:u,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!o||o.overlayFit.visibleArea<g.visibleArea)&&(o={overlayFit:g,overlayPoint:p,originPoint:h,position:u,overlayRect:e})}if(s.length){let u=null,h=-1;for(const p of s){const g=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);g>h&&(h=g,u=p)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&a_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(LV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,s;if("center"==r.originX)i=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;i="start"==r.originX?o:u}return e.left<0&&(i-=e.left),s="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:i,y:s}}_getOverlayPoint(t,e,r){let i,s;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+s}}_getOverlayFit(t,e,r,i){const s=UV(e);let{x:o,y:u}=t,h=this._getOffset(i,"x"),p=this._getOffset(i,"y");h&&(o+=h),p&&(u+=p);let E=0-u,T=u+s.height-r.height,k=this._subtractOverflows(s.width,0-o,o+s.width-r.width),D=this._subtractOverflows(s.height,E,T),R=k*D;return{visibleArea:R,isCompletelyWithinViewport:s.width*s.height===R,fitsInViewportVertically:D===s.height,fitsInViewportHorizontally:k==s.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,s=r.right-e.x,o=BV(this._overlayRef.getConfig().minHeight),u=BV(this._overlayRef.getConfig().minWidth),p=t.fitsInViewportHorizontally||null!=u&&u<=s;return(t.fitsInViewportVertically||null!=o&&o<=i)&&p}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=UV(e),s=this._viewportRect,o=Math.max(t.x+i.width-s.width,0),u=Math.max(t.y+i.height-s.height,0),h=Math.max(s.top-r.top-t.y,0),p=Math.max(s.left-r.left-t.x,0);let g=0,y=0;return g=i.width<=s.width?p||-o:t.x<this._viewportMargin?s.left-r.left-t.x:0,y=i.height<=s.height?h||-u:t.y<this._viewportMargin?s.top-r.top-t.y:0,this._previousPushAmount={x:g,y},{x:t.x+g,y:t.y+y}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new T$(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let s,o,u,g,y,E;if("top"===e.overlayY)o=t.y,s=r.height-o+this._viewportMargin;else if("bottom"===e.overlayY)u=r.height-t.y+2*this._viewportMargin,s=r.height-u+this._viewportMargin;else{const T=Math.min(r.bottom-t.y+r.top,t.y),k=this._lastBoundingBoxSize.height;s=2*T,o=t.y-T,s>k&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-k/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)E=r.width-t.x+this._viewportMargin,g=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)y=t.x,g=r.right-t.x;else{const T=Math.min(r.right-t.x+r.left,t.x),k=this._lastBoundingBoxSize.width;g=2*T,y=t.x-T,g>k&&!this._isInitialRender&&!this._growAfterOpen&&(y=t.x-k/2)}return{top:o,left:y,bottom:u,right:E,width:g,height:s}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Ds(r.height),i.top=Ds(r.top),i.bottom=Ds(r.bottom),i.width=Ds(r.width),i.left=Ds(r.left),i.right=Ds(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ds(s)),o&&(i.maxWidth=Ds(o))}this._lastBoundingBoxSize=r,a_(this._boundingBox.style,i)}_resetBoundingBoxStyles(){a_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){a_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const g=this._viewportRuler.getViewportScrollPosition();a_(r,this._getExactOverlayY(e,t,g)),a_(r,this._getExactOverlayX(e,t,g))}else r.position="static";let u="",h=this._getOffset(e,"x"),p=this._getOffset(e,"y");h&&(u+=`translateX(${h}px) `),p&&(u+=`translateY(${p}px)`),r.transform=u.trim(),o.maxHeight&&(i?r.maxHeight=Ds(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Ds(o.maxWidth):s&&(r.maxWidth="")),a_(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ds(s.y),i}_getExactOverlayX(t,e,r){let o,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ds(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:FV(t,r),isOriginOutsideView:KF(t,r),isOverlayClipped:FV(e,r),isOverlayOutsideView:KF(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&oE(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function a_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function BV(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(M$);return e&&"px"!==e?null:parseFloat(t)}return n||null}function UV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const HV="cdk-global-overlay-wrapper";class R${constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(HV),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:u}=r,h=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),p=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u),g=this._xPosition,y=this._xOffset,E="rtl"===this._overlayRef.getConfig().direction;let T="",k="",D="";h?D="flex-start":"center"===g?(D="center",E?k=y:T=y):E?"left"===g||"end"===g?(D="flex-end",T=y):("right"===g||"start"===g)&&(D="flex-start",k=y):"left"===g||"start"===g?(D="flex-start",T=y):("right"===g||"end"===g)&&(D="flex-end",k=y),t.position=this._cssPosition,t.marginLeft=h?"0":T,t.marginTop=p?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":k,e.justifyContent=D,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(HV),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let F$=(()=>{class n{constructor(e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new R$}flexibleConnectedTo(e){return new VV(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(WF),l.LFG(Fe),l.LFG(Xo),l.LFG(NV))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O$=0,xA=(()=>{class n{constructor(e,r,i,s,o,u,h,p,g,y,E,T){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=u,this._ngZone=h,this._document=p,this._directionality=g,this._location=y,this._outsideClickDispatcher=E,this._animationsModuleType=T}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new OV(e);return o.direction=o.direction||this._directionality.value,new k$(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+O$++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new b$(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(S$),l.LFG(NV),l.LFG(l._Vd),l.LFG(F$),l.LFG(A$),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(Fe),l.LFG(dm),l.LFG(vt),l.LFG(I$),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const L$={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[xA],useFactory:function N$(n){return()=>n.scrollStrategies.reposition()}};let V$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[xA,L$],imports:[uE,kV,TV,TV]}),n})();const B$=["mat-button",""],U$=["*"],j$=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],G$=OF(fG(iV(class{constructor(n){this._elementRef=n}})));let XF=(()=>{class n extends G${constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of j$)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(RF),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&l.Gf(LF,5),2&e){let i;l.iGM(i=l.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:B$,ngContentSelectors:U$,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[LF],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),$$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[cV,Wd,Wd]}),n})();const jV=i_({passive:!0});let z$=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Cc.E;const r=Ki(e),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new Cn.x,o="cdk-text-field-autofilled",u=h=>{"cdk-text-field-autofill-start"!==h.animationName||r.classList.contains(o)?"cdk-text-field-autofill-end"===h.animationName&&r.classList.contains(o)&&(r.classList.remove(o),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(r.classList.add(o),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",u,jV),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",u,jV)}}),s}stopMonitoring(e){const r=Ki(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Xo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const $V=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),Z$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let W$=0;const q$=mG(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new Cn.x}});let QF=(()=>{class n extends q${constructor(e,r,i,s,o,u,h,p,g,y){super(u,s,o,i),this._elementRef=e,this._platform=r,this._autofillMonitor=p,this._formField=y,this._uid="mat-input-"+W$++,this.focused=!1,this.stateChanges=new Cn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(k=>j4().has(k)),this._iOSKeyupListener=k=>{const D=k.target;!D.value&&0===D.selectionStart&&0===D.selectionEnd&&(D.setSelectionRange(1,1),D.setSelectionRange(0,0))};const E=this._elementRef.nativeElement,T=E.nodeName.toLowerCase();this._inputValueAccessor=h||E,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&g.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===T,this._isTextarea="textarea"===T,this._isInFormField=!!y,this._isNativeSelect&&(this.controlType=E.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=di(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Uo.required)??!1}set required(e){this._required=di(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&j4().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=di(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,r=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Z$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Xo),l.Y36(ys,10),l.Y36(jo,8),l.Y36(vd,8),l.Y36(sV),l.Y36($V,10),l.Y36(z$),l.Y36(l.R0b),l.Y36(GF,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,r){1&e&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(l.Ikx("disabled",r.disabled)("required",r.required),l.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),l.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:HF,useExisting:n}]),l.qOj,l.TTD]}),n})(),Y$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[sV],imports:[GV,zF,Wd,GV,zF]}),n})();const K$=["mat-calendar-body",""];function X$(n,t){if(1&n&&(l.TgZ(0,"tr",2)(1,"td",3),l._uU(2),l.qZA()()),2&n){const e=l.oxw();l.xp6(1),l.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),l.uIk("colspan",e.numCols),l.xp6(1),l.hij(" ",e.label," ")}}function Q$(n,t){if(1&n&&(l.TgZ(0,"td",3),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),l.uIk("colspan",e._firstRowOffset),l.xp6(1),l.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function J$(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",7)(1,"button",8),l.NdJ("click",function(i){const o=l.CHM(e).$implicit,u=l.oxw(2);return l.KtG(u._cellClicked(o,i))})("focus",function(i){const o=l.CHM(e).$implicit,u=l.oxw(2);return l.KtG(u._emitActiveDateChange(o,i))}),l.TgZ(2,"div",9),l._uU(3),l.qZA(),l._UZ(4,"div",10),l.qZA()()}if(2&n){const e=t.$implicit,r=t.index,i=l.oxw().index,s=l.oxw();l.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),l.uIk("data-mat-row",i)("data-mat-col",r),l.xp6(1),l.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(i,r))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,i,r))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,i,r))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),l.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(i,r)?0:-1),l.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),l.xp6(1),l.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),l.xp6(1),l.hij(" ",e.displayValue," ")}}function ez(n,t){if(1&n&&(l.TgZ(0,"tr",4),l.YNc(1,Q$,2,6,"td",5),l.YNc(2,J$,5,47,"td",6),l.qZA()),2&n){const e=t.$implicit,r=t.index,i=l.oxw();l.xp6(1),l.Q6J("ngIf",0===r&&i._firstRowOffset),l.xp6(1),l.Q6J("ngForOf",e)}}function tz(n,t){if(1&n&&(l.TgZ(0,"th",5)(1,"span",6),l._uU(2),l.qZA(),l.TgZ(3,"span",7),l._uU(4),l.qZA()()),2&n){const e=t.$implicit;l.xp6(2),l.Oqu(e.long),l.xp6(2),l.Oqu(e.narrow)}}const nz=["*"];function rz(n,t){}function iz(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-month-view",5),l.NdJ("activeDateChange",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s.activeDate=i)})("_userSelection",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s._dateSelected(i))}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function sz(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-year-view",6),l.NdJ("activeDateChange",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s.activeDate=i)})("monthSelected",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s._monthSelectedInYearView(i))})("selectedChange",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s._goToDateInView(i,"month"))}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function oz(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-multi-year-view",7),l.NdJ("activeDateChange",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s.activeDate=i)})("yearSelected",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s._yearSelectedInMultiYearView(i))})("selectedChange",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s._goToDateInView(i,"year"))}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function az(n,t){}const lz=["button"];function cz(n,t){1&n&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"path",4),l.qZA())}const uz=[[["","matDatepickerToggleIcon",""]]],dz=["[matDatepickerToggleIcon]"];let gE=(()=>{class n{constructor(){this.changes=new Cn.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,r){return`${e} \u2013 ${r}`}formatYearRangeLabel(e,r){return`${e} to ${r}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JF{constructor(t,e,r,i,s={},o=t,u){this.value=t,this.displayValue=e,this.ariaLabel=r,this.enabled=i,this.cssClasses=s,this.compareValue=o,this.rawValue=u}}let u1=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new l.vpe,this.previewChange=new l.vpe,this.activeDateChange=new l.vpe,this._enterHandler=i=>{if(this._skipNextFocus&&"focus"===i.type)this._skipNextFocus=!1;else if(i.target&&this.isRange){const s=this._getCellFromElement(i.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:i}))}},this._leaveHandler=i=>{null!==this.previewEnd&&this.isRange&&i.target&&this._getCellFromElement(i.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:i}))},r.runOutsideAngular(()=>{const i=e.nativeElement;i.addEventListener("mouseenter",this._enterHandler,!0),i.addEventListener("focus",this._enterHandler,!0),i.addEventListener("mouseleave",this._leaveHandler,!0),i.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,r){e.enabled&&this.selectedValueChange.emit({value:e.value,event:r})}_emitActiveDateChange(e,r){e.enabled&&this.activeDateChange.emit({value:e.value,event:r})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const r=e.numCols,{rows:i,numCols:s}=this;(e.rows||r)&&(this._firstRowOffset=i&&i.length&&i[0].length?s-i[0].length:0),(e.cellAspectRatio||r||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(r||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,r){let i=e*this.numCols+r;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Go(1)).subscribe(()=>{setTimeout(()=>{const r=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");r&&(e||(this._skipNextFocus=!0),r.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return eO(e,this.startValue,this.endValue)}_isRangeEnd(e){return tO(e,this.startValue,this.endValue)}_isInRange(e){return nO(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return eO(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,r,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[r][i-1];if(!s){const o=this.rows[r-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,r,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[r][i+1];if(!s){const o=this.rows[r+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return tO(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return nO(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return eO(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return tO(e,this.previewStart,this.previewEnd)}_isInPreview(e){return nO(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let r;if(zV(e)?r=e:zV(e.parentNode)&&(r=e.parentNode),r){const i=r.getAttribute("data-mat-row"),s=r.getAttribute("data-mat-col");if(i&&s)return this.rows[parseInt(i)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[l.TTD],attrs:K$,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,r){1&e&&(l.YNc(0,X$,3,6,"tr",0),l.YNc(1,ez,3,2,"tr",1)),2&e&&(l.Q6J("ngIf",r._firstRowOffset<r.labelMinRequiredCells),l.xp6(1),l.Q6J("ngForOf",r.rows))},dependencies:[gr,Ti,Jr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function zV(n){return"TD"===n.nodeName}function eO(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function tO(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function nO(n,t,e,r){return r&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class el{constructor(t,e){this.start=t,this.end=e}}let hm=(()=>{class n{constructor(e,r){this.selection=e,this._adapter=r,this._selectionChanged=new Cn.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,r){const i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:r,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),hz=(()=>{class n extends hm{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(To))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ZV={provide:hm,deps:[[new l.FiY,new l.tp0,hm],To],useFactory:function pz(n,t){return n||new hz(t)}},bA=new l.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let WV=(()=>{class n{constructor(e,r,i,s,o){this._changeDetectorRef=e,this._dateFormats=r,this._dateAdapter=i,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=os.w0.EMPTY,this.selectedChange=new l.vpe,this._userSelection=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const r=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(r,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof el?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Pr(null)).subscribe(()=>this._init())}ngOnChanges(e){const r=e.comparisonStart||e.comparisonEnd;r&&!r.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const r=e.value,i=this._getDateFromDayOfMonth(r);let s,o;this._selected instanceof el?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==r||o!==r)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const r=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!IF(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:r}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(r?r.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),r=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,u)=>({long:o,narrow:r[u]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),r=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,s=this._firstWeekOffset;i<e;i++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),u=this._shouldEnableDate(o),h=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),p=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new JF(i+1,r[i],h,u,p,this._getCellCompareValue(o),o))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,r){return!(!e||!r||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(r)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(r))}_getCellCompareValue(e){if(e){const r=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(r,i,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof el?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(o_,8),l.Y36(To,8),l.Y36(dm,8),l.Y36(bA,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,r){if(1&e&&l.Gf(u1,5),2&e){let i;l.iGM(i=l.CRH())&&(r._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[l.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,r){1&e&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l.YNc(3,tz,5,2,"th",2),l.qZA(),l.TgZ(4,"tr"),l._UZ(5,"th",3),l.qZA()(),l.TgZ(6,"tbody",4),l.NdJ("selectedValueChange",function(s){return r._dateSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("previewChange",function(s){return r._previewChanged(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngForOf",r._weekdays),l.xp6(3),l.Q6J("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1))},dependencies:[Ti,u1],encapsulation:2,changeDetection:0}),n})(),qV=(()=>{class n{constructor(e,r,i){this._changeDetectorRef=e,this._dateAdapter=r,this._dir=i,this._rerenderSubscription=os.w0.EMPTY,this.selectedChange=new l.vpe,this.yearSelected=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let r=this._activeDate;const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),YV(this._dateAdapter,r,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof el?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Pr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const r=this._dateAdapter.getYear(this._activeDate)-_E(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,s=[];i<24;i++)s.push(r+i),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const r=e.value,i=this._dateAdapter.createDate(r,0,1),s=this._getDateFromYear(r);this.yearSelected.emit(i),this.selectedChange.emit(s)}_updateActiveDate(e){const i=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const r=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-_E(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-_E(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return _E(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const r=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,r,1));return this._dateAdapter.createDate(e,r,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(e){const r=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(r),s=this.dateClass?this.dateClass(r,"multi-year"):void 0;return new JF(e,i,i,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let i=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof el){const r=e.start||e.end;r&&(this._selectedYear=this._dateAdapter.getYear(r))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(To,8),l.Y36(dm,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,r){if(1&e&&l.Gf(u1,5),2&e){let i;l.iGM(i=l.CRH())&&(r._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,r){1&e&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l._UZ(3,"th",2),l.qZA()(),l.TgZ(4,"tbody",3),l.NdJ("selectedValueChange",function(s){return r._yearSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),l.qZA()()),2&e&&(l.xp6(4),l.Q6J("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[u1],encapsulation:2,changeDetection:0}),n})();function YV(n,t,e,r,i){const s=n.getYear(t),o=n.getYear(e),u=KV(n,r,i);return Math.floor((s-u)/24)===Math.floor((o-u)/24)}function _E(n,t,e,r){return function vz(n,t){return(n%t+t)%t}(n.getYear(t)-KV(n,e,r),24)}function KV(n,t,e){let r=0;return e?r=n.getYear(e)-24+1:t&&(r=n.getYear(t)),r}let XV=(()=>{class n{constructor(e,r,i,s){this._changeDetectorRef=e,this._dateFormats=r,this._dateAdapter=i,this._dir=s,this._rerenderSubscription=os.w0.EMPTY,this.selectedChange=new l.vpe,this.monthSelected=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let r=this._activeDate;const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(r)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof el?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Pr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const r=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1);this.monthSelected.emit(i);const s=this._getDateFromMonth(r);this.selectedChange.emit(s)}_updateActiveDate(e){const i=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const r=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(r=>r.map(i=>this._createCellForMonth(i,e[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.getNumDaysInMonth(r);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(e,r){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(i,"year"):void 0;return new JF(e,r.toLocaleUpperCase(),s,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){const r=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(r,e)||this._isYearAndMonthBeforeMinDate(r,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(r,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,r){if(this.maxDate){const i=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&r>s}return!1}_isYearAndMonthBeforeMinDate(e,r){if(this.minDate){const i=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&r<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof el?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(o_,8),l.Y36(To,8),l.Y36(dm,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,r){if(1&e&&l.Gf(u1,5),2&e){let i;l.iGM(i=l.CRH())&&(r._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,r){1&e&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l._UZ(3,"th",2),l.qZA()(),l.TgZ(4,"tbody",3),l.NdJ("selectedValueChange",function(s){return r._monthSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),l.qZA()()),2&e&&(l.xp6(4),l.Q6J("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[u1],encapsulation:2,changeDetection:0}),n})(),yz=0,wz=(()=>{class n{constructor(e,r,i,s,o){this._intl=e,this.calendar=r,this._dateAdapter=i,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+yz++,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const r=this._dateAdapter.getYear(this.calendar.activeDate)-_E(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=r+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1)),o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1));return this._intl.formatYearRange(s,o)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,r){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(r)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(r):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(r):YV(this._dateAdapter,e,r,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gE),l.Y36((0,l.Gpc)(()=>sO)),l.Y36(To,8),l.Y36(o_,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:nz,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return r.currentPeriodClicked()}),l.TgZ(3,"span"),l._uU(4),l.qZA(),l.O4$(),l.TgZ(5,"svg",3),l._UZ(6,"polygon",4),l.qZA()(),l.kcU(),l._UZ(7,"div",5),l.Hsn(8),l.TgZ(9,"button",6),l.NdJ("click",function(){return r.previousClicked()}),l.qZA(),l.TgZ(10,"button",7),l.NdJ("click",function(){return r.nextClicked()}),l.qZA()()()),2&e&&(l.xp6(2),l.uIk("aria-label",r.periodButtonLabel)("aria-describedby",r._buttonDescriptionId),l.xp6(1),l.uIk("id",r._buttonDescriptionId),l.xp6(1),l.Oqu(r.periodButtonText),l.xp6(1),l.ekj("mat-calendar-invert","month"!==r.calendar.currentView),l.xp6(4),l.Q6J("disabled",!r.previousEnabled()),l.uIk("aria-label",r.prevButtonLabel),l.xp6(1),l.Q6J("disabled",!r.nextEnabled()),l.uIk("aria-label",r.nextButtonLabel))},dependencies:[XF],encapsulation:2,changeDetection:0}),n})(),sO=(()=>{class n{constructor(e,r,i,s){this._dateAdapter=r,this._dateFormats=i,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new l.vpe,this.yearSelected=new l.vpe,this.monthSelected=new l.vpe,this.viewChanged=new l.vpe(!0),this._userSelection=new l.vpe,this.stateChanges=new Cn.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof el?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const r=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),r&&this.viewChanged.emit(r)}ngAfterContentInit(){this._calendarHeaderPortal=new YF(this.headerComponent||wz),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const r=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=r||i||e.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const r=e.value;(this.selected instanceof el||r&&!this._dateAdapter.sameDate(r,this.selected))&&this.selectedChange.emit(r),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,r){this.activeDate=e,this.currentView=r}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gE),l.Y36(To,8),l.Y36(o_,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,r){if(1&e&&(l.Gf(WV,5),l.Gf(XV,5),l.Gf(qV,5)),2&e){let i;l.iGM(i=l.CRH())&&(r.monthView=i.first),l.iGM(i=l.CRH())&&(r.yearView=i.first),l.iGM(i=l.CRH())&&(r.multiYearView=i.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[l._Bn([ZV]),l.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,r){1&e&&(l.YNc(0,rz,0,0,"ng-template",0),l.TgZ(1,"div",1),l.YNc(2,iz,1,8,"mat-month-view",2),l.YNc(3,sz,1,6,"mat-year-view",3),l.YNc(4,oz,1,6,"mat-multi-year-view",4),l.qZA()),2&e&&(l.Q6J("cdkPortalOutlet",r._calendarHeaderPortal),l.xp6(1),l.Q6J("ngSwitch",r.currentView),l.xp6(1),l.Q6J("ngSwitchCase","month"),l.xp6(1),l.Q6J("ngSwitchCase","year"),l.xp6(1),l.Q6J("ngSwitchCase","multi-year"))},dependencies:[Na,Kc,sG,IV,WV,XV,qV],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const QV={transformPanel:VF("transformPanel",[fE("void => enter-dropdown",hE("120ms cubic-bezier(0, 0, 0.2, 1)",fV([Zu({opacity:0,transform:"scale(1, 0.8)"}),Zu({opacity:1,transform:"scale(1, 1)"})]))),fE("void => enter-dialog",hE("150ms cubic-bezier(0, 0, 0.2, 1)",fV([Zu({opacity:0,transform:"scale(0.7)"}),Zu({transform:"none",opacity:1})]))),fE("* => void",hE("100ms linear",Zu({opacity:0})))]),fadeInCalendar:VF("fadeInCalendar",[BF("void",Zu({opacity:0})),BF("enter",Zu({opacity:1})),fE("void => *",hE("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let xz=0;const JV=new l.OlP("mat-datepicker-scroll-strategy"),Ez={provide:JV,deps:[xA],useFactory:function bz(n){return()=>n.scrollStrategies.reposition()}},Cz=OF(class{constructor(n){this._elementRef=n}});let Dz=(()=>{class n extends Cz{constructor(e,r,i,s,o,u){super(e),this._changeDetectorRef=r,this._globalModel=i,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new os.w0,this._animationDone=new Cn.x,this._actionsPortal=null,this._closeButtonText=u.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const r=this._model.selection,i=e.value,s=r instanceof el;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(i,r,e.event);this._model.updateSelection(o,this)}else i&&(s||!this._dateAdapter.sameDate(i,r))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,r){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,r&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(hm),l.Y36(To),l.Y36(bA,8),l.Y36(gE))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,r){if(1&e&&l.Gf(sO,5),2&e){let i;l.iGM(i=l.CRH())&&(r._calendar=i.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,r){1&e&&l.WFA("@transformPanel.done",function(){return r._animationDone.next()}),2&e&&(l.d8E("@transformPanel",r._animationState),l.ekj("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[l.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,r){if(1&e&&(l.TgZ(0,"div",0)(1,"mat-calendar",1),l.NdJ("yearSelected",function(s){return r.datepicker._selectYear(s)})("monthSelected",function(s){return r.datepicker._selectMonth(s)})("viewChanged",function(s){return r.datepicker._viewChanged(s)})("_userSelection",function(s){return r._handleUserSelection(s)}),l.qZA(),l.YNc(2,az,0,0,"ng-template",2),l.TgZ(3,"button",3),l.NdJ("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),l._uU(4),l.qZA()()),2&e){let i;l.ekj("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),l.uIk("aria-modal",!0)("aria-labelledby",null!==(i=r._dialogLabelId)&&void 0!==i?i:void 0),l.xp6(1),l.Q6J("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter"),l.xp6(1),l.Q6J("cdkPortalOutlet",r._actionsPortal),l.xp6(1),l.ekj("cdk-visually-hidden",!r._closeButtonFocused),l.Q6J("color",r.color||"primary"),l.xp6(1),l.Oqu(r._closeButtonText)}},dependencies:[gr,XF,J9,IV,sO],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[QV.transformPanel,QV.fadeInCalendar]},changeDetection:0}),n})(),eB=(()=>{class n{constructor(e,r,i,s,o,u,h){this._overlay=e,this._ngZone=r,this._viewContainerRef=i,this._dateAdapter=o,this._dir=u,this._model=h,this._inputStateChanges=os.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new l.vpe,this.monthSelected=new l.vpe,this.viewChanged=new l.vpe(!0),this.openedStream=new l.vpe,this.closedStream=new l.vpe,this._opened=!1,this.id="mat-datepicker-"+xz++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Cn.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=di(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const r=di(e);r!==this._disabled&&(this._disabled=r,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=di(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function x9(n,t=/\s+/){const e=[];if(null!=n){const r=Array.isArray(n)?n:`${n}`.split(t);for(const i of r){const s=`${i}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){di(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const r=e.xPosition||e.yPosition;if(r&&!r.firstChange&&this._overlayRef){const i=this._overlayRef.getConfig().positionStrategy;i instanceof VV&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=G4(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const r=this._componentRef.instance;r._startExitAnimation(),r._animationDone.pipe(Go(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,r=new YF(Dz,this._viewContainerRef),i=this._overlayRef=this._overlay.create(new OV({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(i).subscribe(s=>{s&&s.preventDefault(),this.close()}),i.keydownEvents().subscribe(s=>{const o=s.keyCode;(38===o||40===o||37===o||39===o||33===o||34===o)&&s.preventDefault()}),this._componentRef=i.attach(r),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Go(1)).subscribe(()=>i.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const r="end"===this.xPosition?"end":"start",i="start"===r?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return e.withPositions([{originX:r,originY:o,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o}])}_getCloseStream(e){return(0,Wo.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(no(r=>27===r.keyCode&&!IF(r)||this.datepickerInput&&IF(r,"altKey")&&38===r.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(xA),l.Y36(l.R0b),l.Y36(l.s_b),l.Y36(JV),l.Y36(To,8),l.Y36(dm,8),l.Y36(hm))},n.\u0275dir=l.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[l.TTD]}),n})(),oO=(()=>{class n extends eB{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[l._Bn([ZV,{provide:eB,useExisting:n}]),l.qOj],decls:0,vars:0,template:function(e,r){},encapsulation:2,changeDetection:0}),n})();class EA{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let Sz=(()=>{class n{constructor(e,r,i){this._elementRef=e,this._dateAdapter=r,this._dateFormats=i,this.dateChange=new l.vpe,this.dateInput=new l.vpe,this.stateChanges=new Cn.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=os.w0.EMPTY,this._localeSubscription=os.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),u=this._getMinDate();return!u||!o||this._dateAdapter.compareDate(u,o)<=0?null:{matDatepickerMin:{min:u,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),u=this._getMaxDate();return!u||!o||this._dateAdapter.compareDate(u,o)>=0?null:{matDatepickerMax:{max:u,actual:o}}},this._lastValueValid=!1,this._localeSubscription=r.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const r=di(e),i=this._elementRef.nativeElement;this._disabled!==r&&(this._disabled=r,this.stateChanges.next(void 0)),r&&this._isInitialized&&i.blur&&i.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(r=>{if(this._shouldHandleChangeEvent(r)){const i=this._getValueFromModel(r.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new EA(this,this._elementRef.nativeElement)),this.dateChange.emit(new EA(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function Tz(n,t){const e=Object.keys(n);for(let r of e){const{previousValue:i,currentValue:s}=n[r];if(!t.isDateInstance(i)||!t.isDateInstance(s))return!0;if(!t.sameDate(i,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const r=this._lastValueValid;let i=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i);const s=!this._dateAdapter.sameDate(i,this.value);!i||s?this._cvaOnChange(i):(e&&!this.value&&this._cvaOnChange(i),r!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(i),this.dateInput.emit(new EA(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new EA(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const r=this._getDateFilter();return!r||r(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(To,8),l.Y36(o_,8))},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[l.TTD]}),n})();const Az={provide:ss,useExisting:(0,l.Gpc)(()=>vE),multi:!0},Iz={provide:Wr,useExisting:(0,l.Gpc)(()=>vE),multi:!0};let vE=(()=>{class n extends Sz{constructor(e,r,i,s){super(e,r,i),this._formField=s,this._closedSubscription=os.w0.EMPTY,this._validator=Uo.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(r,this._min)||(this._min=r,this._validatorOnChange())}get max(){return this._max}set max(e){const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(r,this._max)||(this._max=r,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const r=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==r&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(To,8),l.Y36(o_,8),l.Y36(GF,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,r){1&e&&l.NdJ("input",function(s){return r._onInput(s.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(s){return r._onKeydown(s)}),2&e&&(l.Ikx("disabled",r.disabled),l.uIk("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(null==r._datepicker?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[l._Bn([Az,Iz,{provide:$V,useExisting:n}]),l.qOj]}),n})(),kz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),aO=(()=>{class n{constructor(e,r,i){this._intl=e,this._changeDetectorRef=r,this._stateChanges=os.w0.EMPTY;const s=Number(i);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=di(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:an(),r=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:an(),i=this.datepicker?(0,Wo.T)(this.datepicker.openedStream,this.datepicker.closedStream):an();this._stateChanges.unsubscribe(),this._stateChanges=(0,Wo.T)(this._intl.changes,e,r,i).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gE),l.Y36(l.sBO),l.$8M("tabindex"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,r,i){if(1&e&&l.Suo(i,kz,5),2&e){let s;l.iGM(s=l.CRH())&&(r._customIcon=s.first)}},viewQuery:function(e,r){if(1&e&&l.Gf(lz,5),2&e){let i;l.iGM(i=l.CRH())&&(r._button=i.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,r){1&e&&l.NdJ("click",function(s){return r._open(s)}),2&e&&(l.uIk("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),l.ekj("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[l.TTD],ngContentSelectors:dz,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,r){1&e&&(l.F$t(uz),l.TgZ(0,"button",0,1),l.YNc(2,cz,2,0,"svg",2),l.Hsn(3),l.qZA()),2&e&&(l.Q6J("disabled",r.disabled)("disableRipple",r.disableRipple),l.uIk("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),l.xp6(2),l.Q6J("ngIf",!r._customIcon))},dependencies:[Jr,XF],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),Mz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gE,Ez],imports:[Mf,$$,V$,oG,kV,Wd,wA]}),n})();function Rz(n,t){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"img",8),l._uU(2),l.qZA()),2&n){const e=t.$implicit,r=l.oxw();l.xp6(1),l.s9C("src",r.getPhoto(e.photoURL),l.LSH),l.xp6(1),l.hij(" ",e.name," ")}}const Fz=function(n){return["/carpools",n]};let Oz=(()=>{class n{constructor(e,r,i,s){this.cpdataService=e,this.udataService=r,this.gudataService=i,this.transferService=s,this.carpoolRemoved=new l.vpe,this.driverName=null,this.passengerObjs=[],this.startTime=null,this.carFull=!1,this.joinedCar=!1,this.isDriver=!1}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus(),this.udataService.getUser(this.carpoolObj.driver).then(()=>{this.driver=this.transferService.getData(),console.log("this.driver.name:"+this.driver.name),this.driverName=this.driver.name,this.transferService.clearData(),this.driver.uid==this.udataService.user.uid&&(this.isDriver=!0)}).then(()=>{console.log("[CARPOOL]: getting passengers"),this.getPassengerObjs(this.carpoolObj.passengers),console.log("[CARPOOL]: Passengers are "+this.passengerObjs),this.carpoolObj.passengers.forEach((e,r)=>{e==this.udataService.user.uid&&(this.joinedCar=!0)})}).catch(Pz)}onJoinCarpool(){var e=this;return(0,Ee.Z)(function*(){e.passengerObjs.push(e.udataService.user),e.cpdataService.addCarpoolPassenger(e.carpoolObj.id,e.udataService.user.uid),e.joinedCar=!0})()}onLeaveCarpool(){var e=this;return(0,Ee.Z)(function*(){e.passengerObjs.forEach((r,i)=>{r.uid==e.udataService.user.uid&&e.passengerObjs.splice(i,1)}),e.cpdataService.removeCarpoolPassenger(e.carpoolObj,e.udataService.user.uid),e.joinedCar=!1})()}onCancelCarpool(){window.confirm("Delete this carpool?")&&this.cpdataService.deleteCarpool(this.carpoolObj).then(()=>{this.carpoolRemoved.emit({carpoolId:this.carpoolObj.id})}).catch(Lz)}getRemainingSeats(){return this.passengerObjs.length==this.carpoolObj.totalSeats&&(this.carFull=!0),this.carpoolObj.totalSeats-this.passengerObjs.length}getPassengerObjs(e){var r=this;return(0,Ee.Z)(function*(){for(var i of e)yield r.udataService.getUser(i).then(()=>{console.log(r.passengerObjs),console.log("Passenger id: "+i);var s=r.transferService.getData();console.log("tempPas variable: "+s),r.passengerObjs.push(s),console.log(r.passengerObjs),console.log("loading passenger: "+s.name),r.transferService.clearData(),console.log("cleared transfer service data")}).catch(Nz)})()}getPhoto(e){return null==e||""==e?"../../../../assets/avatar.png":e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(iE),l.Y36(Zs),l.Y36(Oc),l.Y36(So))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-carpool"]],inputs:{carpoolObj:"carpoolObj"},outputs:{carpoolRemoved:"carpoolRemoved"},decls:37,vars:15,consts:[[1,"panel","panel-default"],[1,"panel-heading",3,"routerLink"],["heading",""],[1,"panel-body"],[3,"hidden"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-block",3,"disabled","click"],[1,"btn","btn-warning","btn-block",3,"click"],[1,"img-thumbnail","rounded-circle",2,"width","50px","height","50px",3,"src"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"div",1,2)(3,"b"),l._uU(4),l.qZA()(),l.TgZ(5,"div",3)(6,"p")(7,"b"),l._uU(8,"Vehicle: "),l.qZA(),l.TgZ(9,"span",4),l._uU(10),l.TgZ(11,"span",4),l._uU(12),l.qZA()()(),l.TgZ(13,"p")(14,"b"),l._uU(15,"Passengers: "),l.qZA()(),l.YNc(16,Rz,3,2,"div",5),l._UZ(17,"br"),l.TgZ(18,"p")(19,"b"),l._uU(20,"Start Time: "),l.qZA(),l._uU(21),l.qZA(),l.TgZ(22,"p")(23,"b"),l._uU(24,"Arrival Time: "),l.qZA(),l._uU(25),l.qZA(),l.TgZ(26,"p")(27,"b"),l._uU(28,"Seats Remaining: "),l.qZA(),l._uU(29),l.qZA(),l._UZ(30,"br"),l.TgZ(31,"button",6),l.NdJ("click",function(){return r.onJoinCarpool()}),l._uU(32,"Join"),l.qZA(),l.TgZ(33,"button",6),l.NdJ("click",function(){return r.onLeaveCarpool()}),l._uU(34,"Leave"),l.qZA(),l.TgZ(35,"button",7),l.NdJ("click",function(){return r.onCancelCarpool()}),l._uU(36,"Cancel Carpool"),l.qZA()()()),2&e&&(l.xp6(1),l.Q6J("routerLink",l.VKq(13,Fz,r.carpoolObj.id)),l.xp6(3),l.hij("Driver: ",r.driverName,""),l.xp6(5),l.Q6J("hidden",""==r.carpoolObj.vehicle.license),l.xp6(1),l.hij(" ",r.carpoolObj.vehicle.license," "),l.xp6(1),l.Q6J("hidden",""==r.carpoolObj.vehicle.make&&""==r.carpoolObj.vehicle.model),l.xp6(1),l.AsE(" (",r.carpoolObj.vehicle.make," ",r.carpoolObj.vehicle.model,") "),l.xp6(4),l.Q6J("ngForOf",r.passengerObjs),l.xp6(5),l.Oqu(r.carpoolObj.startTime),l.xp6(4),l.Oqu(r.carpoolObj.arrivalTime),l.xp6(4),l.Oqu(r.getRemainingSeats()),l.xp6(2),l.Q6J("disabled",r.carFull||r.joinedCar||r.isDriver),l.xp6(2),l.Q6J("disabled",!r.joinedCar))},dependencies:[Ti,wp]}),n})();function Pz(n){throw new Error("No driver user data found")}function Nz(n){throw new Error("No passenger user data found")}function Lz(n){throw new Error("Carpool cannot be deleted.")}class tB{constructor(t,e,r,i,s,o){this.license=t,this.uid=e,this.nickname=r,this.make=i,this.model=s,this.seatsAvail=o}}let CA=(()=>{class n{constructor(e,r,i){this.afs=e,this.udataService=r,this.transferService=i,this.app=(0,qr.ZF)(Sl_firebase),this.db=lm(this.app)}addVehicle(e){var r=this;return(0,Ee.Z)(function*(){return r.afs.collection("/Vehicles").doc(e.license).set({license:e.license,uid:e.uid,nickname:e.nickname,make:e.make,model:e.model,seatsAvail:e.seatsAvail}).then(i=>{console.log("Vehicle added: "+e.nickname)}).catch(i=>{console.log("[VDATA SERVICE] "+i)})})()}updateVehicle(e){var r=this;return(0,Ee.Z)(function*(){yield r.afs.collection("/Vehicles").doc(e.license).update({license:e.license,uid:e.uid,nickname:e.nickname,make:e.make,model:e.model,seatsAvail:e.seatsAvail}).then(i=>{}).catch(i=>{console.log("[UDATA SERVICE] "+i)})})()}getVehicle(e){var r=this;return(0,Ee.Z)(function*(){var i;const o=hs(Ia(r.db,"Vehicles"),kl("license","==",e));yield Ja(o).then(u=>{if(0!=u.size){const p=u.docs;for(var h in p){const g=p[h].data();i={license:g.license,uid:g.uid,nickname:g.nickname,make:g.make,model:g.model,seatsAvail:g.seatsAvail},console.log("[VDATA SERVICE] Vehicle found.")}r.transferService.setData(i)}}).catch(u=>{console.log("[VDATA SERVICE] "+u)})})()}deleteVehicle(e){var r=this;return(0,Ee.Z)(function*(){yield r.afs.doc("/Vehicles/"+e.license).delete().then(()=>{console.log("[VDATA SERVICE] Vehicle deleted.")}).catch(i=>{console.log(i)})})()}getAllVehicles(){var e=this;return(0,Ee.Z)(function*(){var i,r=[];const o=hs(Ia(e.db,"Vehicles"),kl("uid","==",e.udataService.user.uid));yield Ja(o).then(u=>{if(0==u.size)console.log("[VDATA SERVICE] No vehicles found.");else{const p=u.docs;for(var h in p){const g=p[h].data();i={license:g.license,uid:g.uid,nickname:g.nickname,make:g.make,model:g.model,seatsAvail:g.seatsAvail},console.log("[VDATA SERVICE] Vehicle found: "+i.nickname),r.push(i)}e.transferService.setData(r)}}).catch(u=>{console.log("[VDATA SERVICE] "+u)})})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rE),l.LFG(Zs),l.LFG(So))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vz=(()=>{class n{constructor(){this._listeners=[]}notify(e,r){for(let i of this._listeners)i(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bz=["input"],Uz=function(n){return{enterDuration:n}},Hz=["*"],jz=new l.OlP("mat-radio-default-options",{providedIn:"root",factory:function Gz(){return{color:"accent"}}});let nB=0;const $z={provide:ss,useExisting:(0,l.Gpc)(()=>sB),multi:!0};class rB{constructor(t,e){this.source=t,this.value=e}}const iB=new l.OlP("MatRadioGroup");let zz=(()=>{class n{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+nB++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new l.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=di(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=di(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new rB(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),sB=(()=>{class n extends zz{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,r,i){if(1&e&&l.Suo(i,oB,5),2&e){let s;l.iGM(s=l.CRH())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[l._Bn([$z,{provide:iB,useExisting:n}]),l.qOj]}),n})();class Zz{constructor(t){this._elementRef=t}}const Wz=iV(pG(Zz));let qz=(()=>{class n extends Wz{constructor(e,r,i,s,o,u,h,p){super(r),this._changeDetector=i,this._focusMonitor=s,this._radioDispatcher=o,this._providerOverride=h,this._uniqueId="mat-radio-"+ ++nB,this.id=this._uniqueId,this.change=new l.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===u,p&&(this.tabIndex=sE(p,0)),this._removeUniqueSelectionListener=o.listen((g,y)=>{g!==this.id&&y===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const r=di(e);this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(di(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=di(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,r){r?this._focusMonitor.focusVia(this._inputElement,r,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new rB(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let r;if(r=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,r!==this._previousTabIndex){const i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,r){if(1&e&&l.Gf(Bz,5),2&e){let i;l.iGM(i=l.CRH())&&(r._inputElement=i.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[l.qOj]}),n})(),oB=(()=>{class n extends qz{constructor(e,r,i,s,o,u,h,p){super(e,r,i,s,o,u,h,p)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(iB,8),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(RF),l.Y36(Vz),l.Y36(l.QbO,8),l.Y36(jz,8),l.$8M("tabindex"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,r){1&e&&l.NdJ("focus",function(){return r._inputElement.nativeElement.focus()}),2&e&&(l.uIk("tabindex",null)("id",r.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),l.ekj("mat-radio-checked",r.checked)("mat-radio-disabled",r.disabled)("_mat-animation-noopable",r._noopAnimations)("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[l.qOj],ngContentSelectors:Hz,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,r){if(1&e&&(l.F$t(),l.TgZ(0,"label",0,1)(2,"span",2),l._UZ(3,"span",3)(4,"span",4),l.TgZ(5,"input",5,6),l.NdJ("change",function(s){return r._onInputInteraction(s)})("click",function(s){return r._onInputClick(s)}),l.qZA(),l.TgZ(7,"span",7),l._UZ(8,"span",8),l.qZA()(),l.TgZ(9,"span",9)(10,"span",10),l._uU(11,"\xa0"),l.qZA(),l.Hsn(12),l.qZA()()),2&e){const i=l.MAs(1);l.uIk("for",r.inputId),l.xp6(5),l.Q6J("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),l.uIk("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),l.xp6(2),l.Q6J("matRippleTrigger",i)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",l.VKq(17,Uz,r._noopAnimations?0:150)),l.xp6(2),l.ekj("mat-radio-label-before","before"==r.labelPosition)}},dependencies:[LF],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),n})(),Yz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[cV,Wd,Wd]}),n})();function Kz(n,t){if(1&n&&(l.TgZ(0,"option",22),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("value",e.license),l.xp6(1),l.Oqu(e.nickname)}}let Xz=(()=>{class n{constructor(e,r,i,s){this.cpdataService=e,this.udataService=r,this.transferService=i,this.vdataService=s,this.newCarpool=new l.vpe,this.canceled=new l.vpe,this.vehicles=[],this.carpoolObj={id:"",driver:"",passengers:[],date:new Date,startTime:"",arrivalTime:"",direction:"",vehicle:new tB("","","","","",0),totalSeats:0,hasStarted:!1}}ngOnInit(){this.udataService.checkLoginStatus().then(e=>{this.vdataService.getAllVehicles().then(r=>{this.vehicles=this.transferService.getData(),this.transferService.clearData()}).catch(r=>{console.log(r)})}).catch(e=>{console.log(e)})}onOptionsSelected(e){if("Select a car"==e)this.selectedVehicle=void 0;else for(var r=0;r<this.vehicles.length;r++)this.vehicles[r].license==e&&(this.selectedVehicle=this.vehicles[r])}getSeats(e){for(var r=0;r<this.vehicles.length;r++)if(this.vehicles[r].license==e)return this.vehicles[r].seatsAvail}onCreateCarpool(e,r,i){var s=this;return(0,Ee.Z)(function*(){""!=e.value&&""!=e.value&&""!=i.value&&s.selectedDirection.includes("Snowbird")?(s.carpoolObj.id="",s.carpoolObj.driver=s.udataService.user.uid,s.carpoolObj.date=s.date,s.carpoolObj.startTime=e.value,s.carpoolObj.arrivalTime=r.value,s.carpoolObj.direction=s.selectedDirection,null!=s.selectedVehicle?(s.selectedVehicle.seatsAvail=Number(i.value),s.carpoolObj.vehicle=s.selectedVehicle):s.carpoolObj.vehicle=s.blankVehicle(Number(i.value)),s.carpoolObj.totalSeats=Number(i.value),yield s.cpdataService.addCarpool(s.carpoolObj).then(()=>{s.newCarpool.emit({date:s.date})}).catch(Qz),r.value="",e.value="",i.value="",s.selectedDirection=""):alert("Please fill in all fields.")})()}blankVehicle(e){return{license:"",uid:"",nickname:"",make:"",model:"",seatsAvail:e}}onCancelCreating(){this.canceled.emit({canceled:!0})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(iE),l.Y36(Zs),l.Y36(So),l.Y36(CA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-addcarpool"]],inputs:{date:"date"},outputs:{newCarpool:"newCarpool",canceled:"canceled"},decls:49,vars:4,consts:[[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body"],[1,"form-row"],["for","direction"],[3,"ngModel","ngModelChange"],["value","To Snowbird","color","primary"],["value","From Snowbird","color","primary"],["for","startTime"],["type","time",1,"form-control"],["startTime",""],["for","arrivalTime"],["arrivalTime",""],["for","vehicle"],["aria-label","vehicle selection",1,"form-select","form-select-lg",3,"disabled","change"],["vehicleOptions",""],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","seatsAvailable"],["type","number",1,"form-control",3,"value"],["seatsAvailable",""],[1,"btn","btn-primary","btn-block",3,"click"],[3,"value"]],template:function(e,r){if(1&e){const i=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"label"),l._uU(3,"Create a New Carpool"),l.qZA(),l._UZ(4,"br"),l.qZA(),l.TgZ(5,"div",2)(6,"form")(7,"div",3)(8,"p")(9,"label",4),l._uU(10,"Direction:"),l.qZA()(),l.TgZ(11,"mat-radio-group",5),l.NdJ("ngModelChange",function(o){return r.selectedDirection=o}),l.TgZ(12,"mat-radio-button",6),l._uU(13," To Snowbird "),l.qZA(),l._uU(14," \xa0\xa0\xa0\xa0 "),l.TgZ(15,"mat-radio-button",7),l._uU(16," From Snowbird "),l.qZA()()(),l._UZ(17,"br"),l.TgZ(18,"div",3)(19,"label",8),l._uU(20,"Start Time:"),l.qZA(),l._UZ(21,"input",9,10),l.qZA(),l._UZ(23,"br"),l.TgZ(24,"div",3)(25,"label",11),l._uU(26,"Arrival Time:"),l.qZA(),l._UZ(27,"input",9,12),l.qZA(),l._UZ(29,"br"),l.TgZ(30,"div",3)(31,"label",13),l._uU(32,"Vehicle:"),l.qZA(),l.TgZ(33,"select",14,15),l.NdJ("change",function(){l.CHM(i);const o=l.MAs(34);return l.KtG(r.onOptionsSelected(o.value))}),l.TgZ(35,"option",16),l._uU(36,"Select a car"),l.qZA(),l.YNc(37,Kz,2,2,"option",17),l.qZA()(),l._UZ(38,"br"),l.TgZ(39,"div",3)(40,"label",18),l._uU(41,"Total Seats Available:"),l.qZA(),l._UZ(42,"input",19,20),l.qZA(),l._UZ(44,"br"),l.TgZ(45,"button",21),l.NdJ("click",function(){l.CHM(i);const o=l.MAs(22),u=l.MAs(28),h=l.MAs(43);return l.KtG(r.onCreateCarpool(o,u,h))}),l._uU(46," Add "),l.qZA(),l.TgZ(47,"button",21),l.NdJ("click",function(){return r.onCancelCreating()}),l._uU(48," Cancel "),l.qZA()()()()}if(2&e){const i=l.MAs(34);l.xp6(11),l.Q6J("ngModel",r.selectedDirection),l.xp6(22),l.Q6J("disabled",0==r.vehicles.length),l.xp6(4),l.Q6J("ngForOf",r.vehicles),l.xp6(5),l.Q6J("value",r.getSeats(i.value))}},dependencies:[Ti,sp,K_,X_,kh,Wa,V1,jo,sB,oB]}),n})();function Qz(n){throw new Error("[ADDCARPOOL] Carpool cannot be added.")}let d1=(()=>{class n{constructor(e){this.router=e}ngOnInit(){}navToCarpools(){this.router.navigate(["carpools"])}navToProfile(){this.router.navigate(["profile"])}navToCalendar(){this.router.navigate(["calendar"])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(br))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:0,consts:[[1,"navbar","navbar-light","bg-light","navbar-fixed-bottom"],[2,"color","black",3,"click"],[1,"nav-item"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-car-front-fill"],["fill-rule","evenodd","d","M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H6ZM2.906 5.189l.956-1.913A.5.5 0 0 1 4.309 3h7.382a.5.5 0 0 1 .447.276l.956 1.913a.51.51 0 0 1-.497.731c-.91-.073-3.35-.17-4.597-.17-1.247 0-3.688.097-4.597.17a.51.51 0 0 1-.497-.731Z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-calendar-date"],["d","M6.445 11.688V6.354h-.633A12.6 12.6 0 0 0 4.5 7.16v.695c.375-.257.969-.62 1.258-.777h.012v4.61h.675zm1.188-1.305c.047.64.594 1.406 1.703 1.406 1.258 0 2-1.066 2-2.871 0-1.934-.781-2.668-1.953-2.668-.926 0-1.797.672-1.797 1.809 0 1.16.824 1.77 1.676 1.77.746 0 1.23-.376 1.383-.79h.027c-.004 1.316-.461 2.164-1.305 2.164-.664 0-1.008-.45-1.05-.82h-.684zm2.953-2.317c0 .696-.559 1.18-1.184 1.18-.601 0-1.144-.383-1.144-1.2 0-.823.582-1.21 1.168-1.21.633 0 1.16.398 1.16 1.23z"],["d","M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-lines-fill"],["d","M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"]],template:function(e,r){1&e&&(l.TgZ(0,"nav",0)(1,"a",1),l.NdJ("click",function(){return r.navToCarpools()}),l.TgZ(2,"span",2),l.O4$(),l.TgZ(3,"svg",3),l._UZ(4,"path",4),l.qZA()()(),l.kcU(),l.TgZ(5,"a",1),l.NdJ("click",function(){return r.navToCalendar()}),l.TgZ(6,"span",2),l.O4$(),l.TgZ(7,"svg",5),l._UZ(8,"path",6)(9,"path",7),l.qZA()()(),l.kcU(),l.TgZ(10,"a",1),l.NdJ("click",function(){return r.navToProfile()}),l.TgZ(11,"span",2),l.O4$(),l.TgZ(12,"svg",8),l._UZ(13,"path",9),l.qZA()()()())}}),n})();function Jz(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"app-carpool",14),l.NdJ("carpoolRemoved",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s.onCarpoolRemoved(i))}),l.qZA()}2&n&&l.Q6J("carpoolObj",t.$implicit)}let eZ=(()=>{class n{constructor(e,r,i,s,o){this.cpdataService=e,this.gudataService=r,this.udataService=i,this.transferService=s,this.router=o,this.carpools=[],this.pipe=new Zl("en-US"),this.formGroup=new Du({releasedAt:new sg}),this.onCreating=!1}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus(),this.date=new Date,this.date.setHours(0,0,0,0),this.dateWithPipe=this.pipe.transform(this.date,"M/d/yy"),this.today=this.dateWithPipe,this.getAllCarpoolsFromDate(this.date)}startCreating(){this.onCreating=!0}getAllCarpoolsFromDate(e){var r=this;return(0,Ee.Z)(function*(){yield r.cpdataService.getAllCarpoolsFromDate(e).then(()=>{r.carpools=r.transferService.getData(),console.log("showing carpools on: "+e),r.transferService.clearData()})})()}onDateSelected(e){var r=this;return(0,Ee.Z)(function*(){r.date=e,console.log("New date selected: "+r.date),yield r.getAllCarpoolsFromDate(r.date)})()}onCarpoolAdded(e){var r=this;return(0,Ee.Z)(function*(){console.log("Parent received new carpool event for: ",e),yield r.getAllCarpoolsFromDate(r.date),r.onCreating=!1,console.log("Carpools[] length after adding new carpool: "+r.carpools.length),window.location.reload()})()}onCarpoolRemoved(e){var r=this;return(0,Ee.Z)(function*(){console.log("Parent received removed carpool event for carpool: "+e),yield r.getAllCarpoolsFromDate(r.date)})()}onCanceled(e){e&&(this.onCreating=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(iE),l.Y36(Oc),l.Y36(Zs),l.Y36(So),l.Y36(br))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-carpools"]],decls:24,vars:10,consts:[[1,"col-sm-10","justify-content-center"],[2,"float","right"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle-fill",3,"click"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","releasedAt",3,"placeholder","matDatepicker","dateInput","click"],["matPrefix","",3,"for"],[3,"touchUi","startAt"],["releasedAtPicker",""],[3,"hidden","date","newCarpool","canceled"],[1,"justify-content-center",2,"margin-top","20%","text-align","center",3,"hidden"],[3,"carpoolObj","carpoolRemoved",4,"ngFor","ngForOf"],[1,"fixed-bottom",2,"width","100%"],[3,"carpoolObj","carpoolRemoved"]],template:function(e,r){if(1&e){const i=l.EpF();l.TgZ(0,"div",0),l._UZ(1,"br"),l.TgZ(2,"h3")(3,"b"),l._uU(4,"Dashboard"),l.qZA(),l.TgZ(5,"span",1),l.O4$(),l.TgZ(6,"svg",2),l.NdJ("click",function(){return r.startCreating()}),l._UZ(7,"path",3),l.qZA()()(),l.kcU(),l.TgZ(8,"div",4)(9,"mat-form-field",5)(10,"input",6),l.NdJ("dateInput",function(o){return r.onDateSelected(o.value)})("click",function(){l.CHM(i);const o=l.MAs(13);return l.KtG(o.open())}),l.qZA(),l._UZ(11,"mat-datepicker-toggle",7)(12,"mat-datepicker",8,9),l.qZA()(),l.TgZ(14,"app-addcarpool",10),l.NdJ("newCarpool",function(o){return r.onCarpoolAdded(o)})("canceled",function(o){return r.onCanceled(o)}),l.qZA(),l.TgZ(15,"div",11)(16,"p"),l._uU(17,"No Carpools Today!"),l.qZA()(),l.YNc(18,Jz,1,1,"app-carpool",12),l.qZA(),l._UZ(19,"br")(20,"br")(21,"br"),l.TgZ(22,"div",13),l._UZ(23,"app-navbar"),l.qZA()}if(2&e){const i=l.MAs(13);l.xp6(8),l.Q6J("formGroup",r.formGroup),l.xp6(2),l.Q6J("placeholder",r.today)("matDatepicker",i),l.xp6(1),l.Q6J("for",i),l.xp6(1),l.Q6J("touchUi",!0)("startAt",r.date),l.xp6(2),l.Q6J("hidden",!r.onCreating)("date",r.date),l.xp6(1),l.Q6J("hidden",null!=r.carpools&&0!=r.carpools.length),l.xp6(3),l.Q6J("ngForOf",r.carpools)}},dependencies:[Ti,_l,kh,Wa,$F,jF,oO,vE,aO,vd,Fh,QF,Oz,Xz,d1]}),n})();function aB(n){return new l.vHH(3e3,!1)}function PZ(){return typeof window<"u"&&typeof window.document<"u"}function lO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function fm(n){switch(n.length){case 0:return new pE;case 1:return n[0];default:return new mV(n)}}function lB(n,t,e,r,i=new Map,s=new Map){const o=[],u=[];let h=-1,p=null;if(r.forEach(g=>{const y=g.get("offset"),E=y==h,T=E&&p||new Map;g.forEach((k,D)=>{let R=D,B=k;if("offset"!==D)switch(R=t.normalizePropertyName(R,o),B){case"!":B=i.get(D);break;case mf:B=s.get(D);break;default:B=t.normalizeStyleValue(D,R,B,o)}T.set(R,B)}),E||u.push(T),p=T,h=y}),o.length)throw function EZ(n){return new l.vHH(3502,!1)}();return u}function cO(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&uO(e,"start",n)));break;case"done":n.onDone(()=>r(e&&uO(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&uO(e,"destroy",n)))}}function uO(n,t,e){const s=dO(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function dO(n,t,e,r,i="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Rl(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function cB(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let hO=(n,t)=>!1,uB=(n,t,e)=>[],dB=null;function fO(n){const t=n.parentNode||n.host;return t===dB?null:t}(lO()||typeof Element<"u")&&(PZ()?(dB=(()=>document.documentElement)(),hO=(n,t)=>{for(;t;){if(t===n)return!0;t=fO(t)}return!1}):hO=(n,t)=>n.contains(t),uB=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let l_=null,hB=!1;const fB=hO,pB=uB;let mB=(()=>{class n{validateStyleProperty(e){return function LZ(n){l_||(l_=function VZ(){return typeof document<"u"?document.body:null}()||{},hB=!!l_.style&&"WebkitAppearance"in l_.style);let t=!0;return l_.style&&!function NZ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in l_.style,!t&&hB&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in l_.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return fB(e,r)}getParentElement(e){return fO(e)}query(e,r,i){return pB(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,o,u=[],h){return new pE(i,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),pO=(()=>{class n{}return n.NOOP=new mB,n})();const mO="ng-enter",DA="ng-leave",SA="ng-trigger",TA=".ng-trigger",_B="ng-animating",gO=".ng-animating";function pm(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:_O(parseFloat(t[1]),t[2])}function _O(n,t){return"s"===t?1e3*n:n}function AA(n,t,e){return n.hasOwnProperty("duration")?n:function HZ(n,t,e){let i,s=0,o="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(aB()),{duration:0,delay:0,easing:""};i=_O(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(s=_O(parseFloat(h),u[4]));const p=u[5];p&&(o=p)}else i=n;if(!e){let u=!1,h=t.length;i<0&&(t.push(function tZ(){return new l.vHH(3100,!1)}()),u=!0),s<0&&(t.push(function nZ(){return new l.vHH(3101,!1)}()),u=!0),u&&t.splice(h,0,aB())}return{duration:i,delay:s,easing:o}}(n,t,e)}function yE(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function vB(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function mm(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function wB(n,t,e){return e?t+":"+e+";":""}function xB(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=wB(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=wB(0,zZ(e),n.style[e]));n.setAttribute("style",t)}function qd(n,t,e){n.style&&(t.forEach((r,i)=>{const s=yO(i);e&&!e.has(i)&&e.set(i,n.style[s]),n.style[s]=r}),lO()&&xB(n))}function c_(n,t){n.style&&(t.forEach((e,r)=>{const i=yO(r);n.style[i]=""}),lO()&&xB(n))}function wE(n){return Array.isArray(n)?1==n.length?n[0]:hV(n):n}const vO=new RegExp("{{\\s*(.+?)\\s*}}","g");function bB(n){let t=[];if("string"==typeof n){let e;for(;e=vO.exec(n);)t.push(e[1]);vO.lastIndex=0}return t}function IA(n,t,e){const r=n.toString(),i=r.replace(vO,(s,o)=>{let u=t[o];return null==u&&(e.push(function iZ(n){return new l.vHH(3003,!1)}()),u=""),u.toString()});return i==r?n:i}function kA(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const $Z=/-+([a-z0-9])/g;function yO(n){return n.replace($Z,(...t)=>t[1].toUpperCase())}function zZ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fl(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function sZ(n){return new l.vHH(3004,!1)}()}}function EB(n,t){return window.getComputedStyle(n)[t]}function XZ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function QZ(n,t,e){if(":"==n[0]){const h=function JZ(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function yZ(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function vZ(n){return new l.vHH(3015,!1)}()),t;const i=r[1],s=r[2],o=r[3];t.push(CB(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&t.push(CB(o,i))}(r,e,t)):e.push(n),e}const OA=new Set(["true","1"]),PA=new Set(["false","0"]);function CB(n,t){const e=OA.has(n)||PA.has(n),r=OA.has(t)||PA.has(t);return(i,s)=>{let o="*"==n||n==i,u="*"==t||t==s;return!o&&e&&"boolean"==typeof i&&(o=i?OA.has(n):PA.has(n)),!u&&r&&"boolean"==typeof s&&(u=s?OA.has(t):PA.has(t)),o&&u}}const eW=new RegExp("s*:selfs*,?","g");function wO(n,t,e,r){return new tW(n).build(t,e,r)}class tW{constructor(t){this._driver=t}build(t,e,r){const i=new iW(e);return this._resetContextStyleTimingState(i),Fl(this,wE(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function aZ(){return new l.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const h=u,p=h.name;p.toString().split(/\s*,\s*/).forEach(g=>{h.name=g,s.push(this.visitState(h,e))}),h.name=p}else if(1==u.type){const h=this.visitTransition(u,e);r+=h.queryCount,i+=h.depCount,o.push(h)}else e.errors.push(function lZ(){return new l.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(u=>{u instanceof Map&&u.forEach(h=>{bB(h).forEach(p=>{o.hasOwnProperty(p)||s.add(p)})})}),s.size&&(kA(s.values()),e.errors.push(function cZ(n,t){return new l.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Fl(this,wE(t.animation),e);return{type:1,matchers:XZ(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:u_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Fl(this,r,e)),options:u_(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const s=t.steps.map(o=>{e.currentTime=r;const u=Fl(this,o,e);return i=Math.max(i,e.currentTime),u});return e.currentTime=i,{type:3,steps:s,options:u_(t.options)}}visitAnimate(t,e){const r=function oW(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return xO(AA(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=xO(0,0,"");return s.dynamic=!0,s.strValue=e,s}const i=AA(e,t);return xO(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,s=t.styles?t.styles:Zu({});if(5==s.type)i=this.visitKeyframes(s,e);else{let o=t.styles,u=!1;if(!o){u=!0;const p={};r.easing&&(p.easing=r.easing),o=Zu(p)}e.currentTime+=r.duration+r.delay;const h=this.visitStyle(o,e);h.isEmptyStep=u,i=h}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of i)"string"==typeof u?u===mf?r.push(u):e.errors.push(new l.vHH(3002,!1)):r.push(vB(u));let s=!1,o=null;return r.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(o=u.get("easing"),u.delete("easing")),!s))for(let h of u.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{const p=e.collectedStyles.get(e.currentQuerySelector),g=p.get(h);let y=!0;g&&(s!=i&&s>=g.startTime&&i<=g.endTime&&(e.errors.push(function dZ(n,t,e,r,i){return new l.vHH(3010,!1)}()),y=!1),s=g.startTime),y&&p.set(h,{startTime:s,endTime:i}),e.options&&function GZ(n,t,e){const r=t.params||{},i=bB(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function rZ(n){return new l.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function hZ(){return new l.vHH(3011,!1)}()),r;let s=0;const o=[];let u=!1,h=!1,p=0;const g=t.steps.map(B=>{const j=this._makeStyleAst(B,e);let V=null!=j.offset?j.offset:function sW(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(j.styles),re=0;return null!=V&&(s++,re=j.offset=V),h=h||re<0||re>1,u=u||re<p,p=re,o.push(re),j});h&&e.errors.push(function fZ(){return new l.vHH(3012,!1)}()),u&&e.errors.push(function pZ(){return new l.vHH(3200,!1)}());const y=t.steps.length;let E=0;s>0&&s<y?e.errors.push(function mZ(){return new l.vHH(3202,!1)}()):0==s&&(E=1/(y-1));const T=y-1,k=e.currentTime,D=e.currentAnimateTimings,R=D.duration;return g.forEach((B,j)=>{const V=E>0?j==T?1:E*j:o[j],re=V*R;e.currentTime=k+D.delay+re,D.duration=re,this._validateStyleAst(B,e),B.offset=V,r.styles.push(B)}),r}visitReference(t,e){return{type:8,animation:Fl(this,wE(t.animation),e),options:u_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:u_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:u_(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function nW(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(eW,"")),n=n.replace(/@\*/g,TA).replace(/@\w+/g,e=>TA+"-"+e.slice(1)).replace(/:animating/g,gO),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+s:s,Rl(e.collectedStyles,e.currentQuerySelector,new Map);const u=Fl(this,wE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:u,originalSelector:t.selector,options:u_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function gZ(){return new l.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:AA(t.timings,e.errors,!0);return{type:12,animation:Fl(this,wE(t.animation),e),timings:r,options:null}}}class iW{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function u_(n){return n?(n=yE(n)).params&&(n.params=function rW(n){return n?yE(n):null}(n.params)):n={},n}function xO(n,t,e){return{duration:n,delay:t,easing:e}}function bO(n,t,e,r,i,s,o=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:u}}class NA{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const cW=new RegExp(":enter","g"),dW=new RegExp(":leave","g");function EO(n,t,e,r,i,s=new Map,o=new Map,u,h,p=[]){return(new hW).buildKeyframes(n,t,e,r,i,s,o,u,h,p)}class hW{buildKeyframes(t,e,r,i,s,o,u,h,p,g=[]){p=p||new NA;const y=new CO(t,e,p,i,s,g,[]);y.options=h;const E=h.delay?pm(h.delay):0;y.currentTimeline.delayNextStep(E),y.currentTimeline.setStyles([o],null,y.errors,h),Fl(this,r,y);const T=y.timelines.filter(k=>k.containsAnimation());if(T.length&&u.size){let k;for(let D=T.length-1;D>=0;D--){const R=T[D];if(R.element===e){k=R;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([u],null,y.errors,h)}return T.length?T.map(k=>k.buildKeyframes()):[bO(e,[],[],[],0,E,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let s=e.currentTimeline.currentTime;const o=null!=r.duration?pm(r.duration):null,u=null!=r.delay?pm(r.delay):null;return 0!==o&&t.forEach(h=>{const p=e.appendInstructionToTimeline(h,o,u);s=Math.max(s,p.duration+p.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Fl(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=LA);const o=pm(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Fl(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?pm(t.options.delay):0;t.steps.forEach(o=>{const u=e.createSubContext(t.options);s&&u.delayNextStep(s),Fl(this,o,u),i=Math.max(i,u.currentTimeline.currentTime),r.push(u.currentTimeline)}),r.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return AA(e.params?IA(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,u=e.createSubContext().currentTimeline;u.easing=r.easing,t.styles.forEach(h=>{u.forwardTime((h.offset||0)*s),u.setStyles(h.styles,h.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?pm(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=LA);let o=r;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=u.length;let h=null;u.forEach((p,g)=>{e.currentQueryIndex=g;const y=e.createSubContext(t.options,p);s&&y.delayNextStep(s),p===e.element&&(h=y.currentTimeline),Fl(this,t.animation,y),y.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,y.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),u=o*(e.currentQueryTotal-1);let h=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=u-h;break;case"full":h=r.currentStaggerTime}const g=e.currentTimeline;h&&g.delayNextStep(h);const y=g.currentTime;Fl(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-y+(i.startTime-r.currentTimeline.startTime)}}const LA={};class CO{constructor(t,e,r,i,s,o,u,h){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=LA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new VA(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=pm(r.duration)),null!=r.delay&&(i.delay=pm(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(u=>{(!e||!o.hasOwnProperty(u))&&(o[u]=IA(s[u],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,s=new CO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=LA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new fW(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,s,o){let u=[];if(i&&u.push(this.element),t.length>0){t=(t=t.replace(cW,"."+this._enterClassName)).replace(dW,"."+this._leaveClassName);let p=this._driver.query(this.element,t,1!=r);0!==r&&(p=r<0?p.slice(p.length+r,p.length):p.slice(0,r)),u.push(...p)}return!s&&0==u.length&&o.push(function _Z(n){return new l.vHH(3014,!1)}()),u}}class VA{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new VA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||mf),this._currentKeyframe.set(e,mf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const s=i&&i.params||{},o=function pW(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let s of r)e.set(s,mf)}else mm(i,e)}),e}(t,this._globalTimelineStyles);for(let[u,h]of o){const p=IA(h,s,r);this._pendingStyles.set(u,p),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??mf),this._updateStyle(u,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((u,h)=>{const p=mm(u,new Map,this._backFill);p.forEach((g,y)=>{"!"===g?t.add(y):g===mf&&e.add(y)}),r||p.set("offset",h/this.duration),i.push(p)});const s=t.size?kA(t.values()):[],o=e.size?kA(e.values()):[];if(r){const u=i[0],h=new Map(u);u.set("offset",0),h.set("offset",1),i=[u,h]}return bO(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class fW extends VA{constructor(t,e,r,i,s,o,u=!1){super(t,e,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=r+e,u=e/o,h=mm(t[0]);h.set("offset",0),s.push(h);const p=mm(t[0]);p.set("offset",TB(u)),s.push(p);const g=t.length-1;for(let y=1;y<=g;y++){let E=mm(t[y]);const T=E.get("offset");E.set("offset",TB((e+T*r)/o)),s.push(E)}r=o,e=0,i="",t=s}return bO(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function TB(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class DO{}const mW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gW extends DO{normalizePropertyName(t,e){return yO(t)}normalizeStyleValue(t,e,r,i){let s="";const o=r.toString().trim();if(mW.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const u=r.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&i.push(function oZ(n,t){return new l.vHH(3005,!1)}())}return o+s}}function AB(n,t,e,r,i,s,o,u,h,p,g,y,E){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:o,timelines:u,queriedElements:h,preStyleProps:p,postStyleProps:g,totalTime:y,errors:E}}const SO={};class IB{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function _W(n,t,e,r,i){return n.some(s=>s(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,s,o,u,h,p,g){const y=[],E=this.ast.options&&this.ast.options.params||SO,k=this.buildStyles(r,u&&u.params||SO,y),D=h&&h.params||SO,R=this.buildStyles(i,D,y),B=new Set,j=new Map,V=new Map,re="void"===i,ve={params:vW(D,E),delay:this.ast.options?.delay},ae=g?[]:EO(t,e,this.ast.animation,s,o,k,R,ve,p,y);let Y=0;if(ae.forEach(we=>{Y=Math.max(we.duration+we.delay,Y)}),y.length)return AB(e,this._triggerName,r,i,re,k,R,[],[],j,V,Y,y);ae.forEach(we=>{const Ue=we.element,Ke=Rl(j,Ue,new Set);we.preStyleProps.forEach(Mt=>Ke.add(Mt));const Te=Rl(V,Ue,new Set);we.postStyleProps.forEach(Mt=>Te.add(Mt)),Ue!==e&&B.add(Ue)});const De=kA(B.values());return AB(e,this._triggerName,r,i,re,k,R,ae,De,j,V,Y)}}function vW(n,t){const e=yE(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class yW{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=yE(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,u)=>{o&&(o=IA(o,i,e));const h=this.normalizer.normalizePropertyName(u,e);o=this.normalizer.normalizeStyleValue(u,h,o,e),r.set(h,o)})}),r}}class xW{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new yW(i.style,i.options&&i.options.params||{},r))}),kB(this.states,"true","1"),kB(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new IB(t,i,this.states))}),this.fallbackTransition=function bW(n,t,e){return new IB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(o=>o.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function kB(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const EW=new NA;class CW{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],s=wO(this._driver,e,r,[]);if(r.length)throw function CZ(n){return new l.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,r){const i=t.element,s=lB(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],s=this._animations.get(t);let o;const u=new Map;if(s?(o=EO(this._driver,e,s,mO,DA,new Map,new Map,r,EW,i),o.forEach(g=>{const y=Rl(u,g.element,new Map);g.postStyleProps.forEach(E=>y.set(E,null))})):(i.push(function DZ(){return new l.vHH(3300,!1)}()),o=[]),i.length)throw function SZ(n){return new l.vHH(3504,!1)}();u.forEach((g,y)=>{g.forEach((E,T)=>{g.set(T,this._driver.computeStyle(y,T,mf))})});const p=fm(o.map(g=>{const y=u.get(g.element);return this._buildPlayer(g,new Map,y)}));return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function TZ(n){return new l.vHH(3301,!1)}();return e}listen(t,e,r,i){const s=dO(e,"","","");return cO(this._getPlayer(t),r,s,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const MB="ng-animate-queued",TO="ng-animate-disabled",IW=[],RB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pc="__ng_removed";class AO{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function OW(n){return n??null}(r?t.value:t),r){const s=yE(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const xE="void",IO=new AO(xE);class MW{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Nc(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function AZ(n,t){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function IZ(n){return new l.vHH(3303,!1)}();if(!function PW(n){return"start"==n||"done"==n}(r))throw function kZ(n,t){return new l.vHH(3400,!1)}();const s=Rl(this._elementListeners,t,[]),o={name:e,phase:r,callback:i};s.push(o);const u=Rl(this._engine.statesByElement,t,new Map);return u.has(e)||(Nc(t,SA),Nc(t,SA+"-"+e),u.set(e,IO)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(o);h>=0&&s.splice(h,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function MZ(n){return new l.vHH(3401,!1)}();return e}trigger(t,e,r,i=!0){const s=this._getTrigger(e),o=new kO(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Nc(t,SA),Nc(t,SA+"-"+e),this._engine.statesByElement.set(t,u=new Map));let h=u.get(e);const p=new AO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&h&&p.absorbOptions(h.options),u.set(e,p),h||(h=IO),p.value!==xE&&h.value===p.value){if(!function VW(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,p.params)){const D=[],R=s.matchStyles(h.value,h.params,D),B=s.matchStyles(p.value,p.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{c_(t,R),qd(t,B)})}return}const E=Rl(this._engine.playersByElement,t,[]);E.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let T=s.matchTransition(h.value,p.value,t,p.params),k=!1;if(!T){if(!i)return;T=s.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:T,fromState:h,toState:p,player:o,isFallbackTransition:k}),k||(Nc(t,MB),o.onStart(()=>{h1(t,MB)})),o.onDone(()=>{let D=this.players.indexOf(o);D>=0&&this.players.splice(D,1);const R=this._engine.playersByElement.get(t);if(R){let B=R.indexOf(o);B>=0&&R.splice(B,1)}}),this.players.push(o),E.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,TA,!0);r.forEach(i=>{if(i[Pc])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const u=[];if(s.forEach((h,p)=>{if(o.set(p,h.value),this._triggers.has(p)){const g=this.trigger(t,p,xE,i);g&&u.push(g)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),r&&fm(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const h=this._triggers.get(o).fallbackTransition,p=r.get(o)||IO,g=new AO(xE),y=new kO(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:h,fromState:p,toState:g,player:y,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Pc];(!s||s===RB)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Nc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(u=>{if(u.name==r.triggerName){const h=dO(s,r.triggerName,r.fromState.value,r.toState.value);h._data=t,cO(r.player,u.phase,h,u.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class RW{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new MW(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,u=this.driver.getParentElement(e);for(;u;){const h=i.get(u);if(h){const p=r.indexOf(h);r.splice(p+1,0,t),o=!0;break}u=this.driver.getParentElement(u)}o||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}return e}trigger(t,e,r,i){if(BA(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!BA(e))return;const s=e[Pc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Nc(t,TO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),h1(t,TO))}removeNode(t,e,r,i){if(BA(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,s){this.collectedLeaveElements.push(e),e[Pc]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,r,i,s){return BA(e)?this._fetchNamespace(t).listen(e,r,i,s):()=>{}}_buildInstruction(t,e,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,TA,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,gO,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return fm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Pc];if(e&&e.setForRemoval){if(t[Pc]=RB,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(TO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Nc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?fm(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function RZ(n){return new l.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new NA,i=[],s=new Map,o=[],u=new Map,h=new Map,p=new Map,g=new Set;this.disabledNodes.forEach(lt=>{g.add(lt);const dt=this.driver.query(lt,".ng-animate-queued",!0);for(let Lt=0;Lt<dt.length;Lt++)g.add(dt[Lt])});const y=this.bodyNode,E=Array.from(this.statesByElement.keys()),T=PB(E,this.collectedEnterElements),k=new Map;let D=0;T.forEach((lt,dt)=>{const Lt=mO+D++;k.set(dt,Lt),lt.forEach(yt=>Nc(yt,Lt))});const R=[],B=new Set,j=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const dt=this.collectedLeaveElements[lt],Lt=dt[Pc];Lt&&Lt.setForRemoval&&(R.push(dt),B.add(dt),Lt.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(yt=>B.add(yt)):j.add(dt))}const V=new Map,re=PB(E,Array.from(B));re.forEach((lt,dt)=>{const Lt=DA+D++;V.set(dt,Lt),lt.forEach(yt=>Nc(yt,Lt))}),t.push(()=>{T.forEach((lt,dt)=>{const Lt=k.get(dt);lt.forEach(yt=>h1(yt,Lt))}),re.forEach((lt,dt)=>{const Lt=V.get(dt);lt.forEach(yt=>h1(yt,Lt))}),R.forEach(lt=>{this.processLeaveNode(lt)})});const ve=[],ae=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(e).forEach(Lt=>{const yt=Lt.player,Zt=Lt.element;if(ve.push(yt),this.collectedEnterElements.length){const At=Zt[Pc];if(At&&At.setForMove){if(At.previousTriggersValues&&At.previousTriggersValues.has(Lt.triggerName)){const It=At.previousTriggersValues.get(Lt.triggerName),St=this.statesByElement.get(Lt.element);if(St&&St.has(Lt.triggerName)){const ht=St.get(Lt.triggerName);ht.value=It,St.set(Lt.triggerName,ht)}}return void yt.destroy()}}const st=!y||!this.driver.containsElement(y,Zt),ne=V.get(Zt),Oe=k.get(Zt),le=this._buildInstruction(Lt,r,Oe,ne,st);if(le.errors&&le.errors.length)return void ae.push(le);if(st)return yt.onStart(()=>c_(Zt,le.fromStyles)),yt.onDestroy(()=>qd(Zt,le.toStyles)),void i.push(yt);if(Lt.isFallbackTransition)return yt.onStart(()=>c_(Zt,le.fromStyles)),yt.onDestroy(()=>qd(Zt,le.toStyles)),void i.push(yt);const me=[];le.timelines.forEach(At=>{At.stretchStartingKeyframe=!0,this.disabledNodes.has(At.element)||me.push(At)}),le.timelines=me,r.append(Zt,le.timelines),o.push({instruction:le,player:yt,element:Zt}),le.queriedElements.forEach(At=>Rl(u,At,[]).push(yt)),le.preStyleProps.forEach((At,It)=>{if(At.size){let St=h.get(It);St||h.set(It,St=new Set),At.forEach((ht,jn)=>St.add(jn))}}),le.postStyleProps.forEach((At,It)=>{let St=p.get(It);St||p.set(It,St=new Set),At.forEach((ht,jn)=>St.add(jn))})});if(ae.length){const lt=[];ae.forEach(dt=>{lt.push(function FZ(n,t){return new l.vHH(3505,!1)}())}),ve.forEach(dt=>dt.destroy()),this.reportError(lt)}const Y=new Map,De=new Map;o.forEach(lt=>{const dt=lt.element;r.has(dt)&&(De.set(dt,dt),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,Y))}),i.forEach(lt=>{const dt=lt.element;this._getPreviousPlayers(dt,!1,lt.namespaceId,lt.triggerName,null).forEach(yt=>{Rl(Y,dt,[]).push(yt),yt.destroy()})});const we=R.filter(lt=>LB(lt,h,p)),Ue=new Map;OB(Ue,this.driver,j,p,mf).forEach(lt=>{LB(lt,h,p)&&we.push(lt)});const Te=new Map;T.forEach((lt,dt)=>{OB(Te,this.driver,new Set(lt),h,"!")}),we.forEach(lt=>{const dt=Ue.get(lt),Lt=Te.get(lt);Ue.set(lt,new Map([...Array.from(dt?.entries()??[]),...Array.from(Lt?.entries()??[])]))});const Mt=[],nn=[],Ot={};o.forEach(lt=>{const{element:dt,player:Lt,instruction:yt}=lt;if(r.has(dt)){if(g.has(dt))return Lt.onDestroy(()=>qd(dt,yt.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(yt.totalTime),void i.push(Lt);let Zt=Ot;if(De.size>1){let ne=dt;const Oe=[];for(;ne=ne.parentNode;){const le=De.get(ne);if(le){Zt=le;break}Oe.push(ne)}Oe.forEach(le=>De.set(le,Zt))}const st=this._buildAnimation(Lt.namespaceId,yt,Y,s,Te,Ue);if(Lt.setRealPlayer(st),Zt===Ot)Mt.push(Lt);else{const ne=this.playersByElement.get(Zt);ne&&ne.length&&(Lt.parentPlayer=fm(ne)),i.push(Lt)}}else c_(dt,yt.fromStyles),Lt.onDestroy(()=>qd(dt,yt.toStyles)),nn.push(Lt),g.has(dt)&&i.push(Lt)}),nn.forEach(lt=>{const dt=s.get(lt.element);if(dt&&dt.length){const Lt=fm(dt);lt.setRealPlayer(Lt)}}),i.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<R.length;lt++){const dt=R[lt],Lt=dt[Pc];if(h1(dt,DA),Lt&&Lt.hasAnimation)continue;let yt=[];if(u.size){let st=u.get(dt);st&&st.length&&yt.push(...st);let ne=this.driver.query(dt,gO,!0);for(let Oe=0;Oe<ne.length;Oe++){let le=u.get(ne[Oe]);le&&le.length&&yt.push(...le)}}const Zt=yt.filter(st=>!st.destroyed);Zt.length?NW(this,dt,Zt):this.processLeaveNode(dt)}return R.length=0,Mt.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const dt=this.players.indexOf(lt);this.players.splice(dt,1)}),lt.play()}),Mt}elementContainsData(t,e){let r=!1;const i=e[Pc];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,s){let o=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(o=u)}else{const u=this.playersByElement.get(t);if(u){const h=!s||s==xE;u.forEach(p=>{p.queued||!h&&p.triggerName!=i||o.push(p)})}}return(r||i)&&(o=o.filter(u=>!(r&&r!=u.namespaceId||i&&i!=u.triggerName))),o}_beforeAnimationBuild(t,e,r){const s=e.element,o=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const p=h.element,g=p!==s,y=Rl(r,p,[]);this._getPreviousPlayers(p,g,o,u,e.toState).forEach(T=>{const k=T.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),T.destroy(),y.push(T)})}c_(s,e.fromStyles)}_buildAnimation(t,e,r,i,s,o){const u=e.triggerName,h=e.element,p=[],g=new Set,y=new Set,E=e.timelines.map(k=>{const D=k.element;g.add(D);const R=D[Pc];if(R&&R.removedBeforeQueried)return new pE(k.duration,k.delay);const B=D!==h,j=function LW(n){const t=[];return NB(n,t),t}((r.get(D)||IW).map(Y=>Y.getRealPlayer())).filter(Y=>!!Y.element&&Y.element===D),V=s.get(D),re=o.get(D),ve=lB(0,this._normalizer,0,k.keyframes,V,re),ae=this._buildPlayer(k,ve,j);if(k.subTimeline&&i&&y.add(D),B){const Y=new kO(t,u,D);Y.setRealPlayer(ae),p.push(Y)}return ae});p.forEach(k=>{Rl(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function FW(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,k.element,k))}),g.forEach(k=>Nc(k,_B));const T=fm(E);return T.onDestroy(()=>{g.forEach(k=>h1(k,_B)),qd(h,e.toStyles)}),y.forEach(k=>{Rl(i,k,[]).push(T)}),T}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new pE(t.duration,t.delay)}}class kO{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new pE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>cO(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Rl(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function BA(n){return n&&1===n.nodeType}function FB(n,t){const e=n.style.display;return n.style.display=t??"none",e}function OB(n,t,e,r,i){const s=[];e.forEach(h=>s.push(FB(h)));const o=[];r.forEach((h,p)=>{const g=new Map;h.forEach(y=>{const E=t.computeStyle(p,y,i);g.set(y,E),(!E||0==E.length)&&(p[Pc]=kW,o.push(p))}),n.set(p,g)});let u=0;return e.forEach(h=>FB(h,s[u++])),o}function PB(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const i=new Set(t),s=new Map;function o(u){if(!u)return 1;let h=s.get(u);if(h)return h;const p=u.parentNode;return h=e.has(p)?p:i.has(p)?1:o(p),s.set(u,h),h}return t.forEach(u=>{const h=o(u);1!==h&&e.get(h).push(u)}),e}function Nc(n,t){n.classList?.add(t)}function h1(n,t){n.classList?.remove(t)}function NW(n,t,e){fm(e).onDone(()=>n.processLeaveNode(t))}function NB(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof mV?NB(r.players,t):t.push(r)}}function LB(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(s=>i.add(s)):t.set(n,r),e.delete(n),!0}class UA{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new RW(t,e,r),this._timelineEngine=new CW(t,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,r,i,s){const o=t+"-"+i;let u=this._triggerCache[o];if(!u){const h=[],g=wO(this._driver,s,h,[]);if(h.length)throw function bZ(n,t){return new l.vHH(3404,!1)}();u=function wW(n,t,e){return new xW(n,t,e)}(i,g,this._normalizer),this._triggerCache[o]=u}this._transitionEngine.registerTrigger(e,i,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[s,o]=cB(r);this._timelineEngine.command(s,e,o,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,s){if("@"==r.charAt(0)){const[o,u]=cB(r);return this._timelineEngine.listen(o,e,u,s)}return this._transitionEngine.listen(t,e,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let UW=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&qd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qd(this._element,this._initialStyles),this._endStyles&&(qd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(c_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(c_(this._element,this._endStyles),this._endStyles=null),qd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function MO(n){let t=null;return n.forEach((e,r)=>{(function HW(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class VB{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:EB(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class jW{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return fB(t,e)}getParentElement(t){return fO(t)}query(t,e,r){return pB(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,s,o=[]){const h={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(h.easing=s);const p=new Map,g=o.filter(T=>T instanceof VB);(function ZZ(n,t){return 0===n||0===t})(r,i)&&g.forEach(T=>{T.currentSnapshot.forEach((k,D)=>p.set(D,k))});let y=function jZ(n){return n.length?n[0]instanceof Map?n:n.map(t=>vB(t)):[]}(e).map(T=>mm(T));y=function WZ(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<t.length;s++){let o=t[s];i.forEach(u=>o.set(u,EB(n,u)))}}return t}(t,y,p);const E=function BW(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=MO(t[0]),t.length>1&&(r=MO(t[t.length-1]))):t instanceof Map&&(e=MO(t)),e||r?new UW(n,e,r):null}(t,y);return new VB(t,y,h,E)}}let GW=(()=>{class n extends dV{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?hV(e):e;return BB(this._renderer,null,r,"register",[i]),new $W(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class $W extends class PG{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new zW(this._id,t,e||{},this._renderer)}}class zW{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return BB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function BB(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const UB="@.disabled";let ZW=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const u=o?.parentNode(s);u&&o.removeChild(u,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let g=this._rendererCache.get(s);return g||(g=new HB("",s,this.engine),this._rendererCache.set(s,g)),g}const o=r.id,u=r.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const h=g=>{Array.isArray(g)?g.forEach(h):this.engine.registerTrigger(o,u,e,g.name,g)};return r.data.animation.forEach(h),new WW(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,u]=s;o(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(UA),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class HB{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==UB?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class WW extends HB{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==UB?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function qW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function YW(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,u=>{this.factory.scheduleListenerCallback(u._data||-1,r,u)})}return this.delegate.listen(t,e,r)}}let KW=(()=>{class n extends UA{constructor(e,r,i,s){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe),l.LFG(pO),l.LFG(DO),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const jB=[{provide:dV,useClass:GW},{provide:DO,useFactory:function XW(){return new gW}},{provide:UA,useClass:KW},{provide:l.FYo,useFactory:function QW(n,t,e){return new ZW(n,t,e)},deps:[du,UA,l.R0b]}],RO=[{provide:pO,useFactory:()=>new jW},{provide:l.QbO,useValue:"BrowserAnimations"},...jB],GB=[{provide:pO,useClass:mB},{provide:l.QbO,useValue:"NoopAnimations"},...jB];let JW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?GB:RO}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:RO,imports:[fl]}),n})(),eq=(()=>{class n{constructor(e,r,i,s){this.gudataService=e,this.udataService=r,this.localService=i,this.router=s,this.app=(0,qr.ZF)(Sl_firebase),this.db=lm(this.app),this.nameText="",this.phoneText="",this.emailText="",this.addText="",this.cityText="",this.stateText="",this.zipText="",this.photoURL="",this.noPermission=!0}ngOnInit(){this.gudataService.checkAccountStatus().then(e=>{this.account=this.gudataService.account}).catch(e=>{console.log(e)}),this.udataService.checkLoginStatus().then(e=>{this.user=this.udataService.user,this.udataService.user.initialized?(this.noPermission=!1,this.nameText=this.user.name,this.phoneText=this.user.phone,this.emailText=this.user.email,this.addText=this.user.add,this.cityText=this.user.city,this.stateText=this.user.state,this.zipText=this.user.zip,this.photoURL=this.user.photoURL):(this.nameText=this.account.displayName,this.emailText=this.account.email,this.photoURL=this.account.photoURL)}).catch(e=>{console.log(e)})}onSaveUser(e,r,i,s,o,u,h){if(""!=e.value&&""!=r.value&&""!=i.value&&""!=s.value&&""!=o.value&&""!=u.value&&""!=h.value){var p=s.value+", "+o.value+", "+u.value+" "+h.value;this.user.email=i.value,this.user.name=e.value,this.user.phone=r.value,this.user.address=p,this.user.add=s.value,this.user.city=o.value,this.user.state=u.value,this.user.zip=h.value,this.user.initialized=!0,this.udataService.updateUser(this.user).then(()=>{null==this.localService.getLocalData("uid")&&this.localService.saveLocalData("uid",this.user.uid),this.router.navigateByUrl("/profile")}).catch(g=>{console.log("[EDIT PROFILE] "+g)})}else alert("Please fill out the forms.")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Oc),l.Y36(Zs),l.Y36(r_),l.Y36(br))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-edit-profile"]],decls:60,vars:9,consts:[[1,"col-sm-10","justify-content-center"],[1,"text-center"],[1,"rounded-circle",3,"src"],[1,"col-sm-10"],[1,"form-row"],["for","name"],["id","name","type","text","required","",1,"form-control",3,"value"],["username",""],["for","phone"],["id","phone","type","text","required","",1,"form-control",3,"value"],["phone",""],["for","email"],["id","email","type","text","required","",1,"form-control",3,"value"],["email",""],["for","add"],["id","add","type","text","required","",1,"form-control",3,"value"],["add",""],["for","city"],["id","city","type","text","required","",1,"form-control",3,"value"],["city",""],["for","state"],["id","state","type","text","required","",1,"form-control",3,"value"],["state",""],["for","zip"],["id","zip","type","text","length","5","required","",1,"form-control",3,"value"],["zip",""],[1,"btn","btn-primary","btn-block",3,"click"],[1,"fixed-bottom",2,"width","100%",3,"hidden"]],template:function(e,r){if(1&e){const i=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"div"),l._UZ(3,"img",2),l.qZA(),l._UZ(4,"br"),l.TgZ(5,"div")(6,"h4")(7,"label"),l._uU(8,"Edit My Profile"),l.qZA()()()(),l.TgZ(9,"div",3)(10,"form")(11,"div",4)(12,"label",5),l._uU(13,"Name"),l.qZA(),l._UZ(14,"input",6,7),l.qZA(),l.TgZ(16,"p"),l._uU(17,"* This carpool app works better if you set your name the same as the one in the working schedule!"),l.qZA(),l.TgZ(18,"div",4)(19,"label",8),l._uU(20,"Phone Number"),l.qZA(),l._UZ(21,"input",9,10),l.qZA(),l._UZ(23,"br"),l.TgZ(24,"div",4)(25,"label",11),l._uU(26,"E-mail"),l.qZA(),l._UZ(27,"input",12,13),l.qZA(),l._UZ(29,"br"),l.TgZ(30,"div",4)(31,"label",14),l._uU(32,"Home Address"),l.qZA(),l._UZ(33,"input",15,16),l.qZA(),l._UZ(35,"br"),l.TgZ(36,"div",4)(37,"label",17),l._uU(38,"City"),l.qZA(),l._UZ(39,"input",18,19),l.qZA(),l._UZ(41,"br"),l.TgZ(42,"div",4)(43,"label",20),l._uU(44,"State"),l.qZA(),l._UZ(45,"input",21,22),l.qZA(),l._UZ(47,"br"),l.TgZ(48,"div",4)(49,"label",23),l._uU(50,"Zip Code"),l.qZA(),l._UZ(51,"input",24,25),l.qZA(),l._UZ(53,"br"),l.TgZ(54,"button",26),l.NdJ("click",function(){l.CHM(i);const o=l.MAs(15),u=l.MAs(22),h=l.MAs(28),p=l.MAs(34),g=l.MAs(40),y=l.MAs(46),E=l.MAs(52);return l.KtG(r.onSaveUser(o,u,h,p,g,y,E))}),l._uU(55,"Save "),l.qZA()()()(),l._UZ(56,"br")(57,"br"),l.TgZ(58,"div",27),l._UZ(59,"app-navbar"),l.qZA()}2&e&&(l.xp6(3),l.s9C("src",r.photoURL,l.LSH),l.xp6(11),l.Q6J("value",r.nameText),l.xp6(7),l.Q6J("value",r.phoneText),l.xp6(6),l.Q6J("value",r.emailText),l.xp6(6),l.Q6J("value",r.addText),l.xp6(6),l.Q6J("value",r.cityText),l.xp6(6),l.Q6J("value",r.stateText),l.xp6(6),l.Q6J("value",r.zipText),l.xp6(7),l.Q6J("hidden",1==r.noPermission))},dependencies:[sp,Wa,jo,d1]}),n})();var tq=z(8554);let nq=(()=>{class n{constructor(e,r,i,s,o,u){this.router=e,this.ngZone=r,this.afAuth=i,this.gudataService=s,this.udataService=o,this.localService=u,this.afAuth.authState.subscribe(h=>{this.account=h})}OAuthProvider(e){return this.afAuth.signInWithPopup(e).then(r=>{this.ngZone.run(()=>{this.gudataService.checkIn(this.account).then(i=>{this.DirectUser()}).catch(i=>{console.log("[AUTH SERVICE] "+i)})})}).catch(r=>{window.alert(r)})}SigninWithGoogle(){return this.OAuthProvider(new tq.Q).then(e=>{console.log("[AUTH SERVICE] Successfully logged in!")}).catch(e=>{console.log(e)})}SignOut(){return this.afAuth.signOut().then(()=>{this.udataService.user=void 0,this.gudataService.account=void 0,this.localService.removeLocalData("uid"),this.localService.clearLocalData(),this.router.navigate(["login"])})}DirectUser(){var e=this;return(0,Ee.Z)(function*(){yield e.udataService.checkUser().then(r=>{null==e.udataService.user?e.router.navigate(["notice"]):e.udataService.user.initialized?(e.localService.saveLocalData("uid",e.udataService.user.uid),console.log("[AUTH SERVICE] The user data has been added to local cache."),e.router.navigate(["carpools"])):e.router.navigate(["editprofile"])}).catch(r=>{console.log("[AUTH SERVICE] "+r)})})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(br),l.LFG(l.R0b),l.LFG(r0),l.LFG(Oc),l.LFG(Zs),l.LFG(r_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rq=(()=>{class n{constructor(e,r,i,s,o){this.authService=e,this.gudataService=r,this.udataService=i,this.localService=s,this.router=o}ngOnInit(){null!=this.gudataService.account&&null!=this.udataService.user?this.router.navigate(this.udataService.user.initialized?["carpools"]:["editprofile"]):null!=this.localService.getLocalData("uid")&&this.router.navigate(["carpools"])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(nq),l.Y36(Oc),l.Y36(Zs),l.Y36(r_),l.Y36(br))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-log-in"]],decls:9,vars:0,consts:[[1,"flex-container","col-xs-12"],[1,"card-body"],[1,"row","mt-2"],[2,"text-decoration","none","cursor","pointer",3,"click"],[1,"card","shadow","text-center"],["src","../../../assets/icons8-google-48.png","alt","","height","24px","width","24px"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"form")(3,"div",2)(4,"a",3),l.NdJ("click",function(){return r.authService.SigninWithGoogle()}),l.TgZ(5,"div",4)(6,"div",1),l._UZ(7,"img",5),l._uU(8," Sign In with Google "),l.qZA()()()()()()())},dependencies:[sp,Wa,jo]}),n})();function FO(n,t,e){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];i?n.setProperty(r,i,e?.has(r)?"important":""):n.removeProperty(r)}return n}function f1(n,t){const e=t?"":"none";FO(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function $B(n,t,e){FO(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function jA(n,t){return t&&"none"!=t?n+" "+t:n}function zB(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function OO(n,t){return n.getPropertyValue(t).split(",").map(r=>r.trim())}function PO(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function NO(n,t,e){const{top:r,bottom:i,left:s,right:o}=n;return e>=r&&e<=i&&t>=s&&t<=o}function bE(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function ZB(n,t,e,r){const{top:i,right:s,bottom:o,left:u,width:h,height:p}=n,g=h*t,y=p*t;return r>i-y&&r<o+y&&e>u-g&&e<s+g}class WB{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:PO(e)})})}handleScroll(t){const e=zu(t),r=this.positions.get(e);if(!r)return null;const i=r.scrollPosition;let s,o;if(e===this._document){const p=this.getViewportScrollPosition();s=p.top,o=p.left}else s=e.scrollTop,o=e.scrollLeft;const u=i.top-s,h=i.left-o;return this.positions.forEach((p,g)=>{p.clientRect&&e!==g&&e.contains(g)&&bE(p.clientRect,u,h)}),i.top=s,i.left=o,{top:u,left:h}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function qB(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();t.removeAttribute("id");for(let i=0;i<e.length;i++)e[i].removeAttribute("id");return"canvas"===r?XB(n,t):("input"===r||"select"===r||"textarea"===r)&&KB(n,t),YB("canvas",n,t,XB),YB("input, textarea, select",n,t,KB),t}function YB(n,t,e,r){const i=t.querySelectorAll(n);if(i.length){const s=e.querySelectorAll(n);for(let o=0;o<i.length;o++)r(i[o],s[o])}}let oq=0;function KB(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${oq++}`)}function XB(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const QB=i_({passive:!0}),GA=i_({passive:!1}),LO=new Set(["position"]);class lq{constructor(t,e,r,i,s,o){this._config=e,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Cn.x,this._pointerMoveSubscription=os.w0.EMPTY,this._pointerUpSubscription=os.w0.EMPTY,this._scrollSubscription=os.w0.EMPTY,this._resizeSubscription=os.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Cn.x,this.started=new Cn.x,this.released=new Cn.x,this.ended=new Cn.x,this.entered=new Cn.x,this.exited=new Cn.x,this.dropped=new Cn.x,this.moved=this._moveEvents,this._pointerDown=u=>{if(this.beforeStarted.next(),this._handles.length){const h=this._getTargetHandle(u);h&&!this._disabledHandles.has(h)&&!this.disabled&&this._initializeDragSequence(h,u)}else this.disabled||this._initializeDragSequence(this._rootElement,u)},this._pointerMove=u=>{const h=this._getPointerPositionOnPage(u);if(!this._hasStartedDragging){if(Math.abs(h.x-this._pickupPositionOnPage.x)+Math.abs(h.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const T=Date.now()>=this._dragStartTime+this._getDragStartDelay(u),k=this._dropContainer;if(!T)return void this._endDragSequence(u);(!k||!k.isDragging()&&!k.isReceiving())&&(u.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(u)))}return}u.preventDefault();const p=this._getConstrainedPointerPosition(h);if(this._hasMoved=!0,this._lastKnownPointerPosition=h,this._updatePointerDirectionDelta(p),this._dropContainer)this._updateActiveDropContainer(p,h);else{const g=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,y=this._activeTransform;y.x=p.x-g.x+this._passiveTransform.x,y.y=p.y-g.y+this._passiveTransform.y,this._applyRootElementTransform(y.x,y.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:p,event:u,distance:this._getDragDistance(p),delta:this._pointerDirectionDelta})})},this._pointerUp=u=>{this._endDragSequence(u)},this._nativeDragStart=u=>{if(this._handles.length){const h=this._getTargetHandle(u);h&&!this._disabledHandles.has(h)&&!this.disabled&&u.preventDefault()}else this.disabled||u.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new WB(r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=di(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>f1(r,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(r=>Ki(r)),this._handles.forEach(r=>f1(r,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&e.add(r)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Ki(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,GA),e.addEventListener("touchstart",this._pointerDown,QB),e.addEventListener("dragstart",this._nativeDragStart,GA)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Ki(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),f1(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),f1(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){EE(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const r=this._rootElement,i=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),u=this._getShadowRoot();i.insertBefore(o,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),$B(r,!1,LO),this._document.body.appendChild(i.replaceChild(s,r)),this._getPreviewInsertionPoint(i,u).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const r=this.isDragging(),i=EE(e),s=!i&&0!==e.button,o=this._rootElement,u=zu(e),h=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),p=i?MF(e):kF(e);if(u&&u.draggable&&"mousedown"===e.type&&e.preventDefault(),r||s||h||p)return;if(this._handles.length){const E=o.style;this._rootElementTapHighlight=E.webkitTapHighlightColor||"",E.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(E=>this._updateOnScroll(E)),this._boundaryElement&&(this._boundaryRect=PO(this._boundaryElement));const g=this._previewTemplate;this._pickupPositionInElement=g&&g.template&&!g.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const y=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:y.x,y:y.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){$B(this._rootElement,!0,LO),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,r=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),s=this._getDragDistance(i),o=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i,event:t}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:i,event:t}),e.drop(this,r,this._initialIndex,this._initialContainer,o,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,r=t?t.template:null;let i;if(r&&t){const s=t.matchSize?this._initialClientRect:null,o=t.viewContainer.createEmbeddedView(r,t.context);o.detectChanges(),i=e6(o,this._document),this._previewRef=o,t.matchSize?t6(i,s):i.style.transform=$A(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=qB(this._rootElement),t6(i,this._initialClientRect),this._initialTransform&&(i.style.transform=this._initialTransform);return FO(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},LO),f1(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>i.classList.add(s)):i.classList.add(e)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function sq(n){const t=getComputedStyle(n),e=OO(t,"transition-property"),r=e.find(u=>"transform"===u||"all"===u);if(!r)return 0;const i=e.indexOf(r),s=OO(t,"transition-duration"),o=OO(t,"transition-delay");return zB(s[i])+zB(o[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=o=>{(!o||zu(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",i),r(),clearTimeout(s))},s=setTimeout(i,1.5*e);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let r;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),r=e6(this._placeholderRef,this._document)):r=qB(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(t,e,r){const i=e===this._rootElement?null:e,s=i?i.getBoundingClientRect():t,o=EE(r)?r.targetTouches[0]:r,u=this._getViewportScrollPosition();return{x:s.left-t.left+(o.pageX-s.left-u.left),y:s.top-t.top+(o.pageY-s.top-u.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),r=EE(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=r.pageX-e.left,s=r.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const u=this._ownerSVGElement.createSVGPoint();return u.x=i,u.y=s,u.matrixTransform(o.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:o}=this._pickupPositionInElement,u=this._boundaryRect,{width:h,height:p}=this._getPreviewRect(),g=u.top+o,y=u.bottom-(p-o);r=JB(r,u.left+s,u.right-(h-s)),i=JB(i,g,y)}return{x:r,y:i}}_updatePointerDirectionDelta(t){const{x:e,y:r}=t,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),u=Math.abs(r-s.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=e>s.x?1:-1,s.x=e),u>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,f1(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,GA),t.removeEventListener("touchstart",this._pointerDown,QB),t.removeEventListener("dragstart",this._nativeDragStart,GA)}_applyRootElementTransform(t,e){const r=$A(t,e),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=jA(r,this._initialTransform)}_applyPreviewTransform(t,e){const r=this._previewTemplate?.template?void 0:this._initialTransform,i=$A(t,e);this._preview.style.transform=jA(i,r)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const s=i.left-r.left,o=r.right-i.right,u=i.top-r.top,h=r.bottom-i.bottom;i.width>r.width?(s>0&&(t+=s),o>0&&(t-=o)):t=0,i.height>r.height?(u>0&&(e+=u),h>0&&(e-=h)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:EE(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const r=zu(t);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&bE(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=DF(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const r=this._previewContainer||"global";if("parent"===r)return t;if("global"===r){const i=this._document;return e||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Ki(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function $A(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function JB(n,t,e){return Math.max(t,Math.min(e,n))}function EE(n){return"t"===n.type[0]}function e6(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const r=t.createElement("div");return e.forEach(i=>r.appendChild(i)),r}function t6(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=$A(t.left,t.top)}function n6(n,t,e){const r=CE(t,n.length-1),i=CE(e,n.length-1);if(r===i)return;const s=n[r],o=i<r?-1:1;for(let u=r;u!==i;u+=o)n[u]=n[u+o];n[i]=s}function CE(n,t){return Math.max(0,Math.min(t,n))}class uq{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,r,i){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,r,i);if(-1===o&&s.length>0)return null;const u="horizontal"===this.orientation,h=s.findIndex(R=>R.drag===t),p=s[o],y=p.clientRect,E=h>o?1:-1,T=this._getItemOffsetPx(s[h].clientRect,y,E),k=this._getSiblingOffsetPx(h,s,E),D=s.slice();return n6(s,h,o),s.forEach((R,B)=>{if(D[B]===R)return;const j=R.drag===t,V=j?T:k,re=j?t.getPlaceholderElement():R.drag.getRootElement();R.offset+=V,u?(re.style.transform=jA(`translate3d(${Math.round(R.offset)}px, 0, 0)`,R.initialTransform),bE(R.clientRect,0,V)):(re.style.transform=jA(`translate3d(0, ${Math.round(R.offset)}px, 0)`,R.initialTransform),bE(R.clientRect,V,0))}),this._previousSwap.overlaps=NO(y,e,r),this._previousSwap.drag=p.drag,this._previousSwap.delta=u?i.x:i.y,{previousIndex:h,currentIndex:o}}enter(t,e,r,i){const s=null==i||i<0?this._getItemIndexFromPointerPosition(t,e,r):i,o=this._activeDraggables,u=o.indexOf(t),h=t.getPlaceholderElement();let p=o[s];if(p===t&&(p=o[s+1]),!p&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(e,r)&&(p=o[0]),u>-1&&o.splice(u,1),p&&!this._dragDropRegistry.isDragging(p)){const g=p.getRootElement();g.parentElement.insertBefore(h,g),o.splice(s,0,t)}else Ki(this._element).appendChild(h),o.push(t);h.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const r=this._itemPositions.find(i=>i.drag===t)?.initialTransform;e.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:r})=>{bE(r,t,e)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const r=e.getVisibleElement();return{drag:e,offset:0,initialTransform:r.style.transform||"",clientRect:PO(r)}}).sort((e,r)=>t?e.clientRect.left-r.clientRect.left:e.clientRect.top-r.clientRect.top)}_getItemOffsetPx(t,e,r){const i="horizontal"===this.orientation;let s=i?e.left-t.left:e.top-t.top;return-1===r&&(s+=i?e.width-t.width:e.height-t.height),s}_getSiblingOffsetPx(t,e,r){const i="horizontal"===this.orientation,s=e[t].clientRect,o=e[t+-1*r];let u=s[i?"width":"height"]*r;if(o){const h=i?"left":"top",p=i?"right":"bottom";-1===r?u-=o.clientRect[h]-s[p]:u+=s[h]-o.clientRect[p]}return u}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const o=r[r.length-1].clientRect;return i?t>=o.right:e>=o.bottom}{const o=r[0].clientRect;return i?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,r,i){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:u,clientRect:h})=>{if(u===t)return!1;if(i){const p=s?i.x:i.y;if(u===this._previousSwap.drag&&this._previousSwap.overlaps&&p===this._previousSwap.delta)return!1}return s?e>=Math.floor(h.left)&&e<Math.floor(h.right):r>=Math.floor(h.top)&&r<Math.floor(h.bottom)});return-1!==o&&this._sortPredicate(o,t)?o:-1}}class dq{constructor(t,e,r,i,s){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Cn.x,this.entered=new Cn.x,this.exited=new Cn.x,this.dropped=new Cn.x,this.sorted=new Cn.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=os.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Cn.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function iq(n=0,t=Jb.z){return n<0&&(n=0),CV(n,n,t)}(0,bV).pipe(Zd(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,u=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-u):2===this._verticalScrollDirection&&o.scrollBy(0,u),1===this._horizontalScrollDirection?o.scrollBy(-u,0):2===this._horizontalScrollDirection&&o.scrollBy(u,0)})},this.element=Ki(t),this._document=r,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new WB(r),this._sortStrategy=new uq(this.element,e),this._sortStrategy.withSortPredicate((o,u)=>this.sortPredicate(o,u,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,r,i){this._draggingStarted(),null==i&&this.sortingDisabled&&(i=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,r,i,s,o,u,h={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:o,dropPoint:u,event:h})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(e.filter(i=>i.isDragging()).every(i=>-1===t.indexOf(i))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Ki(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,r,i){if(this.sortingDisabled||!this._clientRect||!ZB(this._clientRect,.05,e,r))return;const s=this._sortStrategy.sort(t,e,r,i);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let r,i=0,s=0;if(this._parentPositions.positions.forEach((o,u)=>{u===this._document||!o.clientRect||r||ZB(o.clientRect,.05,t,e)&&([i,s]=function hq(n,t,e,r){const i=s6(t,r),s=o6(t,e);let o=0,u=0;if(i){const h=n.scrollTop;1===i?h>0&&(o=1):n.scrollHeight-h>n.clientHeight&&(o=2)}if(s){const h=n.scrollLeft;1===s?h>0&&(u=1):n.scrollWidth-h>n.clientWidth&&(u=2)}return[o,u]}(u,o.clientRect,t,e),(i||s)&&(r=u))}),!i&&!s){const{width:o,height:u}=this._viewportRuler.getViewportSize(),h={width:o,height:u,top:0,right:o,bottom:u,left:0};i=s6(h,e),s=o6(h,t),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Ki(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Ki(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Ki(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&NO(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,r){return this._siblings.find(i=>i._canReceive(t,e,r))}_canReceive(t,e,r){if(!this._clientRect||!NO(this._clientRect,e,r)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(e,r);if(!i)return!1;const s=Ki(this.element);return i===s||s.contains(i)}_startReceiving(t,e){const r=this._activeSiblings;!r.has(t)&&e.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=DF(Ki(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function s6(n,t){const{top:e,bottom:r,height:i}=n,s=.05*i;return t>=e-s&&t<=e+s?1:t>=r-s&&t<=r+s?2:0}function o6(n,t){const{left:e,right:r,width:i}=n,s=.05*i;return t>=e-s&&t<=e+s?1:t>=r-s&&t<=r+s?2:0}const zA=i_({passive:!1,capture:!0});let fq=(()=>{class n{constructor(e,r){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new Cn.x,this.pointerUp=new Cn.x,this.scroll=new Cn.x,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,zA)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,zA)}startDragging(e,r){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:zA}),i||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:zA}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(e){const r=this._activeDragInstances.indexOf(e);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const r=[this.scroll];return e&&e!==this._document&&r.push(new vi.y(i=>this._ngZone.runOutsideAngular(()=>{const o=u=>{this._activeDragInstances.length&&i.next(u)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),(0,Wo.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,r)=>{this._document.removeEventListener(r,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pq={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let VO=(()=>{class n{constructor(e,r,i,s){this._document=e,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(e,r=pq){return new lq(e,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new dq(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fe),l.LFG(l.R0b),l.LFG(WF),l.LFG(fq))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a6=new l.OlP("CDK_DRAG_PARENT"),BO=new l.OlP("CdkDropListGroup");let mq=(()=>{class n{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=di(e)}ngOnDestroy(){this._items.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[l._Bn([{provide:BO,useExisting:n}])]}),n})();const l6=new l.OlP("CDK_DRAG_CONFIG");let gq=0;const c6=new l.OlP("CdkDropList");let _q=(()=>{class n{constructor(e,r,i,s,o,u,h){this.element=e,this._changeDetectorRef=i,this._scrollDispatcher=s,this._dir=o,this._group=u,this._destroyed=new Cn.x,this.connectedTo=[],this.id="cdk-drop-list-"+gq++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new l.vpe,this.entered=new l.vpe,this.exited=new l.vpe,this.sorted=new l.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(e),this._dropListRef.data=this,h&&this._assignDefaults(h),this._dropListRef.enterPredicate=(p,g)=>this.enterPredicate(p.data,g.data),this._dropListRef.sortPredicate=(p,g,y)=>this.sortPredicate(p,g.data,y.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),u&&u._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=di(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,r)=>e._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Pr(this._dir.value),Zd(this._destroyed)).subscribe(r=>e.withDirection(r)),e.beforeStarted.subscribe(()=>{const r=oE(this.connectedTo).map(i=>"string"==typeof i?n._dropLists.find(o=>o.id===i):i);if(this._group&&this._group._items.forEach(i=>{-1===r.indexOf(i)&&r.push(i)}),!this._scrollableParentsResolved){const i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=di(this.sortingDisabled),e.autoScrollDisabled=di(this.autoScrollDisabled),e.autoScrollStep=sE(this.autoScrollStep,2),e.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:r,draggingDisabled:i,sortingDisabled:s,listAutoScrollDisabled:o,listOrientation:u}=e;this.disabled=i??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=u||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n._dropLists=[],n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(VO),l.Y36(l.sBO),l.Y36(SV),l.Y36(dm,8),l.Y36(BO,12),l.Y36(l6,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,r){2&e&&(l.uIk("id",r.id),l.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[l._Bn([{provide:BO,useValue:void 0},{provide:c6,useExisting:n}])]}),n})();const u6=new l.OlP("CdkDragHandle"),vq=new l.OlP("CdkDragPlaceholder"),yq=new l.OlP("CdkDragPreview");let xq=(()=>{class n{constructor(e,r,i,s,o,u,h,p,g,y,E){this.element=e,this.dropContainer=r,this._ngZone=s,this._viewContainerRef=o,this._dir=h,this._changeDetectorRef=g,this._selfHandle=y,this._parentDrag=E,this._destroyed=new Cn.x,this.started=new l.vpe,this.released=new l.vpe,this.ended=new l.vpe,this.entered=new l.vpe,this.exited=new l.vpe,this.dropped=new l.vpe,this.moved=new vi.y(T=>{const k=this._dragRef.moved.pipe((0,bn.U)(D=>({source:this,pointerPosition:D.pointerPosition,event:D.event,delta:D.delta,distance:D.distance}))).subscribe(T);return()=>{k.unsubscribe()}}),this._dragRef=p.createDrag(e,{dragStartThreshold:u&&null!=u.dragStartThreshold?u.dragStartThreshold:5,pointerDirectionChangeThreshold:u&&null!=u.pointerDirectionChangeThreshold?u.pointerDirectionChangeThreshold:5,zIndex:u?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),u&&this._assignDefaults(u),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=di(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Go(1),Zd(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const r=e.rootElementSelector,i=e.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let r=e;this.rootElementSelector&&(r=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Ki(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof i&&i?i:sE(i),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),r&&e.withDirection(r.value)}}),e.beforeStarted.pipe(Go(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(i=>i.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),e.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(e){const{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:o,boundaryElement:u,draggingDisabled:h,rootElementSelector:p,previewContainer:g}=e;this.disabled=h??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),s&&(this.constrainPosition=s),o&&(this.previewClass=o),u&&(this.boundaryElement=u),p&&(this.rootElementSelector=p),g&&(this.previewContainer=g)}_setupHandlesListener(){this._handles.changes.pipe(Pr(this._handles),(0,Hs.b)(e=>{const r=e.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),as(e=>(0,Wo.T)(...e.map(r=>r._stateChanges.pipe(Pr(r))))),Zd(this._destroyed)).subscribe(e=>{const r=this._dragRef,i=e.element.nativeElement;e.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(c6,12),l.Y36(Fe),l.Y36(l.R0b),l.Y36(l.s_b),l.Y36(l6,8),l.Y36(dm,8),l.Y36(VO),l.Y36(l.sBO),l.Y36(u6,10),l.Y36(a6,12))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,r,i){if(1&e&&(l.Suo(i,yq,5),l.Suo(i,vq,5),l.Suo(i,u6,5)),2&e){let s;l.iGM(s=l.CRH())&&(r._previewTemplate=s.first),l.iGM(s=l.CRH())&&(r._placeholderTemplate=s.first),l.iGM(s=l.CRH())&&(r._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,r){2&e&&l.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[l._Bn([{provide:a6,useExisting:n}]),l.TTD]}),n})(),bq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[VO],imports:[wA]}),n})();function Eq(n,t){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"img",18),l._uU(2),l.qZA()),2&n){const e=t.$implicit,r=l.oxw();l.xp6(1),l.s9C("src",r.getPhoto(e.photoURL),l.LSH),l.xp6(1),l.hij(" ",e.name," ")}}function Cq(n,t){if(1&n&&(l.TgZ(0,"div",19),l._UZ(1,"img",18),l.TgZ(2,"span"),l._uU(3),l.qZA()()),2&n){const e=t.$implicit,r=l.oxw();l.xp6(1),l.s9C("src",r.getPhotoInRoute(e),l.LSH),l.xp6(2),l.Oqu(e)}}let Dq=(()=>{class n{constructor(e,r,i,s,o,u,h){this.route=e,this.udataService=r,this.gudataService=i,this.cpdataService=s,this.transferService=o,this.platform=u,this.router=h,this.carpoolObj=new zv("","",[],void 0,"","","",void 0,void 0,!1),this.driver=void 0,this.isDriver=!1,this.driverName=void 0,this.driverAddress=void 0,this.snowbirdAddress="9385 Snowbird Center Dr, Sandy, UT 84092",this.vehicle=new tB("","","","","",void 0),this.passengerObjs=[],this.addresses=[],this.pipe=new Zl("en-US")}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus(),this.carpoolId=this.route.snapshot.paramMap.get("id"),this.cpdataService.getCarpoolWithId(this.carpoolId).then(e=>{this.carpoolObj=e,this.processDate(),this.vehicle=this.carpoolObj.vehicle,this.getPassengerObjs(this.carpoolObj.passengers).then(()=>{this.udataService.getUser(this.carpoolObj.driver).then(()=>{this.driver=this.transferService.getData(),this.transferService.clearData(),this.driver.uid==this.udataService.user.uid&&(this.isDriver=!0),this.driverName=this.driver.name,this.driverAddress=this.driver.address,"To Snowbird"==this.carpoolObj.direction?(this.addresses.unshift(this.driverAddress),this.addresses.push(this.snowbirdAddress)):(this.addresses.unshift(this.snowbirdAddress),this.addresses.push(this.driverAddress))})})}).catch(e=>{console.log(e)})}processDate(){var e=this.carpoolObj.date.toString().split(" ");this.dateStr=e[0]+" "+e[1]+" "+e[2]+" "+e[3]}getPassengerObjs(e){var r=this;return(0,Ee.Z)(function*(){for(var i of e)yield r.udataService.getUser(i).then(()=>{var s=r.transferService.getData();r.passengerObjs.push(s),r.addresses.push(s.address),r.transferService.clearData()}).catch(s=>{console.log(s)})})()}drop(e){e.previousContainer===e.container?n6(e.container.data,e.previousIndex,e.currentIndex):function cq(n,t,e,r){const i=CE(e,n.length-1),s=CE(r,t.length);n.length&&t.splice(s,0,n.splice(i,1)[0])}(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}getRemainingSeats(){return this.carpoolObj.totalSeats-this.carpoolObj.passengers.length}onShowRoute(){if(this.platform.IOS){if("To Snowbird"==this.carpoolObj.direction)var e=this.driverAddress,r=this.snowbirdAddress;else e=this.snowbirdAddress,r=this.driverAddress;var i="https://www.google.com/maps/dir/?api=1&origin="+encodeURIComponent(e)+"&waypoints="+encodeURIComponent(this.groupWaypoints(this.addresses))+"&destination="+encodeURIComponent(r)+"&travelmode=driving";console.log("***** URI *****"+i),window.open(i)}else!this.platform.ANDROID&&this.platform.isBrowser&&(e=this.addresses[0],r=this.addresses[this.addresses.length-1],i="https://www.google.com/maps/dir/?api=1&origin="+encodeURIComponent(e)+"&waypoints="+encodeURIComponent(this.groupWaypoints(this.addresses))+"&destination="+encodeURIComponent(r)+"&travelmode=driving",window.open(i))}navBack(){this.router.navigate(["carpools"])}getPhoto(e){return null==e||""==e?"../../../../assets/avatar.png":e}getPhotoInRoute(e){if(e==this.snowbirdAddress)return"../../../../assets/logo-snowbird.png";if(e==this.driverAddress)return this.driver.photoURL;for(var i=0;i<this.passengerObjs.length;i++)if(e==this.passengerObjs[i].address)return this.passengerObjs[i].photoURL;return"../../../../assets/avatar.png"}groupWaypoints(e){return e.slice(1,-1).join("|")}onTheWay(){this.cpdataService.updateCarpoolStatus(this.carpoolId,!0).then(e=>{window.location.reload()})}pause(){window.confirm("Do you want to stop this carpool? The data will not lost.")&&this.cpdataService.updateCarpoolStatus(this.carpoolId,!1).then(e=>{window.location.reload()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(jh),l.Y36(Zs),l.Y36(Oc),l.Y36(iE),l.Y36(So),l.Y36(Xo),l.Y36(br))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-carpool-details"]],decls:64,vars:15,consts:[[1,"col-sm-10","justify-content-center"],[1,"panel","panel-default"],[1,"panel-heading",3,"hidden"],[1,"panel-heading",2,"background-color","#68a36b",3,"hidden"],[2,"float","right",3,"hidden","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pause-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5z"],[1,"panel-body"],[4,"ngFor","ngForOf"],["cdkDropListGroup",""],[1,"route-container"],["cdkDropList","",1,"route-list",3,"cdkDropListData","cdkDropListDropped"],["class","route-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"emphasized"],[1,"btn","btn-warning","btn-block",3,"hidden","click"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"fixed-bottom",2,"width","100%"],[1,"img-thumbnail","rounded-circle",2,"width","50px","height","50px",3,"src"],["cdkDrag","",1,"route-box"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"b"),l._uU(4,"Carpool Info"),l.qZA()(),l.TgZ(5,"div",3)(6,"b"),l._uU(7,"This carpool is on-going..."),l.qZA(),l.TgZ(8,"span",4),l.NdJ("click",function(){return r.pause()}),l.O4$(),l.TgZ(9,"svg",5),l._UZ(10,"path",6)(11,"path",7),l.qZA()()(),l.kcU(),l.TgZ(12,"div",8)(13,"P")(14,"b"),l._uU(15,"Date: "),l.qZA(),l._uU(16),l.qZA(),l.TgZ(17,"p")(18,"b"),l._uU(19,"Driver: "),l.qZA(),l._uU(20),l.qZA(),l.TgZ(21,"p")(22,"b"),l._uU(23,"Vehicle: "),l.qZA(),l._uU(24),l.qZA(),l.TgZ(25,"p")(26,"b"),l._uU(27,"Passengers: "),l.qZA()(),l.YNc(28,Eq,3,2,"div",9),l._UZ(29,"br"),l.TgZ(30,"p")(31,"b"),l._uU(32,"Start Time: "),l.qZA(),l._uU(33),l.qZA(),l.TgZ(34,"p")(35,"b"),l._uU(36,"Arrival Time: "),l.qZA(),l._uU(37),l.qZA(),l.TgZ(38,"p")(39,"b"),l._uU(40,"Seats Remaining: "),l.qZA(),l._uU(41),l.qZA(),l.TgZ(42,"div",10)(43,"div",11)(44,"p")(45,"b"),l._uU(46,"Planning Route: "),l.qZA()(),l.TgZ(47,"div",12),l.NdJ("cdkDropListDropped",function(s){return r.drop(s)}),l.YNc(48,Cq,4,2,"div",13),l.qZA(),l._UZ(49,"p"),l.TgZ(50,"p")(51,"span",14),l._uU(52,"* Drag to reorder the addresses."),l.qZA()()()(),l.TgZ(53,"button",15),l.NdJ("click",function(){return r.onTheWay()}),l._uU(54," Start This Carpool "),l.qZA(),l.TgZ(55,"button",16),l.NdJ("click",function(){return r.onShowRoute()}),l._uU(56," Show Route "),l.qZA(),l.TgZ(57,"button",16),l.NdJ("click",function(){return r.navBack()}),l._uU(58," Back to Dashboard "),l.qZA()()()(),l._UZ(59,"br")(60,"br")(61,"br"),l.TgZ(62,"div",17),l._UZ(63,"app-navbar"),l.qZA()),2&e&&(l.xp6(2),l.Q6J("hidden",r.carpoolObj.hasStarted),l.xp6(3),l.Q6J("hidden",!r.carpoolObj.hasStarted),l.xp6(3),l.Q6J("hidden",!r.isDriver),l.xp6(8),l.Oqu(r.dateStr),l.xp6(4),l.Oqu(r.driverName),l.xp6(4),l.lnq("",r.vehicle.license," (",r.vehicle.make," ",r.vehicle.model,")"),l.xp6(4),l.Q6J("ngForOf",r.passengerObjs),l.xp6(5),l.Oqu(r.carpoolObj.startTime),l.xp6(4),l.Oqu(r.carpoolObj.arrivalTime),l.xp6(4),l.Oqu(r.getRemainingSeats()),l.xp6(6),l.Q6J("cdkDropListData",r.addresses),l.xp6(1),l.Q6J("ngForOf",r.addresses),l.xp6(5),l.Q6J("hidden",!r.isDriver||r.carpoolObj.hasStarted))},dependencies:[Ti,_q,mq,xq,d1],styles:[".route-container[_ngcontent-%COMP%]{width:400px;max-width:100%;margin:0 10px 10px 0;display:inline-block;vertical-align:top}.route-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;background:white;border-radius:4px;overflow:hidden;display:block}.route-box[_ngcontent-%COMP%]{padding:10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sq=(()=>{class n{constructor(e,r,i){this.udataService=e,this.vdataService=r,this.transferService=i,this.vehicleAdded=new l.vpe,this.app=(0,qr.ZF)(Sl_firebase),this.db=lm(this.app)}ngOnInit(){}onSaveCar(e,r,i,s,o){var u=this;return(0,Ee.Z)(function*(){""!=s.value&&""!=o.value?yield u.vdataService.getVehicle(s.value).then(h=>{var p=u.transferService.getData();if(u.transferService.clearData(),null==p){var g={uid:u.udataService.user.uid,nickname:e.value,make:r.value.toUpperCase(),model:i.value,license:s.value.toUpperCase(),seatsAvail:Number(o.value)};u.vdataService.addVehicle(g).then(y=>{u.vehicleAdded.emit({license:s.value})})}else alert("A vehicle with the same license already exists in the database. Please double check your input.")}).catch(h=>{console.log(h)}):alert("Please fill in the car license and number of seats available.")})()}onCancel(){this.vehicleAdded.emit({license:""})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Zs),l.Y36(CA),l.Y36(So))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-add-vehicle"]],inputs:{uid:"uid"},outputs:{vehicleAdded:"vehicleAdded"},decls:40,vars:0,consts:[[1,"list-group-item"],[1,"text-center"],[1,"form-row"],["for","nickname"],["id","nickname","type","text","placeholder","Give your vehicle a nickname!","required","",1,"form-control"],["nickname",""],["for","make"],["id","make","type","text","required","",1,"form-control"],["make",""],["for","model"],["id","model","type","text","required","",1,"form-control"],["model",""],["for","license"],["id","license","type","text","required","",1,"form-control"],["license",""],["for","seats"],["id","seats","type","number","required","",1,"form-control"],["seats",""],[1,"btn","btn-primary","btn-block",3,"click"]],template:function(e,r){if(1&e){const i=l.EpF();l.TgZ(0,"li",0)(1,"div",1)(2,"label"),l._uU(3,"Add My Vehicle"),l.qZA(),l._UZ(4,"br"),l.qZA(),l.TgZ(5,"form")(6,"div",2)(7,"label",3),l._uU(8,"Nickname"),l.qZA(),l._UZ(9,"input",4,5),l.qZA(),l._UZ(11,"br"),l.TgZ(12,"div",2)(13,"label",6),l._uU(14,"Car Make"),l.qZA(),l._UZ(15,"input",7,8),l.qZA(),l._UZ(17,"br"),l.TgZ(18,"div",2)(19,"label",9),l._uU(20,"Car Model"),l.qZA(),l._UZ(21,"input",10,11),l.qZA(),l._UZ(23,"br"),l.TgZ(24,"div",2)(25,"label",12),l._uU(26,"License"),l.qZA(),l._UZ(27,"input",13,14),l.qZA(),l._UZ(29,"br"),l.TgZ(30,"div",2)(31,"label",15),l._uU(32,"Seats Available"),l.qZA(),l._UZ(33,"input",16,17),l.qZA(),l._UZ(35,"br"),l.TgZ(36,"button",18),l.NdJ("click",function(){l.CHM(i);const o=l.MAs(10),u=l.MAs(16),h=l.MAs(22),p=l.MAs(28),g=l.MAs(34);return l.KtG(r.onSaveCar(o,u,h,p,g))}),l._uU(37,"Save This Vehicle "),l.qZA(),l.TgZ(38,"button",18),l.NdJ("click",function(){return r.onCancel()}),l._uU(39,"Cancel "),l.qZA()()()}},dependencies:[sp,Wa,jo]}),n})(),Tq=(()=>{class n{constructor(e){this.vdataService=e,this.vehicleDeleted=new l.vpe,this.vehicleUpdated=new l.vpe,this.isEditing=!1}ngOnInit(){}onDelete(){window.confirm("Delete this vehicle?")&&this.vdataService.deleteVehicle(this.vehicleObj).then(()=>{this.vehicleDeleted.emit({license:this.vehicleObj.license})}).catch(e=>{console.log(e)})}onEdit(){this.isEditing=!0}onSave(e,r,i,s,o){var u=this;return(0,Ee.Z)(function*(){""!=s.value&&""!=o.value?(u.isEditing=!1,u.vehicleObj.nickname=e.value,u.vehicleObj.make=r.value.toUpperCase(),u.vehicleObj.model=i.value,u.vehicleObj.license=s.value.toUpperCase(),u.vehicleObj.seatsAvail=Number(o.value),yield u.vdataService.updateVehicle(u.vehicleObj).then(h=>{u.vehicleUpdated.emit({license:u.vehicleObj.license})}).catch(h=>{console.log(h)})):alert("Please fill in the car license and number of seats available.")})()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(CA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-vehicle"]],inputs:{vehicleObj:"vehicleObj"},outputs:{vehicleDeleted:"vehicleDeleted",vehicleUpdated:"vehicleUpdated"},decls:68,vars:15,consts:[[1,"panel-body"],[2,"font-size","medium",3,"hidden","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],[3,"hidden","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check2-square"],["d","M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5H3z"],["d","m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"],[3,"hidden"],[1,"list-group-item"],[1,"form-group","row"],["for","nickname",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","input","id","nickname",1,"form-control",3,"value"],["nickname",""],["for","carmake",1,"col-sm-3","col-form-label"],["type","input","id","carmake",1,"form-control",3,"value"],["make",""],["for","carmodel",1,"col-sm-3","col-form-label"],["type","input","id","carmodel",1,"form-control",3,"value"],["model",""],["for","license",1,"col-sm-3","col-form-label"],["type","input","id","license",1,"form-control",3,"disabled","value"],["license",""],["for","seats",1,"col-sm-3","col-form-label"],["type","number","id","seats",1,"form-control",3,"value"],["seats",""]],template:function(e,r){if(1&e){const i=l.EpF();l.TgZ(0,"div",0)(1,"p")(2,"span",1),l.NdJ("click",function(){return r.onEdit()}),l.O4$(),l.TgZ(3,"svg",2),l._UZ(4,"path",3)(5,"path",4),l.qZA()(),l.kcU(),l.TgZ(6,"span",5),l.NdJ("click",function(){l.CHM(i);const o=l.MAs(43),u=l.MAs(49),h=l.MAs(55),p=l.MAs(61),g=l.MAs(67);return l.KtG(r.onSave(o,u,h,p,g))}),l.O4$(),l.TgZ(7,"svg",6),l._UZ(8,"path",7)(9,"path",8),l.qZA()(),l._uU(10," \xa0\xa0 "),l.kcU(),l.TgZ(11,"span",9),l.NdJ("click",function(){return r.onDelete()}),l.O4$(),l.TgZ(12,"svg",10),l._UZ(13,"path",11)(14,"path",12),l.qZA()()(),l.kcU(),l.TgZ(15,"p",13)(16,"li",14)(17,"b"),l._uU(18,"Nickname: "),l.qZA(),l._uU(19),l.qZA(),l.TgZ(20,"li",14)(21,"b"),l._uU(22,"Car Make: "),l.qZA(),l._uU(23),l.qZA(),l.TgZ(24,"li",14)(25,"b"),l._uU(26,"Car Model: "),l.qZA(),l._uU(27),l.qZA(),l.TgZ(28,"li",14)(29,"b"),l._uU(30,"License: "),l.qZA(),l._uU(31),l.qZA(),l.TgZ(32,"li",14)(33,"b"),l._uU(34,"Seats Available: "),l.qZA(),l._uU(35),l.qZA()(),l.TgZ(36,"form",13)(37,"li",14)(38,"div",15)(39,"label",16),l._uU(40,"Nickname:"),l.qZA(),l.TgZ(41,"div",17),l._UZ(42,"input",18,19),l.qZA()(),l.TgZ(44,"div",15)(45,"label",20),l._uU(46,"Car Make:"),l.qZA(),l.TgZ(47,"div",17),l._UZ(48,"input",21,22),l.qZA()(),l.TgZ(50,"div",15)(51,"label",23),l._uU(52,"Car Model:"),l.qZA(),l.TgZ(53,"div",17),l._UZ(54,"input",24,25),l.qZA()(),l.TgZ(56,"div",15)(57,"label",26),l._uU(58,"License:"),l.qZA(),l.TgZ(59,"div",17),l._UZ(60,"input",27,28),l.qZA()(),l.TgZ(62,"div",15)(63,"label",29),l._uU(64,"Seats Available:"),l.qZA(),l.TgZ(65,"div",17),l._UZ(66,"input",30,31),l.qZA()()()()()}2&e&&(l.xp6(2),l.Q6J("hidden",r.isEditing),l.xp6(4),l.Q6J("hidden",!r.isEditing),l.xp6(9),l.Q6J("hidden",r.isEditing),l.xp6(4),l.Oqu(r.vehicleObj.nickname),l.xp6(4),l.Oqu(r.vehicleObj.make),l.xp6(4),l.Oqu(r.vehicleObj.model),l.xp6(4),l.Oqu(r.vehicleObj.license),l.xp6(4),l.Oqu(r.vehicleObj.seatsAvail),l.xp6(1),l.Q6J("hidden",!r.isEditing),l.xp6(6),l.Q6J("value",r.vehicleObj.nickname),l.xp6(6),l.Q6J("value",r.vehicleObj.make),l.xp6(6),l.Q6J("value",r.vehicleObj.model),l.xp6(6),l.Q6J("disabled",!0)("value",r.vehicleObj.license),l.xp6(6),l.Q6J("value",r.vehicleObj.seatsAvail))},dependencies:[sp,Wa,jo]}),n})();function Aq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"app-vehicle",19),l.NdJ("vehicleDeleted",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s.onVehicleDeleted(i))}),l.qZA()}2&n&&l.Q6J("vehicleObj",t.$implicit)}let Iq=(()=>{class n{constructor(e,r,i,s,o,u){this.gudataService=e,this.udataService=r,this.localService=i,this.transferService=s,this.vdataService=o,this.router=u,this.app=(0,qr.ZF)(Sl_firebase),this.db=lm(this.app),this.photoURL="",this.nameText="",this.phoneText="",this.emailText="",this.addressText="",this.uid="",this.noPermission=!0,this.creatingVehicle=!1,this.vehicles=[]}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus().then(e=>{this.photoURL=this.udataService.user.photoURL,this.nameText=this.udataService.user.name,this.phoneText=this.udataService.user.phone,this.emailText=this.udataService.user.email,this.addressText=this.udataService.user.address,this.uid=this.udataService.user.uid,this.getAllVehicles(),0==this.udataService.user.type&&(this.noPermission=!1)}).catch(e=>{console.log(e)})}getAllVehicles(){var e=this;return(0,Ee.Z)(function*(){yield e.vdataService.getAllVehicles().then(()=>{e.vehicles=e.transferService.getData(),e.transferService.clearData()})})()}onEdit(){this.router.navigate(["editprofile"])}onLogout(){this.gudataService.account=void 0,this.udataService.user=void 0,this.localService.removeLocalData("uid"),this.localService.clearLocalData(),this.router.navigate(["login"])}onAprroveUserReg(){0==this.udataService.user.type?this.router.navigate(["approveusers"]):alert("Your account is not authorized to view and approve new registrations!")}addVehicle(){this.creatingVehicle=!0}onVehicleAdded(e){var r=this;return(0,Ee.Z)(function*(){""!=e.license&&window.location.reload(),r.creatingVehicle=!1})()}onVehicleUpdated(e){return(0,Ee.Z)(function*(){window.location.reload()})()}onVehicleDeleted(e){var r=this;return(0,Ee.Z)(function*(){yield r.getAllVehicles()})()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Oc),l.Y36(Zs),l.Y36(r_),l.Y36(So),l.Y36(CA),l.Y36(br))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-profile"]],decls:52,vars:9,consts:[[1,"col-sm-10","justify-content-center"],[1,"text-center"],[1,"rounded-circle",3,"src"],[1,"panel","panel-default"],[1,"panel-heading"],["clss","panel-body"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"panel-body"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],["type","button",1,"btn","btn-secondary","btn-block",3,"click"],["type","button",1,"btn","btn-warning","btn-block",3,"hidden","click"],[2,"float","right"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle-fill",3,"click"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"],[1,"panel-body",3,"hidden"],[3,"uid","vehicleAdded","vehicleUpdated"],[3,"vehicleObj","vehicleDeleted",4,"ngFor","ngForOf"],[1,"fixed-bottom",2,"width","100%"],[3,"vehicleObj","vehicleDeleted"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"img",2)(3,"br"),l.qZA(),l._UZ(4,"br"),l.TgZ(5,"div",3)(6,"div",4)(7,"b"),l._uU(8,"My Profile"),l.qZA()(),l.TgZ(9,"div",5)(10,"ul",6)(11,"li",7)(12,"b"),l._uU(13,"Name: "),l.qZA(),l._uU(14),l.qZA(),l.TgZ(15,"li",7)(16,"b"),l._uU(17,"Phone: "),l.qZA(),l._uU(18),l.qZA(),l.TgZ(19,"li",7)(20,"b"),l._uU(21,"E-mail: "),l.qZA(),l._uU(22),l.qZA(),l.TgZ(23,"li",7)(24,"b"),l._uU(25,"Address: "),l.qZA(),l._uU(26),l.qZA()()(),l.TgZ(27,"div",8)(28,"button",9),l.NdJ("click",function(){return r.onEdit()}),l._uU(29,"Edit"),l.qZA(),l.TgZ(30,"button",10),l.NdJ("click",function(){return r.onLogout()}),l._uU(31,"Logout"),l.qZA(),l.TgZ(32,"button",11),l.NdJ("click",function(){return r.onAprroveUserReg()}),l._uU(33," Approve User Registrations "),l.qZA()()(),l._UZ(34,"br"),l.TgZ(35,"div",3)(36,"div",4)(37,"b"),l._uU(38,"My Vehicles"),l.qZA(),l.TgZ(39,"span",12),l.O4$(),l.TgZ(40,"svg",13),l.NdJ("click",function(){return r.addVehicle()}),l._UZ(41,"path",14),l.qZA()()(),l.kcU(),l.TgZ(42,"div",5)(43,"ul",6)(44,"div",15)(45,"app-add-vehicle",16),l.NdJ("vehicleAdded",function(s){return r.onVehicleAdded(s)})("vehicleUpdated",function(s){return r.onVehicleUpdated(s)}),l.qZA()(),l.YNc(46,Aq,1,1,"app-vehicle",17),l.qZA()()()(),l._UZ(47,"br")(48,"br")(49,"br"),l.TgZ(50,"div",18),l._UZ(51,"app-navbar"),l.qZA()),2&e&&(l.xp6(2),l.s9C("src",r.photoURL,l.LSH),l.xp6(12),l.Oqu(r.nameText),l.xp6(4),l.Oqu(r.phoneText),l.xp6(4),l.Oqu(r.emailText),l.xp6(4),l.Oqu(r.addressText),l.xp6(6),l.Q6J("hidden",r.noPermission),l.xp6(12),l.Q6J("hidden",1!=r.creatingVehicle),l.xp6(1),l.Q6J("uid",r.uid),l.xp6(1),l.Q6J("ngForOf",r.vehicles))},dependencies:[Ti,d1,Sq,Tq]}),n})(),kq=(()=>{class n{constructor(e,r){this.gudataService=e,this.udataService=r,this.accountProcessed=new l.vpe}ngOnInit(){}onApprove(){this.udataService.addUser({uid:this.accountObj.uid,email:this.accountObj.email,photoURL:this.accountObj.photoURL,type:1,name:this.accountObj.displayName,phone:"",address:"",add:"",city:"",state:"",zip:"",initialized:!1}),this.accountProcessed.emit({ac:this.accountObj})}onDenied(){window.confirm("Deny this user's registration?")&&this.gudataService.deleteAccount(this.accountObj).then(()=>{this.accountProcessed.emit({ac:this.accountObj})}).catch(e=>{console.log(e)})}onApproveAsAdmin(){this.udataService.addUser({uid:this.accountObj.uid,email:this.accountObj.email,photoURL:this.accountObj.photoURL,type:0,name:this.accountObj.displayName,phone:"",address:"",add:"",city:"",state:"",zip:"",initialized:!1}),this.accountProcessed.emit({ac:this.accountObj})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Oc),l.Y36(Zs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-account-to-be-approved"]],inputs:{accountObj:"accountObj"},outputs:{accountProcessed:"accountProcessed"},decls:28,vars:5,consts:[[1,"panel","panel-default"],[1,"panel-heading",2,"text-align","center"],[1,"img-thumbnail","rounded-circle",2,"width","50px","height","50px",3,"src"],[1,"panel-body"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"btn","btn-warning","btn-block",3,"click"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"img",2)(3,"br"),l.TgZ(4,"p"),l._uU(5),l.qZA()(),l.TgZ(6,"div",3)(7,"p")(8,"b"),l._uU(9,"User Id:"),l.qZA(),l._uU(10),l.qZA(),l.TgZ(11,"p")(12,"b"),l._uU(13,"Google Account Name:"),l.qZA(),l._uU(14),l.qZA(),l._UZ(15,"p"),l.TgZ(16,"p")(17,"b"),l._uU(18,"G-mail Address:"),l.qZA(),l._uU(19),l.qZA(),l._UZ(20,"p")(21,"br"),l.TgZ(22,"button",4),l.NdJ("click",function(){return r.onApprove()}),l._uU(23," Approve "),l.qZA(),l.TgZ(24,"button",4),l.NdJ("click",function(){return r.onDenied()}),l._uU(25," Deny "),l.qZA(),l.TgZ(26,"button",5),l.NdJ("click",function(){return r.onApproveAsAdmin()}),l._uU(27," Approve and Set as Admin "),l.qZA()()()),2&e&&(l.xp6(2),l.s9C("src",r.accountObj.photoURL,l.LSH),l.xp6(3),l.Oqu(r.accountObj.displayName),l.xp6(5),l.hij(" ",r.accountObj.uid,""),l.xp6(4),l.hij(" ",r.accountObj.displayName,""),l.xp6(5),l.hij(" ",r.accountObj.email,""))}}),n})();function Mq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"app-account-to-be-approved",6),l.NdJ("accountProcessed",function(i){l.CHM(e);const s=l.oxw();return l.KtG(s.onProcessed(i))}),l.qZA()}2&n&&l.Q6J("accountObj",t.$implicit)}let Rq=(()=>{class n{constructor(e,r,i,s){this.gudataService=e,this.udataService=r,this.transferService=i,this.router=s,this.noUsersToApprove=!0,this.allAccounts=[],this.accounts=[]}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus().then(e=>{if(0!=this.udataService.user.type)return alert("Only admin accounts are authorized to view this page!"),void this.router.navigate(["carpools"]);this.getGoogleAccounts().then(()=>{this.filter().then(()=>{this.accounts.length>0&&(this.noUsersToApprove=!1)})})}).catch(e=>{console.log(e)})}getGoogleAccounts(){var e=this;return(0,Ee.Z)(function*(){yield e.gudataService.getAllAccounts().then(()=>{e.allAccounts=e.transferService.getData(),console.log(e.allAccounts.length+" google accounts fetched."),e.transferService.clearData()})})()}filter(){var e=this;return(0,Ee.Z)(function*(){for(var r=0;r<e.allAccounts.length;r++)console.log("FILTER PROCESS: "+e.allAccounts[r].displayName),yield e.udataService.getUser(e.allAccounts[r].uid).then(()=>{const i=e.transferService.getData();e.transferService.clearData(),null==i&&e.accounts.push(e.allAccounts[r])});console.log(e.accounts.length+" accounts wait to be approved.")})()}onProcessed(e){var r=this.accounts.indexOf(e);this.accounts.splice(r,1)}onNavBack(){this.router.navigate(["profile"])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Oc),l.Y36(Zs),l.Y36(So),l.Y36(br))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-approve-users"]],decls:16,vars:2,consts:[[1,"col-sm-10","justify-content-center"],[3,"accountObj","accountProcessed",4,"ngFor","ngForOf"],[1,"panel","panel-defaut",3,"hidden"],[1,"panel-body"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"fixed-bottom",2,"width","100%"],[3,"accountObj","accountProcessed"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Approve User Registration"),l.qZA(),l._UZ(3,"hr"),l.YNc(4,Mq,1,1,"app-account-to-be-approved",1),l.TgZ(5,"div",2)(6,"div",3)(7,"p"),l._uU(8,"No new users are waiting for approval."),l.qZA()()(),l.TgZ(9,"button",4),l.NdJ("click",function(){return r.onNavBack()}),l._uU(10,"Back"),l.qZA()(),l._UZ(11,"br")(12,"br")(13,"br"),l.TgZ(14,"div",5),l._UZ(15,"app-navbar"),l.qZA()),2&e&&(l.xp6(4),l.Q6J("ngForOf",r.accounts),l.xp6(1),l.Q6J("hidden",!r.noUsersToApprove))},dependencies:[Ti,d1,kq]}),n})(),Fq=(()=>{class n{constructor(e,r,i,s){this.gudataService=e,this.udataService=r,this.localService=i,this.router=s}ngOnInit(){null!=this.gudataService.account&&null!=this.udataService.user?this.router.navigate(this.udataService.user.initialized?["carpools"]:["editprofile"]):null!=this.localService.getLocalData("uid")&&this.router.navigate(["carpools"])}backToLogin(){this.router.navigate(["login"])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Oc),l.Y36(Zs),l.Y36(r_),l.Y36(br))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-notice"]],decls:14,vars:0,consts:[["type","button",1,"btn","btn-primary","btn-block",3,"click"]],template:function(e,r){1&e&&(l._UZ(0,"br"),l.TgZ(1,"h2"),l._uU(2,"Notice"),l.qZA(),l._UZ(3,"br"),l.TgZ(4,"div")(5,"p"),l._uU(6,"Your account is under approving by Snowbird Carpools admin!"),l.qZA(),l.TgZ(7,"p"),l._uU(8,"You'll be able to login after it is approved. Please try again later. "),l.qZA(),l.TgZ(9,"p"),l._uU(10,"Thank you for your patience!"),l.qZA()(),l.TgZ(11,"div")(12,"button",0),l.NdJ("click",function(){return r.backToLogin()}),l._uU(13,"Back To Login"),l.qZA()())}}),n})(),ZA=(()=>{class n{constructor(e,r,i){this.afs=e,this.udataService=r,this.transferService=i,this.app=(0,qr.ZF)(Sl_firebase),this.db=lm(this.app)}addSchedule(e,r){var i=this;return(0,Ee.Z)(function*(){return i.afs.collection("/Schedule").doc(r).set({date:e.date,attenders:e.attenders}).then(s=>{console.log("Daily Schedule added: "+r)}).catch(s=>{console.log("[SCHEDULE SERVICE] "+s)})})()}getScheduleByDate(e){var r=this;return(0,Ee.Z)(function*(){var i;const o=hs(Ia(r.db,"Schedule"),kl("date","==",e));yield Ja(o).then(u=>{if(0==u.size)console.log("[SCHEDULE SERVICE] No data found.");else{const p=u.docs;for(var h in p){const g=p[h].data();i={date:g.date,attenders:g.attenders},console.log("[SCHEDULE SERVICE] Schedule found: "+i.date)}r.transferService.setData(i)}}).catch(u=>{console.log("[GUDATA SERVICE] "+u)})})()}getScheduleByTimePeriod(e,r){var i=this;return(0,Ee.Z)(function*(){var o,s=[];const h=hs(Ia(i.db,"Schedule"),kl("date",">=",e),kl("date","<=",r));yield Ja(h).then(p=>{if(0==p.size)console.log("[SCHEDULE SERVICE] No data found.");else{const E=p.docs;for(var g in E){const T=E[g].data();o={date:new Date(1e3*T.date.seconds),attenders:T.attenders},s.push(o),console.log("[SCHEDULE SERVICE] Schedule found: "+o.date)}i.transferService.setData(s)}}).catch(p=>{console.log("[GUDATA SERVICE] "+p)})})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rE),l.LFG(Zs),l.LFG(So))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ol=1200,d_=1252,Oq=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],UO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},WA=function(n){-1!=Oq.indexOf(n)&&(d_=UO[0]=n)},Lc=function(n){Ol=n,WA(n)};function qA(){Lc(1200),function Pq(){WA(1252)}()}function YA(n){for(var t=[],e=0,r=n.length;e<r;++e)t[e]=n.charCodeAt(e);return t}function d6(n){for(var t=[],e=0;e<n.length>>1;++e)t[e]=String.fromCharCode(n.charCodeAt(2*e+1)+(n.charCodeAt(2*e)<<8));return t.join("")}var Er,p1=function(n){var t=n.charCodeAt(0),e=n.charCodeAt(1);return 255==t&&254==e?function Nq(n){for(var t=[],e=0;e<n.length>>1;++e)t[e]=String.fromCharCode(n.charCodeAt(2*e)+(n.charCodeAt(2*e+1)<<8));return t.join("")}(n.slice(2)):254==t&&255==e?d6(n.slice(2)):65279==t?n.slice(1):n},SE=function(t){return String.fromCharCode(t)},HO=function(t){return String.fromCharCode(t)},gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function AE(n){for(var t="",e=0,r=0,i=0,s=0,o=0,u=0,h=0,p=0;p<n.length;)s=(e=n.charCodeAt(p++))>>2,o=(3&e)<<4|(r=n.charCodeAt(p++))>>4,u=(15&r)<<2|(i=n.charCodeAt(p++))>>6,h=63&i,isNaN(r)?u=h=64:isNaN(i)&&(h=64),t+=gm.charAt(s)+gm.charAt(o)+gm.charAt(u)+gm.charAt(h);return t}function Pl(n){var t="",s=0,o=0,u=0,h=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<n.length;)s=gm.indexOf(n.charAt(p++)),o=gm.indexOf(n.charAt(p++)),t+=String.fromCharCode(s<<2|o>>4),64!==(u=gm.indexOf(n.charAt(p++)))&&(t+=String.fromCharCode((15&o)<<4|u>>2)),64!==(h=gm.indexOf(n.charAt(p++)))&&(t+=String.fromCharCode((3&u)<<6|h));return t}var or=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),gf=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function _m(n){return or?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function h6(n){return or?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Nl=function(t){return or?gf(t,"binary"):t.split("").map(function(e){return 255&e.charCodeAt(0)})};function vm(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],e=0;e<n.length;++e)t[e]=String.fromCharCode(n[e]);return t.join("")}function jO(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return jO(new Uint8Array(n));for(var t=new Array(n.length),e=0;e<n.length;++e)t[e]=n[e];return t}var fo=or?function(n){return Buffer.concat(n.map(function(t){return Buffer.isBuffer(t)?t:gf(t)}))}:function(n){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<n.length;++t)e+=n[t].length;var r=new Uint8Array(e),i=0;for(t=0,e=0;t<n.length;e+=i,++t)if(i=n[t].length,n[t]instanceof Uint8Array)r.set(n[t],e);else{if("string"==typeof n[t])throw"wtf";r.set(new Uint8Array(n[t]),e)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},Qo=/\u0000/g,kE=/[\u0001-\u0006]/g;function m1(n){for(var t="",e=n.length-1;e>=0;)t+=n.charAt(e--);return t}function Wu(n,t){var e=""+n;return e.length>=t?e:Ji("0",t-e.length)+e}function GO(n,t){var e=""+n;return e.length>=t?e:Ji(" ",t-e.length)+e}function KA(n,t){var e=""+n;return e.length>=t?e:e+Ji(" ",t-e.length)}var f6=Math.pow(2,32);function g1(n,t){return n>f6||n<-f6?function Bq(n,t){var e=""+Math.round(n);return e.length>=t?e:Ji("0",t-e.length)+e}(n,t):function Uq(n,t){var e=""+n;return e.length>=t?e:Ji("0",t-e.length)+e}(Math.round(n),t)}function XA(n,t){return n.length>=7+(t=t||0)&&103==(32|n.charCodeAt(t))&&101==(32|n.charCodeAt(t+1))&&110==(32|n.charCodeAt(t+2))&&101==(32|n.charCodeAt(t+3))&&114==(32|n.charCodeAt(t+4))&&97==(32|n.charCodeAt(t+5))&&108==(32|n.charCodeAt(t+6))}var p6=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],$O=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],In={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},m6={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jq={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function QA(n,t,e){for(var r=n<0?-1:1,i=n*r,s=0,o=1,u=0,h=1,p=0,g=0,y=Math.floor(i);p<t&&(u=(y=Math.floor(i))*o+s,g=y*p+h,!(i-y<5e-8));)i=1/(i-y),s=o,o=u,h=p,p=g;if(g>t&&(p>t?(g=h,u=s):(g=p,u=o)),!e)return[0,r*u,g];var E=Math.floor(r*u/g);return[E,r*u-E*g,g]}function ym(n,t,e){if(n>2958465||n<0)return null;var r=0|n,i=Math.floor(86400*(n-r)),s=0,o=[],u={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),t&&t.date1904&&(r+=1462),u.u>.9999&&(u.u=0,86400==++i&&(u.T=i=0,++r,++u.D)),60===r)o=e?[1317,10,29]:[1900,2,29],s=3;else if(0===r)o=e?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),o=[h.getFullYear(),h.getMonth()+1,h.getDate()],s=h.getDay(),r<60&&(s=(s+6)%7),e&&(s=function qq(n,t){t[0]-=581;var e=n.getDay();return n<60&&(e=(e+6)%7),e}(h,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=s,u}var g6=new Date(1899,11,31,0,0,0),Gq=g6.getTime(),$q=new Date(1900,2,1,0,0,0);function _6(n,t){var e=n.getTime();return t?e-=1262304e5:n>=$q&&(e+=864e5),(e-(Gq+6e4*(n.getTimezoneOffset()-g6.getTimezoneOffset())))/864e5}function zO(n){return-1==n.indexOf(".")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ME(n){var e,t=Math.floor(Math.log(Math.abs(n))*Math.LOG10E);return e=t>=-4&&t<=-1?n.toPrecision(10+t):Math.abs(t)<=9?function Zq(n){var t=n<0?12:11,e=zO(n.toFixed(12));return e.length<=t||(e=n.toPrecision(10)).length<=t?e:n.toExponential(5)}(n):10===t?n.toFixed(10).substr(0,12):function Wq(n){var t=zO(n.toFixed(11));return t.length>(n<0?12:11)||"0"===t||"-0"===t?n.toPrecision(6):t}(n),zO(function zq(n){return-1==n.indexOf("E")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(e.toUpperCase()))}function h_(n,t){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(0|n)===n?n.toString(10):ME(n);case"undefined":return"";case"object":if(null==n)return"";if(n instanceof Date)return Ll(14,_6(n,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+n)}function Yq(n,t,e,r){var h,i="",s=0,o=0,u=e.y,p=0;switch(n){case 98:u=e.y+543;case 121:switch(t.length){case 1:case 2:h=u%100,p=2;break;default:h=u%1e4,p=4}break;case 109:switch(t.length){case 1:case 2:h=e.m,p=t.length;break;case 3:return $O[e.m-1][1];case 5:return $O[e.m-1][0];default:return $O[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:h=e.d,p=t.length;break;case 3:return p6[e.q][0];default:return p6[e.q][1]}break;case 104:switch(t.length){case 1:case 2:h=1+(e.H+11)%12,p=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:h=e.H,p=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:h=e.M,p=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==e.u||"s"!=t&&"ss"!=t?(o=r>=2?3===r?1e3:100:1===r?10:1,(s=Math.round(o*(e.S+e.u)))>=60*o&&(s=0),"s"===t?0===s?"0":""+s/o:(i=Wu(s,2+r),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1))):Wu(e.S,t.length);case 90:switch(t){case"[h]":case"[hh]":h=24*e.D+e.H;break;case"[m]":case"[mm]":h=60*(24*e.D+e.H)+e.M;break;case"[s]":case"[ss]":h=60*(60*(24*e.D+e.H)+e.M)+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}p=3===t.length?1:2;break;case 101:h=u,p=1}return p>0?Wu(h,p):""}function wm(n){if(n.length<=3)return n;for(var e=n.length%3,r=n.substr(0,e);e!=n.length;e+=3)r+=(r.length>0?",":"")+n.substr(e,3);return r}var v6=/%/g;function y6(n,t){var e,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+y6(n,-t);var i=n.indexOf(".");-1===i&&(i=n.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),-1===(e=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);for(-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(o-e.length+s):e+="E+"+(o-s);"0."===e.substr(0,2);)e=(e=e.charAt(0)+e.substr(2,i)+"."+e.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,p,g){return h+p+g.substr(0,(i+s)%i)+"."+g.substr(s)+"E"})}else e=t.toExponential(r);return n.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),n.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var w6=/# (\?+)( ?)\/( ?)(\d+)/,x6=/^#*0*\.([0#]+)/,b6=/\).*[0#]/,E6=/\(###\) ###\\?-####/;function Ra(n){for(var e,t="",r=0;r!=n.length;++r)switch(e=n.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function C6(n,t){var e=Math.pow(10,t);return""+Math.round(n*e)/e}function D6(n,t){var e=n-Math.floor(n),r=Math.pow(10,t);return t<(""+Math.round(e*r)).length?0:Math.round(e*r)}function Vc(n,t,e){if(40===n.charCodeAt(0)&&!t.match(b6)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Vc("n",r,e):"("+Vc("n",r,-e)+")"}if(44===t.charCodeAt(t.length-1))return function Xq(n,t,e){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return _f(n,t.substr(0,r),e/Math.pow(10,3*(t.length-r)))}(n,t,e);if(-1!==t.indexOf("%"))return function Kq(n,t,e){var r=t.replace(v6,""),i=t.length-r.length;return _f(n,r,e*Math.pow(10,2*i))+Ji("%",i)}(n,t,e);if(-1!==t.indexOf("E"))return y6(t,e);if(36===t.charCodeAt(0))return"$"+Vc(n,t.substr(" "==t.charAt(1)?2:1),e);var i,s,o,u,h=Math.abs(e),p=e<0?"-":"";if(t.match(/^00+$/))return p+g1(h,t.length);if(t.match(/^[#?]+$/))return"0"===(i=g1(e,0))&&(i=""),i.length>t.length?i:Ra(t.substr(0,t.length-i.length))+i;if(s=t.match(w6))return function Qq(n,t,e){var r=parseInt(n[4],10),i=Math.round(t*r),s=Math.floor(i/r),o=i-s*r,u=r;return e+(0===s?"":""+s)+" "+(0===o?Ji(" ",n[1].length+1+n[4].length):GO(o,n[1].length)+n[2]+"/"+n[3]+Wu(u,n[4].length))}(s,h,p);if(t.match(/^#+0+$/))return p+g1(h,t.length-t.indexOf("0"));if(s=t.match(x6))return i=C6(e,s[1].length).replace(/^([^\.]+)$/,"$1."+Ra(s[1])).replace(/\.$/,"."+Ra(s[1])).replace(/\.(\d*)$/,function(k,D){return"."+D+Ji("0",Ra(s[1]).length-D.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return p+C6(h,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return p+wm(g1(h,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Vc(n,t,-e):wm(""+(Math.floor(e)+function eY(n,t){return t<(""+Math.round((n-Math.floor(n))*Math.pow(10,t))).length?1:0}(e,s[1].length)))+"."+Wu(D6(e,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Vc(n,t.replace(/^#,#*,/,""),e);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=m1(Vc(n,t.replace(/[\\-]/g,""),e)),o=0,m1(m1(t.replace(/\\/g,"")).replace(/[0#]/g,function(k){return o<i.length?i.charAt(o++):"0"===k?"0":""}));if(t.match(E6))return"("+(i=Vc(n,"##########",e)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var g="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),u=QA(h,Math.pow(10,o)-1,!1),i=""+p," "==(g=_f("n",s[1],u[1])).charAt(g.length-1)&&(g=g.substr(0,g.length-1)+"0"),i+=g+s[2]+"/"+s[3],(g=KA(u[2],o)).length<s[4].length&&(g=Ra(s[4].substr(s[4].length-g.length))+g),i+=g;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),p+((u=QA(h,Math.pow(10,o)-1,!0))[0]||(u[1]?"":"0"))+" "+(u[1]?GO(u[1],o)+s[2]+"/"+s[3]+KA(u[2],o):Ji(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=g1(e,0),t.length<=i.length?i:Ra(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var y=t.indexOf(".")-o,E=t.length-i.length-y;return Ra(t.substr(0,y)+i+t.substr(t.length-E))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=D6(e,s[1].length),e<0?"-"+Vc(n,t,-e):wm(function tY(n){return n<2147483647&&n>-2147483648?""+(n>=0?0|n:n-1|0):""+Math.floor(n)}(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(k){return"00,"+(k.length<3?Wu(0,3-k.length):"")+k})+"."+Wu(o,s[1].length);switch(t){case"###,##0.00":return Vc(n,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var T=wm(g1(h,0));return"0"!==T?p+T:"";case"###,###.00":return Vc(n,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return Vc(n,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function S6(n,t){var e,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+S6(n,-t);var i=n.indexOf(".");-1===i&&(i=n.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),!(e=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(o-e.length+s):e+="E+"+(o-s),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,p,g){return h+p+g.substr(0,(i+s)%i)+"."+g.substr(s)+"E"})}else e=t.toExponential(r);return n.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),n.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function Yd(n,t,e){if(40===n.charCodeAt(0)&&!t.match(b6)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Yd("n",r,e):"("+Yd("n",r,-e)+")"}if(44===t.charCodeAt(t.length-1))return function nY(n,t,e){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return _f(n,t.substr(0,r),e/Math.pow(10,3*(t.length-r)))}(n,t,e);if(-1!==t.indexOf("%"))return function rY(n,t,e){var r=t.replace(v6,""),i=t.length-r.length;return _f(n,r,e*Math.pow(10,2*i))+Ji("%",i)}(n,t,e);if(-1!==t.indexOf("E"))return S6(t,e);if(36===t.charCodeAt(0))return"$"+Yd(n,t.substr(" "==t.charAt(1)?2:1),e);var i,s,o,u,h=Math.abs(e),p=e<0?"-":"";if(t.match(/^00+$/))return p+Wu(h,t.length);if(t.match(/^[#?]+$/))return i=""+e,0===e&&(i=""),i.length>t.length?i:Ra(t.substr(0,t.length-i.length))+i;if(s=t.match(w6))return function Jq(n,t,e){return e+(0===t?"":""+t)+Ji(" ",n[1].length+2+n[4].length)}(s,h,p);if(t.match(/^#+0+$/))return p+Wu(h,t.length-t.indexOf("0"));if(s=t.match(x6))return i=(i=(""+e).replace(/^([^\.]+)$/,"$1."+Ra(s[1])).replace(/\.$/,"."+Ra(s[1]))).replace(/\.(\d*)$/,function(k,D){return"."+D+Ji("0",Ra(s[1]).length-D.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return p+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return p+wm(""+h);if(s=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Yd(n,t,-e):wm(""+e)+"."+Ji("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Yd(n,t.replace(/^#,#*,/,""),e);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=m1(Yd(n,t.replace(/[\\-]/g,""),e)),o=0,m1(m1(t.replace(/\\/g,"")).replace(/[0#]/g,function(k){return o<i.length?i.charAt(o++):"0"===k?"0":""}));if(t.match(E6))return"("+(i=Yd(n,"##########",e)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var g="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),u=QA(h,Math.pow(10,o)-1,!1),i=""+p," "==(g=_f("n",s[1],u[1])).charAt(g.length-1)&&(g=g.substr(0,g.length-1)+"0"),i+=g+s[2]+"/"+s[3],(g=KA(u[2],o)).length<s[4].length&&(g=Ra(s[4].substr(s[4].length-g.length))+g),i+=g;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),p+((u=QA(h,Math.pow(10,o)-1,!0))[0]||(u[1]?"":"0"))+" "+(u[1]?GO(u[1],o)+s[2]+"/"+s[3]+KA(u[2],o):Ji(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return t.length<=(i=""+e).length?i:Ra(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var y=t.indexOf(".")-o,E=t.length-i.length-y;return Ra(t.substr(0,y)+i+t.substr(t.length-E))}if(s=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+Yd(n,t,-e):wm(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(k){return"00,"+(k.length<3?Wu(0,3-k.length):"")+k})+"."+Wu(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var T=wm(""+h);return"0"!==T?p+T:"";default:if(t.match(/\.[0#?]*$/))return Yd(n,t.slice(0,t.lastIndexOf(".")),e)+Ra(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function _f(n,t,e){return(0|e)===e?Yd(n,t,e):Vc(n,t,e)}var T6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function f_(n){for(var t=0,e="",r="";t<n.length;)switch(e=n.charAt(t)){case"G":XA(n,t)&&(t+=6),t++;break;case'"':for(;34!==n.charCodeAt(++t)&&t<n.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===n.charAt(t+1)||"2"===n.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===n.substr(t,3).toUpperCase()||"AM/PM"===n.substr(t,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===n.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=e;"]"!==n.charAt(t++)&&t<n.length;)r+=n.charAt(t);if(r.match(T6))return!0;break;case".":case"0":case"#":for(;t<n.length&&("0#?.,E+-%".indexOf(e=n.charAt(++t))>-1||"\\"==e&&"-"==n.charAt(t+1)&&"0#".indexOf(n.charAt(t+2))>-1););break;case"?":for(;n.charAt(++t)===e;);break;case"*":++t,(" "==n.charAt(t)||"*"==n.charAt(t))&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<n.length&&"0123456789".indexOf(n.charAt(++t))>-1;);break;default:++t}return!1}var A6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function I6(n,t){if(null==t)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(n==e)return!0;break;case">":if(n>e)return!0;break;case"<":if(n<e)return!0;break;case"<>":if(n!=e)return!0;break;case">=":if(n>=e)return!0;break;case"<=":if(n<=e)return!0}return!1}function Ll(n,t,e){null==e&&(e={});var r="";switch(typeof n){case"string":r="m/d/yy"==n&&e.dateNF?e.dateNF:n;break;case"number":null==(r=14==n&&e.dateNF?e.dateNF:(null!=e.table?e.table:In)[n])&&(r=e.table&&e.table[m6[n]]||In[m6[n]]),null==r&&(r=jq[n]||"General")}if(XA(r,0))return h_(t,e);t instanceof Date&&(t=_6(t,e.date1904));var i=function oY(n,t){var e=function iY(n){for(var t=[],e=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:e=!e;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=n.substr(i,r-i),i=r+1}if(t[t.length]=n.substr(i),!0===e)throw new Error("Format |"+n+"| unterminated string ");return t}(n),r=e.length,i=e[r-1].indexOf("@");if(r<4&&i>-1&&--r,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if("number"!=typeof t)return[4,4===e.length||i>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=i>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=i>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=i>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"]}var s=t>0?e[0]:t<0?e[1]:e[2];if(-1===e[0].indexOf("[")&&-1===e[1].indexOf("["))return[r,s];if(null!=e[0].match(/\[[=<>]/)||null!=e[1].match(/\[[=<>]/)){var o=e[0].match(A6),u=e[1].match(A6);return I6(t,o)?[r,e[0]]:I6(t,u)?[r,e[1]]:[r,e[null!=o&&null!=u?2:1]]}return[r,s]}(r,t);if(XA(i[1]))return h_(t,e);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function sY(n,t,e,r){for(var p,g,y,i=[],s="",o=0,u="",h="t",E="H";o<n.length;)switch(u=n.charAt(o)){case"G":if(!XA(n,o))throw new Error("unrecognized character "+u+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";34!==(y=n.charCodeAt(++o))&&o<n.length;)s+=String.fromCharCode(y);i[i.length]={t:"t",v:s},++o;break;case"\\":var T=n.charAt(++o);i[i.length]={t:"("===T||")"===T?T:"t",v:T},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if("1"===n.charAt(o+1)||"2"===n.charAt(o+1)){if(null==p&&null==(p=ym(t,e,"2"===n.charAt(o+1))))return"";i[i.length]={t:"X",v:n.substr(o,2)},h=u,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||null==p&&null==(p=ym(t,e)))return"";for(s=u;++o<n.length&&n.charAt(o).toLowerCase()===u;)s+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=E),i[i.length]={t:u,v:s},h=u;break;case"A":case"a":case"\u4e0a":var D={t:u,v:u};if(null==p&&(p=ym(t,e)),"A/P"===n.substr(o,3).toUpperCase()?(null!=p&&(D.v=p.H>=12?"P":"A"),D.t="T",E="h",o+=3):"AM/PM"===n.substr(o,5).toUpperCase()?(null!=p&&(D.v=p.H>=12?"PM":"AM"),D.t="T",o+=5,E="h"):"\u4e0a\u5348/\u4e0b\u5348"===n.substr(o,5).toUpperCase()?(null!=p&&(D.v=p.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),D.t="T",o+=5,E="h"):(D.t="t",++o),null==p&&"T"===D.t)return"";i[i.length]=D,h=u;break;case"[":for(s=u;"]"!==n.charAt(o++)&&o<n.length;)s+=n.charAt(o);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(T6)){if(null==p&&null==(p=ym(t,e)))return"";i[i.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",f_(n)||(i[i.length]={t:"t",v:s}));break;case".":if(null!=p){for(s=u;++o<n.length&&"0"===(u=n.charAt(o));)s+=u;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++o<n.length&&"0#?.,E+-%".indexOf(u=n.charAt(o))>-1;)s+=u;i[i.length]={t:"n",v:s};break;case"?":for(s=u;n.charAt(++o)===u;)s+=u;i[i.length]={t:u,v:s},h=u;break;case"*":++o,(" "==n.charAt(o)||"*"==n.charAt(o))&&++o;break;case"(":case")":i[i.length]={t:1===r?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:u,v:u},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+n);i[i.length]={t:"t",v:u},++o}var j,R=0,B=0;for(o=i.length-1,h="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=E,h="h",R<1&&(R=1);break;case"s":(j=i[o].v.match(/\.0+$/))&&(B=Math.max(B,j[0].length-1)),R<3&&(R=3);case"d":case"y":case"M":case"e":h=i[o].t;break;case"m":"s"===h&&(i[o].t="M",R<2&&(R=2));break;case"X":break;case"Z":R<1&&i[o].v.match(/[Hh]/)&&(R=1),R<2&&i[o].v.match(/[Mm]/)&&(R=2),R<3&&i[o].v.match(/[Ss]/)&&(R=3)}switch(R){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M)}var re,V="";for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=Yq(i[o].t.charCodeAt(0),i[o].v,p,B),i[o].t="t";break;case"n":case"?":for(re=o+1;null!=i[re]&&("?"===(u=i[re].t)||"D"===u||(" "===u||"t"===u)&&null!=i[re+1]&&("?"===i[re+1].t||"t"===i[re+1].t&&"/"===i[re+1].v)||"("===i[o].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===i[re].v||" "===i[re].v&&null!=i[re+1]&&"?"==i[re+1].t));)i[o].v+=i[re].v,i[re]={v:"",t:";"},++re;V+=i[o].v,o=re-1;break;case"G":i[o].t="t",i[o].v=h_(t,e)}var ae,Y,ve="";if(V.length>0){40==V.charCodeAt(0)?(ae=t<0&&45===V.charCodeAt(0)?-t:t,Y=_f("n",V,ae)):(Y=_f("n",V,ae=t<0&&r>1?-t:t),ae<0&&i[0]&&"t"==i[0].t&&(Y=Y.substr(1),i[0].v="-"+i[0].v)),re=Y.length-1;var De=i.length;for(o=0;o<i.length;++o)if(null!=i[o]&&"t"!=i[o].t&&i[o].v.indexOf(".")>-1){De=o;break}var we=i.length;if(De===i.length&&-1===Y.indexOf("E")){for(o=i.length-1;o>=0;--o)null==i[o]||-1==="n?".indexOf(i[o].t)||(re>=i[o].v.length-1?i[o].v=Y.substr(1+(re-=i[o].v.length),i[o].v.length):re<0?i[o].v="":(i[o].v=Y.substr(0,re+1),re=-1),i[o].t="t",we=o);re>=0&&we<i.length&&(i[we].v=Y.substr(0,re+1)+i[we].v)}else if(De!==i.length&&-1===Y.indexOf("E")){for(re=Y.indexOf(".")-1,o=De;o>=0;--o)if(null!=i[o]&&-1!=="n?".indexOf(i[o].t)){for(g=i[o].v.indexOf(".")>-1&&o===De?i[o].v.indexOf(".")-1:i[o].v.length-1,ve=i[o].v.substr(g+1);g>=0;--g)re>=0&&("0"===i[o].v.charAt(g)||"#"===i[o].v.charAt(g))&&(ve=Y.charAt(re--)+ve);i[o].v=ve,i[o].t="t",we=o}for(re>=0&&we<i.length&&(i[we].v=Y.substr(0,re+1)+i[we].v),re=Y.indexOf(".")+1,o=De;o<i.length;++o)if(null!=i[o]&&(-1!=="n?(".indexOf(i[o].t)||o===De)){for(g=i[o].v.indexOf(".")>-1&&o===De?i[o].v.indexOf(".")+1:0,ve=i[o].v.substr(0,g);g<i[o].v.length;++g)re<Y.length&&(ve+=Y.charAt(re++));i[o].v=ve,i[o].t="t",we=o}}}for(o=0;o<i.length;++o)null!=i[o]&&"n?".indexOf(i[o].t)>-1&&(i[o].v=_f(i[o].t,i[o].v,ae=r>1&&t<0&&o>0&&"-"===i[o-1].v?-t:t),i[o].t="t");var Ue="";for(o=0;o!==i.length;++o)null!=i[o]&&(Ue+=i[o].v);return Ue}(i[1],t,e,i[0])}function Kd(n,t){if("number"!=typeof t){t=+t||-1;for(var e=0;e<392;++e)if(null!=In[e]){if(In[e]==n){t=e;break}}else t<0&&(t=e);t<0&&(t=391)}return In[t]=n,t}function _1(){In=function Hq(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',n}()}var lY={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},k6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,dY=function(){var n={version:"1.2.0"},e=function t(){for(var Y=0,De=new Array(256),we=0;256!=we;++we)De[we]=Y=1&(Y=1&(Y=1&(Y=1&(Y=1&(Y=1&(Y=1&(Y=1&(Y=we)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1;return typeof Int32Array<"u"?new Int32Array(De):De}(),i=function r(Y){var De=0,we=0,Ue=0,Ke=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Ue=0;256!=Ue;++Ue)Ke[Ue]=Y[Ue];for(Ue=0;256!=Ue;++Ue)for(we=Y[Ue],De=256+Ue;De<4096;De+=256)we=Ke[De]=we>>>8^Y[255&we];var Te=[];for(Ue=1;16!=Ue;++Ue)Te[Ue-1]=typeof Int32Array<"u"?Ke.subarray(256*Ue,256*Ue+256):Ke.slice(256*Ue,256*Ue+256);return Te}(e),s=i[0],o=i[1],u=i[2],h=i[3],p=i[4],g=i[5],y=i[6],E=i[7],T=i[8],k=i[9],D=i[10],R=i[11],B=i[12],j=i[13],V=i[14];return n.table=e,n.bstr=function re(Y,De){for(var we=-1^De,Ue=0,Ke=Y.length;Ue<Ke;)we=we>>>8^e[255&(we^Y.charCodeAt(Ue++))];return~we},n.buf=function ve(Y,De){for(var we=-1^De,Ue=Y.length-15,Ke=0;Ke<Ue;)we=V[Y[Ke++]^255&we]^j[Y[Ke++]^we>>8&255]^B[Y[Ke++]^we>>16&255]^R[Y[Ke++]^we>>>24]^D[Y[Ke++]]^k[Y[Ke++]]^T[Y[Ke++]]^E[Y[Ke++]]^y[Y[Ke++]]^g[Y[Ke++]]^p[Y[Ke++]]^h[Y[Ke++]]^u[Y[Ke++]]^o[Y[Ke++]]^s[Y[Ke++]]^e[Y[Ke++]];for(Ue+=15;Ke<Ue;)we=we>>>8^e[255&(we^Y[Ke++])];return~we},n.str=function ae(Y,De){for(var we=-1^De,Ue=0,Ke=Y.length,Te=0,Mt=0;Ue<Ke;)(Te=Y.charCodeAt(Ue++))<128?we=we>>>8^e[255&(we^Te)]:Te<2048?we=(we=we>>>8^e[255&(we^(192|Te>>6&31))])>>>8^e[255&(we^(128|63&Te))]:Te>=55296&&Te<57344?(Te=64+(1023&Te),Mt=1023&Y.charCodeAt(Ue++),we=(we=(we=(we=we>>>8^e[255&(we^(240|Te>>8&7))])>>>8^e[255&(we^(128|Te>>2&63))])>>>8^e[255&(we^(128|Mt>>6&15|(3&Te)<<4))])>>>8^e[255&(we^(128|63&Mt))]):we=(we=(we=we>>>8^e[255&(we^(224|Te>>12&15))])>>>8^e[255&(we^(128|Te>>6&63))])>>>8^e[255&(we^(128|63&Te))];return~we},n}(),Dn=function(){var h,t={};function r(U){if("/"==U.charAt(U.length-1))return-1===U.slice(0,-1).indexOf("/")?U:r(U.slice(0,-1));var Q=U.lastIndexOf("/");return-1===Q?U:U.slice(0,Q+1)}function i(U){if("/"==U.charAt(U.length-1))return i(U.slice(0,-1));var Q=U.lastIndexOf("/");return-1===Q?U:U.slice(Q+1)}function s(U,Q){"string"==typeof Q&&(Q=new Date(Q));var W=Q.getHours();W=(W=W<<6|Q.getMinutes())<<5|Q.getSeconds()>>>1,U.write_shift(2,W);var K=Q.getFullYear()-1980;K=(K=K<<4|Q.getMonth()+1)<<5|Q.getDate(),U.write_shift(2,K)}function u(U){Io(U,0);for(var Q={},W=0;U.l<=U.length-4;){var K=U.read_shift(2),J=U.read_shift(2),ee=U.l+J,Be={};21589===K&&(1&(W=U.read_shift(1))&&(Be.mtime=U.read_shift(4)),J>5&&(2&W&&(Be.atime=U.read_shift(4)),4&W&&(Be.ctime=U.read_shift(4))),Be.mtime&&(Be.mt=new Date(1e3*Be.mtime))),U.l=ee,Q[K]=Be}return Q}function p(){return h||(h={})}function g(U,Q){if(80==U[0]&&75==U[1])return N8(U,Q);if(109==(32|U[0])&&105==(32|U[1]))return function Qoe(U,Q){if("mime-version:"!=yt(U.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var W=Q&&Q.root||"",K=(or&&Buffer.isBuffer(U)?U.toString("binary"):yt(U)).split("\r\n"),J=0,ee="";for(J=0;J<K.length;++J)if(/^Content-Location:/i.test(ee=K[J])&&(ee=ee.slice(ee.indexOf("file")),W||(W=ee.slice(0,ee.lastIndexOf("/")+1)),ee.slice(0,W.length)!=W))for(;W.length>0&&(W=(W=W.slice(0,W.length-1)).slice(0,W.lastIndexOf("/")+1),ee.slice(0,W.length)!=W););var Be=(K[1]||"").match(/boundary="(.*?)"/);if(!Be)throw new Error("MAD cannot find boundary");var it="--"+(Be[1]||""),Ze={FileIndex:[],FullPaths:[]};Y(Ze);var Rt,$t=0;for(J=0;J<K.length;++J){var un=K[J];un!==it&&un!==it+"--"||($t++&&Xoe(Ze,K.slice(Rt,J),W),Rt=J)}return Ze}(U,Q);if(U.length<512)throw new Error("CFB file size "+U.length+" < 512");var W,J,ee,Be,it,Ge,K=512,He=[],Ze=U.slice(0,512);Io(Ze,0);var Rt=function y(U){if(80==U[U.l]&&75==U[U.l+1])return[0,0];U.chk(nn,"Header Signature: "),U.l+=16;var Q=U.read_shift(2,"u");return[U.read_shift(2,"u"),Q]}(Ze);switch(W=Rt[0]){case 3:K=512;break;case 4:K=4096;break;case 0:if(0==Rt[1])return N8(U,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+W)}512!==K&&Io(Ze=U.slice(0,K),28);var $t=U.slice(0,K);!function E(U,Q){var W;switch(U.l+=2,W=U.read_shift(2)){case 9:if(3!=Q)throw new Error("Sector Shift: Expected 9 saw "+W);break;case 12:if(4!=Q)throw new Error("Sector Shift: Expected 12 saw "+W);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+W)}U.chk("0600","Mini Sector Shift: "),U.chk("000000000000","Reserved: ")}(Ze,W);var un=Ze.read_shift(4,"i");if(3===W&&0!==un)throw new Error("# Directory Sectors: Expected 0 saw "+un);Ze.l+=4,Be=Ze.read_shift(4,"i"),Ze.l+=4,Ze.chk("00100000","Mini Stream Cutoff Size: "),it=Ze.read_shift(4,"i"),J=Ze.read_shift(4,"i"),Ge=Ze.read_shift(4,"i"),ee=Ze.read_shift(4,"i");for(var zt=-1,Kt=0;Kt<109&&!((zt=Ze.read_shift(4,"i"))<0);++Kt)He[Kt]=zt;var zn=function T(U,Q){for(var W=Math.ceil(U.length/Q)-1,K=[],J=1;J<W;++J)K[J-1]=U.slice(J*Q,(J+1)*Q);return K[W-1]=U.slice(W*Q),K}(U,K);R(Ge,ee,zn,K,He);var Si=function j(U,Q,W,K){var J=U.length,ee=[],Be=[],it=[],Ge=[],He=K-1,Ze=0,Rt=0,$t=0,un=0;for(Ze=0;Ze<J;++Ze)if(it=[],($t=Ze+Q)>=J&&($t-=J),!Be[$t]){Ge=[];var zt=[];for(Rt=$t;Rt>=0;){zt[Rt]=!0,Be[Rt]=!0,it[it.length]=Rt,Ge.push(U[Rt]);var Kt=W[Math.floor(4*Rt/K)];if(K<4+(un=4*Rt&He))throw new Error("FAT boundary crossed: "+Rt+" 4 "+K);if(!U[Kt]||zt[Rt=m_(U[Kt],un)])break}ee[$t]={nodes:it,data:J6([Ge])}}return ee}(zn,Be,He,K);Si[Be].name="!Directory",J>0&&it!==Mt&&(Si[it].name="!MiniFAT"),Si[He[0]].name="!FAT",Si.fat_addrs=He,Si.ssz=K;var Ms=[],jl=[],lC=[];(function V(U,Q,W,K,J,ee,Be,it){for(var un,Ge=0,He=K.length?2:0,Ze=Q[U].data,Rt=0,$t=0;Rt<Ze.length;Rt+=128){var zt=Ze.slice(Rt,Rt+128);Io(zt,64),$t=zt.read_shift(2),un=iI(zt,0,$t-He),K.push(un);var Kt={name:un,type:zt.read_shift(1),color:zt.read_shift(1),L:zt.read_shift(4,"i"),R:zt.read_shift(4,"i"),C:zt.read_shift(4,"i"),clsid:zt.read_shift(16),state:zt.read_shift(4,"i"),start:0,size:0};0!==zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2)&&(Kt.ct=re(zt,zt.l-8)),0!==zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2)&&(Kt.mt=re(zt,zt.l-8)),Kt.start=zt.read_shift(4,"i"),Kt.size=zt.read_shift(4,"i"),Kt.size<0&&Kt.start<0&&(Kt.size=Kt.type=0,Kt.start=Mt,Kt.name=""),5===Kt.type?(Ge=Kt.start,J>0&&Ge!==Mt&&(Q[Ge].name="!StreamData")):Kt.size>=4096?(Kt.storage="fat",void 0===Q[Kt.start]&&(Q[Kt.start]=B(W,Kt.start,Q.fat_addrs,Q.ssz)),Q[Kt.start].name=Kt.name,Kt.content=Q[Kt.start].data.slice(0,Kt.size)):(Kt.storage="minifat",Kt.size<0?Kt.size=0:Ge!==Mt&&Kt.start!==Mt&&Q[Ge]&&(Kt.content=D(Kt,Q[Ge].data,(Q[it]||{}).data))),Kt.content&&Io(Kt.content,0),ee[un]=Kt,Be.push(Kt)}})(Be,Si,zn,Ms,J,{},jl,it),function k(U,Q,W){for(var K=0,J=0,ee=0,Be=0,it=0,Ge=W.length,He=[],Ze=[];K<Ge;++K)He[K]=Ze[K]=K,Q[K]=W[K];for(;it<Ze.length;++it)J=U[K=Ze[it]].L,ee=U[K].R,Be=U[K].C,He[K]===K&&(-1!==J&&He[J]!==J&&(He[K]=He[J]),-1!==ee&&He[ee]!==ee&&(He[K]=He[ee])),-1!==Be&&(He[Be]=K),-1!==J&&K!=He[K]&&(He[J]=He[K],Ze.lastIndexOf(J)<it&&Ze.push(J)),-1!==ee&&K!=He[K]&&(He[ee]=He[K],Ze.lastIndexOf(ee)<it&&Ze.push(ee));for(K=1;K<Ge;++K)He[K]===K&&(-1!==ee&&He[ee]!==ee?He[K]=He[ee]:-1!==J&&He[J]!==J&&(He[K]=He[J]));for(K=1;K<Ge;++K)if(0!==U[K].type){if((it=K)!=He[it])do{Q[K]=Q[it=He[it]]+"/"+Q[K]}while(0!==it&&-1!==He[it]&&it!=He[it]);He[K]=-1}for(Q[0]+="/",K=1;K<Ge;++K)2!==U[K].type&&(Q[K]+="/")}(jl,lC,Ms),Ms.shift();var cC={FileIndex:jl,FullPaths:lC};return Q&&Q.raw&&(cC.raw={header:$t,sectors:zn}),cC}function D(U,Q,W){for(var J=U.size,ee=[],Be=U.start;W&&J>0&&Be>=0;)ee.push(Q.slice(Be*Te,Be*Te+Te)),J-=Te,Be=m_(W,4*Be);return 0===ee.length?tt(0):fo(ee).slice(0,U.size)}function R(U,Q,W,K,J){var ee=Mt;if(U===Mt){if(0!==Q)throw new Error("DIFAT chain shorter than expected")}else if(-1!==U){var Be=W[U],it=(K>>>2)-1;if(!Be)return;for(var Ge=0;Ge<it&&(ee=m_(Be,4*Ge))!==Mt;++Ge)J.push(ee);R(m_(Be,K-4),Q-1,W,K,J)}}function B(U,Q,W,K,J){var ee=[],Be=[];J||(J=[]);var it=K-1,Ge=0,He=0;for(Ge=Q;Ge>=0;){J[Ge]=!0,ee[ee.length]=Ge,Be.push(U[Ge]);var Ze=W[Math.floor(4*Ge/K)];if(K<4+(He=4*Ge&it))throw new Error("FAT boundary crossed: "+Ge+" 4 "+K);if(!U[Ze])break;Ge=m_(U[Ze],He)}return{nodes:ee,data:J6([Be])}}function re(U,Q){return new Date(1e3*(po(U,Q+4)/1e7*Math.pow(2,32)+po(U,Q)/1e7-11644473600))}function Y(U,Q){var W=Q||{},K=W.root||"Root Entry";if(U.FullPaths||(U.FullPaths=[]),U.FileIndex||(U.FileIndex=[]),U.FullPaths.length!==U.FileIndex.length)throw new Error("inconsistent CFB structure");0===U.FullPaths.length&&(U.FullPaths[0]=K+"/",U.FileIndex[0]={name:K,type:5}),W.CLSID&&(U.FileIndex[0].clsid=W.CLSID),function De(U){var Q="\x01Sh33tJ5";if(!Dn.find(U,"/"+Q)){var W=tt(4);W[0]=55,W[1]=W[3]=50,W[2]=54,U.FileIndex.push({name:Q,type:2,content:W,size:4,L:69,R:69,C:69}),U.FullPaths.push(U.FullPaths[0]+Q),we(U)}}(U)}function we(U,Q){Y(U);for(var W=!1,K=!1,J=U.FullPaths.length-1;J>=0;--J){var ee=U.FileIndex[J];switch(ee.type){case 0:K?W=!0:(U.FileIndex.pop(),U.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(ee.R*ee.L*ee.C)&&(W=!0),ee.R>-1&&ee.L>-1&&ee.R==ee.L&&(W=!0);break;default:W=!0}}if(W||Q){var Be=new Date(1987,1,19),it=0,Ge=Object.create?Object.create(null):{},He=[];for(J=0;J<U.FullPaths.length;++J)Ge[U.FullPaths[J]]=!0,0!==U.FileIndex[J].type&&He.push([U.FullPaths[J],U.FileIndex[J]]);for(J=0;J<He.length;++J){var Ze=r(He[J][0]);(K=Ge[Ze])||(He.push([Ze,{name:i(Ze).replace("/",""),type:1,clsid:lt,ct:Be,mt:Be,content:null}]),Ge[Ze]=!0)}for(He.sort(function(un,zt){return function e(U,Q){for(var W=U.split("/"),K=Q.split("/"),J=0,ee=0,Be=Math.min(W.length,K.length);J<Be;++J){if(ee=W[J].length-K[J].length)return ee;if(W[J]!=K[J])return W[J]<K[J]?-1:1}return W.length-K.length}(un[0],zt[0])}),U.FullPaths=[],U.FileIndex=[],J=0;J<He.length;++J)U.FullPaths[J]=He[J][0],U.FileIndex[J]=He[J][1];for(J=0;J<He.length;++J){var Rt=U.FileIndex[J],$t=U.FullPaths[J];if(Rt.name=i($t).replace("/",""),Rt.L=Rt.R=Rt.C=-(Rt.color=1),Rt.size=Rt.content?Rt.content.length:0,Rt.start=0,Rt.clsid=Rt.clsid||lt,0===J)Rt.C=He.length>1?1:-1,Rt.size=0,Rt.type=5;else if("/"==$t.slice(-1)){for(it=J+1;it<He.length&&r(U.FullPaths[it])!=$t;++it);for(Rt.C=it>=He.length?-1:it,it=J+1;it<He.length&&r(U.FullPaths[it])!=r($t);++it);Rt.R=it>=He.length?-1:it,Rt.type=1}else r(U.FullPaths[J+1]||"")==r($t)&&(Rt.R=J+1),Rt.type=2}}}function Ue(U,Q){var W=Q||{};if("mad"==W.fileType)return function Joe(U,Q){for(var W=Q||{},K=W.boundary||"SheetJS",J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(K="------="+K).slice(2)+'"',"","",""],ee=U.FullPaths[0],Be=ee,it=U.FileIndex[0],Ge=1;Ge<U.FullPaths.length;++Ge)if(Be=U.FullPaths[Ge].slice(ee.length),(it=U.FileIndex[Ge]).size&&it.content&&"\x01Sh33tJ5"!=Be){Be=Be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(zn){return"_x"+zn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(zn){return"_u"+zn.charCodeAt(0).toString(16)+"_"});for(var He=it.content,Ze=or&&Buffer.isBuffer(He)?He.toString("binary"):yt(He),Rt=0,$t=Math.min(1024,Ze.length),un=0,zt=0;zt<=$t;++zt)(un=Ze.charCodeAt(zt))>=32&&un<128&&++Rt;var Kt=Rt>=4*$t/5;J.push(K),J.push("Content-Location: "+(W.root||"file:///C:/SheetJS/")+Be),J.push("Content-Transfer-Encoding: "+(Kt?"quoted-printable":"base64")),J.push("Content-Type: "+Woe(it,Be)),J.push(""),J.push(Kt?Yoe(Ze):qoe(Ze))}return J.push(K+"--\r\n"),J.join("\r\n")}(U,W);if("zip"===(we(U),W.fileType))return function Zoe(U,Q){var W=Q||{},K=[],J=[],ee=tt(1),Be=W.compression?8:0,He=0,Ze=0,Rt=0,$t=0,un=U.FullPaths[0],zt=un,Kt=U.FileIndex[0],zn=[],Si=0;for(He=1;He<U.FullPaths.length;++He)if(zt=U.FullPaths[He].slice(un.length),(Kt=U.FileIndex[He]).size&&Kt.content&&"\x01Sh33tJ5"!=zt){var nl=Rt,Ms=tt(zt.length);for(Ze=0;Ze<zt.length;++Ze)Ms.write_shift(1,127&zt.charCodeAt(Ze));Ms=Ms.slice(0,Ms.l),zn[$t]=dY.buf(Kt.content,0);var jl=Kt.content;8==Be&&(jl=le(jl)),(ee=tt(30)).write_shift(4,67324752),ee.write_shift(2,20),ee.write_shift(2,0),ee.write_shift(2,Be),Kt.mt?s(ee,Kt.mt):ee.write_shift(4,0),ee.write_shift(-4,zn[$t]),ee.write_shift(4,jl.length),ee.write_shift(4,Kt.content.length),ee.write_shift(2,Ms.length),ee.write_shift(2,0),Rt+=ee.length,K.push(ee),Rt+=Ms.length,K.push(Ms),Rt+=jl.length,K.push(jl),(ee=tt(46)).write_shift(4,33639248),ee.write_shift(2,0),ee.write_shift(2,20),ee.write_shift(2,0),ee.write_shift(2,Be),ee.write_shift(4,0),ee.write_shift(-4,zn[$t]),ee.write_shift(4,jl.length),ee.write_shift(4,Kt.content.length),ee.write_shift(2,Ms.length),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(4,0),ee.write_shift(4,nl),Si+=ee.l,J.push(ee),Si+=Ms.length,J.push(Ms),++$t}return(ee=tt(22)).write_shift(4,101010256),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,$t),ee.write_shift(2,$t),ee.write_shift(4,Si),ee.write_shift(4,Rt),ee.write_shift(2,0),fo([fo(K),fo(J),ee])}(U,W);var K=function(un){for(var zt=0,Kt=0,zn=0;zn<un.FileIndex.length;++zn){var Si=un.FileIndex[zn];if(Si.content){var nl=Si.content.length;nl>0&&(nl<4096?zt+=nl+63>>6:Kt+=nl+511>>9)}}for(var Ms=un.FullPaths.length+3>>2,lC=zt+127>>7,cC=(zt+7>>3)+Kt+Ms+lC,M_=cC+127>>7,sN=M_<=109?0:Math.ceil((M_-109)/127);cC+M_+sN+127>>7>M_;)sN=++M_<=109?0:Math.ceil((M_-109)/127);var Cf=[1,sN,M_,lC,Ms,Kt,zt,0];return un.FileIndex[0].size=zt<<6,Cf[7]=(un.FileIndex[0].start=Cf[0]+Cf[1]+Cf[2]+Cf[3]+Cf[4]+Cf[5])+(Cf[6]+7>>3),Cf}(U),J=tt(K[7]<<9),ee=0,Be=0;for(ee=0;ee<8;++ee)J.write_shift(1,Ot[ee]);for(ee=0;ee<8;++ee)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),ee=0;ee<3;++ee)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,K[2]),J.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:Mt),J.write_shift(4,K[3]),J.write_shift(-4,K[1]?K[0]-1:Mt),J.write_shift(4,K[1]),ee=0;ee<109;++ee)J.write_shift(-4,ee<K[2]?K[1]+ee:-1);if(K[1])for(Be=0;Be<K[1];++Be){for(;ee<236+127*Be;++ee)J.write_shift(-4,ee<K[2]?K[1]+ee:-1);J.write_shift(-4,Be===K[1]-1?Mt:Be+1)}var it=function(un){for(Be+=un;ee<Be-1;++ee)J.write_shift(-4,ee+1);un&&(++ee,J.write_shift(-4,Mt))};for(Be=ee=0,Be+=K[1];ee<Be;++ee)J.write_shift(-4,dt.DIFSECT);for(Be+=K[2];ee<Be;++ee)J.write_shift(-4,dt.FATSECT);it(K[3]),it(K[4]);for(var Ge=0,He=0,Ze=U.FileIndex[0];Ge<U.FileIndex.length;++Ge)(Ze=U.FileIndex[Ge]).content&&!((He=Ze.content.length)<4096)&&(Ze.start=Be,it(He+511>>9));for(it(K[6]+7>>3);511&J.l;)J.write_shift(-4,dt.ENDOFCHAIN);for(Be=ee=0,Ge=0;Ge<U.FileIndex.length;++Ge)(Ze=U.FileIndex[Ge]).content&&(He=Ze.content.length)&&!(He>=4096)&&(Ze.start=Be,it(He+63>>6));for(;511&J.l;)J.write_shift(-4,dt.ENDOFCHAIN);for(ee=0;ee<K[4]<<2;++ee){var Rt=U.FullPaths[ee];if(Rt&&0!==Rt.length){Ze=U.FileIndex[ee],0===ee&&(Ze.start=Ze.size?Ze.start-1:Mt);var $t=0===ee&&W.root||Ze.name;if(He=2*($t.length+1),J.write_shift(64,$t,"utf16le"),J.write_shift(2,He),J.write_shift(1,Ze.type),J.write_shift(1,Ze.color),J.write_shift(-4,Ze.L),J.write_shift(-4,Ze.R),J.write_shift(-4,Ze.C),Ze.clsid)J.write_shift(16,Ze.clsid,"hex");else for(Ge=0;Ge<4;++Ge)J.write_shift(4,0);J.write_shift(4,Ze.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,Ze.start),J.write_shift(4,Ze.size),J.write_shift(4,0)}else{for(Ge=0;Ge<17;++Ge)J.write_shift(4,0);for(Ge=0;Ge<3;++Ge)J.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)J.write_shift(4,0)}}for(ee=1;ee<U.FileIndex.length;++ee)if((Ze=U.FileIndex[ee]).size>=4096)if(J.l=Ze.start+1<<9,or&&Buffer.isBuffer(Ze.content))Ze.content.copy(J,J.l,0,Ze.size),J.l+=Ze.size+511&-512;else{for(Ge=0;Ge<Ze.size;++Ge)J.write_shift(1,Ze.content[Ge]);for(;511&Ge;++Ge)J.write_shift(1,0)}for(ee=1;ee<U.FileIndex.length;++ee)if((Ze=U.FileIndex[ee]).size>0&&Ze.size<4096)if(or&&Buffer.isBuffer(Ze.content))Ze.content.copy(J,J.l,0,Ze.size),J.l+=Ze.size+63&-64;else{for(Ge=0;Ge<Ze.size;++Ge)J.write_shift(1,Ze.content[Ge]);for(;63&Ge;++Ge)J.write_shift(1,0)}if(or)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}t.version="1.2.1";var st,Te=64,Mt=-2,nn="d0cf11e0a1b11ae1",Ot=[208,207,17,224,161,177,26,225],lt="00000000000000000000000000000000",dt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Mt,FREESECT:-1,HEADER_SIGNATURE:nn,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:lt,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function yt(U){for(var Q=new Array(U.length),W=0;W<U.length;++W)Q[W]=String.fromCharCode(U[W]);return Q.join("")}function le(U){return st?st.deflateRawSync(U):ur(U)}for(var U,Q,me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],At=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],St=typeof Uint8Array<"u",ht=St?new Uint8Array(256):[],jn=0;jn<256;++jn)ht[jn]=(void 0,255&((Q=139536&((U=jn)<<1|U<<11)|558144&(U<<5|U<<15))>>16|Q>>8|Q));function oe(U,Q){var W=ht[255&U];return Q<=8?W>>>8-Q:(W=W<<8|ht[U>>8&255],Q<=16?W>>>16-Q:(W=W<<8|ht[U>>16&255])>>>24-Q)}function $r(U,Q){var W=7&Q,K=Q>>>3;return(U[K]|(W<=6?0:U[K+1]<<8))>>>W&3}function fr(U,Q){var W=7&Q,K=Q>>>3;return(U[K]|(W<=5?0:U[K+1]<<8))>>>W&7}function pr(U,Q){var W=7&Q,K=Q>>>3;return(U[K]|(W<=3?0:U[K+1]<<8))>>>W&31}function tn(U,Q){var W=7&Q,K=Q>>>3;return(U[K]|(W<=1?0:U[K+1]<<8))>>>W&127}function ps(U,Q,W){var K=7&Q,J=Q>>>3,Be=U[J]>>>K;return W<8-K||(Be|=U[J+1]<<8-K,W<16-K)||(Be|=U[J+2]<<16-K,W<24-K)||(Be|=U[J+3]<<24-K),Be&(1<<W)-1}function Zc(U,Q,W){var K=7&Q,J=Q>>>3;return K<=5?U[J]|=(7&W)<<K:(U[J]|=W<<K&255,U[J+1]=(7&W)>>8-K),Q+3}function rh(U,Q,W){return U[Q>>>3]|=W=(1&W)<<(7&Q),Q+1}function bf(U,Q,W){var J=Q>>>3;return U[J]|=255&(W<<=7&Q),U[J+1]=W>>>=8,Q+8}function oC(U,Q,W){var J=Q>>>3;return U[J]|=255&(W<<=7&Q),U[J+1]=255&(W>>>=8),U[J+2]=W>>>8,Q+16}function Am(U,Q){var W=U.length,K=2*W>Q?2*W:Q+5,J=0;if(W>=Q)return U;if(or){var ee=h6(K);if(U.copy)U.copy(ee);else for(;J<U.length;++J)ee[J]=U[J];return ee}if(St){var Be=new Uint8Array(K);if(Be.set)Be.set(U);else for(;J<W;++J)Be[J]=U[J];return Be}return U.length=K,U}function Hl(U){for(var Q=new Array(U),W=0;W<U;++W)Q[W]=0;return Q}function Ef(U,Q,W){var K=1,J=0,ee=0,Be=0,it=0,Ge=U.length,He=St?new Uint16Array(32):Hl(32);for(ee=0;ee<32;++ee)He[ee]=0;for(ee=Ge;ee<W;++ee)U[ee]=0;Ge=U.length;var Ze=St?new Uint16Array(Ge):Hl(Ge);for(ee=0;ee<Ge;++ee)He[J=U[ee]]++,K<J&&(K=J),Ze[ee]=0;for(He[0]=0,ee=1;ee<=K;++ee)He[ee+16]=it=it+He[ee-1]<<1;for(ee=0;ee<Ge;++ee)0!=(it=U[ee])&&(Ze[ee]=He[it+16]++);var Rt=0;for(ee=0;ee<Ge;++ee)if(0!=(Rt=U[ee]))for(it=oe(Ze[ee],K)>>K-Rt,Be=(1<<K+4-Rt)-1;Be>=0;--Be)Q[it|Be<<Rt]=15&Rt|ee<<4;return K}var Im=St?new Uint16Array(512):Hl(512),aC=St?new Uint16Array(32):Hl(32);if(!St){for(var Pa=0;Pa<512;++Pa)Im[Pa]=0;for(Pa=0;Pa<32;++Pa)aC[Pa]=0}!function(){for(var U=[],Q=0;Q<32;Q++)U.push(5);Ef(U,aC,32);var W=[];for(Q=0;Q<=143;Q++)W.push(8);for(;Q<=255;Q++)W.push(9);for(;Q<=279;Q++)W.push(7);for(;Q<=287;Q++)W.push(8);Ef(W,Im,288)}();var ih=function(){for(var Q=St?new Uint8Array(32768):[],W=0,K=0;W<At.length-1;++W)for(;K<At[W+1];++K)Q[K]=W;for(;K<32768;++K)Q[K]=29;var J=St?new Uint8Array(259):[];for(W=0,K=0;W<ot.length-1;++W)for(;K<ot[W+1];++K)J[K]=W;return function(Ge,He){return Ge.length<8?function ee(it,Ge){for(var He=0;He<it.length;){var Ze=Math.min(65535,it.length-He);for(Ge.write_shift(1,+(He+Ze==it.length)),Ge.write_shift(2,Ze),Ge.write_shift(2,65535&~Ze);Ze-- >0;)Ge[Ge.l++]=it[He++]}return Ge.l}(Ge,He):function Be(it,Ge){for(var He=0,Ze=0,Rt=St?new Uint16Array(32768):[];Ze<it.length;){var $t=Math.min(65535,it.length-Ze);if($t<10){for(7&(He=Zc(Ge,He,+(Ze+$t==it.length)))&&(He+=8-(7&He)),Ge.l=He/8|0,Ge.write_shift(2,$t),Ge.write_shift(2,65535&~$t);$t-- >0;)Ge[Ge.l++]=it[Ze++];He=8*Ge.l}else{He=Zc(Ge,He,+(Ze+$t==it.length)+2);for(var un=0;$t-- >0;){var zt=it[Ze],Kt=-1,zn=0;if((Kt=Rt[un=32767&(un<<5^zt)])&&((Kt|=-32768&Ze)>Ze&&(Kt-=32768),Kt<Ze))for(;it[Kt+zn]==it[Ze+zn]&&zn<250;)++zn;if(zn>2){(zt=J[zn])<=22?He=bf(Ge,He,ht[zt+1]>>1)-1:(bf(Ge,He,3),bf(Ge,He+=5,ht[zt-23]>>5),He+=3);var Si=zt<8?0:zt-4>>2;Si>0&&(oC(Ge,He,zn-ot[zt]),He+=Si),He=bf(Ge,He,ht[zt=Q[Ze-Kt]]>>3),He-=3;var nl=zt<4?0:zt-2>>1;nl>0&&(oC(Ge,He,Ze-Kt-At[zt]),He+=nl);for(var Ms=0;Ms<zn;++Ms)Rt[un]=32767&Ze,un=32767&(un<<5^it[Ze]),++Ze;$t-=zn-1}else zt<=143?zt+=48:He=rh(Ge,He,1),He=bf(Ge,He,ht[zt]),Rt[un]=32767&Ze,++Ze}He=bf(Ge,He,0)-1}}return Ge.l=(He+7)/8|0,Ge.l}(Ge,He)}}();function ur(U){var Q=tt(50+Math.floor(1.1*U.length)),W=ih(U,Q);return Q.slice(0,W)}var ms=St?new Uint16Array(32768):Hl(32768),Wc=St?new Uint16Array(32768):Hl(32768),qs=St?new Uint16Array(128):Hl(128),k_=1,F8=1;function Goe(U,Q){var W=pr(U,Q)+257,K=pr(U,Q+=5)+1,J=function zr(U,Q){var W=7&Q,K=Q>>>3;return(U[K]|(W<=4?0:U[K+1]<<8))>>>W&15}(U,Q+=5)+4;Q+=4;for(var ee=0,Be=St?new Uint8Array(19):Hl(19),it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,He=St?new Uint8Array(8):Hl(8),Ze=St?new Uint8Array(8):Hl(8),Rt=Be.length,$t=0;$t<J;++$t)Be[me[$t]]=ee=fr(U,Q),Ge<ee&&(Ge=ee),He[ee]++,Q+=3;var un=0;for(He[0]=0,$t=1;$t<=Ge;++$t)Ze[$t]=un=un+He[$t-1]<<1;for($t=0;$t<Rt;++$t)0!=(un=Be[$t])&&(it[$t]=Ze[un]++);var zt=0;for($t=0;$t<Rt;++$t)if(0!=(zt=Be[$t])){un=ht[it[$t]]>>8-zt;for(var Kt=(1<<7-zt)-1;Kt>=0;--Kt)qs[un|Kt<<zt]=7&zt|$t<<3}var zn=[];for(Ge=1;zn.length<W+K;)switch(un=qs[tn(U,Q)],Q+=7&un,un>>>=3){case 16:for(ee=3+$r(U,Q),Q+=2,un=zn[zn.length-1];ee-- >0;)zn.push(un);break;case 17:for(ee=3+fr(U,Q),Q+=3;ee-- >0;)zn.push(0);break;case 18:for(ee=11+tn(U,Q),Q+=7;ee-- >0;)zn.push(0);break;default:zn.push(un),Ge<un&&(Ge=un)}var Si=zn.slice(0,W),nl=zn.slice(W);for($t=W;$t<286;++$t)Si[$t]=0;for($t=K;$t<30;++$t)nl[$t]=0;return k_=Ef(Si,ms,286),F8=Ef(nl,Wc,30),Q}function O8(U,Q){var K=function $oe(U,Q){if(3==U[0]&&!(3&U[1]))return[_m(Q),2];for(var W=0,K=0,J=h6(Q||1<<18),ee=0,Be=J.length>>>0,it=0,Ge=0;0==(1&K);)if(K=fr(U,W),W+=3,K>>>1!=0)for(K>>1==1?(it=9,Ge=5):(W=Goe(U,W),it=k_,Ge=F8);;){!Q&&Be<ee+32767&&(Be=(J=Am(J,ee+32767)).length);var Ze=ps(U,W,it),Rt=K>>>1==1?Im[Ze]:ms[Ze];if(W+=15&Rt,0==((Rt>>>=4)>>>8&255))J[ee++]=Rt;else{if(256==Rt)break;var $t=(Rt-=257)<8?0:Rt-4>>2;$t>5&&($t=0);var un=ee+ot[Rt];$t>0&&(un+=ps(U,W,$t),W+=$t),Ze=ps(U,W,Ge),W+=15&(Rt=K>>>1==1?aC[Ze]:Wc[Ze]);var zt=(Rt>>>=4)<4?0:Rt-2>>1,Kt=At[Rt];for(zt>0&&(Kt+=ps(U,W,zt),W+=zt),!Q&&Be<un&&(Be=(J=Am(J,un+100)).length);ee<un;)J[ee]=J[ee-Kt],++ee}}else{7&W&&(W+=8-(7&W));var He=U[W>>>3]|U[1+(W>>>3)]<<8;if(W+=32,He>0)for(!Q&&Be<ee+He&&(Be=(J=Am(J,ee+He)).length);He-- >0;)J[ee++]=U[W>>>3],W+=8}return Q?[J,W+7>>>3]:[J.slice(0,ee),W+7>>>3]}(U.slice(U.l||0),Q);return U.l+=K[1],K[0]}function P8(U,Q){if(!U)throw new Error(Q);typeof console<"u"&&console.error(Q)}function N8(U,Q){var W=U;Io(W,0);var ee={FileIndex:[],FullPaths:[]};Y(ee,{root:Q.root});for(var Be=W.length-4;(80!=W[Be]||75!=W[Be+1]||5!=W[Be+2]||6!=W[Be+3])&&Be>=0;)--Be;W.l=Be+4,W.l+=4;var it=W.read_shift(2);W.l+=6;var Ge=W.read_shift(4);for(W.l=Ge,Be=0;Be<it;++Be){W.l+=20;var He=W.read_shift(4),Ze=W.read_shift(4),Rt=W.read_shift(2),$t=W.read_shift(2),un=W.read_shift(2);W.l+=8;var zt=W.read_shift(4),Kt=u(W.slice(W.l+Rt,W.l+Rt+$t));W.l+=Rt+$t+un;var zn=W.l;W.l=zt+4,zoe(W,He,Ze,ee,Kt),W.l=zn}return ee}function zoe(U,Q,W,K,J){U.l+=2;var ee=U.read_shift(2),Be=U.read_shift(2),it=function o(U){var Q=65535&U.read_shift(2),W=65535&U.read_shift(2),K=new Date,J=31&W,ee=15&(W>>>=5);W>>>=4,K.setMilliseconds(0),K.setFullYear(W+1980),K.setMonth(ee-1),K.setDate(J);var Be=31&Q,it=63&(Q>>>=5);return K.setHours(Q>>>=6),K.setMinutes(it),K.setSeconds(Be<<1),K}(U);if(8257&ee)throw new Error("Unsupported ZIP encryption");U.read_shift(4);for(var He=U.read_shift(4),Ze=U.read_shift(4),Rt=U.read_shift(2),$t=U.read_shift(2),un="",zt=0;zt<Rt;++zt)un+=String.fromCharCode(U[U.l++]);if($t){var Kt=u(U.slice(U.l,U.l+$t));(Kt[21589]||{}).mt&&(it=Kt[21589].mt),((J||{})[21589]||{}).mt&&(it=J[21589].mt)}U.l+=$t;var zn=U.slice(U.l,U.l+He);switch(Be){case 8:zn=function Oe(U,Q){if(!st)return O8(U,Q);var K=new(0,st.InflateRaw),J=K._processChunk(U.slice(U.l),K._finishFlushFlag);return U.l+=K.bytesRead,J}(U,Ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Be)}var Si=!1;8&ee&&(134695760==U.read_shift(4)&&(U.read_shift(4),Si=!0),He=U.read_shift(4),Ze=U.read_shift(4)),He!=Q&&P8(Si,"Bad compressed size: "+Q+" != "+He),Ze!=W&&P8(Si,"Bad uncompressed size: "+W+" != "+Ze),iN(K,un,zn,{unsafe:!0,mt:it})}var AI={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Woe(U,Q){if(U.ctype)return U.ctype;var W=U.name||"",K=W.match(/\.([^\.]+)$/);return K&&AI[K[1]]||Q&&(K=(W=Q).match(/[\.\\]([^\.\\])+$/))&&AI[K[1]]?AI[K[1]]:"application/octet-stream"}function qoe(U){for(var Q=AE(U),W=[],K=0;K<Q.length;K+=76)W.push(Q.slice(K,K+76));return W.join("\r\n")+"\r\n"}function Yoe(U){var Q=U.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(He){var Ze=He.charCodeAt(0).toString(16).toUpperCase();return"="+(1==Ze.length?"0"+Ze:Ze)});"\n"==(Q=Q.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(Q="=0D"+Q.slice(1));for(var W=[],K=(Q=Q.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),J=0;J<K.length;++J){var ee=K[J];if(0!=ee.length)for(var Be=0;Be<ee.length;){var it=76,Ge=ee.slice(Be,Be+it);"="==Ge.charAt(it-1)?it--:"="==Ge.charAt(it-2)?it-=2:"="==Ge.charAt(it-3)&&(it-=3),Ge=ee.slice(Be,Be+it),(Be+=it)<ee.length&&(Ge+="="),W.push(Ge)}else W.push("")}return W.join("\r\n")}function Xoe(U,Q,W){for(var Be,K="",J="",ee="",it=0;it<10;++it){var Ge=Q[it];if(!Ge||Ge.match(/^\s*$/))break;var He=Ge.match(/^(.*?):\s*([^\s].*)$/);if(He)switch(He[1].toLowerCase()){case"content-location":K=He[2].trim();break;case"content-type":ee=He[2].trim();break;case"content-transfer-encoding":J=He[2].trim()}}switch(++it,J.toLowerCase()){case"base64":Be=Nl(Pl(Q.slice(it).join("")));break;case"quoted-printable":Be=function Koe(U){for(var Q=[],W=0;W<U.length;++W){for(var K=U[W];W<=U.length&&"="==K.charAt(K.length-1);)K=K.slice(0,K.length-1)+U[++W];Q.push(K)}for(var J=0;J<Q.length;++J)Q[J]=Q[J].replace(/[=][0-9A-Fa-f]{2}/g,function(ee){return String.fromCharCode(parseInt(ee.slice(1),16))});return Nl(Q.join("\r\n"))}(Q.slice(it));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var Ze=iN(U,K.slice(W.length),Be,{unsafe:!0});ee&&(Ze.ctype=ee)}function iN(U,Q,W,K){var J=K&&K.unsafe;J||Y(U);var ee=!J&&Dn.find(U,Q);if(!ee){var Be=U.FullPaths[0];Q.slice(0,Be.length)==Be?Be=Q:("/"!=Be.slice(-1)&&(Be+="/"),Be=(Be+Q).replace("//","/")),ee={name:i(Q),type:2},U.FileIndex.push(ee),U.FullPaths.push(Be),J||Dn.utils.cfb_gc(U)}return ee.content=W,ee.size=W?W.length:0,K&&(K.CLSID&&(ee.clsid=K.CLSID),K.mt&&(ee.mt=K.mt),K.ct&&(ee.ct=K.ct)),ee}return t.find=function Ke(U,Q){var W=U.FullPaths.map(function(Ge){return Ge.toUpperCase()}),K=W.map(function(Ge){var He=Ge.split("/");return He[He.length-("/"==Ge.slice(-1)?2:1)]}),J=!1;47===Q.charCodeAt(0)?(J=!0,Q=W[0].slice(0,-1)+Q):J=-1!==Q.indexOf("/");var ee=Q.toUpperCase(),Be=!0===J?W.indexOf(ee):K.indexOf(ee);if(-1!==Be)return U.FileIndex[Be];var it=!ee.match(kE);for(ee=ee.replace(Qo,""),it&&(ee=ee.replace(kE,"!")),Be=0;Be<W.length;++Be)if((it?W[Be].replace(kE,"!"):W[Be]).replace(Qo,"")==ee||(it?K[Be].replace(kE,"!"):K[Be]).replace(Qo,"")==ee)return U.FileIndex[Be];return null},t.read=function ae(U,Q){var W=Q&&Q.type;switch(W||or&&Buffer.isBuffer(U)&&(W="buffer"),W||"base64"){case"file":return function ve(U,Q){return p(),g(h.readFileSync(U),Q)}(U,Q);case"base64":return g(Nl(Pl(U)),Q);case"binary":return g(Nl(U),Q)}return g(U,Q)},t.parse=g,t.write=function Zt(U,Q){var W=Ue(U,Q);switch(Q&&Q.type||"buffer"){case"file":return p(),h.writeFileSync(Q.filename,W),W;case"binary":return"string"==typeof W?W:yt(W);case"base64":return AE("string"==typeof W?W:yt(W));case"buffer":if(or)return Buffer.isBuffer(W)?W:gf(W);case"array":return"string"==typeof W?Nl(W):W}return W},t.writeFile=function Lt(U,Q,W){p();var K=Ue(U,W);h.writeFileSync(Q,K)},t.utils={cfb_new:function eae(U){var Q={};return Y(Q,U),Q},cfb_add:iN,cfb_del:function tae(U,Q){Y(U);var W=Dn.find(U,Q);if(W)for(var K=0;K<U.FileIndex.length;++K)if(U.FileIndex[K]==W)return U.FileIndex.splice(K,1),U.FullPaths.splice(K,1),!0;return!1},cfb_mov:function nae(U,Q,W){Y(U);var K=Dn.find(U,Q);if(K)for(var J=0;J<U.FileIndex.length;++J)if(U.FileIndex[J]==K)return U.FileIndex[J].name=i(W),U.FullPaths[J]=W,!0;return!1},cfb_gc:function rae(U){we(U,!0)},ReadShift:LE,CheckField:dU,prep_blob:Io,bconcat:fo,use_zlib:function ne(U){try{var W=new(0,U.InflateRaw);if(W._processChunk(new Uint8Array([3,0]),W._finishFlushFlag),!W.bytesRead)throw new Error("zlib does not expose bytesRead");st=U}catch(K){console.error("cannot use native zlib: "+(K.message||K))}},_deflateRaw:ur,_inflateRaw:O8,consts:dt},t}();function Qi(n){for(var t=Object.keys(n),e=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(n,t[r])&&e.push(t[r]);return e}function JA(n){for(var t=[],e=Qi(n),r=0;r!==e.length;++r)t[n[e[r]]]=e[r];return t}var tI=new Date(1899,11,30,0,0,0);function Ws(n,t){var e=n.getTime();return t&&(e-=1263168e5),(e-(tI.getTime()+6e4*(n.getTimezoneOffset()-tI.getTimezoneOffset())))/864e5}var R6=new Date,mY=tI.getTime()+6e4*(R6.getTimezoneOffset()-tI.getTimezoneOffset()),F6=R6.getTimezoneOffset();function nI(n){var t=new Date;return t.setTime(24*n*60*60*1e3+mY),t.getTimezoneOffset()!==F6&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-F6)),t}function gY(n){var t=0,e=0,r=!1,i=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(e=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":e*=24;case"H":e*=60;case"M":if(!r)throw new Error("Unsupported ISO Duration Field: M");e*=60}t+=e*parseInt(i[s],10)}return t}var O6=new Date("2017-02-19T19:06:09.000Z"),P6=isNaN(O6.getFullYear())?new Date("2/19/17"):O6,_Y=2017==P6.getFullYear();function Ui(n,t){var e=new Date(n);if(_Y)return t>0?e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3):t<0&&e.setTime(e.getTime()-60*e.getTimezoneOffset()*1e3),e;if(n instanceof Date)return n;if(1917==P6.getFullYear()&&!isNaN(e.getFullYear())){var r=e.getFullYear();return n.indexOf(""+r)>-1||e.setFullYear(e.getFullYear()+100),e}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function p_(n,t){if(or&&Buffer.isBuffer(n)){if(t){if(255==n[0]&&254==n[1])return Qd(n.slice(2).toString("utf16le"));if(254==n[1]&&255==n[2])return Qd(d6(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(255==n[0]&&254==n[1])return Qd(new TextDecoder("utf-16le").decode(n.slice(2)));if(254==n[0]&&255==n[1])return Qd(new TextDecoder("utf-16be").decode(n.slice(2)))}var e={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return e[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function ai(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if("object"!=typeof n||null==n)return n;if(n instanceof Date)return new Date(n.getTime());var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=ai(n[e]));return t}function Ji(n,t){for(var e="";e.length<t;)e+=n;return e}function qu(n){var t=Number(n);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(n))return t;var e=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return isNaN(t=Number(r))&&(r=r.replace(/[(](.*)[)]/,function(i,s){return e=-e,s}),isNaN(t=Number(r)))?t:t/e}var vY=["january","february","march","april","may","june","july","august","september","october","november","december"];function v1(n){var t=new Date(n),e=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return e;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==vY.indexOf(o))return e}else if(o.match(/[a-z]/))return e;return r<0||r>8099?e:(i>0||s>1)&&101!=r?t:n.match(/[^-0-9:,\/\\]/)?e:t}var yY=function(){var n=5=="abacaba".split(/(:?b)/i).length;return function(e,r,i){if(n||"string"==typeof r)return e.split(r);for(var s=e.split(r),o=[s[0]],u=1;u<s.length;++u)o.push(i),o.push(s[u]);return o}}();function N6(n){return n?n.content&&n.type?p_(n.content,!0):n.data?p1(n.data):n.asNodeBuffer&&or?p1(n.asNodeBuffer().toString("binary")):n.asBinary?p1(n.asBinary()):n._data&&n._data.getContent?p1(p_(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function L6(n){if(!n)return null;if(n.data)return YA(n.data);if(n.asNodeBuffer&&or)return n.asNodeBuffer();if(n._data&&n._data.getContent){var t=n._data.getContent();return"string"==typeof t?YA(t):Array.prototype.slice.call(t)}return n.content&&n.type?n.content:null}function Bc(n,t){for(var e=n.FullPaths||Qi(n.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<e.length;++s){var o=e[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return n.files?n.files[e[s]]:n.FileIndex[s]}return null}function ZO(n,t){var e=Bc(n,t);if(null==e)throw new Error("Cannot find file "+t+" in zip");return e}function Ss(n,t,e){if(!e)return function wY(n){return n&&".bin"===n.name.slice(-4)?L6(n):N6(n)}(ZO(n,t));if(!t)return null;try{return Ss(n,t)}catch{return null}}function Vl(n,t,e){if(!e)return N6(ZO(n,t));if(!t)return null;try{return Vl(n,t)}catch{return null}}function V6(n,t,e){if(!e)return L6(ZO(n,t));if(!t)return null;try{return V6(n,t)}catch{return null}}function B6(n){for(var t=n.FullPaths||Qi(n.files),e=[],r=0;r<t.length;++r)"/"!=t[r].slice(-1)&&e.push(t[r].replace(/^Root Entry[\/]/,""));return e.sort()}function U6(n,t){switch(t.type){case"base64":return Dn.read(n,{type:"base64"});case"binary":return Dn.read(n,{type:"binary"});case"buffer":case"array":return Dn.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function OE(n,t){if("/"==n.charAt(0))return n.slice(1);var e=t.split("/");"/"!=t.slice(-1)&&e.pop();for(var r=n.split("/");0!==r.length;){var i=r.shift();".."===i?e.pop():"."!==i&&e.push(i)}return e.join("/")}var Ts='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',xY=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,H6=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,Jo=Ts.match(H6)?H6:/<[^>]*>/g,EY=/<\w*:/,CY=/<(\/?)\w+:/;function Nn(n,t,e){for(var r={},i=0,s=0;i!==n.length&&32!==(s=n.charCodeAt(i))&&10!==s&&13!==s;++i);if(t||(r[0]=n.slice(0,i)),i===n.length)return r;var o=n.match(xY),u=0,h="",p=0,g="",y="",E=1;if(o)for(p=0;p!=o.length;++p){for(y=o[p],s=0;s!=y.length&&61!==y.charCodeAt(s);++s);for(g=y.slice(0,s).trim();32==y.charCodeAt(s+1);)++s;for(E=34==(i=y.charCodeAt(s+1))||39==i?1:0,h=y.slice(s+1+E,y.length-E),u=0;u!=g.length&&58!==g.charCodeAt(u);++u);if(u===g.length)g.indexOf("_")>0&&(g=g.slice(0,g.indexOf("_"))),r[g]=h,e||(r[g.toLowerCase()]=h);else{var T=(5===u&&"xmlns"===g.slice(0,5)?"xmlns":"")+g.slice(u+1);if(r[T]&&"ext"==g.slice(u-3,u))continue;r[T]=h,e||(r[T.toLowerCase()]=h)}}return r}function Xd(n){return n.replace(CY,"<$1")}var j6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},qO=JA(j6),Dr=function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function e(r){var i=r+"",s=i.indexOf("<![CDATA[");if(-1==s)return i.replace(n,function(u,h){return j6[u]||String.fromCharCode(parseInt(h,u.indexOf("x")>-1?16:10))||u}).replace(t,function(u,h){return String.fromCharCode(parseInt(h,16))});var o=i.indexOf("]]>");return e(i.slice(0,s))+i.slice(s+9,o)+e(i.slice(o+3))}}(),YO=/[&<>'"]/g,$6=/[\u0000-\u001f]/g;function KO(n){return(n+"").replace(YO,function(e){return qO[e]}).replace(/\n/g,"<br/>").replace($6,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var z6=function(){var n=/&#(\d+);/g;function t(e,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(n,t)}}();function Ci(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function XO(n){for(var t="",e=0,r=0,i=0,s=0,o=0,u=0;e<n.length;)(r=n.charCodeAt(e++))<128?t+=String.fromCharCode(r):(i=n.charCodeAt(e++),r>191&&r<224?(o=(31&r)<<6,o|=63&i,t+=String.fromCharCode(o)):(s=n.charCodeAt(e++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s):(u=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&(o=n.charCodeAt(e++)))-65536,t+=String.fromCharCode(55296+(u>>>10&1023)),t+=String.fromCharCode(56320+(1023&u)))));return t}function Z6(n){var e,r,u,t=_m(2*n.length),i=1,s=0,o=0;for(r=0;r<n.length;r+=i)i=1,(u=n.charCodeAt(r))<128?e=u:u<224?(e=64*(31&u)+(63&n.charCodeAt(r+1)),i=2):u<240?(e=4096*(15&u)+64*(63&n.charCodeAt(r+1))+(63&n.charCodeAt(r+2)),i=3):(i=4,e=262144*(7&u)+4096*(63&n.charCodeAt(r+1))+64*(63&n.charCodeAt(r+2))+(63&n.charCodeAt(r+3)),o=55296+((e-=65536)>>>10&1023),e=56320+(1023&e)),0!==o&&(t[s++]=255&o,t[s++]=o>>>8,o=0),t[s++]=e%256,t[s++]=e>>>8;return t.slice(0,s).toString("ucs2")}function W6(n){return gf(n,"binary").toString("utf8")}var rI="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Yr=or&&(W6(rI)==XO(rI)&&W6||Z6(rI)==XO(rI)&&Z6)||XO,Qd=or?function(n){return gf(n,"utf8").toString("binary")}:function(n){for(var t=[],e=0,r=0,i=0;e<n.length;)switch(r=n.charCodeAt(e++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=n.charCodeAt(e++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},PE=function(){var n={};return function(e,r){var i=e+"|"+(r||"");return n[i]?n[i]:n[i]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",r||"")}}(),q6=function(){var n=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var r=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),AY=function(){var n={};return function(e){return void 0!==n[e]?n[e]:n[e]=new RegExp("<(?:vt:)?"+e+">([\\s\\S]*?)</(?:vt:)?"+e+">","g")}}(),IY=/<\/?(?:vt:)?variant>/g,kY=/<(?:vt:)([^>]*)>([\s\S]*)</;function Y6(n,t){var e=Nn(n),r=n.match(AY(e.baseType))||[],i=[];if(r.length!=e.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+e.size);return i}return r.forEach(function(s){var o=s.replace(IY,"").match(kY);o&&i.push({v:Yr(o[2]),t:o[1]})}),i}var K6=/(^\s|\s$|\n)/;function Ht(n,t,e){return"<"+n+(null!=e?function X6(n){return Qi(n).map(function(t){return" "+t+'="'+n[t]+'"'}).join("")}(e):"")+(null!=t?(t.match(K6)?' xml:space="preserve"':"")+">"+t+"</"+n:"/")+">"}function JO(n){if(or&&Buffer.isBuffer(n))return n.toString("utf8");if("string"==typeof n)return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return Yr(vm(jO(n)));throw new Error("Bad input format: expected Buffer or string")}var NE=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,bm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Q6=function(n){for(var t=[],r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=10240)t.push.apply(t,n[0][r].slice(i,i+10240));return t},J6=or?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(t){return Buffer.isBuffer(t)?t:gf(t)})):Q6(n)}:Q6,eU=function(n,t,e){for(var r=[],i=t;i<e;i+=2)r.push(String.fromCharCode(vf(n,i)));return r.join("").replace(Qo,"")},iI=or?function(n,t,e){return Buffer.isBuffer(n)?n.toString("utf16le",t,e).replace(Qo,""):eU(n,t,e)}:eU,tU=function(n,t,e){for(var r=[],i=t;i<t+e;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},nU=or?function(n,t,e){return Buffer.isBuffer(n)?n.toString("hex",t,t+e):tU(n,t,e)}:tU,rU=function(n,t,e){for(var r=[],i=t;i<e;i++)r.push(String.fromCharCode(w1(n,i)));return r.join("")},y1=or?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf8",e,r):rU(t,e,r)}:rU,iU=function(n,t){var e=po(n,t);return e>0?y1(n,t+4,t+4+e-1):""},eP=iU,sU=function(n,t){var e=po(n,t);return e>0?y1(n,t+4,t+4+e-1):""},tP=sU,oU=function(n,t){var e=2*po(n,t);return e>0?y1(n,t+4,t+4+e-1):""},nP=oU,aU=function(t,e){var r=po(t,e);return r>0?iI(t,e+4,e+4+r):""},rP=aU,lU=function(n,t){var e=po(n,t);return e>0?y1(n,t+4,t+4+e):""},iP=lU,cU=function(n,t){return function RY(n,t){for(var e=1-2*(n[t+7]>>>7),r=((127&n[t+7])<<4)+(n[t+6]>>>4&15),i=15&n[t+6],s=5;s>=0;--s)i=256*i+n[t+s];return 2047==r?0==i?e*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),e*Math.pow(2,r-52)*i)}(n,t)},sI=cU,sP=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};or&&(eP=function(t,e){if(!Buffer.isBuffer(t))return iU(t,e);var r=t.readUInt32LE(e);return r>0?t.toString("utf8",e+4,e+4+r-1):""},tP=function(t,e){if(!Buffer.isBuffer(t))return sU(t,e);var r=t.readUInt32LE(e);return r>0?t.toString("utf8",e+4,e+4+r-1):""},nP=function(t,e){if(!Buffer.isBuffer(t))return oU(t,e);var r=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+r-1)},rP=function(t,e){if(!Buffer.isBuffer(t))return aU(t,e);var r=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+r)},iP=function(t,e){if(!Buffer.isBuffer(t))return lU(t,e);var r=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+r)},sI=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):cU(t,e)},sP=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var w1=function(n,t){return n[t]},vf=function(n,t){return 256*n[t+1]+n[t]},OY=function(n,t){var e=256*n[t+1]+n[t];return e<32768?e:-1*(65535-e+1)},po=function(n,t){return n[t+3]*(1<<24)+(n[t+2]<<16)+(n[t+1]<<8)+n[t]},m_=function(n,t){return n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]},PY=function(n,t){return n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]};function LE(n,t){var r,i,o,u,h,p,e="",s=[];switch(t){case"dbcs":if(p=this.l,or&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*n).toString("utf16le");else for(h=0;h<n;++h)e+=String.fromCharCode(vf(this,p)),p+=2;n*=2;break;case"utf8":e=y1(this,this.l,this.l+n);break;case"utf16le":e=iI(this,this.l,this.l+(n*=2));break;case"wstr":return LE.call(this,n,"dbcs");case"lpstr-ansi":e=eP(this,this.l),n=4+po(this,this.l);break;case"lpstr-cp":e=tP(this,this.l),n=4+po(this,this.l);break;case"lpwstr":e=nP(this,this.l),n=4+2*po(this,this.l);break;case"lpp4":n=4+po(this,this.l),e=rP(this,this.l),2&n&&(n+=2);break;case"8lpp4":n=4+po(this,this.l),e=iP(this,this.l),3&n&&(n+=4-(3&n));break;case"cstr":for(n=0,e="";0!==(o=w1(this,this.l+n++));)s.push(SE(o));e=s.join("");break;case"_wstr":for(n=0,e="";0!==(o=vf(this,this.l+n));)s.push(SE(o)),n+=2;n+=2,e=s.join("");break;case"dbcs-cont":for(e="",p=this.l,h=0;h<n;++h){if(this.lens&&-1!==this.lens.indexOf(p))return o=w1(this,p),this.l=p+1,u=LE.call(this,n-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(SE(vf(this,p))),p+=2}e=s.join(""),n*=2;break;case"cpstr":0;case"sbcs-cont":for(e="",p=this.l,h=0;h!=n;++h){if(this.lens&&-1!==this.lens.indexOf(p))return o=w1(this,p),this.l=p+1,u=LE.call(this,n-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(SE(w1(this,p))),p+=1}e=s.join("");break;default:switch(n){case 1:return r=w1(this,this.l),this.l++,r;case 2:return r=("i"===t?OY:vf)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===t||0==(128&this[this.l+3])?(r=(n>0?m_:PY)(this,this.l),this.l+=4,r):(i=po(this,this.l),this.l+=4,i);case 8:case-8:if("f"===t)return i=8==n?sI(this,this.l):sI([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:e=nU(this,this.l,n)}}return this.l+=n,e}var VY=function(n,t,e){n[e]=255&t,n[e+1]=t>>>8&255};function BY(n,t,e){var r=0,i=0;if("dbcs"===e){for(i=0;i!=t.length;++i)VY(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===e){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===e){for(;i<n;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===e){var o=Math.min(this.l+n,this.length);for(i=0;i<Math.min(t.length,n);++i){var u=t.charCodeAt(i);this[this.l++]=255&u,this[this.l++]=u>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(n){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8);break;case 3:r=3,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8),this[this.l+2]=255&(t>>>=8);break;case 4:r=4,function(n,t,e){n[e]=255&t,n[e+1]=t>>>8&255,n[e+2]=t>>>16&255,n[e+3]=t>>>24&255}(this,t,this.l);break;case 8:if(r=8,"f"===e){!function FY(n,t,e){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?0==o?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var u=0;u<=5;++u,s/=256)n[e+u]=255&s;n[e+6]=(15&i)<<4|15&s,n[e+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,function(n,t,e){n[e]=255&t,n[e+1]=t>>8&255,n[e+2]=t>>16&255,n[e+3]=t>>24&255}(this,t,this.l)}}return this.l+=r,this}function dU(n,t){var e=nU(this,this.l,n.length>>1);if(e!==n)throw new Error(t+"Expected "+n+" saw "+e);this.l+=n.length>>1}function Io(n,t){n.l=t,n.read_shift=LE,n.chk=dU,n.write_shift=BY}function ea(n,t){n.l+=t}function tt(n){var t=_m(n);return Io(t,0),t}function yf(n,t,e){if(n){var r,i,s;Io(n,n.l||0);for(var o=n.length,u=0,h=0;n.l<o;){128&(u=n.read_shift(1))&&(u=(127&u)+((127&n.read_shift(1))<<7));var p=nC[u]||nC[65535];for(s=127&(r=n.read_shift(1)),i=1;i<4&&128&r;++i)s+=(127&(r=n.read_shift(1)))<<7*i;h=n.l+s;var g=p.f&&p.f(n,s,e);if(n.l=h,t(g,p,u))return}}}function Fa(){var n=[],t=or?256:2048,e=function(p){var g=tt(p);return Io(g,0),g},r=e(t),i=function(){!r||(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&n.push(r),r=null)},s=function(p){return r&&p<r.length-r.l?r:(i(),r=e(Math.max(p+1,t)))};return{next:s,push:function(p){i(),null==(r=p).l&&(r.l=r.length),s(t)},end:function(){return i(),fo(n)},_bufs:n}}function VE(n,t,e){var r=ai(n);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!e||e.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function hU(n,t,e){var r=ai(n);return r.s=VE(r.s,t.s,e),r.e=VE(r.e,t.s,e),r}function BE(n,t){if(n.cRel&&n.c<0)for(n=ai(n);n.c<0;)n.c+=t>8?16384:256;if(n.rRel&&n.r<0)for(n=ai(n);n.r<0;)n.r+=t>8?1048576:t>5?65536:16384;var e=Ln(n);return!n.cRel&&null!=n.cRel&&(e=function jY(n){return n.replace(/^([A-Z])/,"$$$1")}(e)),!n.rRel&&null!=n.rRel&&(e=function UY(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(e)),e}function oP(n,t){return 0!=n.s.r||n.s.rRel||n.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||n.e.rRel?0!=n.s.c||n.s.cRel||n.e.c!=(t.biff>=12?16383:255)||n.e.cRel?BE(n.s,t.biff)+":"+BE(n.e,t.biff):(n.s.rRel?"":"$")+es(n.s.r)+":"+(n.e.rRel?"":"$")+es(n.e.r):(n.s.cRel?"":"$")+Di(n.s.c)+":"+(n.e.cRel?"":"$")+Di(n.e.c)}function aP(n){return parseInt(function HY(n){return n.replace(/\$(\d+)$/,"$1")}(n),10)-1}function es(n){return""+(n+1)}function lP(n){for(var t=function GY(n){return n.replace(/^\$([A-Z])/,"$1")}(n),e=0,r=0;r!==t.length;++r)e=26*e+t.charCodeAt(r)-64;return e-1}function Di(n){if(n<0)throw new Error("invalid column "+n);var t="";for(++n;n;n=Math.floor((n-1)/26))t=String.fromCharCode((n-1)%26+65)+t;return t}function Hi(n){for(var t=0,e=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(e=26*e+(i-64))}return{c:e-1,r:t-1}}function Ln(n){for(var t=n.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(n.r+1)}function Ul(n){var t=n.indexOf(":");return-1==t?{s:Hi(n),e:Hi(n)}:{s:Hi(n.slice(0,t)),e:Hi(n.slice(t+1))}}function Xn(n,t){return typeof t>"u"||"number"==typeof t?Xn(n.s,n.e):("string"!=typeof n&&(n=Ln(n)),"string"!=typeof t&&(t=Ln(t)),n==t?n:n+":"+t)}function _r(n){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,r=0,i=0,s=n.length;for(e=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)e=26*e+i;for(t.s.c=--e,e=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)e=10*e+i;if(t.s.r=--e,r===s||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,e=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)e=26*e+i;for(t.e.c=--e,e=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)e=10*e+i;return t.e.r=--e,t}function Jd(n,t,e){return null==n||null==n.t||"z"==n.t?"":void 0!==n.w?n.w:("d"==n.t&&!n.z&&e&&e.dateNF&&(n.z=e.dateNF),"e"==n.t?wf[n.v]||n.v:function fU(n,t){var e="d"==n.t&&t instanceof Date;if(null!=n.z)try{return n.w=Ll(n.z,e?Ws(t):t)}catch{}try{return n.w=Ll((n.XF||{}).numFmtId||(e?14:0),e?Ws(t):t)}catch{return""+t}}(n,t??n.v))}function Em(n,t){var e=t&&t.sheet?t.sheet:"Sheet1",r={};return r[e]=n,{SheetNames:[e],Sheets:r}}function pU(n,t,e){var r=e||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),o=0,u=0;if(s&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var h="string"==typeof r.origin?Hi(r.origin):r.origin;o=h.r,u=h.c}s["!ref"]||(s["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var g=_r(s["!ref"]);p.s.c=g.s.c,p.s.r=g.s.r,p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),-1==o&&(p.e.r=o=g.e.r+1)}for(var y=0;y!=t.length;++y)if(t[y]){if(!Array.isArray(t[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var E=0;E!=t[y].length;++E)if(!(typeof t[y][E]>"u")){var T={v:t[y][E]},k=o+y,D=u+E;if(p.s.r>k&&(p.s.r=k),p.s.c>D&&(p.s.c=D),p.e.r<k&&(p.e.r=k),p.e.c<D&&(p.e.c=D),!t[y][E]||"object"!=typeof t[y][E]||Array.isArray(t[y][E])||t[y][E]instanceof Date)if(Array.isArray(T.v)&&(T.f=t[y][E][1],T.v=T.v[0]),null===T.v)if(T.f)T.t="n";else if(r.nullError)T.t="e",T.v=0;else{if(!r.sheetStubs)continue;T.t="z"}else"number"==typeof T.v?T.t="n":"boolean"==typeof T.v?T.t="b":T.v instanceof Date?(T.z=r.dateNF||In[14],r.cellDates?(T.t="d",T.w=Ll(T.z,Ws(T.v))):(T.t="n",T.v=Ws(T.v),T.w=Ll(T.z,T.v))):T.t="s";else T=t[y][E];if(i)s[k]||(s[k]=[]),s[k][D]&&s[k][D].z&&(T.z=s[k][D].z),s[k][D]=T;else{var R=Ln({c:D,r:k});s[R]&&s[R].z&&(T.z=s[R].z),s[R]=T}}}return p.s.c<1e7&&(s["!ref"]=Xn(p)),s}function x1(n,t){return pU(null,n,t)}function ta(n){var t=n.read_shift(4);return 0===t?"":n.read_shift(t,"dbcs")}function ZY(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function cP(n,t){var e=n.l,r=n.read_shift(1),i=ta(n),s=[],o={t:i,h:i};if(0!=(1&r)){for(var u=n.read_shift(4),h=0;h!=u;++h)s.push(ZY(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=e+t,o}var qY=cP;function Uc(n){var t=n.read_shift(4),e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:t,iStyleRef:e}}function __(n){var t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:t}}var KY=ta;function uP(n){var t=n.read_shift(4);return 0===t||4294967295===t?"":n.read_shift(t,"dbcs")}var XY=ta,hP=uP;function pP(n){var t=n.slice(n.l,n.l+4),e=1&t[0],r=2&t[0];n.l+=4;var i=0===r?sI([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):m_(t,0)>>2;return e?i/100:i}function _U(n){var t={s:{},e:{}};return t.s.r=n.read_shift(4),t.e.r=n.read_shift(4),t.s.c=n.read_shift(4),t.e.c=n.read_shift(4),t}var y_=_U;function na(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function vU(n,t){var r=n.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[n.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return n.l-=4,n.read_shift(0,1==t?"lpstr":"lpwstr")}var aK=[80,81],gP={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},_P={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},xU={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},lK=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function cK(n){return n.map(function(t){return[t>>16&255,t>>8&255,255&t]})}var x_=ai(cK([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),wf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},bU={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},vP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Qn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function UE(n){var t=n.lastIndexOf("/");return n.slice(0,t+1)+"_rels/"+n.slice(t+1)+".rels"}function HE(n,t){var e={"!id":{}};if(!n)return e;"/"!==t.charAt(0)&&(t="/"+t);var r={};return(n.match(Jo)||[]).forEach(function(i){var s=Nn(i);if("<Relationship"===s[0]){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var u="External"===s.TargetMode?s.Target:OE(s.Target,t);e[u]=o,r[s.Id]=o}}),e["!id"]=r,e}var Hc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],vK=function(){for(var n=new Array(Hc.length),t=0;t<Hc.length;++t){var e=Hc[t],r="(?:"+e[0].slice(0,e[0].indexOf(":"))+":)"+e[0].slice(e[0].indexOf(":")+1);n[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return n}();function DU(n){var t={};n=Yr(n);for(var e=0;e<Hc.length;++e){var r=Hc[e],i=n.match(vK[e]);null!=i&&i.length>0&&(t[r[1]]=Dr(i[1])),"date"===r[2]&&t[r[1]]&&(t[r[1]]=Ui(t[r[1]]))}return t}var b_=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function AU(n,t,e,r){var i=[];if("string"==typeof n)i=Y6(n,r);else for(var s=0;s<n.length;++s)i=i.concat(n[s].map(function(g){return{v:g}}));var o="string"==typeof t?Y6(t,r).map(function(g){return g.v}):t,u=0,h=0;if(o.length>0)for(var p=0;p!==i.length;p+=2){switch(h=+i[p+1].v,i[p].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":e.Worksheets=h,e.SheetNames=o.slice(u,u+h);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":e.NamedRanges=h,e.DefinedNames=o.slice(u,u+h);break;case"Charts":case"Diagramme":e.Chartsheets=h,e.ChartNames=o.slice(u,u+h)}u+=h}}var bP,wK=/<[^>]+>[^<]*/g,xP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function bK(n,t,e){bP||(bP=JA(xP)),n[t=bP[t]||t]=e}function EP(n){var t=n.read_shift(4),e=n.read_shift(4);return new Date(1e3*(e/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function MU(n,t,e){var r=n.l,i=n.read_shift(0,"lpstr-cp");if(e)for(;n.l-r&3;)++n.l;return i}function RU(n,t,e){var r=n.read_shift(0,"lpwstr");return e&&(n.l+=4-(r.length+1&3)&3),r}function FU(n,t,e){return 31===t?RU(n):MU(n,0,e)}function CP(n,t,e){return FU(n,t,!1===e?0:4)}function IK(n){var t=n.l,e=hI(n,81);return 0==n[n.l]&&0==n[n.l+1]&&n.l-t&2&&(n.l+=2),[e,hI(n,3)]}function OU(n,t){for(var e=n.read_shift(4),r={},i=0;i!=e;++i){var s=n.read_shift(4),o=n.read_shift(4);r[s]=n.read_shift(o,1200===t?"utf16le":"utf8").replace(Qo,"").replace(kE,"!"),1200===t&&o%2&&(n.l+=2)}return 3&n.l&&(n.l=n.l>>3<<2),r}function PU(n){var t=n.read_shift(4),e=n.slice(n.l,n.l+t);return n.l+=t,(3&t)>0&&(n.l+=4-(3&t)&3),e}function hI(n,t,e){var i,r=n.read_shift(2),s=e||{};if(n.l+=2,12!==t&&r!==t&&-1===aK.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&r)))throw new Error("Expected type "+t+" saw "+r);switch(12===t?r:t){case 2:return i=n.read_shift(2,"i"),s.raw||(n.l+=2),i;case 3:return n.read_shift(4,"i");case 11:return 0!==n.read_shift(4);case 19:return n.read_shift(4);case 30:return MU(n,0,4).replace(Qo,"");case 31:return RU(n);case 64:return EP(n);case 65:return PU(n);case 71:return function MK(n){var t={};return t.Size=n.read_shift(4),n.l+=t.Size+3-(t.Size-1)%4,t}(n);case 80:return CP(n,r,!s.raw).replace(Qo,"");case 81:return function SK(n,t){if(!t)throw new Error("VtUnalignedString must have positive length");return FU(n,t,0)}(n,r).replace(Qo,"");case 4108:return function kK(n){for(var t=n.read_shift(4),e=[],r=0;r<t/2;++r)e.push(IK(n));return e}(n);case 4126:case 4127:return 4127==r?function TK(n){for(var t=n.read_shift(4),e=[],r=0;r!=t;++r){var i=n.l;e[r]=n.read_shift(0,"lpwstr").replace(Qo,""),n.l-i&2&&(n.l+=2)}return e}(n):function AK(n){for(var t=n.read_shift(4),e=[],r=0;r!=t;++r)e[r]=n.read_shift(0,"lpstr-cp").replace(Qo,"");return e}(n);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function LU(n,t){var e=n.l,r=n.read_shift(4),i=n.read_shift(4),s=[],o=0,u=0,h=-1,p={};for(o=0;o!=i;++o){var g=n.read_shift(4),y=n.read_shift(4);s[o]=[g,y+e]}s.sort(function(j,V){return j[1]-V[1]});var E={};for(o=0;o!=i;++o){if(n.l!==s[o][1]){var T=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:n.l+2===s[o][1]&&(n.l+=2,T=!1);break;case 80:case 4108:n.l<=s[o][1]&&(n.l=s[o][1],T=!1)}if((!t||0==o)&&n.l<=s[o][1]&&(T=!1,n.l=s[o][1]),T)throw new Error("Read Error: Expected address "+s[o][1]+" at "+n.l+" :"+o)}if(t){var k=t[s[o][0]];if(E[k.n]=hI(n,k.t,{raw:!0}),"version"===k.p&&(E[k.n]=String(E[k.n]>>16)+"."+("0000"+String(65535&E[k.n])).slice(-4)),"CodePage"==k.n)switch(E[k.n]){case 0:E[k.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Lc(u=E[k.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+E[k.n])}}else if(1===s[o][0]){if(u=E.CodePage=hI(n,2),Lc(u),-1!==h){var D=n.l;n.l=s[h][1],p=OU(n,u),n.l=D}}else if(0===s[o][0]){if(0===u){h=o,n.l=s[o+1][1];continue}p=OU(n,u)}else{var B,R=p[s[o][0]];switch(n[n.l]){case 65:n.l+=4,B=PU(n);break;case 30:case 31:n.l+=4,B=CP(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,B=n.read_shift(4,"i");break;case 19:n.l+=4,B=n.read_shift(4);break;case 5:n.l+=4,B=n.read_shift(8,"f");break;case 11:n.l+=4,B=fs(n,4);break;case 64:n.l+=4,B=Ui(EP(n));break;default:throw new Error("unparsed value: "+n[n.l])}E[R]=B}}return n.l=e+r,E}function UU(n,t,e){var r=n.content;if(!r)return{};Io(r,0);var i,s,o,u,h=0;r.chk("feff","Byte Order: "),r.read_shift(2);var p=r.read_shift(4),g=r.read_shift(16);if(g!==Dn.utils.consts.HEADER_CLSID&&g!==e)throw new Error("Bad PropertySet CLSID "+g);if(1!==(i=r.read_shift(4))&&2!==i)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),u=r.read_shift(4),1===i&&u!==r.l)throw new Error("Length mismatch: "+u+" !== "+r.l);2===i&&(o=r.read_shift(16),h=r.read_shift(4));var k,y=LU(r,t),E={SystemIdentifier:p};for(var T in y)E[T]=y[T];if(E.FMTID=s,1===i)return E;if(h-r.l==2&&(r.l+=2),r.l!==h)throw new Error("Length mismatch 2: "+r.l+" !== "+h);try{k=LU(r,null)}catch{}for(T in k)E[T]=k[T];return E.FMTID=[s,o],E}function Cm(n,t){return n.read_shift(t),null}function fs(n,t){return 1===n.read_shift(t)}function Is(n){return n.read_shift(2,"u")}function jU(n,t){return function OK(n,t,e){for(var r=[],i=n.l+t;n.l<i;)r.push(e(n,i-n.l));if(i!==n.l)throw new Error("Slurp error");return r}(n,t,Is)}function jE(n,t,e){var r=n.read_shift(e&&e.biff>=12?2:1),i="sbcs-cont",s=Ol;e&&e.biff>=8&&(Ol=1200),e&&8!=e.biff?12==e.biff&&(i="wstr"):n.read_shift(1)&&(i="dbcs-cont"),e.biff>=2&&e.biff<=5&&(i="cpstr");var u=r?n.read_shift(r,i):"";return Ol=s,u}function NK(n){var t=Ol;Ol=1200;var h,e=n.read_shift(2),r=n.read_shift(1),i=4&r,s=8&r,o=1+(1&r),u=0,p={};s&&(u=n.read_shift(2)),i&&(h=n.read_shift(4));var y=0===e?"":n.read_shift(e,2==o?"dbcs-cont":"sbcs-cont");return s&&(n.l+=4*u),i&&(n.l+=h),p.t=y,s||(p.raw="<t>"+p.t+"</t>",p.r=p.t),Ol=t,p}function E_(n,t,e){if(e){if(e.biff>=2&&e.biff<=5)return n.read_shift(t,"cpstr");if(e.biff>=12)return n.read_shift(t,"dbcs-cont")}var i=n.read_shift(1);return n.read_shift(t,0===i?"sbcs-cont":"dbcs-cont")}function GE(n,t,e){var r=n.read_shift(e&&2==e.biff?1:2);return 0===r?(n.l++,""):E_(n,r,e)}function C_(n,t,e){if(e.biff>5)return GE(n,0,e);var r=n.read_shift(1);return 0===r?(n.l++,""):n.read_shift(r,e.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function fI(n){var t=n.read_shift(4);return t>0?n.read_shift(t,"utf16le").replace(Qo,""):""}function ZU(n){return[n.read_shift(1),n.read_shift(1),n.read_shift(1),n.read_shift(1)]}function WU(n,t){var e=ZU(n);return e[3]=0,e}function eh(n){return{r:n.read_shift(2),c:n.read_shift(2),ixfe:n.read_shift(2)}}function ZK(n,t,e){var r=e.biff>8?4:2;return[n.read_shift(r),n.read_shift(r,"i"),n.read_shift(r,"i")]}function qU(n){return[n.read_shift(2),pP(n)]}function pI(n){var t=n.read_shift(2),e=n.read_shift(2);return{s:{c:n.read_shift(2),r:t},e:{c:n.read_shift(2),r:e}}}function KU(n){var t=n.read_shift(2),e=n.read_shift(2);return{s:{c:n.read_shift(1),r:t},e:{c:n.read_shift(1),r:e}}}var qK=KU;function XU(n){n.l+=4;var t=n.read_shift(2),e=n.read_shift(2),r=n.read_shift(2);return n.l+=12,[e,t,r]}function ra(n){n.l+=2,n.l+=n.read_shift(2)}var XK={0:ra,4:ra,5:ra,6:ra,7:function KK(n){return n.l+=4,n.cf=n.read_shift(2),{}},8:ra,9:ra,10:ra,11:ra,12:ra,13:function YK(n){var t={};return n.l+=4,n.l+=16,t.fSharedNote=n.read_shift(2),n.l+=4,t},14:ra,15:ra,16:ra,17:ra,18:ra,19:ra,20:ra,21:XU};function mI(n,t){var e={BIFFVer:0,dt:0};switch(e.BIFFVer=n.read_shift(2),(t-=2)>=2&&(e.dt=n.read_shift(2),n.l-=2),e.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+e.BIFFVer)}return n.read_shift(t),e}function QU(n,t,e){var r=0;e&&2==e.biff||(r=n.read_shift(2));var i=n.read_shift(2);return e&&2==e.biff&&(r=1-(i>>15),i&=32767),[{Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3},i]}var CX=C_;function JU(n,t,e){var r=n.l+t,i=8!=e.biff&&e.biff?2:4,s=n.read_shift(i),o=n.read_shift(i),u=n.read_shift(2),h=n.read_shift(2);return n.l=r,{s:{r:s,c:u},e:{r:o,c:h}}}function t5(n,t,e){var r=eh(n);(2==e.biff||9==t)&&++n.l;var i=function PK(n){var t=n.read_shift(1);return 1===n.read_shift(1)?t:1===t}(n);return r.val=i,r.t=!0===i||!1===i?"b":"e",r}var n5=function zK(n,t,e){return 0===t?"":C_(n,0,e)};function r5(n,t,e){var i,r=n.read_shift(2),s={fBuiltIn:1&r,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return 14849===e.sbcch&&(i=function WK(n,t,e){n.l+=4;var r=n.l+(t-=4),i=jE(n,0,e),s=n.read_shift(2);if(s!==(r-=n.l))throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return n.l+=s,i}(n,t-2,e)),s.body=i||n.read_shift(t-2),"string"==typeof i&&(s.Name=i),s}var LX=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function s5(n,t,e){var r=n.l+t,i=n.read_shift(2),s=n.read_shift(1),o=n.read_shift(1),u=n.read_shift(e&&2==e.biff?1:2),h=0;(!e||e.biff>=5)&&(5!=e.biff&&(n.l+=2),h=n.read_shift(2),5==e.biff&&(n.l+=2),n.l+=4);var p=E_(n,o,e);32&i&&(p=LX[p.charCodeAt(0)]);var g=r-n.l;e&&2==e.biff&&--g;var y=r!=n.l&&0!==u&&g>0?function Qte(n,t,e,r){var o,i=n.l+t,s=XE(n,r,e);return i!==n.l&&(o=KE(n,i-n.l,s,e)),[s,o]}(n,g,e,u):[];return{chKey:s,Name:p,itab:h,rgce:y}}function o5(n,t,e){if(e.biff<8)return function VX(n,t,e){3==n[n.l+1]&&n[n.l]++;var r=jE(n,0,e);return 3==r.charCodeAt(0)?r.slice(1):r}(n,0,e);for(var r=[],i=n.l+t,s=n.read_shift(e.biff>8?4:2);0!=s--;)r.push(ZK(n,0,e));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function a5(n,t,e){var r=qK(n,6);switch(e.biff){case 2:n.l++,t-=7;break;case 3:case 4:n.l+=2,t-=8;break;default:n.l+=6,t-=12}return[r,Kte(n,t,e)]}var WX={8:function(n,t){var e=n.l+t;n.l+=10;var r=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var i=n.read_shift(1);return n.l+=i,n.l=e,{fmt:r}}};function l5(n,t,e){if(!e.cellStyles)return ea(n,t);var r=e&&e.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),u=n.read_shift(r),h=n.read_shift(2);2==r&&(n.l+=2);var p={s:i,e:s,w:o,ixfe:u,flags:h};return(e.biff>=5||!e.biff)&&(p.level=h>>8&7),p}var cQ=eh,uQ=jU,dQ=GE,xQ=[2,3,48,49,131,139,140,245],SP=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=JA({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,h){var p=h||{};p.dateNF||(p.dateNF="yyyymmdd");var g=x1(function e(u,h){var p=[],g=_m(1);switch(h.type){case"base64":g=Nl(Pl(u));break;case"binary":g=Nl(u);break;case"buffer":case"array":g=u}Io(g,0);var y=g.read_shift(1),E=!!(136&y),T=!1,k=!1;switch(y){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:T=!0,E=!0;break;case 140:k=!0;break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var D=0,R=521;2==y&&(D=g.read_shift(2)),g.l+=3,2!=y&&(D=g.read_shift(4)),D>1048576&&(D=1e6),2!=y&&(R=g.read_shift(2));var B=g.read_shift(2),j=h.codepage||1252;2!=y&&(g.l+=16,g.read_shift(1),0!==g[g.l]&&(j=n[g[g.l]]),g.l+=1,g.l+=2),k&&(g.l+=36);for(var V=[],re={},ve=Math.min(g.length,2==y?521:R-10-(T?264:0)),ae=k?32:11;g.l<ve&&13!=g[g.l];)switch(re={},re.name=Er.utils.decode(j,g.slice(g.l,g.l+ae)).replace(/[\u0000\r\n].*$/g,""),g.l+=ae,re.type=String.fromCharCode(g.read_shift(1)),2!=y&&!k&&(re.offset=g.read_shift(4)),re.len=g.read_shift(1),2==y&&(re.offset=g.read_shift(2)),re.dec=g.read_shift(1),re.name.length&&V.push(re),2!=y&&(g.l+=k?13:14),re.type){case"B":(!T||8!=re.len)&&h.WTF&&console.log("Skipping "+re.name+":"+re.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+re.name+":"+re.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+re.type)}if(13!==g[g.l]&&(g.l=R-1),13!==g.read_shift(1))throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=R;var Y=0,De=0;for(p[0]=[],De=0;De!=V.length;++De)p[0][De]=V[De].name;for(;D-- >0;)if(42!==g[g.l])for(++g.l,p[++Y]=[],De=0,De=0;De!=V.length;++De){var we=g.slice(g.l,g.l+V[De].len);g.l+=V[De].len,Io(we,0);var Ue=Er.utils.decode(j,we);switch(V[De].type){case"C":Ue.trim().length&&(p[Y][De]=Ue.replace(/\s+$/,""));break;case"D":p[Y][De]=8===Ue.length?new Date(+Ue.slice(0,4),+Ue.slice(4,6)-1,+Ue.slice(6,8)):Ue;break;case"F":p[Y][De]=parseFloat(Ue.trim());break;case"+":case"I":p[Y][De]=k?2147483648^we.read_shift(-4,"i"):we.read_shift(4,"i");break;case"L":switch(Ue.trim().toUpperCase()){case"Y":case"T":p[Y][De]=!0;break;case"N":case"F":p[Y][De]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Ue+"|")}break;case"M":if(!E)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));p[Y][De]="##MEMO##"+(k?parseInt(Ue.trim(),10):we.read_shift(4));break;case"N":(Ue=Ue.replace(/\u0000/g,"").trim())&&"."!=Ue&&(p[Y][De]=+Ue||0);break;case"@":p[Y][De]=new Date(we.read_shift(-8,"f")-621356832e5);break;case"T":p[Y][De]=new Date(864e5*(we.read_shift(4)-2440588)+we.read_shift(4));break;case"Y":p[Y][De]=we.read_shift(4,"i")/1e4+we.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[Y][De]=-we.read_shift(-8,"f");break;case"B":if(T&&8==V[De].len){p[Y][De]=we.read_shift(8,"f");break}case"G":case"P":we.l+=V[De].len;break;case"0":if("_NullFlags"===V[De].name)break;default:throw new Error("DBF Unsupported data type "+V[De].type)}}else g.l+=B;if(2!=y&&g.l<g.length&&26!=g[g.l++])throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return h&&h.sheetRows&&(p=p.slice(0,h.sheetRows)),h.DBF=V,p}(u,p),p);return g["!cols"]=p.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete p.DBF,g}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function i(u,h){try{return Em(r(u,h),h)}catch(p){if(h&&h.WTF)throw p}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function o(u,h){var p=h||{};if(+p.codepage>=0&&Lc(+p.codepage),"string"==p.type)throw new Error("Cannot write DBF to JS string");var g=Fa(),y=SI(u,{header:1,raw:!0,cellDates:!0}),E=y[0],T=y.slice(1),k=u["!cols"]||[],D=0,R=0,B=0,j=1;for(D=0;D<E.length;++D)if(((k[D]||{}).DBF||{}).name)E[D]=k[D].DBF.name,++B;else if(null!=E[D]){if(++B,"number"==typeof E[D]&&(E[D]=E[D].toString(10)),"string"!=typeof E[D])throw new Error("DBF Invalid column name "+E[D]+" |"+typeof E[D]+"|");if(E.indexOf(E[D])!==D)for(R=0;R<1024;++R)if(-1==E.indexOf(E[D]+"_"+R)){E[D]+="_"+R;break}}var V=_r(u["!ref"]),re=[],ve=[],ae=[];for(D=0;D<=V.e.c-V.s.c;++D){var Y="",De="",we=0,Ue=[];for(R=0;R<T.length;++R)null!=T[R][D]&&Ue.push(T[R][D]);if(0!=Ue.length&&null!=E[D]){for(R=0;R<Ue.length;++R){switch(typeof Ue[R]){case"number":De="B";break;case"string":default:De="C";break;case"boolean":De="L";break;case"object":De=Ue[R]instanceof Date?"D":"C"}we=Math.max(we,String(Ue[R]).length),Y=Y&&Y!=De?"C":De}we>250&&(we=250),"C"==(De=((k[D]||{}).DBF||{}).type)&&k[D].DBF.len>we&&(we=k[D].DBF.len),"B"==Y&&"N"==De&&(Y="N",ae[D]=k[D].DBF.dec,we=k[D].DBF.len),ve[D]="C"==Y||"N"==De?we:s[Y]||0,j+=ve[D],re[D]=Y}else re[D]="?"}var Ke=g.next(32);for(Ke.write_shift(4,318902576),Ke.write_shift(4,T.length),Ke.write_shift(2,296+32*B),Ke.write_shift(2,j),D=0;D<4;++D)Ke.write_shift(4,0);for(Ke.write_shift(4,0|(+t[d_]||3)<<8),D=0,R=0;D<E.length;++D)if(null!=E[D]){var Te=g.next(32),Mt=(E[D].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Te.write_shift(1,Mt,"sbcs"),Te.write_shift(1,"?"==re[D]?"C":re[D],"sbcs"),Te.write_shift(4,R),Te.write_shift(1,ve[D]||s[re[D]]||0),Te.write_shift(1,ae[D]||0),Te.write_shift(1,2),Te.write_shift(4,0),Te.write_shift(1,0),Te.write_shift(4,0),Te.write_shift(4,0),R+=ve[D]||s[re[D]]||0}var nn=g.next(264);for(nn.write_shift(4,13),D=0;D<65;++D)nn.write_shift(4,0);for(D=0;D<T.length;++D){var Ot=g.next(j);for(Ot.write_shift(1,0),R=0;R<E.length;++R)if(null!=E[R])switch(re[R]){case"L":Ot.write_shift(1,null==T[D][R]?63:T[D][R]?84:70);break;case"B":Ot.write_shift(8,T[D][R]||0,"f");break;case"N":var lt="0";for("number"==typeof T[D][R]&&(lt=T[D][R].toFixed(ae[R]||0)),B=0;B<ve[R]-lt.length;++B)Ot.write_shift(1,32);Ot.write_shift(1,lt,"sbcs");break;case"D":T[D][R]?(Ot.write_shift(4,("0000"+T[D][R].getFullYear()).slice(-4),"sbcs"),Ot.write_shift(2,("00"+(T[D][R].getMonth()+1)).slice(-2),"sbcs"),Ot.write_shift(2,("00"+T[D][R].getDate()).slice(-2),"sbcs")):Ot.write_shift(8,"00000000","sbcs");break;case"C":var dt=String(null!=T[D][R]?T[D][R]:"").slice(0,ve[R]);for(Ot.write_shift(1,dt,"sbcs"),B=0;B<ve[R]-dt.length;++B)Ot.write_shift(1,32)}}return g.next(1).write_shift(1,26),g.end()}}}(),c5=function(){var n={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Qi(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(E,T){var k=n[T];return"number"==typeof k?HO(k):k},r=function(E,T,k){var D=T.charCodeAt(0)-32<<4|k.charCodeAt(0)-48;return 59==D?E:HO(D)};function s(E,T){var Ke,k=E.split(/[\n\r]+/),D=-1,R=-1,B=0,j=0,V=[],re=[],ve=null,ae={},Y=[],De=[],we=[],Ue=0;for(+T.codepage>=0&&Lc(+T.codepage);B!==k.length;++B){Ue=0;var Ot,Te=k[B].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,e),Mt=Te.replace(/;;/g,"\0").split(";").map(function(me){return me.replace(/\u0000/g,";")});if(Te.length>0)switch(Mt[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==Mt[1].charAt(0)&&re.push(Te.slice(3).replace(/;;/g,";"));break;case"C":var lt=!1,dt=!1,Lt=!1,yt=!1,Zt=-1,st=-1;for(j=1;j<Mt.length;++j)switch(Mt[j].charAt(0)){case"A":case"G":break;case"X":R=parseInt(Mt[j].slice(1))-1,dt=!0;break;case"Y":for(D=parseInt(Mt[j].slice(1))-1,dt||(R=0),Ke=V.length;Ke<=D;++Ke)V[Ke]=[];break;case"K":'"'===(Ot=Mt[j].slice(1)).charAt(0)?Ot=Ot.slice(1,Ot.length-1):"TRUE"===Ot?Ot=!0:"FALSE"===Ot?Ot=!1:isNaN(qu(Ot))?isNaN(v1(Ot).getDate())||(Ot=Ui(Ot)):(Ot=qu(Ot),null!==ve&&f_(ve)&&(Ot=nI(Ot))),lt=!0;break;case"E":yt=!0;var ne=S1(Mt[j].slice(1),{r:D,c:R});V[D][R]=[V[D][R],ne];break;case"S":Lt=!0,V[D][R]=[V[D][R],"S5S"];break;case"R":Zt=parseInt(Mt[j].slice(1))-1;break;case"C":st=parseInt(Mt[j].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+Te)}if(lt&&(V[D][R]&&2==V[D][R].length?V[D][R][0]=Ot:V[D][R]=Ot,ve=null),Lt){if(yt)throw new Error("SYLK shared formula cannot have own formula");var Oe=Zt>-1&&V[Zt][st];if(!Oe||!Oe[1])throw new Error("SYLK shared formula cannot find base");V[D][R][1]=I5(Oe[1],{r:D-Zt,c:R-st})}break;case"F":var le=0;for(j=1;j<Mt.length;++j)switch(Mt[j].charAt(0)){case"X":R=parseInt(Mt[j].slice(1))-1,++le;break;case"Y":for(D=parseInt(Mt[j].slice(1))-1,Ke=V.length;Ke<=D;++Ke)V[Ke]=[];break;case"M":Ue=parseInt(Mt[j].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":ve=re[parseInt(Mt[j].slice(1))];break;case"W":for(we=Mt[j].slice(1).split(" "),Ke=parseInt(we[0],10);Ke<=parseInt(we[1],10);++Ke)Ue=parseInt(we[2],10),De[Ke-1]=0===Ue?{hidden:!0}:{wch:Ue},T_(De[Ke-1]);break;case"C":De[R=parseInt(Mt[j].slice(1))-1]||(De[R]={});break;case"R":Y[D=parseInt(Mt[j].slice(1))-1]||(Y[D]={}),Ue>0?(Y[D].hpt=Ue,Y[D].hpx=C1(Ue)):0===Ue&&(Y[D].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+Te)}le<1&&(ve=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+Te)}}return Y.length>0&&(ae["!rows"]=Y),De.length>0&&(ae["!cols"]=De),T&&T.sheetRows&&(V=V.slice(0,T.sheetRows)),[V,ae]}function o(E,T){var k=function i(E,T){switch(T.type){case"base64":return s(Pl(E),T);case"binary":return s(E,T);case"buffer":return s(or&&Buffer.isBuffer(E)?E.toString("binary"):vm(E),T);case"array":return s(p_(E),T)}throw new Error("Unrecognized type "+T.type)}(E,T),R=k[1],B=x1(k[0],T);return Qi(R).forEach(function(j){B[j]=R[j]}),B}function h(E,T,k,D){var R="C;Y"+(k+1)+";X"+(D+1)+";K";switch(E.t){case"n":R+=E.v||0,E.f&&!E.F&&(R+=";E"+OP(E.f,{r:k,c:D}));break;case"b":R+=E.v?"TRUE":"FALSE";break;case"e":R+=E.w||E.v;break;case"d":R+='"'+(E.w||E.v)+'"';break;case"s":R+='"'+E.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return R}return n["|"]=254,{to_workbook:function u(E,T){return Em(o(E,T),T)},to_sheet:o,from_sheet:function y(E,T){var B,k=["ID;PWXL;N;E"],D=[],R=_r(E["!ref"]),j=Array.isArray(E),V="\r\n";k.push("P;PGeneral"),k.push("F;P0;DG0G8;M255"),E["!cols"]&&function p(E,T){T.forEach(function(k,D){var R="F;W"+(D+1)+" "+(D+1)+" ";k.hidden?R+="0":("number"==typeof k.width&&!k.wpx&&(k.wpx=zE(k.width)),"number"==typeof k.wpx&&!k.wch&&(k.wch=ZE(k.wpx)),"number"==typeof k.wch&&(R+=Math.round(k.wch)))," "!=R.charAt(R.length-1)&&E.push(R)})}(k,E["!cols"]),E["!rows"]&&function g(E,T){T.forEach(function(k,D){var R="F;";k.hidden?R+="M0;":k.hpt?R+="M"+20*k.hpt+";":k.hpx&&(R+="M"+20*WE(k.hpx)+";"),R.length>2&&E.push(R+"R"+(D+1))})}(k,E["!rows"]),k.push("B;Y"+(R.e.r-R.s.r+1)+";X"+(R.e.c-R.s.c+1)+";D"+[R.s.c,R.s.r,R.e.c,R.e.r].join(" "));for(var re=R.s.r;re<=R.e.r;++re)for(var ve=R.s.c;ve<=R.e.c;++ve){var ae=Ln({r:re,c:ve});(B=j?(E[re]||[])[ve]:E[ae])&&(null!=B.v||B.f&&!B.F)&&D.push(h(B,0,re,ve))}return k.join(V)+V+D.join(V)+V+"E"+V}}}(),u5=function(){function t(s,o){for(var u=s.split("\n"),h=-1,p=-1,g=0,y=[];g!==u.length;++g)if("BOT"!==u[g].trim()){if(!(h<0)){for(var E=u[g].trim().split(","),T=E[0],k=E[1],D=u[++g]||"";1&(D.match(/["]/g)||[]).length&&g<u.length-1;)D+="\n"+u[++g];switch(D=D.trim(),+T){case-1:if("BOT"===D){y[++h]=[],p=0;continue}if("EOD"!==D)throw new Error("Unrecognized DIF special command "+D);break;case 0:y[h][p]="TRUE"===D||"FALSE"!==D&&(isNaN(qu(k))?isNaN(v1(k).getDate())?k:Ui(k):qu(k)),++p;break;case 1:(D=(D=D.slice(1,D.length-1)).replace(/""/g,'"'))&&D.match(/^=".*"$/)&&(D=D.slice(2,-1)),y[h][p++]=""!==D?D:null}if("EOD"===D)break}}else y[++h]=[],p=0;return o&&o.sheetRows&&(y=y.slice(0,o.sheetRows)),y}function e(s,o){return x1(function n(s,o){switch(o.type){case"base64":return t(Pl(s),o);case"binary":return t(s,o);case"buffer":return t(or&&Buffer.isBuffer(s)?s.toString("binary"):vm(s),o);case"array":return t(p_(s),o)}throw new Error("Unrecognized type "+o.type)}(s,o),o)}return{to_workbook:function r(s,o){return Em(e(s,o),o)},to_sheet:e,from_sheet:function(){var s=function(h,p,g,y,E){h.push(p),h.push(g+","+y),h.push('"'+E.replace(/"/g,'""')+'"')},o=function(h,p,g,y){h.push(p+","+g),h.push(1==p?'"'+y.replace(/"/g,'""')+'"':y)};return function(h){var y,p=[],g=_r(h["!ref"]),E=Array.isArray(h);s(p,"TABLE",0,1,"sheetjs"),s(p,"VECTORS",0,g.e.r-g.s.r+1,""),s(p,"TUPLES",0,g.e.c-g.s.c+1,""),s(p,"DATA",0,0,"");for(var T=g.s.r;T<=g.e.r;++T){o(p,-1,0,"BOT");for(var k=g.s.c;k<=g.e.c;++k){var D=Ln({r:T,c:k});if(y=E?(h[T]||[])[k]:h[D])switch(y.t){case"n":var R=y.w;!R&&null!=y.v&&(R=y.v),null==R?o(p,1,0,y.f&&!y.F?"="+y.f:""):o(p,0,R,"V");break;case"b":o(p,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":o(p,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=Ll(y.z||In[14],Ws(Ui(y.v)))),o(p,0,y.w,"V");break;default:o(p,1,0,"")}else o(p,1,0,"")}}return o(p,-1,0,"EOD"),p.join("\r\n")}}()}}(),d5=function(){function n(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(y,E){return x1(function e(y,E){for(var T=y.split("\n"),k=-1,D=-1,R=0,B=[];R!==T.length;++R){var j=T[R].trim().split(":");if("cell"===j[0]){var V=Hi(j[1]);if(B.length<=V.r)for(k=B.length;k<=V.r;++k)B[k]||(B[k]=[]);switch(k=V.r,D=V.c,j[2]){case"t":B[k][D]=n(j[3]);break;case"v":B[k][D]=+j[3];break;case"vtf":var re=j[j.length-1];case"vtc":B[k][D]="nl"===j[3]?!!+j[4]:+j[4],"vtf"==j[2]&&(B[k][D]=[B[k][D],re])}}}return E&&E.sheetRows&&(B=B.slice(0,E.sheetRows)),B}(y,E),E)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),h="--SocialCalcSpreadsheetControlSave--";function p(y){if(!y||!y["!ref"])return"";for(var k,E=[],T=[],D="",R=Ul(y["!ref"]),B=Array.isArray(y),j=R.s.r;j<=R.e.r;++j)for(var V=R.s.c;V<=R.e.c;++V)if(D=Ln({r:j,c:V}),(k=B?(y[j]||[])[V]:y[D])&&null!=k.v&&"z"!==k.t){switch(T=["cell",D,"t"],k.t){case"s":case"str":T.push(t(k.v));break;case"n":k.f?(T[2]="vtf",T[3]="n",T[4]=k.v,T[5]=t(k.f)):(T[2]="v",T[3]=k.v);break;case"b":T[2]="vt"+(k.f?"f":"c"),T[3]="nl",T[4]=k.v?"1":"0",T[5]=t(k.f||(k.v?"TRUE":"FALSE"));break;case"d":var re=Ws(Ui(k.v));T[2]="vtc",T[3]="nd",T[4]=""+re,T[5]=k.w||Ll(k.z||In[14],re);break;case"e":continue}E.push(T.join(":"))}return E.push("sheet:c:"+(R.e.c-R.s.c+1)+":r:"+(R.e.r-R.s.r+1)+":tvf:1"),E.push("valueformat:1:text-wiki"),E.join("\n")}return{to_workbook:function i(y,E){return Em(r(y,E),E)},to_sheet:r,from_sheet:function g(y){return[s,o,u,o,p(y),h].join("\n")}}}(),E1=function(){function n(g,y,E,T,k){k.raw?y[E][T]=g:""===g||(y[E][T]="TRUE"===g||"FALSE"!==g&&(isNaN(qu(g))?isNaN(v1(g).getDate())?g:Ui(g):qu(g)))}var e={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(g){for(var y={},E=!1,T=0,k=0;T<g.length;++T)34==(k=g.charCodeAt(T))?E=!E:!E&&k in e&&(y[k]=(y[k]||0)+1);for(T in k=[],y)Object.prototype.hasOwnProperty.call(y,T)&&k.push([y[T],T]);if(!k.length)for(T in y=r)Object.prototype.hasOwnProperty.call(y,T)&&k.push([y[T],T]);return k.sort(function(D,R){return D[0]-R[0]||r[D[1]]-r[R[1]]}),e[k.pop()[1]]||44}function o(g,y){return!y||!y.PRN||y.FS||"sep="==g.slice(0,4)||g.indexOf("\t")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?function s(g,y){var E=y||{},T="",k=E.dense?[]:{},D={s:{c:0,r:0},e:{c:0,r:0}};"sep="==g.slice(0,4)?13==g.charCodeAt(5)&&10==g.charCodeAt(6)?(T=g.charAt(4),g=g.slice(7)):13==g.charCodeAt(5)||10==g.charCodeAt(5)?(T=g.charAt(4),g=g.slice(6)):T=i(g.slice(0,1024)):T=E&&E.FS?E.FS:i(g.slice(0,1024));var R=0,B=0,j=0,V=0,re=0,ve=T.charCodeAt(0),ae=!1,Y=0,De=g.charCodeAt(0);g=g.replace(/\r\n/gm,"\n");var we=null!=E.dateNF?function cY(n){var t="number"==typeof n?In[n]:n;return t=t.replace(k6,"(\\d+)"),new RegExp("^"+t+"$")}(E.dateNF):null;function Ue(){var Ke=g.slice(V,re),Te={};if('"'==Ke.charAt(0)&&'"'==Ke.charAt(Ke.length-1)&&(Ke=Ke.slice(1,-1).replace(/""/g,'"')),0===Ke.length)Te.t="z";else if(E.raw)Te.t="s",Te.v=Ke;else if(0===Ke.trim().length)Te.t="s",Te.v=Ke;else if(61==Ke.charCodeAt(0))34==Ke.charCodeAt(1)&&34==Ke.charCodeAt(Ke.length-1)?(Te.t="s",Te.v=Ke.slice(2,-1).replace(/""/g,'"')):function Nee(n){return 1!=n.length}(Ke)?(Te.t="n",Te.f=Ke.slice(1)):(Te.t="s",Te.v=Ke);else if("TRUE"==Ke)Te.t="b",Te.v=!0;else if("FALSE"==Ke)Te.t="b",Te.v=!1;else if(isNaN(j=qu(Ke)))if(!isNaN(v1(Ke).getDate())||we&&Ke.match(we)){Te.z=E.dateNF||In[14];var Mt=0;we&&Ke.match(we)&&(Ke=function uY(n,t,e){var r=-1,i=-1,s=-1,o=-1,u=-1,h=-1;(t.match(k6)||[]).forEach(function(y,E){var T=parseInt(e[E+1],10);switch(y.toLowerCase().charAt(0)){case"y":r=T;break;case"d":s=T;break;case"h":o=T;break;case"s":h=T;break;case"m":o>=0?u=T:i=T}}),h>=0&&-1==u&&i>=0&&(u=i,i=-1);var p=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==p.length&&(p="0"+p),8==p.length&&(p="20"+p);var g=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return-1==o&&-1==u&&-1==h?p:-1==r&&-1==i&&-1==s?g:p+"T"+g}(0,E.dateNF,Ke.match(we)||[]),Mt=1),E.cellDates?(Te.t="d",Te.v=Ui(Ke,Mt)):(Te.t="n",Te.v=Ws(Ui(Ke,Mt))),!1!==E.cellText&&(Te.w=Ll(Te.z,Te.v instanceof Date?Ws(Te.v):Te.v)),E.cellNF||delete Te.z}else Te.t="s",Te.v=Ke;else Te.t="n",!1!==E.cellText&&(Te.w=Ke),Te.v=j;if("z"==Te.t||(E.dense?(k[R]||(k[R]=[]),k[R][B]=Te):k[Ln({c:B,r:R})]=Te),De=g.charCodeAt(V=re+1),D.e.c<B&&(D.e.c=B),D.e.r<R&&(D.e.r=R),Y==ve)++B;else if(B=0,++R,E.sheetRows&&E.sheetRows<=R)return!0}e:for(;re<g.length;++re)switch(Y=g.charCodeAt(re)){case 34:34===De&&(ae=!ae);break;case ve:case 10:case 13:if(!ae&&Ue())break e}return re-V>0&&Ue(),k["!ref"]=Xn(D),k}(g,y):x1(function t(g,y){var E=y||{},T=[];if(!g||0===g.length)return T;for(var k=g.split(/[\r\n]/),D=k.length-1;D>=0&&0===k[D].length;)--D;for(var R=10,B=0,j=0;j<=D;++j)-1==(B=k[j].indexOf(" "))?B=k[j].length:B++,R=Math.max(R,B);for(j=0;j<=D;++j){T[j]=[];var V=0;for(n(k[j].slice(0,R).trim(),T,j,V,E),V=1;V<=(k[j].length-R)/10+1;++V)n(k[j].slice(R+10*(V-1),R+10*V).trim(),T,j,V,E)}return E.sheetRows&&(T=T.slice(0,E.sheetRows)),T}(g,y),y)}function u(g,y){var E="",T="string"==y.type?[0,0,0,0]:XP(g,y);switch(y.type){case"base64":E=Pl(g);break;case"binary":case"string":E=g;break;case"buffer":E=65001==y.codepage?g.toString("utf8"):or&&Buffer.isBuffer(g)?g.toString("binary"):vm(g);break;case"array":E=p_(g);break;default:throw new Error("Unrecognized type "+y.type)}return 239==T[0]&&187==T[1]&&191==T[2]?E=Yr(E.slice(3)):"string"!=y.type&&"buffer"!=y.type&&65001==y.codepage&&(E=Yr(E)),"socialcalc:version:"==E.slice(0,19)?d5.to_sheet("string"==y.type?E:Yr(E),y):o(E,y)}return{to_workbook:function h(g,y){return Em(u(g,y),y)},to_sheet:u,from_sheet:function p(g){for(var T,y=[],E=_r(g["!ref"]),k=Array.isArray(g),D=E.s.r;D<=E.e.r;++D){for(var R=[],B=E.s.c;B<=E.e.c;++B){var j=Ln({r:D,c:B});if((T=k?(g[D]||[])[B]:g[j])&&null!=T.v){for(var V=(T.w||(Jd(T),T.w)||"").slice(0,10);V.length<10;)V+=" ";R.push(V+(0===B?" ":""))}else R.push("          ")}y.push(R.join(""))}return y.join("\n")}}}(),S_=function(){function n(ne,Oe,le){if(ne){Io(ne,ne.l||0);for(var me=le.Enum||Zt;ne.l<ne.length;){var ot=ne.read_shift(2),At=me[ot]||me[65535],It=ne.read_shift(2),St=ne.l+It,ht=At.f&&At.f(ne,It,le);if(ne.l=St,Oe(ht,At,ot))return}}}function e(ne,Oe){if(!ne)return ne;var le=Oe||{},me=le.dense?[]:{},ot="Sheet1",At="",It=0,St={},ht=[],jn=[],oe={s:{r:0,c:0},e:{r:0,c:0}},$r=le.sheetRows||0;if(0==ne[2]&&(8==ne[3]||9==ne[3])&&ne.length>=16&&5==ne[14]&&108===ne[15])throw new Error("Unsupported Works 3 for Mac file");if(2==ne[2])le.Enum=Zt,n(ne,function(tn,ps,Zc){switch(Zc){case 0:le.vers=tn,tn>=4096&&(le.qpro=!0);break;case 6:oe=tn;break;case 204:tn&&(At=tn);break;case 222:At=tn;break;case 15:case 51:le.qpro||(tn[1].v=tn[1].v.slice(1));case 13:case 14:case 16:14==Zc&&112==(112&tn[2])&&(15&tn[2])>1&&(15&tn[2])<15&&(tn[1].z=le.dateNF||In[14],le.cellDates&&(tn[1].t="d",tn[1].v=nI(tn[1].v))),le.qpro&&tn[3]>It&&(me["!ref"]=Xn(oe),St[ot]=me,ht.push(ot),me=le.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},It=tn[3],ot=At||"Sheet"+(It+1),At="");var rh=le.dense?(me[tn[0].r]||[])[tn[0].c]:me[Ln(tn[0])];if(rh){rh.t=tn[1].t,rh.v=tn[1].v,null!=tn[1].z&&(rh.z=tn[1].z),null!=tn[1].f&&(rh.f=tn[1].f);break}le.dense?(me[tn[0].r]||(me[tn[0].r]=[]),me[tn[0].r][tn[0].c]=tn[1]):me[Ln(tn[0])]=tn[1]}},le);else{if(26!=ne[2]&&14!=ne[2])throw new Error("Unrecognized LOTUS BOF "+ne[2]);le.Enum=st,14==ne[2]&&(le.qpro=!0,ne.l=0),n(ne,function(tn,ps,Zc){switch(Zc){case 204:ot=tn;break;case 22:tn[1].v=tn[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(tn[3]>It&&(me["!ref"]=Xn(oe),St[ot]=me,ht.push(ot),me=le.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},ot="Sheet"+((It=tn[3])+1)),$r>0&&tn[0].r>=$r)break;le.dense?(me[tn[0].r]||(me[tn[0].r]=[]),me[tn[0].r][tn[0].c]=tn[1]):me[Ln(tn[0])]=tn[1],oe.e.c<tn[0].c&&(oe.e.c=tn[0].c),oe.e.r<tn[0].r&&(oe.e.r=tn[0].r);break;case 27:tn[14e3]&&(jn[tn[14e3][0]]=tn[14e3][1]);break;case 1537:jn[tn[0]]=tn[1],tn[0]==It&&(ot=tn[1])}},le)}if(me["!ref"]=Xn(oe),St[At||ot]=me,ht.push(At||ot),!jn.length)return{SheetNames:ht,Sheets:St};for(var fr={},zr=[],pr=0;pr<jn.length;++pr)St[ht[pr]]?(zr.push(jn[pr]||ht[pr]),fr[jn[pr]]=St[jn[pr]]||St[ht[pr]]):(zr.push(jn[pr]),fr[jn[pr]]={"!ref":"A1"});return{SheetNames:zr,Sheets:fr}}function p(ne,Oe,le){var me=[{c:0,r:0},{t:"n",v:0},0,0];return le.qpro&&20768!=le.vers?(me[0].c=ne.read_shift(1),me[3]=ne.read_shift(1),me[0].r=ne.read_shift(2),ne.l+=2):(me[2]=ne.read_shift(1),me[0].c=ne.read_shift(2),me[0].r=ne.read_shift(2)),me}function g(ne,Oe,le){var me=ne.l+Oe,ot=p(ne,0,le);if(ot[1].t="s",20768==le.vers){ne.l++;var At=ne.read_shift(1);return ot[1].v=ne.read_shift(At,"utf8"),ot}return le.qpro&&ne.l++,ot[1].v=ne.read_shift(me-ne.l,"cstr"),ot}function y(ne,Oe,le){var me=tt(7+le.length);me.write_shift(1,255),me.write_shift(2,Oe),me.write_shift(2,ne),me.write_shift(1,39);for(var ot=0;ot<me.length;++ot){var At=le.charCodeAt(ot);me.write_shift(1,At>=128?95:At)}return me.write_shift(1,0),me}function T(ne,Oe,le){var me=tt(7);return me.write_shift(1,255),me.write_shift(2,Oe),me.write_shift(2,ne),me.write_shift(2,le,"i"),me}function D(ne,Oe,le){var me=tt(13);return me.write_shift(1,255),me.write_shift(2,Oe),me.write_shift(2,ne),me.write_shift(8,le,"f"),me}function B(ne,Oe,le){var me=32768&Oe;return Oe=(me?ne:0)+((Oe&=-32769)>=8192?Oe-16384:Oe),(me?"":"$")+(le?Di(Oe):es(Oe))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},V=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function ve(ne){var Oe=[{c:0,r:0},{t:"n",v:0},0];return Oe[0].r=ne.read_shift(2),Oe[3]=ne[ne.l++],Oe[0].c=ne[ne.l++],Oe}function Y(ne,Oe,le,me){var ot=tt(6+me.length);ot.write_shift(2,ne),ot.write_shift(1,le),ot.write_shift(1,Oe),ot.write_shift(1,39);for(var At=0;At<me.length;++At){var It=me.charCodeAt(At);ot.write_shift(1,It>=128?95:It)}return ot.write_shift(1,0),ot}function we(ne,Oe){var le=ve(ne),me=ne.read_shift(4),ot=ne.read_shift(4),At=ne.read_shift(2);if(65535==At)return 0===me&&3221225472===ot?(le[1].t="e",le[1].v=15):0===me&&3489660928===ot?(le[1].t="e",le[1].v=42):le[1].v=0,le;var It=32768&At;return At=(32767&At)-16446,le[1].v=(1-2*It)*(ot*Math.pow(2,At+32)+me*Math.pow(2,At)),le}function Ue(ne,Oe,le,me){var ot=tt(14);if(ot.write_shift(2,ne),ot.write_shift(1,le),ot.write_shift(1,Oe),0==me)return ot.write_shift(4,0),ot.write_shift(4,0),ot.write_shift(2,65535),ot;var At=0,It=0,ht=0;return me<0&&(At=1,me=-me),It=0|Math.log2(me),0==(2147483648&(ht=(me/=Math.pow(2,It-31))>>>0))&&(++It,ht=(me/=2)>>>0),me-=ht,ht|=2147483648,ht>>>=0,me*=Math.pow(2,32),ot.write_shift(4,me>>>0),ot.write_shift(4,ht),ot.write_shift(2,It+=16383+(At?32768:0)),ot}function Mt(ne,Oe){var le=ve(ne),me=ne.read_shift(8,"f");return le[1].v=me,le}function Ot(ne,Oe){return 0==ne[ne.l+Oe-1]?ne.read_shift(Oe,"cstr"):""}function yt(ne,Oe){var le=tt(5+ne.length);le.write_shift(2,14e3),le.write_shift(2,Oe);for(var me=0;me<ne.length;++me){var ot=ne.charCodeAt(me);le[le.l++]=ot>127?95:ot}return le[le.l++]=0,le}var Zt={0:{n:"BOF",f:Is},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function u(ne,Oe,le){var me={s:{c:0,r:0},e:{c:0,r:0}};return 8==Oe&&le.qpro?(me.s.c=ne.read_shift(1),ne.l++,me.s.r=ne.read_shift(2),me.e.c=ne.read_shift(1),ne.l++,me.e.r=ne.read_shift(2),me):(me.s.c=ne.read_shift(2),me.s.r=ne.read_shift(2),12==Oe&&le.qpro&&(ne.l+=2),me.e.c=ne.read_shift(2),me.e.r=ne.read_shift(2),12==Oe&&le.qpro&&(ne.l+=2),65535==me.s.c&&(me.s.c=me.e.c=me.s.r=me.e.r=0),me)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function E(ne,Oe,le){var me=p(ne,0,le);return me[1].v=ne.read_shift(2,"i"),me}},14:{n:"NUMBER",f:function k(ne,Oe,le){var me=p(ne,0,le);return me[1].v=ne.read_shift(8,"f"),me}},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:function R(ne,Oe,le){var me=ne.l+Oe,ot=p(ne,0,le);if(ot[1].v=ne.read_shift(8,"f"),le.qpro)ne.l=me;else{var At=ne.read_shift(2);(function re(ne,Oe){Io(ne,0);for(var le=[],me=0,ot="",At="",It="",St="";ne.l<ne.length;){var ht=ne[ne.l++];switch(ht){case 0:le.push(ne.read_shift(8,"f"));break;case 1:At=B(Oe[0].c,ne.read_shift(2),!0),ot=B(Oe[0].r,ne.read_shift(2),!1),le.push(At+ot);break;case 2:var jn=B(Oe[0].c,ne.read_shift(2),!0),oe=B(Oe[0].r,ne.read_shift(2),!1);At=B(Oe[0].c,ne.read_shift(2),!0),ot=B(Oe[0].r,ne.read_shift(2),!1),le.push(jn+oe+":"+At+ot);break;case 3:if(ne.l<ne.length)return void console.error("WK1 premature formula end");break;case 4:le.push("("+le.pop()+")");break;case 5:le.push(ne.read_shift(2));break;case 6:for(var $r="";ht=ne[ne.l++];)$r+=String.fromCharCode(ht);le.push('"'+$r.replace(/"/g,'""')+'"');break;case 8:le.push("-"+le.pop());break;case 23:le.push("+"+le.pop());break;case 22:le.push("NOT("+le.pop()+")");break;case 20:case 21:St=le.pop(),It=le.pop(),le.push(["AND","OR"][ht-20]+"("+It+","+St+")");break;default:if(ht<32&&V[ht])St=le.pop(),It=le.pop(),le.push(It+V[ht]+St);else{if(!j[ht])return ht<=7?console.error("WK1 invalid opcode "+ht.toString(16)):ht<=24?console.error("WK1 unsupported op "+ht.toString(16)):ht<=30?console.error("WK1 invalid opcode "+ht.toString(16)):ht<=115?console.error("WK1 unsupported function opcode "+ht.toString(16)):console.error("WK1 unrecognized opcode "+ht.toString(16));if(69==(me=j[ht][1])&&(me=ne[ne.l++]),me>le.length)return void console.error("WK1 bad formula parse 0x"+ht.toString(16)+":|"+le.join("|")+"|");var fr=le.slice(-me);le.length-=me,le.push(j[ht][0]+"("+fr.join(",")+")")}}}1==le.length?Oe[1].f=""+le[0]:console.error("WK1 bad formula parse |"+le.join("|")+"|")})(ne.slice(ne.l,ne.l+At),ot),ne.l+=At}return ot}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ot},222:{n:"SHEETNAMELP",f:function lt(ne,Oe){var le=ne[ne.l++];le>Oe-1&&(le=Oe-1);for(var me="";me.length<le;)me+=String.fromCharCode(ne[ne.l++]);return me}},65535:{n:""}},st={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function ae(ne,Oe){var le=ve(ne);return le[1].t="s",le[1].v=ne.read_shift(Oe-4,"cstr"),le}},23:{n:"NUMBER17",f:we},24:{n:"NUMBER18",f:function De(ne,Oe){var le=ve(ne);le[1].v=ne.read_shift(2);var me=le[1].v>>1;if(1&le[1].v)switch(7&me){case 0:me=5e3*(me>>3);break;case 1:me=500*(me>>3);break;case 2:me=(me>>3)/20;break;case 3:me=(me>>3)/200;break;case 4:me=(me>>3)/2e3;break;case 5:me=(me>>3)/2e4;break;case 6:me=(me>>3)/16;break;case 7:me=(me>>3)/64}return le[1].v=me,le}},25:{n:"FORMULA19",f:function Ke(ne,Oe){var le=we(ne);return ne.l+=Oe-14,le}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function Lt(ne,Oe){for(var le={},me=ne.l+Oe;ne.l<me;){var ot=ne.read_shift(2);if(14e3==ot){for(le[ot]=[0,""],le[ot][0]=ne.read_shift(2);ne[ne.l];)le[ot][1]+=String.fromCharCode(ne[ne.l]),ne.l++;ne.l++}}return le}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function Te(ne,Oe){var le=ve(ne),me=ne.read_shift(4);return le[1].v=me>>6,le}},38:{n:"??"},39:{n:"NUMBER27",f:Mt},40:{n:"FORMULA28",f:function nn(ne,Oe){var le=Mt(ne);return ne.l+=Oe-10,le}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ot},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function dt(ne,Oe,le){if(le.qpro&&!(Oe<21)){var me=ne.read_shift(1);return ne.l+=17,ne.l+=1,ne.l+=2,[me,ne.read_shift(Oe-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function r(ne,Oe){var le=Oe||{};if(+le.codepage>=0&&Lc(+le.codepage),"string"==le.type)throw new Error("Cannot write WK1 to JS string");var me=Fa(),ot=_r(ne["!ref"]),At=Array.isArray(ne),It=[];jt(me,0,function s(ne){var Oe=tt(2);return Oe.write_shift(2,ne),Oe}(1030)),jt(me,6,function h(ne){var Oe=tt(8);return Oe.write_shift(2,ne.s.c),Oe.write_shift(2,ne.s.r),Oe.write_shift(2,ne.e.c),Oe.write_shift(2,ne.e.r),Oe}(ot));for(var St=Math.min(ot.e.r,8191),ht=ot.s.r;ht<=St;++ht)for(var jn=es(ht),oe=ot.s.c;oe<=ot.e.c;++oe){ht===ot.s.r&&(It[oe]=Di(oe));var fr=At?(ne[ht]||[])[oe]:ne[It[oe]+jn];fr&&"z"!=fr.t&&("n"==fr.t?(0|fr.v)==fr.v&&fr.v>=-32768&&fr.v<=32767?jt(me,13,T(ht,oe,fr.v)):jt(me,14,D(ht,oe,fr.v)):jt(me,15,y(ht,oe,Jd(fr).slice(0,239))))}return jt(me,1),me.end()},book_to_wk3:function i(ne,Oe){var le=Oe||{};if(+le.codepage>=0&&Lc(+le.codepage),"string"==le.type)throw new Error("Cannot write WK3 to JS string");var me=Fa();jt(me,0,function o(ne){var Oe=tt(26);Oe.write_shift(2,4096),Oe.write_shift(2,4),Oe.write_shift(4,0);for(var le=0,me=0,ot=0,At=0;At<ne.SheetNames.length;++At){var St=ne.Sheets[ne.SheetNames[At]];if(St&&St["!ref"]){++ot;var ht=Ul(St["!ref"]);le<ht.e.r&&(le=ht.e.r),me<ht.e.c&&(me=ht.e.c)}}return le>8191&&(le=8191),Oe.write_shift(2,le),Oe.write_shift(1,ot),Oe.write_shift(1,me),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(1,1),Oe.write_shift(1,2),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe}(ne));for(var ot=0,At=0;ot<ne.SheetNames.length;++ot)(ne.Sheets[ne.SheetNames[ot]]||{})["!ref"]&&jt(me,27,yt(ne.SheetNames[ot],At++));var It=0;for(ot=0;ot<ne.SheetNames.length;++ot){var St=ne.Sheets[ne.SheetNames[ot]];if(St&&St["!ref"]){for(var ht=_r(St["!ref"]),jn=Array.isArray(St),oe=[],$r=Math.min(ht.e.r,8191),fr=ht.s.r;fr<=$r;++fr)for(var zr=es(fr),pr=ht.s.c;pr<=ht.e.c;++pr){fr===ht.s.r&&(oe[pr]=Di(pr));var ps=jn?(St[fr]||[])[pr]:St[oe[pr]+zr];ps&&"z"!=ps.t&&("n"==ps.t?jt(me,23,Ue(fr,pr,It,ps.v)):jt(me,22,Y(fr,pr,It,Jd(ps).slice(0,239))))}++It}}return jt(me,1),me.end()},to_workbook:function t(ne,Oe){switch(Oe.type){case"base64":return e(Nl(Pl(ne)),Oe);case"binary":return e(Nl(ne),Oe);case"buffer":case"array":return e(ne,Oe)}throw"Unsupported type "+Oe.type}}}(),CQ=function(){var n=PE("t"),t=PE("rPr");function e(s){var o=s.match(n);if(!o)return{t:"s",v:""};var u={t:"s",v:Dr(o[1])},h=s.match(t);return h&&(u.s=function EQ(n){var t={},e=n.match(Jo),r=0,i=!1;if(e)for(;r!=e.length;++r){var s=Nn(e[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==s.val)break;t.cp=UO[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==s.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==s.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(47!==s[0].charCodeAt(1)&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}(h[1])),u}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(e).filter(function(u){return u.v})}}(),DQ=function(){var t=/(\r\n|\n)/g;function r(i){var s=[[],i.v,[]];return i.v?(i.s&&function e(i,s,o){var u=[];i.u&&u.push("text-decoration: underline;"),i.uval&&u.push("text-underline-style:"+i.uval+";"),i.sz&&u.push("font-size:"+i.sz+"pt;"),i.outline&&u.push("text-effect: outline;"),i.shadow&&u.push("text-shadow: auto;"),s.push('<span style="'+u.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var h=i.valign||"";"superscript"==h||"super"==h?h="sup":"subscript"==h&&(h="sub"),""!=h&&(s.push("<"+h+">"),o.push("</"+h+">")),o.push("</span>")}(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),SQ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,TQ=/<(?:\w+:)?r>/,AQ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function TP(n,t){var e=!t||t.cellHTML,r={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Dr(Yr(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Yr(n),e&&(r.h=KO(r.t))):n.match(TQ)&&(r.r=Yr(n),r.t=Dr(Yr((n.replace(AQ,"").match(SQ)||[]).join("").replace(Jo,""))),e&&(r.h=DQ(CQ(r.r)))),r):{t:""}}var IQ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,kQ=/<(?:\w+:)?(?:si|sstItem)>/g,MQ=/<\/(?:\w+:)?(?:si|sstItem)>/;function f5(n){for(var t=[],e=n.split(""),r=0;r<e.length;++r)t[r]=e[r].charCodeAt(0);return t}function xf(n,t){var e={};return e.Major=n.read_shift(2),e.Minor=n.read_shift(2),t>=4&&(n.l+=t-4),e}function UQ(n){for(var t=n.read_shift(4),e=n.l+t-4,r={},i=n.read_shift(4),s=[];i-- >0;)s.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(r.name=n.read_shift(0,"lpp4"),r.comps=s,n.l!=e)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+e);return r}function p5(n,t){var e=n.l+t,r={};r.Flags=63&n.read_shift(4),n.l+=4,r.AlgID=n.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=36==r.Flags;break;case 26625:i=4==r.Flags;break;case 0:i=16==r.Flags||4==r.Flags||36==r.Flags;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=n.read_shift(4),r.KeySize=n.read_shift(4),r.ProviderType=n.read_shift(4),n.l+=8,r.CSPName=n.read_shift(e-n.l>>1,"utf16le"),n.l=e,r}function m5(n,t){var e={},r=n.l+t;return n.l+=4,e.Salt=n.slice(n.l,n.l+16),n.l+=16,e.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),e.VerifierHash=n.slice(n.l,r),n.l=r,e}function ZQ(n){if(36!=(63&n.read_shift(4)))throw new Error("EncryptionInfo mismatch");var e=n.read_shift(4);return{t:"Std",h:p5(n,e),v:m5(n,n.length-n.l)}}function WQ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function qQ(n){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var e=n.read_shift(n.length-n.l,"utf8"),r={};return e.replace(Jo,function(s){var o=Nn(s);switch(Xd(o[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach(function(u){r[u]=o[u]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"<keyEncryptor":r.uri=o.uri;break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}var g5=function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],e=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],i=function(o,u){return function(o){return 255&(o/2|128*o)}(o^u)};return function(o){for(var u=f5(o),h=function(o){for(var u=t[o.length-1],h=104,p=o.length-1;p>=0;--p)for(var g=o[p],y=0;7!=y;++y)64&g&&(u^=e[h]),g*=2,--h;return u}(u),p=u.length,g=_m(16),y=0;16!=y;++y)g[y]=0;var k;for(1==(1&p)&&(g[p]=i(n[0],h>>8),g[--p]=i(u[u.length-1],255&h));p>0;)g[--p]=i(u[p],h>>8),g[--p]=i(u[p],255&h);for(p=15,k=15-u.length;k>0;)g[p]=i(n[k],h>>8),--k,g[--p]=i(u[p],255&h),--p,--k;return g}}();var _5=function(){function n(i,s){switch(s.type){case"base64":return t(Pl(i),s);case"binary":return t(i,s);case"buffer":return t(or&&Buffer.isBuffer(i)?i.toString("binary"):vm(i),s);case"array":return t(p_(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var u=(s||{}).dense?[]:{},h=i.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(g,y){Array.isArray(u)&&(u[y]=[]);for(var k,E=/\\\w+\b/g,T=0,D=-1;k=E.exec(g);){if("\\cell"===k[0]){var R=g.slice(T,E.lastIndex-k[0].length);if(" "==R[0]&&(R=R.slice(1)),++D,R.length){var B={v:R,t:"s"};Array.isArray(u)?u[y][D]=B:u[Ln({r:y,c:D})]=B}}T=E.lastIndex}D>p.e.c&&(p.e.c=D)}),u["!ref"]=Xn(p),u}return{to_workbook:function e(i,s){return Em(n(i,s),s)},to_sheet:n,from_sheet:function r(i){for(var u,s=["{\\rtf1\\ansi"],o=_r(i["!ref"]),h=Array.isArray(i),p=o.s.r;p<=o.e.r;++p){s.push("\\trowd\\trautofit1");for(var g=o.s.c;g<=o.e.c;++g)s.push("\\cellx"+(g+1));for(s.push("\\pard\\intbl"),g=o.s.c;g<=o.e.c;++g){var y=Ln({r:p,c:g});(u=h?(i[p]||[])[g]:i[y])&&(null!=u.v||u.f&&!u.F)&&(s.push(" "+(u.w||(Jd(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}}}();function $E(n){for(var t=0,e=1;3!=t;++t)e=256*e+(n[t]>255?255:n[t]<0?0:n[t]);return e.toString(16).toUpperCase().slice(1)}function gI(n,t){if(0===t)return n;var e=function rJ(n){var t=n[0]/255,e=n[1]/255,r=n[2]/255,i=Math.max(t,e,r),s=Math.min(t,e,r),o=i-s;if(0===o)return[0,0,t];var h,u=0,p=i+s;switch(h=o/(p>1?2-p:p),i){case t:u=((e-r)/o+6)%6;break;case e:u=(r-t)/o+2;break;case r:u=(t-e)/o+4}return[u/6,h,p/2]}(function nJ(n){var t=n.slice("#"===n[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}(n));return e[2]=t<0?e[2]*(1+t):1-(1-e[2])*(1-t),$E(function iJ(n){var h,e=n[1],r=n[2],i=2*e*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],u=6*n[0];if(0!==e)switch(0|u){case 0:case 6:h=i*u,o[0]+=i,o[1]+=h;break;case 1:o[0]+=h=i*(2-u),o[1]+=i;break;case 2:h=i*(u-2),o[1]+=i,o[2]+=h;break;case 3:o[1]+=h=i*(4-u),o[2]+=i;break;case 4:h=i*(u-4),o[2]+=i,o[0]+=h;break;case 5:o[2]+=h=i*(6-u),o[0]+=i}for(var p=0;3!=p;++p)o[p]=Math.round(255*o[p]);return o}(e))}var ia=6;function zE(n){return Math.floor((n+Math.round(128/ia)/256)*ia)}function ZE(n){return Math.floor((n-5)/ia*100+.5)/100}function _I(n){return Math.round((n*ia+5)/ia*256)/256}function IP(n){return _I(ZE(zE(n)))}function kP(n){var t=Math.abs(n-IP(n)),e=ia;if(t>.005)for(ia=1;ia<15;++ia)Math.abs(n-IP(n))<=t&&(t=Math.abs(n-IP(n)),e=ia);ia=e}function T_(n){n.width?(n.wpx=zE(n.width),n.wch=ZE(n.wpx),n.MDW=ia):n.wpx?(n.wch=ZE(n.wpx),n.width=_I(n.wch),n.MDW=ia):"number"==typeof n.wch&&(n.width=_I(n.wch),n.wpx=zE(n.width),n.MDW=ia),n.customWidth&&delete n.customWidth}function WE(n){return 96*n/96}function C1(n){return 96*n/96}var lJ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"},vI=["numFmtId","fillId","fontId","borderId","xfId"],yI=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"],gJ=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,e=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(u,h,p){var y,g={};return u?((y=(u=u.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(t))&&function hJ(n,t,e){t.NumberFmt=[];for(var r=Qi(In),i=0;i<r.length;++i)t.NumberFmt[r[i]]=In[r[i]];var s=n[0].match(Jo);if(s)for(i=0;i<s.length;++i){var o=Nn(s[i]);switch(Xd(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var u=Dr(Yr(o.formatCode)),h=parseInt(o.numFmtId,10);if(t.NumberFmt[h]=u,h>0){if(h>392){for(h=392;h>60&&null!=t.NumberFmt[h];--h);t.NumberFmt[h]=u}Kd(u,h)}break;default:if(e.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}(y,g,p),(y=u.match(i))&&function dJ(n,t,e,r){t.Fonts=[];var i={},s=!1;(n[0].match(Jo)||[]).forEach(function(o){var u=Nn(o);switch(Xd(u[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":u.val&&(i.name=Yr(u.val));break;case"<b":i.bold=u.val?Ci(u.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=u.val?Ci(u.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(u.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=u.val?Ci(u.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=u.val?Ci(u.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=u.val?Ci(u.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=u.val?Ci(u.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=u.val?Ci(u.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":u.val&&(i.sz=+u.val);break;case"<vertAlign":u.val&&(i.vertAlign=u.val);break;case"<family":u.val&&(i.family=parseInt(u.val,10));break;case"<scheme":u.val&&(i.scheme=u.val);break;case"<charset":if("1"==u.val)break;u.codepage=UO[parseInt(u.val,10)];break;case"<color":if(i.color||(i.color={}),u.auto&&(i.color.auto=Ci(u.auto)),u.rgb)i.color.rgb=u.rgb.slice(-6);else if(u.indexed){i.color.index=parseInt(u.indexed,10);var h=x_[i.color.index];81==i.color.index&&(h=x_[1]),h||(h=x_[1]),i.color.rgb=h[0].toString(16)+h[1].toString(16)+h[2].toString(16)}else u.theme&&(i.color.theme=parseInt(u.theme,10),u.tint&&(i.color.tint=parseFloat(u.tint)),u.theme&&e.themeElements&&e.themeElements.clrScheme&&(i.color.rgb=gI(e.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<AlternateContent":case"<ext":s=!0;break;case"</AlternateContent>":case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+u[0]+" in fonts")}})}(y,g,h,p),(y=u.match(r))&&function uJ(n,t,e,r){t.Fills=[];var i={},s=!1;(n[0].match(Jo)||[]).forEach(function(o){var u=Nn(o);switch(Xd(u[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":t.Fills.push(i={});break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":u.patternType&&(i.patternType=u.patternType);break;case"<bgColor":i.bgColor||(i.bgColor={}),u.indexed&&(i.bgColor.indexed=parseInt(u.indexed,10)),u.theme&&(i.bgColor.theme=parseInt(u.theme,10)),u.tint&&(i.bgColor.tint=parseFloat(u.tint)),u.rgb&&(i.bgColor.rgb=u.rgb.slice(-6));break;case"<fgColor":i.fgColor||(i.fgColor={}),u.theme&&(i.fgColor.theme=parseInt(u.theme,10)),u.tint&&(i.fgColor.tint=parseFloat(u.tint)),null!=u.rgb&&(i.fgColor.rgb=u.rgb.slice(-6));break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+u[0]+" in fills")}})}(y,g,0,p),(y=u.match(s))&&function cJ(n,t,e,r){t.Borders=[];var i={},s=!1;(n[0].match(Jo)||[]).forEach(function(o){var u=Nn(o);switch(Xd(u[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":i={},u.diagonalUp&&(i.diagonalUp=Ci(u.diagonalUp)),u.diagonalDown&&(i.diagonalDown=Ci(u.diagonalDown)),t.Borders.push(i);break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+u[0]+" in borders")}})}(y,g,0,p),(y=u.match(e))&&function pJ(n,t,e){t.CellXf=[];var r,i=!1;(n[0].match(Jo)||[]).forEach(function(s){var o=Nn(s),u=0;switch(Xd(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(r=o)[0],u=0;u<vI.length;++u)r[vI[u]]&&(r[vI[u]]=parseInt(r[vI[u]],10));for(u=0;u<yI.length;++u)r[yI[u]]&&(r[yI[u]]=Ci(r[yI[u]]));if(t.NumberFmt&&r.numFmtId>392)for(u=392;u>60;--u)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[u]){r.numFmtId=u;break}t.CellXf.push(r);break;case"<alignment":case"<alignment/>":var h={};o.vertical&&(h.vertical=o.vertical),o.horizontal&&(h.horizontal=o.horizontal),null!=o.textRotation&&(h.textRotation=o.textRotation),o.indent&&(h.indent=o.indent),o.wrapText&&(h.wrapText=Ci(o.wrapText)),r.alignment=h;break;case"<AlternateContent":case"<ext":i=!0;break;case"</AlternateContent>":case"</ext>":i=!1;break;default:if(e&&e.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}(y,g,p),g):g}}(),bJ=ea,CJ=ea,BJ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function UJ(n,t,e){t.themeElements.clrScheme=[];var r={};(n[0].match(Jo)||[]).forEach(function(i){var s=Nn(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===s[0].charAt(1)?(t.themeElements.clrScheme[BJ.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(e&&e.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function HJ(){}function jJ(){}var GJ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,$J=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,zJ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/,WJ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function E5(n,t){(!n||0===n.length)&&(n=function RP(n,t){if(t&&t.themeXLSX)return t.themeXLSX;if(n&&"string"==typeof n.raw)return n.raw;var e=[Ts];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}());var e,r={};if(!(e=n.match(WJ)))throw new Error("themeElements not found in theme");return function ZJ(n,t,e){var r;t.themeElements={},[["clrScheme",GJ,UJ],["fontScheme",$J,HJ],["fmtScheme",zJ,jJ]].forEach(function(i){if(!(r=n.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,e)})}(e[0],r,t),r.raw=n,r}function JJ(n){var t=n.read_shift(2),e=n.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=function KJ(n){var t={};switch(t.xclrType=n.read_shift(2),t.nTintShade=n.read_shift(2),t.xclrType){case 0:case 4:n.l+=4;break;case 1:t.xclrValue=function XJ(n,t){return ea(n,t)}(n,4);break;case 2:t.xclrValue=ZU(n);break;case 3:t.xclrValue=function YJ(n){return n.read_shift(4)}(n)}return n.l+=8,t}(n);break;case 6:r[1]=function QJ(n,t){return ea(n,t)}(n,e);break;case 14:case 15:r[1]=n.read_shift(1===e?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+e)}return r}function tee(n,t){t.forEach(function(e){})}function S5(n,t,e,r){var s,i=Array.isArray(n);t.forEach(function(o){var u=Hi(o.ref);if(i?(n[u.r]||(n[u.r]=[]),s=n[u.r][u.c]):s=n[o.ref],!s){s={t:"z"},i?n[u.r][u.c]=s:n[o.ref]=s;var h=_r(n["!ref"]||"BDWGO1000001:A1");h.s.r>u.r&&(h.s.r=u.r),h.e.r<u.r&&(h.e.r=u.r),h.s.c>u.c&&(h.s.c=u.c),h.e.c<u.c&&(h.e.c=u.c);var p=Xn(h);p!==n["!ref"]&&(n["!ref"]=p)}s.c||(s.c=[]);var g={a:o.author,t:o.t,r:o.r,T:e};o.h&&(g.h=o.h);for(var y=s.c.length-1;y>=0;--y){if(!e&&s.c[y].T)return;e&&!s.c[y].T&&s.c.splice(y,1)}if(e&&r)for(y=0;y<r.length;++y)if(g.a==r[y].id){g.a=r[y].name||g.a;break}s.c.push(g)})}var Cee=ta,S1=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(r,i,s,o){var u=!1,h=!1;0==s.length?h=!0:"["==s.charAt(0)&&(h=!0,s=s.slice(1,-1)),0==o.length?u=!0:"["==o.charAt(0)&&(u=!0,o=o.slice(1,-1));var p=s.length>0?0|parseInt(s,10):0,g=o.length>0?0|parseInt(o,10):0;return u?g+=t.c:--g,h?p+=t.r:--p,i+(u?"":"$")+Di(g)+(h?"":"$")+es(p)}return function(i,s){return t=s,i.replace(n,e)}}(),FP=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,OP=function(){return function(t,e){return t.replace(FP,function(r,i,s,o,u,h){var p=lP(o)-(s?0:e.c),g=aP(h)-(u?0:e.r);return i+"R"+(0==g?"":u?g+1:"["+g+"]")+"C"+(0==p?"":s?p+1:"["+p+"]")})}}();function I5(n,t){return n.replace(FP,function(e,r,i,s,o,u){return r+("$"==i?i+s:Di(lP(s)+t.c))+("$"==o?o+u:es(aP(u)+t.r))})}function Pee(n,t,e){var i=Ul(t).s,s=Hi(e);return I5(n,{r:s.r-i.r,c:s.c-i.c})}function k5(n){return n.replace(/_xlfn\./g,"")}function ks(n){n.l+=1}function Dm(n,t){var e=n.read_shift(1==t?1:2);return[16383&e,e>>14&1,e>>15&1]}function M5(n,t,e){var r=2;if(e){if(e.biff>=2&&e.biff<=5)return R5(n);12==e.biff&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=Dm(n,2),u=Dm(n,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function R5(n){var t=Dm(n,2),e=Dm(n,2),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:e[0],c:i,cRel:e[1],rRel:e[2]}}}function F5(n,t,e){if(e&&e.biff>=2&&e.biff<=5)return function Vee(n){var t=Dm(n,2),e=n.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}(n);var r=n.read_shift(e&&12==e.biff?4:2),i=Dm(n,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Bee(n){var t=n.read_shift(2),e=n.read_shift(2);return{r:t,c:255&e,fQuoted:!!(16384&e),cRel:e>>15,rRel:e>>15}}function O5(n){var t=1&n[n.l+1];return n.l+=4,[t,1]}function P5(n){return[n.read_shift(1),n.read_shift(1)]}function pte(n,t){var e=[n.read_shift(1)];if(12==t)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2}switch(e[0]){case 4:e[1]=fs(n,1)?"TRUE":"FALSE",12!=t&&(n.l+=7);break;case 37:case 16:e[1]=wf[n[n.l]],n.l+=12==t?4:8;break;case 0:n.l+=8;break;case 1:e[1]=na(n);break;case 2:e[1]=C_(n,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function mte(n,t,e){for(var r=n.read_shift(12==e.biff?4:2),i=[],s=0;s!=r;++s)i.push((12==e.biff?y_:pI)(n,8));return i}function gte(n,t,e){var r=0,i=0;12==e.biff?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),e.biff>=2&&e.biff<8&&(--r,0==--i&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var u=0;u!=i;++u)o[s][u]=pte(n,e.biff);return o}function YE(n,t,e){return n.l+=2,[Bee(n)]}function PP(n){return n.l+=6,[]}function N5(n){return n.l+=2,[Is(n),1&n.read_shift(2)]}var Nte=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],L5={1:{n:"PtgExp",f:function lte(n,t,e){return n.l++,e&&12==e.biff?[n.read_shift(4,"i"),0]:[n.read_shift(2),n.read_shift(e&&2==e.biff?1:2)]}},2:{n:"PtgTbl",f:ea},3:{n:"PtgAdd",f:ks},4:{n:"PtgSub",f:ks},5:{n:"PtgMul",f:ks},6:{n:"PtgDiv",f:ks},7:{n:"PtgPower",f:ks},8:{n:"PtgConcat",f:ks},9:{n:"PtgLt",f:ks},10:{n:"PtgLe",f:ks},11:{n:"PtgEq",f:ks},12:{n:"PtgGe",f:ks},13:{n:"PtgGt",f:ks},14:{n:"PtgNe",f:ks},15:{n:"PtgIsect",f:ks},16:{n:"PtgUnion",f:ks},17:{n:"PtgRange",f:ks},18:{n:"PtgUplus",f:ks},19:{n:"PtgUminus",f:ks},20:{n:"PtgPercent",f:ks},21:{n:"PtgParen",f:ks},22:{n:"PtgMissArg",f:ks},23:{n:"PtgStr",f:function fte(n,t,e){return n.l++,jE(n,0,e)}},26:{n:"PtgSheet",f:function Bte(n,t,e){return n.l+=5,n.l+=2,n.l+=2==e.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function Ute(n,t,e){return n.l+=2==e.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function cte(n){return n.l++,wf[n.read_shift(1)]}},29:{n:"PtgBool",f:function dte(n){return n.l++,0!==n.read_shift(1)}},30:{n:"PtgInt",f:function ute(n){return n.l++,n.read_shift(2)}},31:{n:"PtgNum",f:function hte(n){return n.l++,na(n)}},32:{n:"PtgArray",f:function Wee(n,t,e){var r=(96&n[n.l++])>>5;return n.l+=2==e.biff?6:12==e.biff?14:7,[r]}},33:{n:"PtgFunc",f:function ite(n,t,e){var r=(96&n[n.l])>>5;n.l+=1;var i=n.read_shift(e&&e.biff<=3?1:2);return[ane[i],U5[i],r]}},34:{n:"PtgFuncVar",f:function ste(n,t,e){var r=n[n.l++],i=n.read_shift(1),s=e&&e.biff<=3?[88==r?-1:0,n.read_shift(1)]:function ote(n){return[n[n.l+1]>>7,32767&n.read_shift(2)]}(n);return[i,(0===s[0]?U5:one)[s[1]]]}},35:{n:"PtgName",f:function _te(n,t,e){var r=n.read_shift(1)>>>5&3,s=n.read_shift(!e||e.biff>=8?4:2);switch(e.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12}return[r,0,s]}},36:{n:"PtgRef",f:function tte(n,t,e){var r=(96&n[n.l])>>5;return n.l+=1,[r,F5(n,0,e)]}},37:{n:"PtgArea",f:function jee(n,t,e){return[(96&n[n.l++])>>5,M5(n,0,e)]}},38:{n:"PtgMemArea",f:function wte(n,t,e){var r=n.read_shift(1)>>>5&3;return n.l+=e&&2==e.biff?3:4,[r,n.read_shift(e&&2==e.biff?1:2)]}},39:{n:"PtgMemErr",f:ea},40:{n:"PtgMemNoMem",f:ea},41:{n:"PtgMemFunc",f:function xte(n,t,e){return[n.read_shift(1)>>>5&3,n.read_shift(e&&2==e.biff?1:2)]}},42:{n:"PtgRefErr",f:function bte(n,t,e){var r=n.read_shift(1)>>>5&3;return n.l+=4,e.biff<8&&n.l--,12==e.biff&&(n.l+=2),[r]}},43:{n:"PtgAreaErr",f:function $ee(n,t,e){var r=(96&n[n.l++])>>5;return n.l+=e&&e.biff>8?12:e.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function nte(n,t,e){var r=(96&n[n.l])>>5;n.l+=1;var i=function Uee(n,t,e){var r=e&&e.biff?e.biff:8;if(r>=2&&r<=5)return function Hee(n){var t=n.read_shift(2),e=n.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&e>=128&&(e-=256),{r:t,c:e,cRel:i,rRel:r}}(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(16384&s)>>14,u=(32768&s)>>15;if(s&=16383,1==u)for(;i>524287;)i-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r:i,c:s,cRel:o,rRel:u}}(n,0,e);return[r,i]}},45:{n:"PtgAreaN",f:function Zee(n,t,e){var r=(96&n[n.l++])>>5,i=function Lee(n,t,e){if(e.biff<8)return R5(n);var r=n.read_shift(12==e.biff?4:2),i=n.read_shift(12==e.biff?4:2),s=Dm(n,2),o=Dm(n,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}(n,0,e);return[r,i]}},46:{n:"PtgMemAreaN",f:function Hte(n){return[n.read_shift(1)>>>5&3,n.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function jte(n){return[n.read_shift(1)>>>5&3,n.read_shift(2)]}},57:{n:"PtgNameX",f:function vte(n,t,e){return 5==e.biff?function yte(n){var t=n.read_shift(1)>>>5&3,e=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[t,e,r]}(n):[n.read_shift(1)>>>5&3,n.read_shift(2),n.read_shift(4)]}},58:{n:"PtgRef3d",f:function rte(n,t,e){var r=(96&n[n.l])>>5;n.l+=1;var i=n.read_shift(2);return e&&5==e.biff&&(n.l+=12),[r,i,F5(n,0,e)]}},59:{n:"PtgArea3d",f:function Gee(n,t,e){var r=(96&n[n.l++])>>5,i=n.read_shift(2,"i");if(e&&5===e.biff)n.l+=12;return[r,i,M5(n,0,e)]}},60:{n:"PtgRefErr3d",f:function Ete(n,t,e){var r=(96&n[n.l++])>>5,i=n.read_shift(2),s=4;if(e)switch(e.biff){case 5:s=15;break;case 12:s=6}return n.l+=s,[r,i]}},61:{n:"PtgAreaErr3d",f:function zee(n,t,e){var r=(96&n[n.l++])>>5,i=n.read_shift(2),s=8;if(e)switch(e.biff){case 5:n.l+=12,s=6;break;case 12:s=12}return n.l+=s,[r,i]}},255:{}},$te={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zte={1:{n:"PtgElfLel",f:N5},2:{n:"PtgElfRw",f:YE},3:{n:"PtgElfCol",f:YE},6:{n:"PtgElfRwV",f:YE},7:{n:"PtgElfColV",f:YE},10:{n:"PtgElfRadical",f:YE},11:{n:"PtgElfRadicalS",f:PP},13:{n:"PtgElfColS",f:PP},15:{n:"PtgElfColSV",f:PP},16:{n:"PtgElfRadicalLel",f:N5},25:{n:"PtgList",f:function Lte(n){n.l+=2;var t=n.read_shift(2),e=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2);return{ixti:t,coltype:3&e,rt:Nte[e>>2&31],idx:r,c:i,C:s}}},29:{n:"PtgSxName",f:function Vte(n){return n.l+=2,[n.read_shift(4)]}},255:{}},Zte={0:{n:"PtgAttrNoop",f:function Gte(n){return n.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function Qee(n,t,e){var r=255&n[n.l+1]?1:0;return n.l+=e&&2==e.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function Kee(n,t,e){var r=255&n[n.l+1]?1:0;return n.l+=2,[r,n.read_shift(e&&2==e.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function qee(n,t,e){n.l+=2;for(var r=n.read_shift(e&&2==e.biff?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(e&&2==e.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function Yee(n,t,e){var r=255&n[n.l+1]?1:0;return n.l+=2,[r,n.read_shift(e&&2==e.biff?1:2)]}},16:{n:"PtgAttrSum",f:function ate(n,t,e){n.l+=e&&2==e.biff?3:4}},32:{n:"PtgAttrBaxcel",f:O5},33:{n:"PtgAttrBaxcel",f:O5},64:{n:"PtgAttrSpace",f:function Jee(n){return n.read_shift(2),P5(n)}},65:{n:"PtgAttrSpaceSemi",f:function ete(n){return n.read_shift(2),P5(n)}},128:{n:"PtgAttrIfError",f:function Xee(n){var t=255&n[n.l+1]?1:0;return n.l+=2,[t,n.read_shift(2)]}},255:{}};function KE(n,t,e,r){if(r.biff<8)return ea(n,t);for(var i=n.l+t,s=[],o=0;o!==e.length;++o)switch(e[o][0]){case"PtgArray":e[o][1]=gte(n,0,r),s.push(e[o][1]);break;case"PtgMemArea":e[o][2]=mte(n,0,r),s.push(e[o][2]);break;case"PtgExp":r&&12==r.biff&&(e[o][1][1]=n.read_shift(4),s.push(e[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[o][0]}return 0!=(t=i-n.l)&&s.push(ea(n,t)),s}function XE(n,t,e){for(var i,s,r=n.l+t,o=[];r!=n.l;)t=r-n.l,i=L5[s=n[n.l]]||L5[$te[s]],(24===s||25===s)&&(i=(24===s?zte:Zte)[n[n.l+1]]),i&&i.f?o.push([i.n,i.f(n,t,e)]):ea(n,t);return o}function Wte(n){for(var t=[],e=0;e<n.length;++e){for(var r=n[e],i=[],s=0;s<r.length;++s){var o=r[s];i.push(o?2===o[0]?'"'+o[1].replace(/"/g,'""')+'"':o[1]:"")}t.push(i.join(","))}return t.join(";")}var qte={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function V5(n,t,e){if(!n)return"SH33TJSERR0";if(e.biff>8&&(!n.XTI||!n.XTI[t]))return n.SheetNames[t];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":n.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(e.biff>8)switch(n[r[0]][0]){case 357:return i=-1==r[1]?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return null!=e.SID?n.SheetNames[e.SID]:"SH33TJSSAME"+n[r[0]][0];default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=-1==r[1]?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function B5(n,t,e){var r=V5(n,t,e);return"#REF"==r?r:function Yte(n,t){if(!(n||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}(r,e)}function sa(n,t,e,r,i){var h,p,g,T,s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},u=[],y=0,E=0,k="";if(!n[0]||!n[0][0])return"";for(var D=-1,R="",B=0,j=n[0].length;B<j;++B){var V=n[0][B];switch(V[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=u.pop(),p=u.pop(),D>=0){switch(n[0][D][1][0]){case 0:R=Ji(" ",n[0][D][1][1]);break;case 1:R=Ji("\r",n[0][D][1][1]);break;default:if(R="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][D][1][0])}p+=R,D=-1}u.push(p+qte[V[0]]+h);break;case"PtgIsect":h=u.pop(),p=u.pop(),u.push(p+" "+h);break;case"PtgUnion":h=u.pop(),p=u.pop(),u.push(p+","+h);break;case"PtgRange":h=u.pop(),p=u.pop(),u.push(p+":"+h);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":g=VE(V[1][1],o,i),u.push(BE(g,s));break;case"PtgRefN":g=e?VE(V[1][1],e,i):V[1][1],u.push(BE(g,s));break;case"PtgRef3d":y=V[1][1],g=VE(V[1][2],o,i),k=B5(r,y,i),u.push(k+"!"+BE(g,s));break;case"PtgFunc":case"PtgFuncVar":var ve=V[1][0],ae=V[1][1];ve||(ve=0);var Y=0==(ve&=127)?[]:u.slice(-ve);u.length-=ve,"User"===ae&&(ae=Y.shift()),u.push(ae+"("+Y.join(",")+")");break;case"PtgBool":u.push(V[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":u.push(V[1]);break;case"PtgNum":u.push(String(V[1]));break;case"PtgStr":u.push('"'+V[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":T=hU(V[1][1],e?{s:e}:o,i),u.push(oP(T,i));break;case"PtgArea":T=hU(V[1][1],o,i),u.push(oP(T,i));break;case"PtgArea3d":T=V[1][2],k=B5(r,y=V[1][1],i),u.push(k+"!"+oP(T,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgName":var De=(r.names||[])[(E=V[1][2])-1]||(r[0]||[])[E],we=De?De.Name:"SH33TJSNAME"+String(E);we&&"_xlfn."==we.slice(0,6)&&!i.xlfn&&(we=we.slice(6)),u.push(we);break;case"PtgNameX":var Ke,Ue=V[1][1];if(E=V[1][2],!(i.biff<=5)){var Te="";if(14849==((r[Ue]||[])[0]||[])[0]||(1025==((r[Ue]||[])[0]||[])[0]?r[Ue][E]&&r[Ue][E].itab>0&&(Te=r.SheetNames[r[Ue][E].itab-1]+"!"):Te=r.SheetNames[E-1]+"!"),r[Ue]&&r[Ue][E])Te+=r[Ue][E].Name;else if(r[0]&&r[0][E])Te+=r[0][E].Name;else{var Mt=(V5(r,Ue,i)||"").split(";;");Mt[E-1]?Te=Mt[E-1]:Te+="SH33TJSERRX"}u.push(Te);break}Ue<0&&(Ue=-Ue),r[Ue]&&(Ke=r[Ue][E]),Ke||(Ke={Name:"SH33TJSERRY"}),u.push(Ke.Name);break;case"PtgParen":var nn="(",Ot=")";if(D>=0){switch(R="",n[0][D][1][0]){case 2:nn=Ji(" ",n[0][D][1][1])+nn;break;case 3:nn=Ji("\r",n[0][D][1][1])+nn;break;case 4:Ot=Ji(" ",n[0][D][1][1])+Ot;break;case 5:Ot=Ji("\r",n[0][D][1][1])+Ot;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][D][1][0])}D=-1}u.push(nn+u.pop()+Ot);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":u.push("#REF!");break;case"PtgExp":var lt={c:e.c,r:e.r};if(r.sharedf[Ln(g={c:V[1][1],r:V[1][0]})]){var dt=r.sharedf[Ln(g)];u.push(sa(dt,0,lt,r,i))}else{var Lt=!1;for(h=0;h!=r.arrayf.length;++h)if(!(g.c<(p=r.arrayf[h])[0].s.c||g.c>p[0].e.c||g.r<p[0].s.r||g.r>p[0].e.r)){u.push(sa(p[1],0,lt,r,i)),Lt=!0;break}Lt||u.push(V[1])}break;case"PtgArray":u.push("{"+Wte(V[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":D=B;break;case"PtgMissArg":u.push("");break;case"PtgList":u.push("Table"+V[1].idx+"[#"+V[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(V))}if(3!=i.biff&&D>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(n[0][B][0])){var Zt=!0;switch((V=n[0][D])[1][0]){case 4:Zt=!1;case 0:R=Ji(" ",V[1][1]);break;case 5:Zt=!1;case 1:R=Ji("\r",V[1][1]);break;default:if(R="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+V[1][0])}u.push((Zt?R:"")+u.pop()+(Zt?"":R)),D=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function Kte(n,t,e){var s,r=n.l+t,i=2==e.biff?1:2,o=n.read_shift(i);if(65535==o)return[[],ea(n,t-2)];var u=XE(n,o,e);return t!==o+i&&(s=KE(n,t-o-i,u,e)),n.l=r,[u,s]}function Jte(n,t,e){var i,r=n.l+t,s=n.read_shift(2),o=XE(n,s,e);return 65535==s?[[],ea(n,t-2)]:(t!==s+2&&(i=KE(n,r-s-2,o,e)),[o,i])}function NP(n,t,e){var r=n.l+t,i=eh(n);2==e.biff&&++n.l;var s=function ene(n){var t;if(65535!==vf(n,n.l+6))return[na(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return t=1===n[n.l+2],n.l+=8,[t,"b"];case 2:return t=n[n.l+2],n.l+=8,[t,"e"];case 3:return n.l+=8,["","s"]}return[]}(n),o=n.read_shift(1);2!=e.biff&&(n.read_shift(1),e.biff>=5&&n.read_shift(4));var u=function Xte(n,t,e){var s,r=n.l+t,i=2==e.biff?1:2,o=n.read_shift(i);if(65535==o)return[[],ea(n,t-2)];var u=XE(n,o,e);return t!==o+i&&(s=KE(n,t-o-i,u,e)),n.l=r,[u,s]}(n,r-n.l,e);return{cell:i,val:s[0],formula:u,shared:o>>3&1,tt:s[1]}}function wI(n,t,e){var r=n.read_shift(4),i=XE(n,r,e),s=n.read_shift(4);return[i,s>0?KE(n,s,i,e):null]}var rne=wI,xI=wI,ine=wI,sne=wI,one={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},U5={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ane={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function H5(n){return"of:"==n.slice(0,3)&&(n=n.slice(3)),61==n.charCodeAt(0)&&61==(n=n.slice(1)).charCodeAt(0)&&(n=n.slice(1)),(n=(n=(n=n.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,e){return e.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function LP(n){var t=n.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var QE={},T1={};function A_(n,t){if(n){var e=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(e=[1,1,1,1,.5,.5]),null==n.left&&(n.left=e[0]),null==n.right&&(n.right=e[1]),null==n.top&&(n.top=e[2]),null==n.bottom&&(n.bottom=e[3]),null==n.header&&(n.header=e[4]),null==n.footer&&(n.footer=e[5])}}function j5(n,t,e,r,i,s){try{r.cellNF&&(n.z=In[t])}catch(u){if(r.WTF)throw u}if("z"!==n.t||r.cellStyles){if("d"===n.t&&"string"==typeof n.v&&(n.v=Ui(n.v)),(!r||!1!==r.cellText)&&"z"!==n.t)try{if(null==In[t]&&Kd(lY[t]||"General",t),"e"===n.t)n.w=n.w||wf[n.v];else if(0===t)if("n"===n.t)n.w=(0|n.v)===n.v?n.v.toString(10):ME(n.v);else if("d"===n.t){var o=Ws(n.v);n.w=(0|o)===o?o.toString(10):ME(o)}else{if(void 0===n.v)return"";n.w=h_(n.v,T1)}else n.w=Ll(t,"d"===n.t?Ws(n.v):n.v,T1)}catch(u){if(r.WTF)throw u}if(r.cellStyles&&null!=e)try{n.s=s.Fills[e],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=gI(i.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),r.WTF&&(n.s.fgColor.raw_rgb=i.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=gI(i.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),r.WTF&&(n.s.bgColor.raw_rgb=i.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(u){if(r.WTF&&s.Fills)throw u}}}var une=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,dne=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,hne=/<(?:\w:)?hyperlink [^>]*>/gm,fne=/"(\w*:\w*)"/,pne=/<(?:\w:)?col\b[^>]*[\/]?>/g,mne=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,gne=/<(?:\w:)?pageMargins[^>]*\/>/g,G5=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,_ne=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,vne=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function BP(n,t,e,r){var i=Nn(n);e.Sheets[r]||(e.Sheets[r]={}),i.codeName&&(e.Sheets[r].CodeName=Dr(Yr(i.codeName)))}var Fne=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/,Lne=function(){var n=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,e=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=PE("v"),o=PE("f");return function(h,p,g,y,E,T){for(var ae,Y,Ue,Ke,Ot,k=0,D="",R=[],B=[],j=0,V=0,re=0,ve="",De=0,we=0,Te=0,Mt=0,nn=Array.isArray(T.CellXf),lt=[],dt=[],Lt=Array.isArray(p),yt=[],Zt={},st=!1,ne=!!g.sheetStubs,Oe=h.split(t),le=0,me=Oe.length;le!=me;++le){var ot=(D=Oe[le].trim()).length;if(0!==ot){var At=0;e:for(k=0;k<ot;++k)switch(D[k]){case">":if("/"!=D[k-1]){++k;break e}if(g&&g.cellStyles){if(De=null!=(Y=Nn(D.slice(At,k),!0)).r?parseInt(Y.r,10):De+1,we=-1,g.sheetRows&&g.sheetRows<De)continue;Zt={},st=!1,Y.ht&&(st=!0,Zt.hpt=parseFloat(Y.ht),Zt.hpx=C1(Zt.hpt)),"1"==Y.hidden&&(st=!0,Zt.hidden=!0),null!=Y.outlineLevel&&(st=!0,Zt.level=+Y.outlineLevel),st&&(yt[De-1]=Zt)}break;case"<":At=k}if(At>=k)break;if(De=null!=(Y=Nn(D.slice(At,k),!0)).r?parseInt(Y.r,10):De+1,we=-1,!(g.sheetRows&&g.sheetRows<De)){y.s.r>De-1&&(y.s.r=De-1),y.e.r<De-1&&(y.e.r=De-1),g&&g.cellStyles&&(Zt={},st=!1,Y.ht&&(st=!0,Zt.hpt=parseFloat(Y.ht),Zt.hpx=C1(Zt.hpt)),"1"==Y.hidden&&(st=!0,Zt.hidden=!0),null!=Y.outlineLevel&&(st=!0,Zt.level=+Y.outlineLevel),st&&(yt[De-1]=Zt)),R=D.slice(k).split(n);for(var It=0;It!=R.length&&"<"==R[It].trim().charAt(0);++It);for(R=R.slice(It),k=0;k!=R.length;++k)if(0!==(D=R[k].trim()).length){if(B=D.match(e),j=k,V=0,re=0,D="<c "+("<"==D.slice(0,1)?">":"")+D,null!=B&&2===B.length){for(j=0,ve=B[1],V=0;V!=ve.length&&!((re=ve.charCodeAt(V)-64)<1||re>26);++V)j=26*j+re;we=--j}else++we;for(V=0;V!=D.length&&62!==D.charCodeAt(V);++V);if(++V,(Y=Nn(D.slice(0,V),!0)).r||(Y.r=Ln({r:De-1,c:we})),ae={t:""},null!=(B=(ve=D.slice(V)).match(s))&&""!==B[1]&&(ae.v=Dr(B[1])),g.cellFormula){if(null!=(B=ve.match(o))&&""!==B[1]){if(ae.f=Dr(Yr(B[1])).replace(/\r\n/g,"\n"),g.xlfn||(ae.f=k5(ae.f)),B[0].indexOf('t="array"')>-1)ae.F=(ve.match(i)||[])[1],ae.F.indexOf(":")>-1&&lt.push([_r(ae.F),ae.F]);else if(B[0].indexOf('t="shared"')>-1){Ke=Nn(B[0]);var St=Dr(Yr(B[1]));g.xlfn||(St=k5(St)),dt[parseInt(Ke.si,10)]=[Ke,St,Y.r]}}else(B=ve.match(/<f[^>]*\/>/))&&dt[(Ke=Nn(B[0])).si]&&(ae.f=Pee(dt[Ke.si][1],dt[Ke.si][2],Y.r));var ht=Hi(Y.r);for(V=0;V<lt.length;++V)ht.r>=lt[V][0].s.r&&ht.r<=lt[V][0].e.r&&ht.c>=lt[V][0].s.c&&ht.c<=lt[V][0].e.c&&(ae.F=lt[V][1])}if(null==Y.t&&void 0===ae.v)if(ae.f||ae.F)ae.v=0,ae.t="n";else{if(!ne)continue;ae.t="z"}else ae.t=Y.t||"n";switch(y.s.c>we&&(y.s.c=we),y.e.c<we&&(y.e.c=we),ae.t){case"n":if(""==ae.v||null==ae.v){if(!ne)continue;ae.t="z"}else ae.v=parseFloat(ae.v);break;case"s":if(typeof ae.v>"u"){if(!ne)continue;ae.t="z"}else Ue=QE[parseInt(ae.v,10)],ae.v=Ue.t,ae.r=Ue.r,g.cellHTML&&(ae.h=Ue.h);break;case"str":ae.t="s",ae.v=null!=ae.v?Yr(ae.v):"",g.cellHTML&&(ae.h=KO(ae.v));break;case"inlineStr":B=ve.match(r),ae.t="s",null!=B&&(Ue=TP(B[1]))?(ae.v=Ue.t,g.cellHTML&&(ae.h=Ue.h)):ae.v="";break;case"b":ae.v=Ci(ae.v);break;case"d":g.cellDates?ae.v=Ui(ae.v,1):(ae.v=Ws(Ui(ae.v,1)),ae.t="n");break;case"e":(!g||!1!==g.cellText)&&(ae.w=ae.v),ae.v=bU[ae.v]}if(Te=Mt=0,Ot=null,nn&&void 0!==Y.s&&null!=(Ot=T.CellXf[Y.s])&&(null!=Ot.numFmtId&&(Te=Ot.numFmtId),g.cellStyles&&null!=Ot.fillId&&(Mt=Ot.fillId)),j5(ae,Te,Mt,g,E,T),g.cellDates&&nn&&"n"==ae.t&&f_(In[Te])&&(ae.t="d",ae.v=nI(ae.v)),Y.cm&&g.xlmeta){var jn=(g.xlmeta.Cell||[])[+Y.cm-1];jn&&"XLDAPR"==jn.type&&(ae.D=!0)}if(Lt){var oe=Hi(Y.r);p[oe.r]||(p[oe.r]=[]),p[oe.r][oe.c]=ae}else p[Y.r]=ae}}}}yt.length>0&&(p["!rows"]=yt)}}(),jne=y_;function z5(n){return[__(n),na(n),"n"]}var Dre=y_,Z5=["left","right","top","bottom","header","footer"];var UP=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],aie=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],lie=[],cie=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function W5(n,t){for(var e=0;e!=n.length;++e)for(var r=n[e],i=0;i!=t.length;++i){var s=t[i];if(null==r[s[0]])r[s[0]]=s[1];else switch(s[2]){case"bool":"string"==typeof r[s[0]]&&(r[s[0]]=Ci(r[s[0]]));break;case"int":"string"==typeof r[s[0]]&&(r[s[0]]=parseInt(r[s[0]],10))}}}function q5(n,t){for(var e=0;e!=t.length;++e){var r=t[e];if(null==n[r[0]])n[r[0]]=r[1];else switch(r[2]){case"bool":"string"==typeof n[r[0]]&&(n[r[0]]=Ci(n[r[0]]));break;case"int":"string"==typeof n[r[0]]&&(n[r[0]]=parseInt(n[r[0]],10))}}}function Y5(n){q5(n.WBProps,UP),q5(n.CalcPr,cie),W5(n.WBView,aie),W5(n.Sheets,lie),T1.date1904=Ci(n.WBProps.date1904)}var die="][*?/\\".split("");var fie=/<\w+:workbook/;function yie(n,t){var e={};return n.read_shift(4),e.ArchID=n.read_shift(4),n.l+=t-8,e}function Aie(n,t,e,r,i,s,o,u){return".bin"===t.slice(-4)?function jre(n,t,e,r,i,s,o){if(!n)return n;var u=t||{};r||(r={"!id":{}});var p,k,D,R,B,j,V,re,ve,ae,h=u.dense?[]:{},g={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=[],E=!1,T=!1,Y=[];u.biff=12,u["!row"]=0;var De=0,we=!1,Ue=[],Ke={},Te=u.supbooks||i.supbooks||[[]];if(Te.sharedf=Ke,Te.arrayf=Ue,Te.SheetNames=i.SheetNames||i.Sheets.map(function(Zt){return Zt.name}),!u.supbooks&&(u.supbooks=Te,i.Names))for(var Mt=0;Mt<i.Names.length;++Mt)Te[0][Mt+1]=i.Names[Mt];var dt,Lt,nn=[],Ot=[],lt=!1;if(nC[16]={n:"BrtShortReal",f:z5},yf(n,function(st,ne,Oe){if(!T)switch(Oe){case 148:p=st;break;case 0:k=st,u.sheetRows&&u.sheetRows<=k.r&&(T=!0),ve=es(B=k.r),u["!row"]=k.r,(st.hidden||st.hpt||null!=st.level)&&(st.hpt&&(st.hpx=C1(st.hpt)),Ot[st.r]=st);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(D={t:st[2]},st[2]){case"n":D.v=st[1];break;case"s":D.v=(re=QE[st[1]]).t,D.r=re.r;break;case"b":D.v=!!st[1];break;case"e":D.v=st[1],!1!==u.cellText&&(D.w=wf[D.v]);break;case"str":D.t="s",D.v=st[1];break;case"is":D.t="s",D.v=st[1].t}if((R=o.CellXf[st[0].iStyleRef])&&j5(D,R.numFmtId,null,u,s,o),j=-1==st[0].c?j+1:st[0].c,u.dense?(h[B]||(h[B]=[]),h[B][j]=D):h[Di(j)+ve]=D,u.cellFormula){for(we=!1,De=0;De<Ue.length;++De){var le=Ue[De];k.r>=le[0].s.r&&k.r<=le[0].e.r&&j>=le[0].s.c&&j<=le[0].e.c&&(D.F=Xn(le[0]),we=!0)}!we&&st.length>3&&(D.f=st[3])}if(g.s.r>k.r&&(g.s.r=k.r),g.s.c>j&&(g.s.c=j),g.e.r<k.r&&(g.e.r=k.r),g.e.c<j&&(g.e.c=j),u.cellDates&&R&&"n"==D.t&&f_(In[R.numFmtId])){var me=ym(D.v);me&&(D.t="d",D.v=new Date(me.y,me.m-1,me.d,me.H,me.M,me.S,me.u))}dt&&("XLDAPR"==dt.type&&(D.D=!0),dt=void 0),Lt&&(Lt=void 0);break;case 1:case 12:if(!u.sheetStubs||E)break;D={t:"z",v:void 0},j=-1==st[0].c?j+1:st[0].c,u.dense?(h[B]||(h[B]=[]),h[B][j]=D):h[Di(j)+ve]=D,g.s.r>k.r&&(g.s.r=k.r),g.s.c>j&&(g.s.c=j),g.e.r<k.r&&(g.e.r=k.r),g.e.c<j&&(g.e.c=j),dt&&("XLDAPR"==dt.type&&(D.D=!0),dt=void 0),Lt&&(Lt=void 0);break;case 176:Y.push(st);break;case 49:dt=((u.xlmeta||{}).Cell||[])[st-1];break;case 494:var ot=r["!id"][st.relId];for(ot?(st.Target=ot.Target,st.loc&&(st.Target+="#"+st.loc),st.Rel=ot):""==st.relId&&(st.Target="#"+st.loc),B=st.rfx.s.r;B<=st.rfx.e.r;++B)for(j=st.rfx.s.c;j<=st.rfx.e.c;++j)u.dense?(h[B]||(h[B]=[]),h[B][j]||(h[B][j]={t:"z",v:void 0}),h[B][j].l=st):(V=Ln({c:j,r:B}),h[V]||(h[V]={t:"z",v:void 0}),h[V].l=st);break;case 426:if(!u.cellFormula)break;Ue.push(st),(ae=u.dense?h[B][j]:h[Di(j)+ve]).f=sa(st[1],0,{r:k.r,c:j},Te,u),ae.F=Xn(st[0]);break;case 427:if(!u.cellFormula)break;Ke[Ln(st[0].s)]=st[1],(ae=u.dense?h[B][j]:h[Di(j)+ve]).f=sa(st[1],0,{r:k.r,c:j},Te,u);break;case 60:if(!u.cellStyles)break;for(;st.e>=st.s;)nn[st.e--]={width:st.w/256,hidden:!!(1&st.flags),level:st.level},lt||(lt=!0,kP(st.w/256)),T_(nn[st.e+1]);break;case 161:h["!autofilter"]={ref:Xn(st)};break;case 476:h["!margins"]=st;break;case 147:i.Sheets[e]||(i.Sheets[e]={}),st.name&&(i.Sheets[e].CodeName=st.name),(st.above||st.left)&&(h["!outline"]={above:st.above,left:st.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),st.RTL&&(i.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:E=!0;break;case 36:E=!1;break;case 37:y.push(Oe),E=!0;break;case 38:y.pop(),E=!1;break;default:if(!ne.T&&(!E||u.WTF))throw new Error("Unexpected record 0x"+Oe.toString(16))}},u),delete u.supbooks,delete u["!row"],!h["!ref"]&&(g.s.r<2e6||p&&(p.e.r>0||p.e.c>0||p.s.r>0||p.s.c>0))&&(h["!ref"]=Xn(p||g)),u.sheetRows&&h["!ref"]){var yt=_r(h["!ref"]);u.sheetRows<=+yt.e.r&&(yt.e.r=u.sheetRows-1,yt.e.r>g.e.r&&(yt.e.r=g.e.r),yt.e.r<yt.s.r&&(yt.s.r=yt.e.r),yt.e.c>g.e.c&&(yt.e.c=g.e.c),yt.e.c<yt.s.c&&(yt.s.c=yt.e.c),h["!fullref"]=h["!ref"],h["!ref"]=Xn(yt))}return Y.length>0&&(h["!merges"]=Y),nn.length>0&&(h["!cols"]=nn),Ot.length>0&&(h["!rows"]=Ot),h}(n,r,e,i,s,o,u):function yne(n,t,e,r,i,s,o){if(!n)return n;r||(r={"!id":{}});var u=t.dense?[]:{},h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p="",g="",y=n.match(dne);y?(p=n.slice(0,y.index),g=n.slice(y.index+y[0].length)):p=g=n;var E=p.match(G5);E?BP(E[0],0,i,e):(E=p.match(_ne))&&function xne(n,t,e,r,i){BP(n.slice(0,n.indexOf(">")),0,r,i)}(E[0],0,0,i,e);var T=(p.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(T>0){var k=p.slice(T,T+50).match(fne);k&&function cne(n,t){var e=_r(t);e.s.r<=e.e.r&&e.s.c<=e.e.c&&e.s.r>=0&&e.s.c>=0&&(n["!ref"]=Xn(e))}(u,k[1])}var D=p.match(vne);D&&D[1]&&function One(n,t){t.Views||(t.Views=[{}]),(n.match(Fne)||[]).forEach(function(e,r){var i=Nn(e);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),Ci(i.rightToLeft)&&(t.Views[r].RTL=!0)})}(D[1],i);var R=[];if(t.cellStyles){var B=p.match(pne);B&&function Ine(n,t){for(var e=!1,r=0;r!=t.length;++r){var i=Nn(t[r],!0);i.hidden&&(i.hidden=Ci(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!e&&i.width&&(e=!0,kP(i.width)),T_(i);s<=o;)n[s++]=ai(i)}}(R,B)}y&&Lne(y[1],u,t,h,s,o);var j=g.match(mne);j&&(u["!autofilter"]=function Mne(n){return{ref:(n.match(/ref="([^"]*)"/)||[])[1]}}(j[0]));var V=[],re=g.match(une);if(re)for(T=0;T!=re.length;++T)V[T]=_r(re[T].slice(re[T].indexOf('"')+1));var ve=g.match(hne);ve&&function Sne(n,t,e){for(var r=Array.isArray(n),i=0;i!=t.length;++i){var s=Nn(Yr(t[i]),!0);if(!s.ref)return;var o=((e||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Dr(s.location))):(s.Target="#"+Dr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var u=_r(s.ref),h=u.s.r;h<=u.e.r;++h)for(var p=u.s.c;p<=u.e.c;++p){var g=Ln({c:p,r:h});r?(n[h]||(n[h]=[]),n[h][p]||(n[h][p]={t:"z",v:void 0}),n[h][p].l=s):(n[g]||(n[g]={t:"z",v:void 0}),n[g].l=s)}}}(u,ve,r);var ae=g.match(gne);if(ae&&(u["!margins"]=function Tne(n){var t={};return["left","right","top","bottom","header","footer"].forEach(function(e){n[e]&&(t[e]=parseFloat(n[e]))}),t}(Nn(ae[0]))),!u["!ref"]&&h.e.c>=h.s.c&&h.e.r>=h.s.r&&(u["!ref"]=Xn(h)),t.sheetRows>0&&u["!ref"]){var Y=_r(u["!ref"]);t.sheetRows<=+Y.e.r&&(Y.e.r=t.sheetRows-1,Y.e.r>h.e.r&&(Y.e.r=h.e.r),Y.e.r<Y.s.r&&(Y.s.r=Y.e.r),Y.e.c>h.e.c&&(Y.e.c=h.e.c),Y.e.c<Y.s.c&&(Y.s.c=Y.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Xn(Y))}return R.length>0&&(u["!cols"]=R),V.length>0&&(u["!merges"]=V),u}(n,r,e,i,s,o,u)}var eC,J5=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,e8=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ku(n,t){var e=n.split(/\s+/),r=[];if(t||(r[0]=e[0]),1===e.length)return r;var s,o,h,i=n.match(J5);if(i)for(h=0;h!=i.length;++h)-1===(o=(s=i[h].match(e8))[1].indexOf(":"))?r[s[1]]=s[2].slice(1,s[2].length-1):r["xmlns:"===s[1].slice(0,6)?"xmlns"+s[1].slice(6):s[1].slice(o+1)]=s[2].slice(1,s[2].length-1);return r}function zie(n){var e={};if(1===n.split(/\s+/).length)return e;var i,s,u,r=n.match(J5);if(r)for(u=0;u!=r.length;++u)-1===(s=(i=r[u].match(e8))[1].indexOf(":"))?e[i[1]]=i[2].slice(1,i[2].length-1):e["xmlns:"===i[1].slice(0,6)?"xmlns"+i[1].slice(6):i[1].slice(s+1)]=i[2].slice(1,i[2].length-1);return e}function Wie(n,t,e,r){var i=r;switch((e[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Ci(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Ui(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+e[0])}n[Dr(t)]=i}function Yie(n,t,e){if(e.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=lJ[r.Pattern]||r.Pattern)}n[t.ID]=t}function Kie(n,t,e,r,i,s,o,u,h,p){var g="General",y=r.StyleID,E={};p=p||{};var T=[],k=0;for(void 0===y&&u&&(y=u.StyleID),void 0===y&&o&&(y=o.StyleID);void 0!==s[y]&&(s[y].nf&&(g=s[y].nf),s[y].Interior&&T.push(s[y].Interior),s[y].Parent);)y=s[y].Parent;switch(e.Type){case"Boolean":r.t="b",r.v=Ci(n);break;case"String":r.t="s",r.r=z6(Dr(n)),r.v=n.indexOf("<")>-1?Dr(t||n).replace(/<.*?>/g,""):r.r;break;case"DateTime":"Z"!=n.slice(-1)&&(n+="Z"),r.v=(Ui(n)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!=r.v?r.v=Dr(n):r.v<60&&(r.v=r.v-1),(!g||"General"==g)&&(g="yyyy-mm-dd");case"Number":void 0===r.v&&(r.v=+n),r.t||(r.t="n");break;case"Error":r.t="e",r.v=bU[n],!1!==p.cellText&&(r.w=n);break;default:""==n&&""==t?r.t="z":(r.t="s",r.v=z6(t||n))}if(function qie(n,t,e){if("z"!==n.t){if(!e||!1!==e.cellText)try{n.w="e"===n.t?n.w||wf[n.v]:"General"===t?"n"===n.t?(0|n.v)===n.v?n.v.toString(10):ME(n.v):h_(n.v):function Zie(n,t){var e=eC[n]||Dr(n);return"General"===e?h_(t):Ll(e,t)}(t||"General",n.v)}catch(s){if(e.WTF)throw s}try{var r=eC[t]||t||"General";if(e.cellNF&&(n.z=r),e.cellDates&&"n"==n.t&&f_(r)){var i=ym(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(e.WTF)throw s}}}(r,g,p),!1!==p.cellFormula)if(r.Formula){var D=Dr(r.Formula);61==D.charCodeAt(0)&&(D=D.slice(1)),r.f=S1(D,i),delete r.Formula,"RC"==r.ArrayRange?r.F=S1("RC:RC",i):r.ArrayRange&&(r.F=S1(r.ArrayRange,i),h.push([_r(r.F),r.F]))}else for(k=0;k<h.length;++k)i.r>=h[k][0].s.r&&i.r<=h[k][0].e.r&&i.c>=h[k][0].s.c&&i.c<=h[k][0].e.c&&(r.F=h[k][1]);p.cellStyles&&(T.forEach(function(R){!E.patternType&&R.patternType&&(E.patternType=R.patternType)}),r.s=E),void 0!==r.StyleID&&(r.ixfe=r.StyleID)}function Xie(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),n.v=n.w=n.ixfe=void 0}function HP(n,t){var e=t||{};_1();var r=p1(JO(n));("binary"==e.type||"array"==e.type||"base64"==e.type)&&(r=Yr(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if((1023&(i=i.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&i.indexOf(","),1023&i.indexOf(";"))){var o=ai(e);return o.type="string",E1.to_workbook(r,o)}if(-1==i.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach(function(ps){i.indexOf("<"+ps)>=0&&(s=!0)}),s)return function Fse(n,t){var e=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!e||0==e.length)throw new Error("Invalid HTML: could not find <table>");if(1==e.length)return Em(i8(e[0],t),t);var r={SheetNames:[],Sheets:{}};return e.forEach(function(i,s){rN(r,i8(i,t),"Sheet"+(s+1))}),r}(r,e);eC={"General Number":"General","General Date":In[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":In[15],"Short Date":In[14],"Long Time":In[19],"Medium Time":In[18],"Short Time":In[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:In[2],Standard:In[4],Percent:In[10],Scientific:In[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var u,p,dt,h=[],g={},y=[],E=e.dense?[]:{},T="",k={},D={},R=Ku('<Data ss:Type="String">'),B=0,j=0,V=0,re={s:{r:2e6,c:2e6},e:{r:0,c:0}},ve={},ae={},Y="",De=0,we=[],Ue={},Ke={},Te=0,Mt=[],nn=[],Ot={},lt=[],Lt=!1,yt=[],Zt=[],st={},ne=0,Oe=0,le={Sheets:[],WBProps:{date1904:!1}},me={};NE.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"");for(var ot="";u=NE.exec(r);)switch(u[3]=(ot=u[3]).toLowerCase()){case"data":if("data"==ot){if("/"===u[1]){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else"/"!==u[0].charAt(u[0].length-2)&&h.push([u[3],!0]);break}if(h[h.length-1][1])break;"/"===u[1]?Kie(r.slice(B,u.index),Y,R,"comment"==h[h.length-1][0]?Ot:k,{c:j,r:V},ve,lt[j],D,yt,e):(Y="",R=Ku(u[0]),B=u.index+u[0].length);break;case"cell":if("/"===u[1])if(nn.length>0&&(k.c=nn),(!e.sheetRows||e.sheetRows>V)&&void 0!==k.v&&(e.dense?(E[V]||(E[V]=[]),E[V][j]=k):E[Di(j)+es(V)]=k),k.HRef&&(k.l={Target:Dr(k.HRef)},k.HRefScreenTip&&(k.l.Tooltip=k.HRefScreenTip),delete k.HRef,delete k.HRefScreenTip),(k.MergeAcross||k.MergeDown)&&(ne=j+(0|parseInt(k.MergeAcross,10)),Oe=V+(0|parseInt(k.MergeDown,10)),we.push({s:{c:j,r:V},e:{c:ne,r:Oe}})),e.sheetStubs)if(k.MergeAcross||k.MergeDown){for(var At=j;At<=ne;++At)for(var It=V;It<=Oe;++It)(At>j||It>V)&&(e.dense?(E[It]||(E[It]=[]),E[It][At]={t:"z"}):E[Di(At)+es(It)]={t:"z"});j=ne+1}else++j;else k.MergeAcross?j=ne+1:++j;else(k=zie(u[0])).Index&&(j=+k.Index-1),j<re.s.c&&(re.s.c=j),j>re.e.c&&(re.e.c=j),"/>"===u[0].slice(-2)&&++j,nn=[];break;case"row":"/"===u[1]||"/>"===u[0].slice(-2)?(V<re.s.r&&(re.s.r=V),V>re.e.r&&(re.e.r=V),"/>"===u[0].slice(-2)&&(D=Ku(u[0])).Index&&(V=+D.Index-1),j=0,++V):((D=Ku(u[0])).Index&&(V=+D.Index-1),st={},("0"==D.AutoFitHeight||D.Height)&&(st.hpx=parseInt(D.Height,10),st.hpt=WE(st.hpx),Zt[V]=st),"1"==D.Hidden&&(st.hidden=!0,Zt[V]=st));break;case"worksheet":if("/"===u[1]){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));y.push(T),re.s.r<=re.e.r&&re.s.c<=re.e.c&&(E["!ref"]=Xn(re),e.sheetRows&&e.sheetRows<=re.e.r&&(E["!fullref"]=E["!ref"],re.e.r=e.sheetRows-1,E["!ref"]=Xn(re))),we.length&&(E["!merges"]=we),lt.length>0&&(E["!cols"]=lt),Zt.length>0&&(E["!rows"]=Zt),g[T]=E}else re={s:{r:2e6,c:2e6},e:{r:0,c:0}},V=j=0,h.push([u[3],!1]),p=Ku(u[0]),T=Dr(p.Name),E=e.dense?[]:{},we=[],yt=[],Zt=[],le.Sheets.push(me={name:T,Hidden:0});break;case"table":if("/"===u[1]){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else{if("/>"==u[0].slice(-2))break;h.push([u[3],!1]),lt=[],Lt=!1}break;case"style":"/"===u[1]?Yie(ve,ae,e):ae=Ku(u[0]);break;case"numberformat":ae.nf=Dr(Ku(u[0]).Format||"General"),eC[ae.nf]&&(ae.nf=eC[ae.nf]);for(var St=0;392!=St&&In[St]!=ae.nf;++St);if(392==St)for(St=57;392!=St;++St)if(null==In[St]){Kd(ae.nf,St);break}break;case"column":if("table"!==h[h.length-1][0])break;if((dt=Ku(u[0])).Hidden&&(dt.hidden=!0,delete dt.Hidden),dt.Width&&(dt.wpx=parseInt(dt.Width,10)),!Lt&&dt.wpx>10){Lt=!0,ia=6;for(var ht=0;ht<lt.length;++ht)lt[ht]&&T_(lt[ht])}Lt&&T_(dt),lt[dt.Index-1||lt.length]=dt;for(var jn=0;jn<+dt.Span;++jn)lt[lt.length]=ai(dt);break;case"namedrange":if("/"===u[1])break;le.Names||(le.Names=[]);var oe=Nn(u[0]),$r={Name:oe.Name,Ref:S1(oe.RefersTo.slice(1),{r:0,c:0})};le.Sheets.length>0&&($r.Sheet=le.Sheets.length-1),le.Names.push($r);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===u[0].slice(-2))break;"/"===u[1]?Y+=r.slice(De,u.index):De=u.index+u[0].length;break;case"interior":if(!e.cellStyles)break;ae.Interior=Ku(u[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===u[0].slice(-2))break;"/"===u[1]?bK(Ue,ot,r.slice(Te,u.index)):Te=u.index+u[0].length;break;case"styles":case"workbook":if("/"===u[1]){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else h.push([u[3],!1]);break;case"comment":if("/"===u[1]){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));Xie(Ot),nn.push(Ot)}else h.push([u[3],!1]),Ot={a:(p=Ku(u[0])).Author};break;case"autofilter":if("/"===u[1]){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else if("/"!==u[0].charAt(u[0].length-2)){var fr=Ku(u[0]);E["!autofilter"]={ref:S1(fr.Range).replace(/\$/g,"")},h.push([u[3],!0])}break;case"datavalidation":if("/"===u[1]){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else"/"!==u[0].charAt(u[0].length-2)&&h.push([u[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===u[1]){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else"/"!==u[0].charAt(u[0].length-2)&&h.push([u[3],!0]);break;default:if(0==h.length&&"document"==u[3]||0==h.length&&"uof"==u[3])return g8(r,e);var zr=!0;switch(h[h.length-1][0]){case"officedocumentsettings":switch(u[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:zr=!1}break;case"componentoptions":switch(u[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:zr=!1}break;case"excelworkbook":switch(u[3]){case"date1904":le.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:zr=!1}break;case"workbookoptions":switch(u[3]){case"owcversion":case"height":case"width":break;default:zr=!1}break;case"worksheetoptions":switch(u[3]){case"visible":if("/>"!==u[0].slice(-2))if("/"===u[1])switch(r.slice(Te,u.index)){case"SheetHidden":me.Hidden=1;break;case"SheetVeryHidden":me.Hidden=2}else Te=u.index+u[0].length;break;case"header":E["!margins"]||A_(E["!margins"]={},"xlml"),isNaN(+Nn(u[0]).Margin)||(E["!margins"].header=+Nn(u[0]).Margin);break;case"footer":E["!margins"]||A_(E["!margins"]={},"xlml"),isNaN(+Nn(u[0]).Margin)||(E["!margins"].footer=+Nn(u[0]).Margin);break;case"pagemargins":var pr=Nn(u[0]);E["!margins"]||A_(E["!margins"]={},"xlml"),isNaN(+pr.Top)||(E["!margins"].top=+pr.Top),isNaN(+pr.Left)||(E["!margins"].left=+pr.Left),isNaN(+pr.Right)||(E["!margins"].right=+pr.Right),isNaN(+pr.Bottom)||(E["!margins"].bottom=+pr.Bottom);break;case"displayrighttoleft":le.Views||(le.Views=[]),le.Views[0]||(le.Views[0]={}),le.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":E["!outline"]||(E["!outline"]={}),E["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":E["!outline"]||(E["!outline"]={}),E["!outline"].left=!0;break;default:zr=!1}break;case"pivottable":case"pivotcache":switch(u[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:zr=!1}break;case"pagebreaks":switch(u[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:zr=!1}break;case"autofilter":switch(u[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:zr=!1}break;case"querytable":switch(u[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:zr=!1}break;case"datavalidation":switch(u[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:zr=!1}break;case"sorting":case"conditionalformatting":switch(u[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:zr=!1}break;case"mapinfo":case"schema":case"data":switch(u[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:zr=!1}break;case"smarttags":break;default:zr=!1}if(zr||u[3].match(/!\[CDATA/))break;if(!h[h.length-1][1])throw"Unrecognized tag: "+u[3]+"|"+h.join("|");if("customdocumentproperties"===h[h.length-1][0]){if("/>"===u[0].slice(-2))break;"/"===u[1]?Wie(Ke,ot,Mt,r.slice(Te,u.index)):(Mt=u,Te=u.index+u[0].length);break}if(e.WTF)throw"Unrecognized tag: "+u[3]+"|"+h.join("|")}var tn={};return!e.bookSheets&&!e.bookProps&&(tn.Sheets=g),tn.SheetNames=y,tn.Workbook=le,tn.SSF=ai(In),tn.Props=Ue,tn.Custprops=Ke,tn}function jP(n,t){switch(YP(t=t||{}),t.type||"base64"){case"base64":return HP(Pl(n),t);case"binary":case"buffer":case"file":return HP(n,t);case"array":return HP(vm(n),t)}}var dse=[60,1084,2066,2165,2175];function hse(n,t,e,r,i){var s=r,o=[],u=e.slice(e.l,e.l+s);if(i&&i.enc&&i.enc.insitu&&u.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:i.enc.insitu(u)}o.push(u),e.l+=s;for(var h=vf(e,e.l),p=GP[h],g=0;null!=p&&dse.indexOf(h)>-1;)s=vf(e,e.l+2),g=e.l+4,2066==h?g+=4:(2165==h||2175==h)&&(g+=12),u=e.slice(g,e.l+4+s),o.push(u),e.l+=4+s,p=GP[h=vf(e,e.l)];var y=fo(o);Io(y,0);var E=0;y.lens=[];for(var T=0;T<o.length;++T)y.lens.push(E),E+=o[T].length;if(y.length<r)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+y.length+" < "+r;return t.f(y,y.length,i)}function th(n,t,e){if("z"!==n.t&&n.XF){var r=0;try{r=n.z||n.XF.numFmtId||0,t.cellNF&&(n.z=In[r])}catch(s){if(t.WTF)throw s}if(!t||!1!==t.cellText)try{n.w="e"===n.t?n.w||wf[n.v]:0===r||"General"==r?"n"===n.t?(0|n.v)===n.v?n.v.toString(10):ME(n.v):h_(n.v):Ll(r,n.v,{date1904:!!e,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&"n"==n.t&&f_(In[r]||String(r))){var i=ym(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function EI(n,t,e){return{v:n,ixfe:t,t:e}}function n8(n,t){var e,r,i,s;if(t||(t={}),YP(t),qA(),t.codepage&&WA(t.codepage),n.FullPaths){if(Dn.find(n,"/encryption"))throw new Error("File is password-protected");e=Dn.find(n,"!CompObj"),r=Dn.find(n,"/Workbook")||Dn.find(n,"/Book")}else{switch(t.type){case"base64":n=Nl(Pl(n));break;case"binary":n=Nl(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n))}Io(n,0),r={content:n}}if(e&&function use(n){var t={},e=n.content;if(e.l=28,t.AnsiUserType=e.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function tK(n){return vU(n,1)}(e),e.length-e.l<=4)return t;var r=e.read_shift(4);if(0==r||r>40||(e.l-=4,t.Reserved1=e.read_shift(0,"lpstr-ansi"),e.length-e.l<=4)||1907505652!==(r=e.read_shift(4))||(t.UnicodeClipboardFormat=function nK(n){return vU(n,2)}(e),0==(r=e.read_shift(4))||r>40))return t;e.l-=4,t.Reserved2=e.read_shift(0,"lpwstr")}(e),t.bookProps&&!t.bookSheets)i={};else{var o=or?"buffer":"array";if(r&&r.content)i=function fse(n,t){var y,T,D,R,V,re,e={opts:{}},r={},i=t.dense?[]:{},s={},o={},u=null,h=[],p="",g={},E="",B={},j=[],ve=[],ae=[],Y={Sheets:[],WBProps:{date1904:!1},Views:[{}]},De={},we=function(ur){return ur<8?x_[ur]:ur<64&&ae[ur-8]||x_[ur]},Ke=function(ur,ms,Wc){if(!(st>1||Wc.sheetRows&&ur.r>=Wc.sheetRows)){if(Wc.cellStyles&&ms.XF&&ms.XF.data&&function(ur,ms,Wc){var k_,qs=ms.XF.data;qs&&qs.patternType&&Wc&&Wc.cellStyles&&(ms.s={},ms.s.patternType=qs.patternType,(k_=$E(we(qs.icvFore)))&&(ms.s.fgColor={rgb:k_}),(k_=$E(we(qs.icvBack)))&&(ms.s.bgColor={rgb:k_}))}(0,ms,Wc),delete ms.ixfe,delete ms.XF,y=ur,E=Ln(ur),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ur.r<o.s.r&&(o.s.r=ur.r),ur.c<o.s.c&&(o.s.c=ur.c),ur.r+1>o.e.r&&(o.e.r=ur.r+1),ur.c+1>o.e.c&&(o.e.c=ur.c+1),Wc.cellFormula&&ms.f)for(var qs=0;qs<j.length;++qs)if(!(j[qs][0].s.c>ur.c||j[qs][0].s.r>ur.r||j[qs][0].e.c<ur.c||j[qs][0].e.r<ur.r)){ms.F=Xn(j[qs][0]),(j[qs][0].s.c!=ur.c||j[qs][0].s.r!=ur.r)&&delete ms.f,ms.f&&(ms.f=""+sa(j[qs][1],0,ur,yt,Te));break}Wc.dense?(i[ur.r]||(i[ur.r]=[]),i[ur.r][ur.c]=ms):i[E]=ms}},Te={enc:!1,sbcch:0,snames:[],sharedf:B,arrayf:j,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(Te.password=t.password);var Mt,nn=[],Ot=[],lt=[],dt=[],Lt=!1,yt=[];yt.SheetNames=Te.snames,yt.sharedf=Te.sharedf,yt.arrayf=Te.arrayf,yt.names=[],yt.XTI=[];var me,Zt=0,st=0,ne=0,Oe=[],le=[];Te.codepage=1200,Lc(1200);for(var ot=!1;n.l<n.length-1;){var At=n.l,It=n.read_shift(2);if(0===It&&10===Zt)break;var St=n.l===n.length?0:n.read_shift(2),ht=GP[It];if(ht&&ht.f){if(t.bookSheets&&133===Zt&&133!==It)break;if(Zt=It,2===ht.r||12==ht.r){var jn=n.read_shift(2);if(St-=2,!Te.enc&&jn!==It&&((255&jn)<<8|jn>>8)!==It)throw new Error("rt mismatch: "+jn+"!="+It);12==ht.r&&(n.l+=10,St-=10)}var oe={};if(oe=10===It?ht.f(n,St,Te):hse(It,ht,n,St,Te),0==st&&-1===[9,521,1033,2057].indexOf(Zt))continue;switch(It){case 34:e.opts.Date1904=Y.WBProps.date1904=oe;break;case 134:e.opts.WriteProtect=!0;break;case 47:if(Te.enc||(n.l=0),Te.enc=oe,!t.password)throw new Error("File is password-protected");if(null==oe.valid)throw new Error("Encryption scheme unsupported");if(!oe.valid)throw new Error("Password is incorrect");break;case 92:Te.lastuser=oe;break;case 66:var $r=Number(oe);switch($r){case 21010:$r=1200;break;case 32768:$r=1e4;break;case 32769:$r=1252}Lc(Te.codepage=$r),ot=!0;break;case 317:Te.rrtabid=oe;break;case 25:Te.winlocked=oe;break;case 439:e.opts.RefreshAll=oe;break;case 12:e.opts.CalcCount=oe;break;case 16:e.opts.CalcDelta=oe;break;case 17:e.opts.CalcIter=oe;break;case 13:e.opts.CalcMode=oe;break;case 14:e.opts.CalcPrecision=oe;break;case 95:e.opts.CalcSaveRecalc=oe;break;case 15:Te.CalcRefMode=oe;break;case 2211:e.opts.FullCalc=oe;break;case 129:oe.fDialog&&(i["!type"]="dialog"),oe.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),oe.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:ve.push(oe);break;case 430:yt.push([oe]),yt[yt.length-1].XTI=[];break;case 35:case 547:yt[yt.length-1].push(oe);break;case 24:case 536:me={Name:oe.Name,Ref:sa(oe.rgce,0,null,yt,Te)},oe.itab>0&&(me.Sheet=oe.itab-1),yt.names.push(me),yt[0]||(yt[0]=[],yt[0].XTI=[]),yt[yt.length-1].push(oe),"_xlnm._FilterDatabase"==oe.Name&&oe.itab>0&&oe.rgce&&oe.rgce[0]&&oe.rgce[0][0]&&"PtgArea3d"==oe.rgce[0][0][0]&&(le[oe.itab-1]={ref:Xn(oe.rgce[0][0][1][2])});break;case 22:Te.ExternCount=oe;break;case 23:0==yt.length&&(yt[0]=[],yt[0].XTI=[]),yt[yt.length-1].XTI=yt[yt.length-1].XTI.concat(oe),yt.XTI=yt.XTI.concat(oe);break;case 2196:if(Te.biff<8)break;null!=me&&(me.Comment=oe[1]);break;case 18:i["!protect"]=oe;break;case 19:0!==oe&&Te.WTF&&console.error("Password verifier: "+oe);break;case 133:s[oe.pos]=oe,Te.snames.push(oe.name);break;case 10:if(--st)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=Xn(o),t.sheetRows&&t.sheetRows<=o.e.r){var fr=o.e.r;o.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Xn(o),o.e.r=fr}o.e.r++,o.e.c++}nn.length>0&&(i["!merges"]=nn),Ot.length>0&&(i["!objects"]=Ot),lt.length>0&&(i["!cols"]=lt),dt.length>0&&(i["!rows"]=dt),Y.Sheets.push(De)}""===p?g=i:r[p]=i,i=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===Te.biff&&(Te.biff={9:2,521:3,1033:4}[It]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[oe.BIFFVer]||8),Te.biffguess=0==oe.BIFFVer,0==oe.BIFFVer&&4096==oe.dt&&(Te.biff=5,ot=!0,Lc(Te.codepage=28591)),8==Te.biff&&0==oe.BIFFVer&&16==oe.dt&&(Te.biff=2),st++)break;if(i=t.dense?[]:{},Te.biff<8&&!ot&&(ot=!0,Lc(Te.codepage=t.codepage||1252)),Te.biff<5||0==oe.BIFFVer&&4096==oe.dt){""===p&&(p="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var zr={pos:n.l-St,name:p};s[zr.pos]=zr,Te.snames.push(p)}else p=(s[At]||{name:""}).name;32==oe.dt&&(i["!type"]="chart"),64==oe.dt&&(i["!type"]="macro"),nn=[],Ot=[],Te.arrayf=j=[],lt=[],dt=[],Lt=!1,De={Hidden:(s[At]||{hs:0}).hs,name:p};break;case 515:case 3:case 2:"chart"==i["!type"]&&(t.dense?(i[oe.r]||[])[oe.c]:i[Ln({c:oe.c,r:oe.r})])&&++oe.c,V={ixfe:oe.ixfe,XF:ve[oe.ixfe]||{},v:oe.val,t:"n"},ne>0&&(V.z=Oe[V.ixfe>>8&63]),th(V,t,e.opts.Date1904),Ke({c:oe.c,r:oe.r},V,t);break;case 5:case 517:V={ixfe:oe.ixfe,XF:ve[oe.ixfe],v:oe.val,t:oe.t},ne>0&&(V.z=Oe[V.ixfe>>8&63]),th(V,t,e.opts.Date1904),Ke({c:oe.c,r:oe.r},V,t);break;case 638:V={ixfe:oe.ixfe,XF:ve[oe.ixfe],v:oe.rknum,t:"n"},ne>0&&(V.z=Oe[V.ixfe>>8&63]),th(V,t,e.opts.Date1904),Ke({c:oe.c,r:oe.r},V,t);break;case 189:for(var pr=oe.c;pr<=oe.C;++pr){var tn=oe.rkrec[pr-oe.c][0];V={ixfe:tn,XF:ve[tn],v:oe.rkrec[pr-oe.c][1],t:"n"},ne>0&&(V.z=Oe[V.ixfe>>8&63]),th(V,t,e.opts.Date1904),Ke({c:pr,r:oe.r},V,t)}break;case 6:case 518:case 1030:if("String"==oe.val){u=oe;break}if((V=EI(oe.val,oe.cell.ixfe,oe.tt)).XF=ve[V.ixfe],t.cellFormula){var ps=oe.formula;if(ps&&ps[0]&&ps[0][0]&&"PtgExp"==ps[0][0][0]){var Zc=ps[0][0][1][0],rh=ps[0][0][1][1],bf=Ln({r:Zc,c:rh});B[bf]?V.f=""+sa(oe.formula,0,oe.cell,yt,Te):V.F=((t.dense?(i[Zc]||[])[rh]:i[bf])||{}).F}else V.f=""+sa(oe.formula,0,oe.cell,yt,Te)}ne>0&&(V.z=Oe[V.ixfe>>8&63]),th(V,t,e.opts.Date1904),Ke(oe.cell,V,t),u=oe;break;case 7:case 519:if(!u)throw new Error("String record expects Formula");u.val=oe,(V=EI(oe,u.cell.ixfe,"s")).XF=ve[V.ixfe],t.cellFormula&&(V.f=""+sa(u.formula,0,u.cell,yt,Te)),ne>0&&(V.z=Oe[V.ixfe>>8&63]),th(V,t,e.opts.Date1904),Ke(u.cell,V,t),u=null;break;case 33:case 545:j.push(oe);var oC=Ln(oe[0].s);if(T=t.dense?(i[oe[0].s.r]||[])[oe[0].s.c]:i[oC],t.cellFormula&&T){if(!u||!oC||!T)break;T.f=""+sa(oe[1],0,oe[0],yt,Te),T.F=Xn(oe[0])}break;case 1212:if(!t.cellFormula)break;if(E){if(!u)break;B[Ln(u.cell)]=oe[0],((T=t.dense?(i[u.cell.r]||[])[u.cell.c]:i[Ln(u.cell)])||{}).f=""+sa(oe[0],0,y,yt,Te)}break;case 253:V=EI(h[oe.isst].t,oe.ixfe,"s"),h[oe.isst].h&&(V.h=h[oe.isst].h),V.XF=ve[V.ixfe],ne>0&&(V.z=Oe[V.ixfe>>8&63]),th(V,t,e.opts.Date1904),Ke({c:oe.c,r:oe.r},V,t);break;case 513:t.sheetStubs&&(V={ixfe:oe.ixfe,XF:ve[oe.ixfe],t:"z"},ne>0&&(V.z=Oe[V.ixfe>>8&63]),th(V,t,e.opts.Date1904),Ke({c:oe.c,r:oe.r},V,t));break;case 190:if(t.sheetStubs)for(var Am=oe.c;Am<=oe.C;++Am){var Hl=oe.ixfe[Am-oe.c];V={ixfe:Hl,XF:ve[Hl],t:"z"},ne>0&&(V.z=Oe[V.ixfe>>8&63]),th(V,t,e.opts.Date1904),Ke({c:Am,r:oe.r},V,t)}break;case 214:case 516:case 4:(V=EI(oe.val,oe.ixfe,"s")).XF=ve[V.ixfe],ne>0&&(V.z=Oe[V.ixfe>>8&63]),th(V,t,e.opts.Date1904),Ke({c:oe.c,r:oe.r},V,t);break;case 0:case 512:1===st&&(o=oe);break;case 252:h=oe;break;case 1054:if(4==Te.biff){Oe[ne++]=oe[1];for(var Ef=0;Ef<ne+163&&In[Ef]!=oe[1];++Ef);Ef>=163&&Kd(oe[1],ne+163)}else Kd(oe[1],oe[0]);break;case 30:Oe[ne++]=oe;for(var Im=0;Im<ne+163&&In[Im]!=oe;++Im);Im>=163&&Kd(oe,ne+163);break;case 229:nn=nn.concat(oe);break;case 93:Ot[oe.cmo[0]]=Te.lastobj=oe;break;case 438:Te.lastobj.TxO=oe;break;case 127:Te.lastobj.ImData=oe;break;case 440:for(R=oe[0].s.r;R<=oe[0].e.r;++R)for(D=oe[0].s.c;D<=oe[0].e.c;++D)(T=t.dense?(i[R]||[])[D]:i[Ln({c:D,r:R})])&&(T.l=oe[1]);break;case 2048:for(R=oe[0].s.r;R<=oe[0].e.r;++R)for(D=oe[0].s.c;D<=oe[0].e.c;++D)(T=t.dense?(i[R]||[])[D]:i[Ln({c:D,r:R})])&&T.l&&(T.l.Tooltip=oe[1]);break;case 28:if(Te.biff<=5&&Te.biff>=2)break;T=t.dense?(i[oe[0].r]||[])[oe[0].c]:i[Ln(oe[0])];var aC=Ot[oe[2]];T||(t.dense?(i[oe[0].r]||(i[oe[0].r]=[]),T=i[oe[0].r][oe[0].c]={t:"z"}):T=i[Ln(oe[0])]={t:"z"},o.e.r=Math.max(o.e.r,oe[0].r),o.s.r=Math.min(o.s.r,oe[0].r),o.e.c=Math.max(o.e.c,oe[0].c),o.s.c=Math.min(o.s.c,oe[0].c)),T.c||(T.c=[]),T.c.push({a:oe[1],t:aC.TxO.t});break;case 2173:tee(0,oe.ext);break;case 125:if(!Te.cellStyles)break;for(;oe.e>=oe.s;)lt[oe.e--]={width:oe.w/256,level:oe.level||0,hidden:!!(1&oe.flags)},Lt||(Lt=!0,kP(oe.w/256)),T_(lt[oe.e+1]);break;case 520:var Pa={};null!=oe.level&&(dt[oe.r]=Pa,Pa.level=oe.level),oe.hidden&&(dt[oe.r]=Pa,Pa.hidden=!0),oe.hpt&&(dt[oe.r]=Pa,Pa.hpt=oe.hpt,Pa.hpx=C1(oe.hpt));break;case 38:case 39:case 40:case 41:i["!margins"]||A_(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[It]]=oe;break;case 161:i["!margins"]||A_(i["!margins"]={}),i["!margins"].header=oe.header,i["!margins"].footer=oe.footer;break;case 574:oe.RTL&&(Y.Views[0].RTL=!0);break;case 146:ae=oe;break;case 2198:Mt=oe;break;case 140:re=oe;break;case 442:p?De.CodeName=oe||De.name:Y.WBProps.CodeName=oe||"ThisWorkbook"}}else ht||console.error("Missing Info for XLS Record 0x"+It.toString(16)),n.l+=St}return e.SheetNames=Qi(s).sort(function(ih,ur){return Number(ih)-Number(ur)}).map(function(ih){return s[ih].name}),t.bookSheets||(e.Sheets=r),!e.SheetNames.length&&g["!ref"]?(e.SheetNames.push("Sheet1"),e.Sheets&&(e.Sheets.Sheet1=g)):e.Preamble=g,e.Sheets&&le.forEach(function(ih,ur){e.Sheets[e.SheetNames[ur]]["!autofilter"]=ih}),e.Strings=h,e.SSF=ai(In),Te.enc&&(e.Encryption=Te.enc),Mt&&(e.Themes=Mt),e.Metadata={},void 0!==re&&(e.Metadata.Country=re),yt.names.length>0&&(Y.Names=yt.names),e.Workbook=Y,e}(r.content,t);else if((s=Dn.find(n,"PerfectOffice_MAIN"))&&s.content)i=S_.to_workbook(s.content,(t.type=o,t));else{if(!(s=Dn.find(n,"NativeContent_MAIN"))||!s.content)throw(s=Dn.find(n,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");i=S_.to_workbook(s.content,(t.type=o,t))}t.bookVBA&&n.FullPaths&&Dn.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=function Iee(n){var t=Dn.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(e,r){if("/"!==e.slice(-1)&&e.match(/_VBA_PROJECT_CUR/)){var i=e.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Dn.utils.cfb_add(t,i,n.FileIndex[r].content)}}),Dn.write(t)}(n))}var u={};return n.FullPaths&&function pse(n,t,e){var r=Dn.find(n,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=UU(r,gP,"02d5cdd59c2e1b10939708002b2cf9ae");for(var s in i)t[s]=i[s]}catch(p){if(e.WTF)throw p}var o=Dn.find(n,"/!SummaryInformation");if(o&&o.size>0)try{var u=UU(o,_P,"e0859ff2f94f6810ab9108002b27b3d9");for(var h in u)null==t[h]&&(t[h]=u[h])}catch(p){if(e.WTF)throw p}t.HeadingPairs&&t.TitlesOfParts&&(AU(t.HeadingPairs,t.TitlesOfParts,t,e),delete t.HeadingPairs,delete t.TitlesOfParts)}(n,u,t),i.Props=i.Custprops=u,t.bookFiles&&(i.cfb=n),i}var nC={0:{f:function Bne(n,t){var e={},r=n.l+t;e.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,7&s&&(e.level=7&s),16&s&&(e.hidden=!0),32&s&&(e.hpt=i/20),e}},1:{f:function Wne(n){return[Uc(n)]}},2:{f:function hre(n){return[Uc(n),pP(n),"n"]}},3:{f:function tre(n){return[Uc(n),n.read_shift(1),"e"]}},4:{f:function Xne(n){return[Uc(n),n.read_shift(1),"b"]}},5:{f:function cre(n){return[Uc(n),na(n),"n"]}},6:{f:function _re(n){return[Uc(n),ta(n),"str"]}},7:{f:function sre(n){return[Uc(n),n.read_shift(4),"s"]}},8:{f:function Cre(n,t,e){var r=n.l+t,i=Uc(n);i.r=e["!row"];var o=[i,ta(n),"str"];if(e.cellFormula){n.l+=2;var u=xI(n,r-n.l,e);o[3]=sa(u,0,i,e.supbooks,e)}else n.l=r;return o}},9:{f:function Ere(n,t,e){var r=n.l+t,i=Uc(n);i.r=e["!row"];var o=[i,na(n),"n"];if(e.cellFormula){n.l+=2;var u=xI(n,r-n.l,e);o[3]=sa(u,0,i,e.supbooks,e)}else n.l=r;return o}},10:{f:function xre(n,t,e){var r=n.l+t,i=Uc(n);i.r=e["!row"];var o=[i,n.read_shift(1),"b"];if(e.cellFormula){n.l+=2;var u=xI(n,r-n.l,e);o[3]=sa(u,0,i,e.supbooks,e)}else n.l=r;return o}},11:{f:function bre(n,t,e){var r=n.l+t,i=Uc(n);i.r=e["!row"];var o=[i,n.read_shift(1),"e"];if(e.cellFormula){n.l+=2;var u=xI(n,r-n.l,e);o[3]=sa(u,0,i,e.supbooks,e)}else n.l=r;return o}},12:{f:function Yne(n){return[__(n)]}},13:{f:function pre(n){return[__(n),pP(n),"n"]}},14:{f:function rre(n){return[__(n),n.read_shift(1),"e"]}},15:{f:function Jne(n){return[__(n),n.read_shift(1),"b"]}},16:{f:z5},17:{f:function yre(n){return[__(n),ta(n),"str"]}},18:{f:function are(n){return[__(n),n.read_shift(4),"s"]}},19:{f:cP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function wie(n,t,e){var r=n.l+t;n.l+=4,n.l+=1;var i=n.read_shift(4),s=XY(n),o=ine(n,0,e),u=uP(n);n.l=r;var h={Name:s,Ptg:o};return i<268435455&&(h.Sheet=i),u&&(h.Comment=u),h}},40:{},42:{},43:{f:function yJ(n,t,e){var r={};r.sz=n.read_shift(2)/20;var i=function JY(n){var t=n.read_shift(1);return n.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(n);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===n.read_shift(2)&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var o=n.read_shift(1);0!=o&&(r.underline=o);var u=n.read_shift(1);u>0&&(r.family=u);var h=n.read_shift(1);switch(h>0&&(r.charset=h),n.l++,r.color=function QY(n){var t={},r=n.read_shift(1)>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),u=n.read_shift(1),h=n.read_shift(1);switch(n.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var p=x_[i];p&&(t.rgb=$E(p));break;case 2:t.rgb=$E([o,u,h]);break;case 3:t.theme=i}return 0!=s&&(t.tint=s>0?s/32767:s/32768),t}(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=ta(n),r}},44:{f:function _J(n,t){return[n.read_shift(2),ta(n)]}},45:{f:bJ},46:{f:CJ},47:{f:function EJ(n,t){var e=n.l+t,r=n.read_shift(2),i=n.read_shift(2);return n.l=e,{ixfe:r,numFmtId:i}}},48:{},49:{f:function zY(n){return n.read_shift(4,"i")}},50:{},51:{f:function iee(n){for(var t=[],e=n.read_shift(4);e-- >0;)t.push([n.read_shift(4),n.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:l5},62:{f:function gre(n){return[Uc(n),cP(n),"is"]}},63:{f:function fee(n){var t={};t.i=n.read_shift(4);var e={};e.r=n.read_shift(4),e.c=n.read_shift(4),t.r=Ln(e);var r=n.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function Ure(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ea,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function Nre(n){var t=n.read_shift(2);return n.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function zne(n,t){var e={},r=n[n.l];return++n.l,e.above=!(64&r),e.left=!(128&r),n.l+=18,e.name=KY(n,t-19),e}},148:{f:jne,p:16},151:{f:function kre(){}},152:{},153:{f:function _ie(n,t){var e={},r=n.read_shift(4);e.defaultThemeVersion=n.read_shift(4);var i=t>8?ta(n):"";return i.length>0&&(e.CodeName=i),e.autoCompressPictures=!!(65536&r),e.backupFile=!!(64&r),e.checkCompatibility=!!(4096&r),e.date1904=!!(1&r),e.filterPrivacy=!!(8&r),e.hidePivotFieldList=!!(1024&r),e.promptedSolutions=!!(16&r),e.publishItems=!!(2048&r),e.refreshAllConnections=!!(262144&r),e.saveExternalLinkValues=!!(128&r),e.showBorderUnselectedTables=!!(4&r),e.showInkAnnotation=!!(32&r),e.showObjects=["all","placeholders","none"][r>>13&3],e.showPivotChartFilter=!!(32768&r),e.updateLinks=["userSet","never","always"][r>>8&3],e}},154:{},155:{},156:{f:function mie(n,t){var e={};return e.Hidden=n.read_shift(4),e.iTabID=n.read_shift(4),e.strRelID=hP(n,t-8),e.name=ta(n),e}},157:{},158:{},159:{T:1,f:function OQ(n){return[n.read_shift(4),n.read_shift(4)]}},160:{T:-1},161:{T:1,f:y_},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Dre},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function nee(n,t){return{flags:n.read_shift(4),version:n.read_shift(4),name:ta(n)}}},336:{T:-1},337:{f:function aee(n){return n.l+=4,0!=n.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:hP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:o5},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function Mre(n,t,e){var r=n.l+t,i=_U(n),s=n.read_shift(1),o=[i];if(o[2]=s,e.cellFormula){var u=rne(n,r-n.l,e);o[1]=u}else n.l=r;return o}},427:{f:function Rre(n,t,e){var r=n.l+t,s=[y_(n,16)];if(e.cellFormula){var o=sne(n,r-n.l,e);s[1]=o,n.l=r}else n.l=r;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function Ore(n){var t={};return Z5.forEach(function(e){t[e]=na(n)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function $ne(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function Are(n,t){var e=n.l+t,r=y_(n,16),i=uP(n),s=ta(n),o=ta(n),u=ta(n);n.l=e;var h={rfx:r,relId:i,loc:s,display:u};return o&&(h.Tooltip=o),h}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:hP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Cee},633:{T:1},634:{T:-1},635:{T:1,f:function bee(n){var t={};t.iauthor=n.read_shift(4);var e=y_(n,16);return t.rfx=e.s,t.ref=Ln(e.s),n.l+=16,t}},636:{T:-1},637:{f:qY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function iie(n,t){return n.l+=10,{name:ta(n)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function Hre(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},GP={6:{f:NP},10:{f:Cm},12:{f:Is},13:{f:Is},14:{f:fs},15:{f:fs},16:{f:na},17:{f:fs},18:{f:fs},19:{f:Is},20:{f:n5},21:{f:n5},23:{f:o5},24:{f:s5},25:{f:fs},26:{},27:{},28:{f:function GX(n,t,e){return function jX(n,t,e){if(!(e.biff<8)){var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),o=n.read_shift(2),u=C_(n,0,e);return e.biff<8&&n.read_shift(1),[{r,c:i},u,o,s]}}(n,0,e)}},29:{},34:{f:fs},35:{f:r5},38:{f:na},39:{f:na},40:{f:na},41:{f:na},42:{f:fs},43:{f:fs},47:{f:function tJ(n,t,e){var r={Type:e.biff>=8?n.read_shift(2):0};return r.Type?function eJ(n,t,e){var r=e||{};return r.Info=n.read_shift(2),n.l-=2,r.Data=1===r.Info?function KQ(n){var t={},e=t.EncryptionVersionInfo=xf(n,4);if(1!=e.Major||1!=e.Minor)throw"unrecognized version code "+e.Major+" : "+e.Minor;return t.Salt=n.read_shift(16),t.EncryptedVerifier=n.read_shift(16),t.EncryptedVerifierHash=n.read_shift(16),t}(n):function YQ(n,t){var e={},r=e.EncryptionVersionInfo=xf(n,4);if(t-=4,2!=r.Minor)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);e.Flags=n.read_shift(4),t-=4;var i=n.read_shift(4);return t-=4,e.EncryptionHeader=p5(n,i),e.EncryptionVerifier=m5(n,t-=i),e}(n,t),r}(n,t-2,r):function JQ(n,t,e,r){var i={key:Is(n),verificationBytes:Is(n)};e.password&&(i.verifier=function AP(n){var e,s,t=0,r=f5(n),i=r.length+1;for((e=_m(i))[0]=r.length,s=1;s!=i;++s)e[s]=r[s-1];for(s=i-1;s>=0;--s)t=((0==(16384&t)?0:1)|t<<1&32767)^e[s];return 52811^t}(e.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=function(n){var t=0,e=g5(n);return function(r){var i=function(n,t,e,r,i){var s,o;for(i||(i=t),r||(r=g5("")),s=0;s!=t.length;++s)o=t[s],i[s]=o=255&((o^=r[e])>>5|o<<3),++e;return[i,e,r]}(0,r,t,e);return t=i[1],i[0]}}(e.password))}(n,0,e,r),r}},49:{f:function gX(n,t,e){var r={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(e&&e.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10}return r.name=jE(n,0,e),r}},51:{f:Is},60:{},61:{f:function dX(n){return{Pos:[n.read_shift(2),n.read_shift(2)],Dim:[n.read_shift(2),n.read_shift(2)],Flags:n.read_shift(2),CurTab:n.read_shift(2),FirstTab:n.read_shift(2),Selected:n.read_shift(2),TabRatio:n.read_shift(2)}}},64:{f:fs},65:{f:function mX(){}},66:{f:Is},77:{},80:{},81:{},82:{},85:{f:Is},89:{},90:{},91:{},92:{f:function eX(n,t,e){if(e.enc)return n.l+=t,"";var r=n.l,i=C_(n,0,e);return n.read_shift(t+r-n.l),i}},93:{f:function ZX(n,t,e){if(e&&e.biff<8)return function qX(n,t,e){n.l+=4;var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6;var o=[];return o.push((WX[r]||ea)(n,t-=36,e)),{cmo:[i,r,s],ft:o}}(n,t,e);var r=XU(n),i=function QK(n,t){for(var e=n.l+t,r=[];n.l<e;){var i=n.read_shift(2);n.l-=2;try{r.push(XK[i](n,e-n.l))}catch{return n.l=e,r}}return n.l!=e&&(n.l=e),r}(n,t-22);return{cmo:r,ft:i}}},94:{},95:{f:fs},96:{},97:{},99:{f:fs},125:{f:l5},128:{f:function MX(n){n.l+=4;var t=[n.read_shift(2),n.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function nX(n,t,e){var r=e&&8==e.biff||2==t?n.read_shift(2):(n.l+=t,0);return{fDialog:16&r,fBelow:64&r,fRight:128&r}}},130:{f:Is},131:{f:fs},132:{f:fs},133:{f:function rX(n,t,e){var r=n.read_shift(4),i=3&n.read_shift(1),s=n.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule"}var o=jE(n,0,e);return 0===o.length&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}},134:{},140:{f:function eQ(n){var e,t=[0,0];return e=n.read_shift(2),t[0]=xU[e]||e,e=n.read_shift(2),t[1]=xU[e]||e,t}},141:{f:Is},144:{},146:{f:function rQ(n){for(var t=n.read_shift(2),e=[];t-- >0;)e.push(WU(n));return e}},151:{},152:{},153:{},154:{},155:{},156:{f:Is},157:{},158:{},160:{f:uQ},161:{f:function oQ(n,t){var e={};return t<32||(n.l+=16,e.header=na(n),e.footer=na(n),n.l+=2),e}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function TX(n,t){for(var e=n.l+t-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<e;)s.push(qU(n));if(n.l!==e)throw new Error("MulRK read error");var o=n.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}},190:{f:function AX(n,t){for(var e=n.l+t-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<e;)s.push(n.read_shift(2));if(n.l!==e)throw new Error("MulBlank read error");var o=n.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}},193:{f:Cm},197:{},198:{},199:{},200:{},201:{},202:{f:fs},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Is},220:{},221:{f:fs},222:{},224:{f:function kX(n,t,e){var r={};return r.ifnt=n.read_shift(2),r.numFmtId=n.read_shift(2),r.flags=n.read_shift(2),r.fStyle=r.flags>>2&1,r.data=function IX(n,t,e,r){var i={},s=n.read_shift(4),o=n.read_shift(4),u=n.read_shift(4),h=n.read_shift(2);return i.patternType=lK[u>>26],r.cellStyles&&(i.alc=7&s,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=15&o,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=127&u,i.icvBottom=u>>7&127,i.icvDiag=u>>14&127,i.dgDiag=u>>21&15,i.icvFore=127&h,i.icvBack=h>>7&127,i.fsxButton=h>>14&1),i}(n,0,0,e),r}},225:{f:function JK(n,t){return 0===t||n.read_shift(2),1200}},226:{f:Cm},227:{},229:{f:function $X(n,t){for(var e=[],r=n.read_shift(2);r--;)e.push(pI(n));return e}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function sX(n,t){for(var e=n.l+t,r=n.read_shift(4),i=n.read_shift(4),s=[],o=0;o!=i&&n.l<e;++o)s.push(NK(n));return s.Count=r,s.Unique=i,s}},253:{f:function vX(n){var t=eh(n);return t.isst=n.read_shift(4),t}},255:{f:function aX(n,t){var e={};return e.dsst=n.read_shift(2),n.l+=t-2,e}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:jU},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fs},353:{f:Cm},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function NX(n,t,e){var r=n.l+t,i=n.read_shift(2),s=n.read_shift(2);if(e.sbcch=s,1025==s||14849==s)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=E_(n,s),u=[];r>n.l;)u.push(GE(n));return[s,i,o,u]}},431:{f:fs},432:{},433:{},434:{},437:{},438:{f:function YX(n,t,e){var r=n.l,i="";try{n.l+=4,-1==[0,5,7,11,12,14].indexOf((e.lastobj||{cmo:[0,0]}).cmo[1])?n.l+=6:function VK(n){var t=n.read_shift(1);n.l++;var e=n.read_shift(2);n.l+=2}(n);var u=n.read_shift(2);n.read_shift(2),Is(n);var h=n.read_shift(2);n.l+=h;for(var p=1;p<n.lens.length-1;++p){if(n.l-r!=n.lens[p])throw new Error("TxO: bad continue record");var g=n[n.l];if((i+=E_(n,n.lens[p+1]-n.lens[p]-1)).length>=(g?u:2*u))break}if(i.length!==u&&i.length!==2*u)throw new Error("cchText: "+u+" != "+i.length);return n.l=r+t,{t:i}}catch{return n.l=r+t,{t:i}}}},439:{f:fs},440:{f:function KX(n,t){var e=pI(n);n.l+=16;var r=function jK(n,t){var e=n.l+t,r=n.read_shift(4);if(2!==r)throw new Error("Unrecognized streamVersion: "+r);var i=n.read_shift(2);n.l+=2;var s,o,u,h,g,y,p="";16&i&&(s=fI(n)),128&i&&(o=fI(n)),257==(257&i)&&(u=fI(n)),1==(257&i)&&(h=function HK(n,t){var e=n.read_shift(16);switch(e){case"e0c9ea79f9bace118c8200aa004ba90b":return function BK(n){var t=n.read_shift(4),e=n.l,r=!1;t>24&&(n.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===n.read_shift(16)&&(r=!0),n.l=e);var i=n.read_shift((r?t-24:t)>>1,"utf16le").replace(Qo,"");return r&&(n.l+=24),i}(n);case"0303000000000000c000000000000046":return function UK(n){for(var t=n.read_shift(2),e="";t-- >0;)e+="../";var r=n.read_shift(0,"lpstr-ansi");if(n.l+=2,57005!=n.read_shift(2))throw new Error("Bad FileMoniker");if(0===n.read_shift(4))return e+r.replace(/\\/g,"/");var s=n.read_shift(4);if(3!=n.read_shift(2))throw new Error("Bad FileMoniker");return e+n.read_shift(s>>1,"utf16le").replace(Qo,"")}(n);default:throw new Error("Unsupported Moniker "+e)}}(n)),8&i&&(p=fI(n)),32&i&&(g=n.read_shift(16)),64&i&&(y=EP(n)),n.l=e;var E=o||u||h||"";E&&p&&(E+="#"+p),E||(E="#"+p),2&i&&"/"==E.charAt(0)&&"/"!=E.charAt(1)&&(E="file://"+E);var T={Target:E};return g&&(T.guid=g),y&&(T.time=y),s&&(T.Tooltip=s),T}(n,t-24);return[e,r]}},441:{},442:{f:GE},443:{},444:{f:Is},445:{},446:{},448:{f:Cm},449:{f:function uX(n){return n.read_shift(2),n.read_shift(4)},r:2},450:{f:Cm},512:{f:JU},513:{f:cQ},515:{f:function OX(n,t,e){e.biffguess&&2==e.biff&&(e.biff=5);var r=eh(n),i=na(n);return r.val=i,r}},516:{f:function wX(n,t,e){e.biffguess&&2==e.biff&&(e.biff=5);var i=eh(n);2==e.biff&&n.l++;var s=GE(n,0,e);return i.val=s,i}},517:{f:t5},519:{f:dQ},520:{f:function lX(n){var t={};t.r=n.read_shift(2),t.c=n.read_shift(2),t.cnt=n.read_shift(2)-t.c;var e=n.read_shift(2);n.l+=4;var r=n.read_shift(1);return n.l+=3,7&r&&(t.level=7&r),32&r&&(t.hidden=!0),64&r&&(t.hpt=e/20),t}},523:{},545:{f:a5},549:{f:QU},566:{},574:{f:function fX(n,t,e){return e&&e.biff>=2&&e.biff<5?{}:{RTL:64&n.read_shift(2)}}},638:{f:function SX(n){var t=n.read_shift(2),e=n.read_shift(2),r=qU(n);return{r:t,c:e,ixfe:r[0],rknum:r[1]}}},659:{},1048:{},1054:{f:function bX(n,t,e){return[n.read_shift(2),C_(n,0,e)]}},1084:{},1212:{f:function UX(n,t,e){var r=KU(n);n.l++;var i=n.read_shift(1);return[Jte(n,t-=8,e),i,r]}},2048:{f:function QX(n,t){n.read_shift(2);var e=pI(n),r=n.read_shift((t-10)/2,"dbcs-cont");return[e,r=r.replace(Qo,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:mI},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Cm},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function iQ(n){n.l+=2;var t={cxfs:0,crc:0};return t.cxfs=n.read_shift(2),t.crc=n.read_shift(4),t},r:12},2173:{f:function eee(n,t){n.l+=2;var r=n.read_shift(2);n.l+=2;for(var i=n.read_shift(2),s=[];i-- >0;)s.push(JJ(n));return{ixfe:r,ext:s}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fs,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function BX(n,t,e){if(!(e.biff<8)){var r=n.read_shift(2),i=n.read_shift(2);return[E_(n,r,e),E_(n,i,e)]}n.l+=t},r:12},2197:{},2198:{f:function qJ(n,t,e){var r=n.l+t;if(124226!==n.read_shift(4)){if(!e.cellStyles)return void(n.l=r);var o,s=n.slice(n.l);n.l=r;try{o=U6(s,{type:"array"})}catch{return}var u=Vl(o,"theme/theme/theme1.xml",!0);if(u)return E5(u,e)}},r:12},2199:{},2200:{},2201:{},2202:{f:function HX(n){return[0!==n.read_shift(4),0!==n.read_shift(4),n.read_shift(4)]},r:12},2203:{f:Cm},2204:{},2205:{},2206:{},2207:{},2211:{f:function cX(n){var t=function $K(n){var t=n.read_shift(2),e=n.read_shift(2);return n.l+=8,{type:t,flags:e}}(n);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==n.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Is},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function aQ(n,t,e){var r={area:!1};if(5!=e.biff)return n.l+=t,r;var i=n.read_shift(1);return n.l+=3,16&i&&(r.area=!0),r}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function nQ(n){for(var t=n.read_shift(2),e=[];t-- >0;)e.push(WU(n));return e}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:JU},1:{},2:{f:function gQ(n){var t=eh(n);++n.l;var e=n.read_shift(2);return t.t="n",t.val=e,t}},3:{f:function pQ(n){var t=eh(n);++n.l;var e=na(n);return t.t="n",t.val=e,t}},4:{f:function fQ(n,t,e){e.biffguess&&5==e.biff&&(e.biff=2);var r=eh(n);++n.l;var i=C_(n,0,e);return r.t="str",r.val=i,r}},5:{f:t5},7:{f:function vQ(n){var t=n.read_shift(1);return 0===t?(n.l++,""):n.read_shift(t,"sbcs-cont")}},8:{},9:{f:mI},11:{},22:{f:Is},30:{f:CX},31:{},32:{},33:{f:a5},36:{},37:{f:QU},50:{f:function yQ(n,t){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=t-13}},62:{},52:{},67:{},68:{f:Is},69:{},86:{},126:{},127:{f:function hQ(n){var t=n.read_shift(2),e=n.read_shift(2),r=n.read_shift(4),i={fmt:t,env:e,len:r,data:n.slice(n.l,n.l+r)};return n.l+=r,i}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function wQ(n,t,e){var r=n.l+t,i=eh(n),s=n.read_shift(2),o=E_(n,s,e);return n.l=r,i.t="str",i.val=o,i}},223:{},234:{},354:{},421:{},518:{f:NP},521:{f:mI},536:{f:s5},547:{f:r5},561:{},579:{},1030:{f:NP},1033:{f:mI},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function jt(n,t,e,r){var i=t;if(!isNaN(i)){var s=r||(e||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&sP(e)&&n.push(e)}}function i8(n,t){var e=t||{},r=e.dense?[]:{},i=(n=n.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=n.match(/<\/table/i),o=i.index,u=s&&s.index||n.length,h=yY(n.slice(o,u),/(:?<tr[^>]*>)/i,"<tr>"),p=-1,g=0,y=0,E=0,T={s:{r:1e7,c:1e7},e:{r:0,c:0}},k=[];for(o=0;o<h.length;++o){var D=h[o].trim(),R=D.slice(0,3).toLowerCase();if("<tr"!=R){if("<td"==R||"<th"==R){var B=D.split(/<\/t[dh]>/i);for(u=0;u<B.length;++u){var j=B[u].trim();if(j.match(/<t[dh]/i)){for(var V=j,re=0;"<"==V.charAt(0)&&(re=V.indexOf(">"))>-1;)V=V.slice(re+1);for(var ve=0;ve<k.length;++ve){var ae=k[ve];ae.s.c==g&&ae.s.r<p&&p<=ae.e.r&&(g=ae.e.c+1,ve=-1)}var Y=Nn(j.slice(0,j.indexOf(">")));E=Y.colspan?+Y.colspan:1,((y=+Y.rowspan)>1||E>1)&&k.push({s:{r:p,c:g},e:{r:p+(y||1)-1,c:g+E-1}});var De=Y.t||Y["data-t"]||"";if(!V.length){g+=E;continue}if(V=q6(V),T.s.r>p&&(T.s.r=p),T.e.r<p&&(T.e.r=p),T.s.c>g&&(T.s.c=g),T.e.c<g&&(T.e.c=g),!V.length){g+=E;continue}var we={t:"s",v:V};e.raw||!V.trim().length||"s"==De||("TRUE"===V?we={t:"b",v:!0}:"FALSE"===V?we={t:"b",v:!1}:isNaN(qu(V))?isNaN(v1(V).getDate())||(we={t:"d",v:Ui(V)},e.cellDates||(we={t:"n",v:Ws(we.v)}),we.z=e.dateNF||In[14]):we={t:"n",v:qu(V)}),e.dense?(r[p]||(r[p]=[]),r[p][g]=we):r[Ln({r:p,c:g})]=we,g+=E}}}}else{if(++p,e.sheetRows&&e.sheetRows<=p){--p;break}g=0}}return r["!ref"]=Xn(T),k.length&&(r["!merges"]=k),r}function s8(n,t,e,r){for(var i=n["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var u=0,h=0,p=0;p<i.length;++p)if(!(i[p].s.r>e||i[p].s.c>o||i[p].e.r<e||i[p].e.c<o)){if(i[p].s.r<e||i[p].s.c<o){u=-1;break}u=i[p].e.r-i[p].s.r+1,h=i[p].e.c-i[p].s.c+1;break}if(!(u<0)){var g=Ln({r:e,c:o}),y=r.dense?(n[e]||[])[o]:n[g],E=y&&null!=y.v&&(y.h||KO(y.w||(Jd(y),y.w)||""))||"",T={};u>1&&(T.rowspan=u),h>1&&(T.colspan=h),r.editable?E='<span contenteditable="true">'+E+"</span>":y&&(T["data-t"]=y&&y.t||"z",null!=y.v&&(T["data-v"]=y.v),null!=y.z&&(T["data-z"]=y.z),y.l&&"#"!=(y.l.Target||"#").charAt(0)&&(E='<a href="'+y.l.Target+'">'+E+"</a>")),T.id=(r.id||"sjs")+"-"+g,s.push(Ht("td",E,T))}}return"<tr>"+s.join("")+"</tr>"}function u8(n,t,e){var r=e||{},i=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var o="string"==typeof r.origin?Hi(r.origin):r.origin;i=o.r,s=o.c}var u=t.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var g=Ul(n["!ref"]);p.s.r=Math.min(p.s.r,g.s.r),p.s.c=Math.min(p.s.c,g.s.c),p.e.r=Math.max(p.e.r,g.e.r),p.e.c=Math.max(p.e.c,g.e.c),-1==i&&(p.e.r=i=g.e.r+1)}var y=[],E=0,T=n["!rows"]||(n["!rows"]=[]),k=0,D=0,R=0,B=0,j=0,V=0;for(n["!cols"]||(n["!cols"]=[]);k<u.length&&D<h;++k){var re=u[k];if(h8(re)){if(r.display)continue;T[D]={hidden:!0}}var ve=re.children;for(R=B=0;R<ve.length;++R){var ae=ve[R];if(!r.display||!h8(ae)){var Y=ae.hasAttribute("data-v")?ae.getAttribute("data-v"):ae.hasAttribute("v")?ae.getAttribute("v"):q6(ae.innerHTML),De=ae.getAttribute("data-z")||ae.getAttribute("z");for(E=0;E<y.length;++E){var we=y[E];we.s.c==B+s&&we.s.r<D+i&&D+i<=we.e.r&&(B=we.e.c+1-s,E=-1)}V=+ae.getAttribute("colspan")||1,((j=+ae.getAttribute("rowspan")||1)>1||V>1)&&y.push({s:{r:D+i,c:B+s},e:{r:D+i+(j||1)-1,c:B+s+(V||1)-1}});var Ue={t:"s",v:Y},Ke=ae.getAttribute("data-t")||ae.getAttribute("t")||"";null!=Y&&(0==Y.length?Ue.t=Ke||"z":r.raw||0==Y.trim().length||"s"==Ke||("TRUE"===Y?Ue={t:"b",v:!0}:"FALSE"===Y?Ue={t:"b",v:!1}:isNaN(qu(Y))?isNaN(v1(Y).getDate())||(Ue={t:"d",v:Ui(Y)},r.cellDates||(Ue={t:"n",v:Ws(Ue.v)}),Ue.z=r.dateNF||In[14]):Ue={t:"n",v:qu(Y)})),void 0===Ue.z&&null!=De&&(Ue.z=De);var Te="",Mt=ae.getElementsByTagName("A");if(Mt&&Mt.length)for(var nn=0;nn<Mt.length&&(!Mt[nn].hasAttribute("href")||"#"==(Te=Mt[nn].getAttribute("href")).charAt(0));++nn);Te&&"#"!=Te.charAt(0)&&(Ue.l={Target:Te}),r.dense?(n[D+i]||(n[D+i]=[]),n[D+i][B+s]=Ue):n[Ln({c:B+s,r:D+i})]=Ue,p.e.c<B+s&&(p.e.c=B+s),B+=V}}++D}return y.length&&(n["!merges"]=(n["!merges"]||[]).concat(y)),p.e.r=Math.max(p.e.r,D-1+i),n["!ref"]=Xn(p),D>=h&&(n["!fullref"]=Xn((p.e.r=u.length-k+D-1+i,p))),n}function d8(n,t){return u8((t||{}).dense?[]:{},n,t)}function h8(n){var t="",e=function Pse(n){return n.ownerDocument.defaultView&&"function"==typeof n.ownerDocument.defaultView.getComputedStyle?n.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(n);return e&&(t=e(n).getPropertyValue("display")),t||(t=n.style&&n.style.display),"none"===t}function Nse(n){var t=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[Dr(t.replace(/<[^>]*>/g,""))]}var f8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function p8(n,t){var s,o,g,y,D,R,e=t||{},r=JO(n),i=[],u={name:""},h="",p=0,E={},T=[],k=e.dense?[]:{},B={value:""},j="",V=0,ve=[],ae=-1,Y=-1,De={s:{r:1e6,c:1e7},e:{r:0,c:0}},we=0,Ue={},Ke=[],Te={},Mt=0,nn=0,Ot=[],lt=1,dt=1,Lt=[],yt={Names:[]},Zt={},st=["",""],ne=[],Oe={},le="",me=0,ot=!1,At=!1,It=0;for(NE.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");D=NE.exec(r);)switch(D[3]=D[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===D[1]?(k["!ref"]=De.e.c>=De.s.c&&De.e.r>=De.s.r?Xn(De):"A1:A1",e.sheetRows>0&&e.sheetRows<=De.e.r&&(k["!fullref"]=k["!ref"],De.e.r=e.sheetRows-1,k["!ref"]=Xn(De)),Ke.length&&(k["!merges"]=Ke),Ot.length&&(k["!rows"]=Ot),g.name=g.\u540d\u79f0||g.name,typeof JSON<"u"&&JSON.stringify(g),T.push(g.name),E[g.name]=k,At=!1):"/"!==D[0].charAt(D[0].length-2)&&(g=Nn(D[0],!1),ae=Y=-1,De.s.r=De.s.c=1e7,De.e.r=De.e.c=0,k=e.dense?[]:{},Ke=[],Ot=[],At=!0);break;case"table-row-group":"/"===D[1]?--we:++we;break;case"table-row":case"\u884c":if("/"===D[1]){ae+=lt,lt=1;break}if((y=Nn(D[0],!1)).\u884c\u53f7?ae=y.\u884c\u53f7-1:-1==ae&&(ae=0),(lt=+y["number-rows-repeated"]||1)<10)for(It=0;It<lt;++It)we>0&&(Ot[ae+It]={level:we});Y=-1;break;case"covered-table-cell":"/"!==D[1]&&++Y,e.sheetStubs&&(e.dense?(k[ae]||(k[ae]=[]),k[ae][Y]={t:"z"}):k[Ln({r:ae,c:Y})]={t:"z"}),j="",ve=[];break;case"table-cell":case"\u6570\u636e":if("/"===D[0].charAt(D[0].length-2))++Y,B=Nn(D[0],!1),dt=parseInt(B["number-columns-repeated"]||"1",10),R={t:"z",v:null},B.formula&&0!=e.cellFormula&&(R.f=H5(Dr(B.formula))),"string"==(B.\u6570\u636e\u7c7b\u578b||B["value-type"])&&(R.t="s",R.v=Dr(B["string-value"]||""),e.dense?(k[ae]||(k[ae]=[]),k[ae][Y]=R):k[Ln({r:ae,c:Y})]=R),Y+=dt-1;else if("/"!==D[1]){j="",V=0,ve=[],dt=1;var St=lt?ae+lt-1:ae;if(++Y>De.e.c&&(De.e.c=Y),Y<De.s.c&&(De.s.c=Y),ae<De.s.r&&(De.s.r=ae),St>De.e.r&&(De.e.r=St),ne=[],Oe={},R={t:(B=Nn(D[0],!1)).\u6570\u636e\u7c7b\u578b||B["value-type"],v:null},e.cellFormula)if(B.formula&&(B.formula=Dr(B.formula)),B["number-matrix-columns-spanned"]&&B["number-matrix-rows-spanned"]&&(Mt=parseInt(B["number-matrix-rows-spanned"],10)||0,nn=parseInt(B["number-matrix-columns-spanned"],10)||0,R.F=Xn(Te={s:{r:ae,c:Y},e:{r:ae+Mt-1,c:Y+nn-1}}),Lt.push([Te,R.F])),B.formula)R.f=H5(B.formula);else for(It=0;It<Lt.length;++It)ae>=Lt[It][0].s.r&&ae<=Lt[It][0].e.r&&Y>=Lt[It][0].s.c&&Y<=Lt[It][0].e.c&&(R.F=Lt[It][1]);switch((B["number-columns-spanned"]||B["number-rows-spanned"])&&(Mt=parseInt(B["number-rows-spanned"],10)||0,nn=parseInt(B["number-columns-spanned"],10)||0,Ke.push(Te={s:{r:ae,c:Y},e:{r:ae+Mt-1,c:Y+nn-1}})),B["number-columns-repeated"]&&(dt=parseInt(B["number-columns-repeated"],10)),R.t){case"boolean":R.t="b",R.v=Ci(B["boolean-value"]);break;case"float":case"percentage":case"currency":R.t="n",R.v=parseFloat(B.value);break;case"date":R.t="d",R.v=Ui(B["date-value"]),e.cellDates||(R.t="n",R.v=Ws(R.v)),R.z="m/d/yy";break;case"time":R.t="n",R.v=gY(B["time-value"])/86400,e.cellDates&&(R.t="d",R.v=nI(R.v)),R.z="HH:MM:SS";break;case"number":R.t="n",R.v=parseFloat(B.\u6570\u636e\u6570\u503c);break;default:if("string"!==R.t&&"text"!==R.t&&R.t)throw new Error("Unsupported value type "+R.t);R.t="s",null!=B["string-value"]&&(j=Dr(B["string-value"]),ve=[])}}else{if(ot=!1,"s"===R.t&&(R.v=j||"",ve.length&&(R.R=ve),ot=0==V),Zt.Target&&(R.l=Zt),ne.length>0&&(R.c=ne,ne=[]),j&&!1!==e.cellText&&(R.w=j),ot&&(R.t="z",delete R.v),(!ot||e.sheetStubs)&&!(e.sheetRows&&e.sheetRows<=ae))for(var ht=0;ht<lt;++ht){if(dt=parseInt(B["number-columns-repeated"]||"1",10),e.dense)for(k[ae+ht]||(k[ae+ht]=[]),k[ae+ht][Y]=0==ht?R:ai(R);--dt>0;)k[ae+ht][Y+dt]=ai(R);else for(k[Ln({r:ae+ht,c:Y})]=R;--dt>0;)k[Ln({r:ae+ht,c:Y+dt})]=ai(R);De.e.c<=Y&&(De.e.c=Y)}Y+=(dt=parseInt(B["number-columns-repeated"]||"1",10))-1,dt=0,R={},j="",ve=[]}Zt={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===D[1]){if((s=i.pop())[0]!==D[3])throw"Bad state: "+s}else"/"!==D[0].charAt(D[0].length-2)&&i.push([D[3],!0]);break;case"annotation":if("/"===D[1]){if((s=i.pop())[0]!==D[3])throw"Bad state: "+s;Oe.t=j,ve.length&&(Oe.R=ve),Oe.a=le,ne.push(Oe)}else"/"!==D[0].charAt(D[0].length-2)&&i.push([D[3],!1]);le="",me=0,j="",V=0,ve=[];break;case"creator":"/"===D[1]?le=r.slice(me,D.index):me=D.index+D[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===D[1]){if((s=i.pop())[0]!==D[3])throw"Bad state: "+s}else"/"!==D[0].charAt(D[0].length-2)&&i.push([D[3],!1]);j="",V=0,ve=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===D[1]){if(Ue[u.name]=h,(s=i.pop())[0]!==D[3])throw"Bad state: "+s}else"/"!==D[0].charAt(D[0].length-2)&&(h="",u=Nn(D[0],!1),i.push([D[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Nn(D[0],!1),h+=f8[D[3]]["long"===o.style?1:0]}break;case"text":if("/>"===D[0].slice(-2))break;if("/"===D[1])switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":h+=r.slice(p,D.index)}else p=D.index+D[0].length;break;case"named-range":st=LP((o=Nn(D[0],!1))["cell-range-address"]);var jn={Name:o.name,Ref:st[0]+"!"+st[1]};At&&(jn.Sheet=T.length),yt.Names.push(jn);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if("/"!==D[1]||B&&B["string-value"])Nn(D[0],!1),V=D.index+D[0].length;else{var oe=Nse(r.slice(V,D.index));j=(j.length>0?j+"\n":"")+oe[0]}break;case"database-range":if("/"===D[1])break;try{E[(st=LP(Nn(D[0])["target-range-address"]))[0]]["!autofilter"]={ref:st[1]}}catch{}break;case"a":if("/"!==D[1]){if(!(Zt=Nn(D[0],!1)).href)break;Zt.Target=Dr(Zt.href),delete Zt.href,"#"==Zt.Target.charAt(0)&&Zt.Target.indexOf(".")>-1?(st=LP(Zt.Target.slice(1)),Zt.Target="#"+st[0]+"!"+st[1]):Zt.Target.match(/^\.\.[\\\/]/)&&(Zt.Target=Zt.Target.slice(3))}break;default:switch(D[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(e.WTF)throw new Error(D)}}var $r={Sheets:E,SheetNames:T,Workbook:yt};return e.bookSheets&&delete $r.Sheets,$r}function g8(n,t){return p8(n,t)}function I_(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function $P(n){return typeof TextDecoder<"u"?(new TextDecoder).decode(n):Yr(vm(n))}function Tm(n){var t=n.reduce(function(i,s){return i+s.length},0),e=new Uint8Array(t),r=0;return n.forEach(function(i){e.set(i,r),r+=i.length}),e}function y8(n){return 16843009*((n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135)>>>24}function iC(n,t){var e=t?t[0]:0,r=127&n[e];e:if(n[e++]>=128&&(r|=(127&n[e])<<7,n[e++]<128||(r|=(127&n[e])<<14,n[e++]<128)||(r|=(127&n[e])<<21,n[e++]<128)||(r+=(127&n[e])*Math.pow(2,28),++e,n[e++]<128)||(r+=(127&n[e])*Math.pow(2,35),++e,n[e++]<128)||(r+=(127&n[e])*Math.pow(2,42),++e,n[e++]<128)))break e;return t&&(t[0]=e),r}function ts(n){var t=0,e=127&n[t];e:if(n[t++]>=128){if(e|=(127&n[t])<<7,n[t++]<128||(e|=(127&n[t])<<14,n[t++]<128)||(e|=(127&n[t])<<21,n[t++]<128))break e;e|=(127&n[t])<<28}return e}function Ir(n){for(var t=[],e=[0];e[0]<n.length;){var u,r=e[0],i=iC(n,e),s=7&i,o=0;if(0==(i=Math.floor(i/8)))break;switch(s){case 0:for(var h=e[0];n[e[0]++]>=128;);u=n.slice(h,e[0]);break;case 5:u=n.slice(e[0],e[0]+(o=4)),e[0]+=o;break;case 1:u=n.slice(e[0],e[0]+(o=8)),e[0]+=o;break;case 2:o=iC(n,e),u=n.slice(e[0],e[0]+o),e[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var p={data:u,type:s};null==t[i]?t[i]=[p]:t[i].push(p)}return t}function zP(n,t){return n?.map(function(e){return t(e.data)})||[]}function jse(n,t){if(0!=n)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var e=[0],r=iC(t,e),i=[];e[0]<t.length;){var s=3&t[e[0]];if(0!=s){var h=0,p=0;if(1==s?(p=4+(t[e[0]]>>2&7),h=(224&t[e[0]++])<<3,h|=t[e[0]++]):(p=1+(t[e[0]++]>>2),2==s?(h=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(h=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),i=[Tm(i)],0==h)throw new Error("Invalid offset 0");if(h>i[0].length)throw new Error("Invalid offset beyond length");if(p>=h)for(i.push(i[0].slice(-h)),p-=h;p>=i[i.length-1].length;)i.push(i[i.length-1]),p-=i[i.length-1].length;i.push(i[0].slice(-h,-h+p))}else{var o=t[e[0]++]>>2;if(o<60)++o;else{var u=o-59;o=t[e[0]],u>1&&(o|=t[e[0]+1]<<8),u>2&&(o|=t[e[0]+2]<<16),u>3&&(o|=t[e[0]+3]<<24),o>>>=0,o++,e[0]+=u}i.push(t.slice(e[0],e[0]+o)),e[0]+=o}}var g=Tm(i);if(g.length!=r)throw new Error("Unexpected length: ".concat(g.length," != ").concat(r));return g}function zse(n,t,e){switch(n[0]){case 0:case 1:case 2:case 3:return function Gse(n,t,e,r){var y,i=I_(n),s=i.getUint32(4,!0),o=(r>1?12:8)+4*y8(s&(r>1?3470:398)),u=-1,h=-1,p=NaN,g=new Date(2001,0,1);switch(512&s&&(u=i.getUint32(o,!0),o+=4),o+=4*y8(s&(r>1?12288:4096)),16&s&&(h=i.getUint32(o,!0),o+=4),32&s&&(p=i.getFloat64(o,!0),o+=8),64&s&&(g.setTime(g.getTime()+1e3*i.getFloat64(o,!0)),o+=8),n[2]){case 0:break;case 2:y={t:"n",v:p};break;case 3:y={t:"s",v:t[h]};break;case 5:y={t:"d",v:g};break;case 6:y={t:"b",v:p>0};break;case 7:y={t:"n",v:p/86400};break;case 8:y={t:"e",v:0};break;case 9:if(u>-1)y={t:"s",v:e[u]};else if(h>-1)y={t:"s",v:t[h]};else{if(isNaN(p))throw new Error("Unsupported cell type ".concat(n.slice(0,4)));y={t:"n",v:p}}break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return y}(n,t,e,n[0]);case 5:return function $se(n,t,e){var y,r=I_(n),i=r.getUint32(8,!0),s=12,o=-1,u=-1,h=NaN,p=NaN,g=new Date(2001,0,1);switch(1&i&&(h=function Use(n,t){for(var e=(127&n[t+15])<<7|n[t+14]>>1,r=1&n[t+14],i=t+13;i>=t;--i)r=256*r+n[i];return(128&n[t+15]?-r:r)*Math.pow(10,e-6176)}(n,s),s+=16),2&i&&(p=r.getFloat64(s,!0),s+=8),4&i&&(g.setTime(g.getTime()+1e3*r.getFloat64(s,!0)),s+=8),8&i&&(u=r.getUint32(s,!0),s+=4),16&i&&(o=r.getUint32(s,!0),s+=4),n[1]){case 0:break;case 2:case 10:y={t:"n",v:h};break;case 3:y={t:"s",v:t[u]};break;case 5:y={t:"d",v:g};break;case 6:y={t:"b",v:p>0};break;case 7:y={t:"n",v:p/86400};break;case 8:y={t:"e",v:0};break;case 9:if(!(o>-1))throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(31&i," : ").concat(n.slice(0,4)));y={t:"s",v:e[o]};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(31&i," : ").concat(n.slice(0,4)))}return y}(n,t,e);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function oa(n){return iC(Ir(n)[1][0].data)}function w8(n,t){var e=Ir(t.data),r=ts(e[1][0].data),s=[];return(e[3]||[]).forEach(function(o){var u=Ir(o.data),h=ts(u[1][0].data)>>>0;switch(r){case 1:s[h]=$P(u[3][0].data);break;case 8:var g=Ir(n[oa(u[9][0].data)][0].data),y=n[oa(g[1][0].data)][0],E=ts(y.meta[1][0].data);if(2001!=E)throw new Error("2000 unexpected reference to ".concat(E));var T=Ir(y.data);s[h]=T[3].map(function(k){return $P(k.data)}).join("")}}),s}function Yse(n,t){var r={"!ref":"A1"},i=n[oa(Ir(t.data)[2][0].data)],s=ts(i[0].meta[1][0].data);if(6001!=s)throw new Error("6000 unexpected reference to ".concat(s));return function qse(n,t,e){var r,i=Ir(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(ts(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(ts(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));e["!ref"]=Xn(s);var o=Ir(i[4][0].data),u=w8(n,n[oa(o[4][0].data)][0]),h=null!=(r=o[17])&&r[0]?w8(n,n[oa(o[17][0].data)][0]):[],p=Ir(o[3][0].data),g=0;p[1].forEach(function(y){var E=Ir(y.data),T=n[oa(E[2][0].data)][0],k=ts(T.meta[1][0].data);if(6002!=k)throw new Error("6001 unexpected reference to ".concat(k));var D=function Wse(n,t){var e,r=Ir(t.data),i=null!=(e=r?.[7])&&e[0]?ts(r[7][0].data)>>>0>0?1:0:-1,s=zP(r[5],function(o){return function Zse(n,t){var e,r,i,s,o,u,h,p,g,y,E,T,k,D,re,ve,R=Ir(n),B=ts(R[1][0].data)>>>0,j=ts(R[2][0].data)>>>0,V=(null==(r=null==(e=R[8])?void 0:e[0])?void 0:r.data)&&ts(R[8][0].data)>0||!1;if((null==(s=null==(i=R[7])?void 0:i[0])?void 0:s.data)&&0!=t)re=null==(u=null==(o=R[7])?void 0:o[0])?void 0:u.data,ve=null==(p=null==(h=R[6])?void 0:h[0])?void 0:p.data;else{if(!(null==(y=null==(g=R[4])?void 0:g[0])?void 0:y.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");re=null==(T=null==(E=R[4])?void 0:E[0])?void 0:T.data,ve=null==(D=null==(k=R[3])?void 0:k[0])?void 0:D.data}for(var ae=V?4:1,Y=I_(re),De=[],we=0;we<re.length/2;++we){var Ue=Y.getUint16(2*we,!0);Ue<65535&&De.push([we,Ue])}if(De.length!=j)throw"Expected ".concat(j," cells, found ").concat(De.length);var Ke=[];for(we=0;we<De.length-1;++we)Ke[De[we][0]]=ve.subarray(De[we][1]*ae,De[we+1][1]*ae);return De.length>=1&&(Ke[De[De.length-1][0]]=ve.subarray(De[De.length-1][1]*ae)),{R:B,cells:Ke}}(o,i)});return{nrows:ts(r[4][0].data)>>>0,data:s.reduce(function(o,u){return o[u.R]||(o[u.R]=[]),u.cells.forEach(function(h,p){if(o[u.R][p])throw new Error("Duplicate cell r=".concat(u.R," c=").concat(p));o[u.R][p]=h}),o},[])}}(0,T);D.data.forEach(function(R,B){R.forEach(function(j,V){var re=Ln({r:g+B,c:V}),ve=zse(j,u,h);ve&&(e[re]=ve)})}),g+=D.nrows})}(n,i[0],r),r}function qP(n){var t,e,r,i,s={},o=[];if(n.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)){var p,g;try{p=function $c(n){for(var t=[],e=0;e<n.length;){var r=n[e++],i=n[e]|n[e+1]<<8|n[e+2]<<16;t.push(jse(r,n.slice(e+=3,e+i))),e+=i}if(e!==n.length)throw new Error("data is not a valid framed stream!");return Tm(t)}(h.content)}catch(y){return console.log("?? "+h.content.length+" "+(y.message||y))}try{g=function Gc(n){for(var t,e=[],r=[0];r[0]<n.length;){var i=iC(n,r),s=Ir(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:ts(s[1][0].data),messages:[]};s[2].forEach(function(u){var h=Ir(u.data),p=ts(h[3][0].data);o.messages.push({meta:h,data:n.slice(r[0],r[0]+p)}),r[0]+=p}),null!=(t=s[3])&&t[0]&&(o.merge=ts(s[3][0].data)>>>0>0),e.push(o)}return e}(p)}catch(y){return console.log("## "+(y.message||y))}g.forEach(function(y){s[y.id]=y.messages,o.push(y.id)})}}),!o.length)throw new Error("File has no messages");var u=(null==(i=null==(r=null==(e=null==(t=s?.[1])?void 0:t[0])?void 0:e.meta)?void 0:r[1])?void 0:i[0].data)&&1==ts(s[1][0].meta[1][0].data)&&s[1][0];if(u||o.forEach(function(h){s[h].forEach(function(p){if(1==ts(p.meta[1][0].data)>>>0){if(u)throw new Error("Document has multiple roots");u=p}})}),!u)throw new Error("Cannot find Document root");return function Xse(n,t){var e={SheetNames:[],Sheets:{}};if(zP(Ir(t.data)[1],oa).forEach(function(s){n[s].forEach(function(o){if(2==ts(o.meta[1][0].data)){var h=function Kse(n,t){var e,r=Ir(t.data),i={name:null!=(e=r[1])&&e[0]?$P(r[1][0].data):"",sheets:[]};return zP(r[2],oa).forEach(function(o){n[o].forEach(function(u){6e3==ts(u.meta[1][0].data)&&i.sheets.push(Yse(n,u))})}),i}(n,o);h.sheets.forEach(function(p,g){rN(e,p,0==g?h.name:h.name+"_"+g,!0)})}})}),0==e.SheetNames.length)throw new Error("Empty NUMBERS file");return e}(s,u)}function YP(n){!function x8(n){return function(e){for(var r=0;r!=n.length;++r){var i=n[r];void 0===e[i[0]]&&(e[i[0]]=i[1]),"n"===i[2]&&(e[i[0]]=Number(e[i[0]]))}}}([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function eoe(n){return Qn.WS.indexOf(n)>-1?"sheet":Qn.CS&&n==Qn.CS?"chart":Qn.DS&&n==Qn.DS?"dialog":Qn.MS&&n==Qn.MS?"macro":n&&n.length?n:"sheet"}function noe(n,t,e,r,i,s,o,u,h,p,g,y){try{s[r]=HE(Vl(n,e,!0),t);var T,E=Ss(n,t);switch(u){case"sheet":T=Aie(E,t,i,h,s[r],p,g,y);break;case"chart":if(!(T=function Iie(n,t,e,r,i,s,o,u){return".bin"===t.slice(-4)?function sie(n,t,e,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=[],u=!1;return yf(n,function(p,g,y){switch(y){case 550:s["!rel"]=p;break;case 651:i.Sheets[e]||(i.Sheets[e]={}),p.name&&(i.Sheets[e].CodeName=p.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:u=!0;break;case 36:u=!1;break;case 37:o.push(y);break;case 38:o.pop();break;default:if(g.T>0)o.push(y);else if(g.T<0)o.pop();else if(!u||t.WTF)throw new Error("Unexpected record 0x"+y.toString(16))}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}(n,r,e,i,s):function nie(n,t,e,r,i){if(!n)return n;r||(r={"!id":{}});var o,s={"!type":"chart","!drawel":null,"!rel":""},u=n.match(G5);return u&&BP(u[0],0,i,e),(o=n.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}(n,0,e,i,s)}(E,t,i,h,s[r],p))||!T["!drawel"])break;var k=OE(T["!drawel"].Target,t),D=UE(k),R=function gee(n,t){if(!n)return"??";var e=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][e].Target}(Vl(n,k,!0),HE(Vl(n,D,!0),k)),B=OE(R,k),j=UE(B);T=function tie(n,t,e,r,i,s){var o=s||{"!type":"chart"};if(!n)return s;var u=0,h=0,p="A",g={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(y){var E=function eie(n){var r,t=[],e=n.match(/^<c:numCache>/);(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);!o||(t[+o[1]]=e?+o[2]:o[2])});var i=Dr((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[t,i,r]}(y);g.s.r=g.s.c=0,g.e.c=u,p=Di(u),E[0].forEach(function(T,k){o[p+es(k)]={t:"n",v:T,z:E[1]},h=k}),g.e.r<h&&(g.e.r=h),++u}),u>0&&(o["!ref"]=Xn(g)),o}(Vl(n,B,!0),0,0,HE(Vl(n,j,!0),B),0,T);break;case"macro":T=function kie(n,t,e,r,i,s,o,u){return t.slice(-4),{"!type":"macro"}}(0,t);break;case"dialog":T=function Mie(n,t,e,r,i,s,o,u){return t.slice(-4),{"!type":"dialog"}}(0,t);break;default:throw new Error("Unrecognized sheet type "+u)}o[r]=T;var V=[];s&&s[r]&&Qi(s[r]).forEach(function(re){var ve="";if(s[r][re].Type==Qn.CMNT){ve=OE(s[r][re].Target,t);var ae=function Pie(n,t,e){return".bin"===t.slice(-4)?function See(n,t){var e=[],r=[],i={},s=!1;return yf(n,function(u,h,p){switch(p){case 632:r.push(u);break;case 635:i=u;break;case 637:i.t=u.t,i.h=u.h,i.r=u.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,e.push(i);break;case 3072:case 37:case 38:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!h.T&&(!s||t.WTF))throw new Error("Unexpected record 0x"+p.toString(16))}}),e}(n,e):function _ee(n,t){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var e=[],r=[],i=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(""!==o&&""!==o.trim()){var u=o.match(/<(?:\w+:)?author[^>]*>(.*)/);u&&e.push(u[1])}});var s=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(""!==o&&""!==o.trim()){var u=o.match(/<(?:\w+:)?comment[^>]*>/);if(u){var h=Nn(u[0]),p={author:h.authorId&&e[h.authorId]||"sheetjsghost",ref:h.ref,guid:h.guid},g=Hi(h.ref);if(!(t.sheetRows&&t.sheetRows<=g.r)){var y=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),E=!!y&&!!y[1]&&TP(y[1])||{r:"",t:"",h:""};p.r=E.r,"<t></t>"==E.r&&(E.t=E.h=""),p.t=(E.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(p.h=E.h),r.push(p)}}}}),r}(n,e)}(Ss(n,ve,!0),ve,h);if(!ae||!ae.length)return;S5(T,ae,!1)}s[r][re].Type==Qn.TCMNT&&(ve=OE(s[r][re].Target,t),V=V.concat(function vee(n,t){var e=[],r=!1,i={},s=0;return n.replace(Jo,function(u,h){var p=Nn(u);switch(Xd(p[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":i={author:p.personId,guid:p.id,ref:p.ref,T:1};break;case"</threadedComment>":null!=i.t&&e.push(i);break;case"<text>":case"<text":s=h+u.length;break;case"</text>":i.t=n.slice(s,h).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":r=!0;break;case"</mentions>":case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+p[0]+" in threaded comments")}return u}),e}(Ss(n,ve,!0),h)))}),V&&V.length&&S5(T,V,!0,h.people||[])}catch(re){if(h.WTF)throw re}}function zc(n){return"/"==n.charAt(0)?n.slice(1):n}function roe(n,t){if(_1(),YP(t=t||{}),Bc(n,"META-INF/manifest.xml")||Bc(n,"objectdata.xml"))return function m8(n,t){t=t||{},Bc(n,"META-INF/manifest.xml")&&function fK(n,t){for(var r,i,e=JO(n);r=NE.exec(e);)switch(r[3]){case"manifest":break;case"file-entry":if("/"==(i=Nn(r[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==i.type)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}(Ss(n,"META-INF/manifest.xml"),t);var e=Vl(n,"content.xml");if(!e)throw new Error("Missing content.xml in ODS / UOF file");var r=p8(Yr(e),t);return Bc(n,"meta.xml")&&(r.Props=DU(Ss(n,"meta.xml"))),r}(n,t);if(Bc(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(n.FileIndex)return qP(n);var e=Dn.utils.cfb_new();return B6(n).forEach(function(nn){!function nr(n,t,e){if(n.FullPaths){var r;if("string"==typeof e)return r=or?gf(e):function Vq(n){for(var t=[],e=0,r=n.length+250,i=_m(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[e++]=o;else if(o<2048)i[e++]=192|o>>6&31,i[e++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var u=1023&n.charCodeAt(++s);i[e++]=240|o>>8&7,i[e++]=128|o>>2&63,i[e++]=128|u>>6&15|(3&o)<<4,i[e++]=128|63&u}else i[e++]=224|o>>12&15,i[e++]=128|o>>6&63,i[e++]=128|63&o;e>r&&(t.push(i.slice(0,e)),e=0,i=_m(65535),r=65530)}return t.push(i.slice(0,e)),fo(t)}(e),Dn.utils.cfb_add(n,t,r);Dn.utils.cfb_add(n,t,e)}else n.file(t,e)}(e,nn,V6(n,nn))}),qP(e)}if(!Bc(n,"[Content_Types].xml"))throw Bc(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Bc(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var o,u,r=B6(n),i=function dK(n){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!n||!n.match)return t;var e={};if((n.match(Jo)||[]).forEach(function(r){var i=Nn(r);switch(i[0].replace(EY,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":e[i.Extension]=i.ContentType;break;case"<Override":void 0!==t[vP[i.ContentType]]&&t[vP[i.ContentType]].push(i.PartName)}}),"http://schemas.openxmlformats.org/package/2006/content-types"!==t.xmlns)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=e,delete t.calcchains,t}(Vl(n,"[Content_Types].xml")),s=!1;if(0===i.workbooks.length&&Ss(n,u="xl/workbook.xml",!0)&&i.workbooks.push(u),0===i.workbooks.length){if(!Ss(n,u="xl/workbook.bin",!0))throw new Error("Could not find workbook");i.workbooks.push(u),s=!0}"bin"==i.workbooks[0].slice(-3)&&(s=!0);var h={},p={};if(!t.bookSheets&&!t.bookProps){if(QE=[],i.sst)try{QE=function Oie(n,t,e){return".bin"===t.slice(-4)?function PQ(n,t){var e=[],r=!1;return yf(n,function(s,o,u){switch(u){case 159:e.Count=s[0],e.Unique=s[1];break;case 19:e.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(!r||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}),e}(n,e):function RQ(n,t){var e=[],r="";if(!n)return e;var i=n.match(IQ);if(i){r=i[2].replace(kQ,"").split(MQ);for(var s=0;s!=r.length;++s){var o=TP(r[s].trim(),t);null!=o&&(e[e.length]=o)}i=Nn(i[1]),e.Count=i.count,e.Unique=i.uniqueCount}return e}(n,e)}(Ss(n,zc(i.sst)),i.sst,t)}catch(nn){if(t.WTF)throw nn}t.cellStyles&&i.themes.length&&(h=function Fie(n,t,e){return E5(n,e)}(Vl(n,i.themes[0].replace(/^\//,""),!0)||"",0,t)),i.style&&(p=function Rie(n,t,e,r){return".bin"===t.slice(-4)?function AJ(n,t,e){var r={NumberFmt:[]};for(var i in In)r.NumberFmt[i]=In[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return yf(n,function(h,p,g){switch(g){case 44:r.NumberFmt[h[0]]=h[1],Kd(h[1],h[0]);break;case 43:r.Fonts.push(h),null!=h.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(h.color.rgb=gI(t.themeElements.clrScheme[h.color.theme].rgb,h.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==s[s.length-1]&&r.CellXf.push(h);break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(g),o=!0;break;case 38:s.pop(),o=!1;break;default:if(p.T>0)s.push(g);else if(p.T<0)s.pop();else if(!o||e.WTF&&37!=s[s.length-1])throw new Error("Unexpected record 0x"+g.toString(16))}}),r}(n,e,r):gJ(n,e,r)}(Ss(n,zc(i.style)),i.style,h,t))}i.links.map(function(nn){try{return HE(Vl(n,UE(zc(nn))),nn),function Lie(n,t,e,r){return".bin"===e.slice(-4)?function mee(n,t,e,r){if(!n)return n;var i=r||{},s=!1;yf(n,function(h,p,g){switch(g){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!p.T&&(!s||i.WTF))throw new Error("Unexpected record 0x"+g.toString(16))}},i)}(n,0,0,r):void 0}(Ss(n,zc(nn)),0,nn,t)}catch{}});var g=function Tie(n,t,e){return".bin"===t.slice(-4)?function xie(n,t){var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],nC[16]={n:"BrtFRTArchID$",f:yie},yf(n,function(h,p,g){switch(g){case 156:o.SheetNames.push(h.name),e.Sheets.push(h);break;case 153:e.WBProps=h;break;case 39:null!=h.Sheet&&(t.SID=h.Sheet),h.Ref=sa(h.Ptg,0,null,o,t),delete t.SID,delete h.Ptg,s.push(h);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:o[0].length?o.push([g,h]):o[0]=[g,h],o[o.length-1].XTI=[];break;case 362:0===o.length&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(h),o.XTI=o.XTI.concat(h);break;case 35:case 37:r.push(g),i=!0;break;case 36:case 38:r.pop(),i=!1;break;default:if(!p.T&&(!i||t.WTF&&37!=r[r.length-1]&&35!=r[r.length-1]))throw new Error("Unexpected record 0x"+g.toString(16))}},t),Y5(e),e.Names=s,e.supbooks=o,e}(n,e):function pie(n,t){if(!n)throw new Error("Could not find file");var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(n.replace(Jo,function(h,p){var g=Nn(h);switch(Xd(g[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":h.match(fie)&&(i="xmlns"+h.match(/<(\w+):/)[1]),e.xmlns=g[i];break;case"<fileVersion":delete g[0],e.AppVersion=g;break;case"<workbookPr":case"<workbookPr/>":UP.forEach(function(y){if(null!=g[y[0]])switch(y[2]){case"bool":e.WBProps[y[0]]=Ci(g[y[0]]);break;case"int":e.WBProps[y[0]]=parseInt(g[y[0]],10);break;default:e.WBProps[y[0]]=g[y[0]]}}),g.codeName&&(e.WBProps.CodeName=Yr(g.codeName));break;case"<workbookView":case"<workbookView/>":delete g[0],e.WBView.push(g);break;case"<sheet":switch(g.state){case"hidden":g.Hidden=1;break;case"veryHidden":g.Hidden=2;break;default:g.Hidden=0}delete g.state,g.name=Dr(Yr(g.name)),delete g[0],e.Sheets.push(g);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":r=!1;break;case"<definedName":(s={}).Name=Yr(g.name),g.comment&&(s.Comment=g.comment),g.localSheetId&&(s.Sheet=+g.localSheetId),Ci(g.hidden||"0")&&(s.Hidden=!0),o=p+h.length;break;case"</definedName>":s.Ref=Dr(Yr(n.slice(o,p))),e.Names.push(s);break;case"<calcPr":case"<calcPr/>":delete g[0],e.CalcPr=g;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+g[0]+" in workbook")}return h}),-1===bm.indexOf(e.xmlns))throw new Error("Unknown Namespace: "+e.xmlns);return Y5(e),e}(n,e)}(Ss(n,zc(i.workbooks[0])),i.workbooks[0],t),y={},E="";i.coreprops.length&&((E=Ss(n,zc(i.coreprops[0]),!0))&&(y=DU(E)),0!==i.extprops.length&&(E=Ss(n,zc(i.extprops[0]),!0))&&function yK(n,t,e){var r={};t||(t={}),n=Yr(n),b_.forEach(function(i){var s=(n.match(PE(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=Dr(s));break;case"bool":t[i[1]]="true"===s;break;case"raw":var o=n.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1])}}),r.HeadingPairs&&r.TitlesOfParts&&AU(r.HeadingPairs,r.TitlesOfParts,t,e)}(E,y,t));var T={};(!t.bookSheets||t.bookProps)&&0!==i.custprops.length&&(E=Vl(n,zc(i.custprops[0]),!0))&&(T=function xK(n,t){var e={},r="",i=n.match(wK);if(i)for(var s=0;s!=i.length;++s){var o=i[s],u=Nn(o);switch(u[0]){case"<?xml":case"<Properties":break;case"<property":r=Dr(u.name);break;case"</property>":r=null;break;default:if(0===o.indexOf("<vt:")){var h=o.split(">"),p=h[0].slice(4),g=h[1];switch(p){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":e[r]=Dr(g);break;case"bool":e[r]=Ci(g);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":e[r]=parseInt(g,10);break;case"r4":case"r8":case"decimal":e[r]=parseFloat(g);break;case"filetime":case"date":e[r]=Ui(g);break;default:if("/"==p.slice(-1))break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,p,h)}}else if("</"!==o.slice(0,2)&&t.WTF)throw new Error(o)}}return e}(E,t));var k={};if((t.bookSheets||t.bookProps)&&(g.Sheets?o=g.Sheets.map(function(Ot){return Ot.name}):y.Worksheets&&y.SheetNames.length>0&&(o=y.SheetNames),t.bookProps&&(k.Props=y,k.Custprops=T),t.bookSheets&&typeof o<"u"&&(k.SheetNames=o),t.bookSheets?k.SheetNames:t.bookProps))return k;o={};var D={};t.bookDeps&&i.calcchain&&(D=function Nie(n,t,e){return".bin"===t.slice(-4)?function pee(n,t,e){var r=[];return yf(n,function(o,u,h){if(63===h)r.push(o);else if(!u.T)throw new Error("Unexpected record 0x"+h.toString(16))}),r}(n):function hee(n){var t=[];if(!n)return t;var e=1;return(n.match(Jo)||[]).forEach(function(r){var i=Nn(r);switch(i[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?e=i.i:i.i=e,t.push(i)}}),t}(n)}(Ss(n,zc(i.calcchain)),i.calcchain));var j,V,R=0,B={},re=g.Sheets;y.Worksheets=re.length,y.SheetNames=[];for(var ve=0;ve!=re.length;++ve)y.SheetNames[ve]=re[ve].name;var ae=s?"bin":"xml",Y=i.workbooks[0].lastIndexOf("/"),De=(i.workbooks[0].slice(0,Y+1)+"_rels/"+i.workbooks[0].slice(Y+1)+".rels").replace(/^\//,"");Bc(n,De)||(De="xl/_rels/workbook."+ae+".rels");var we=HE(Vl(n,De,!0),De.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=function Vie(n,t,e){return".bin"===t.slice(-4)?function cee(n,t,e){var r={Types:[],Cell:[],Value:[]},i=e||{},s=[],o=!1,u=2;return yf(n,function(h,p,g){switch(g){case 335:r.Types.push({name:h.name});break;case 51:h.forEach(function(y){1==u?r.Cell.push({type:r.Types[y[0]-1].name,index:y[1]}):0==u&&r.Value.push({type:r.Types[y[0]-1].name,index:y[1]})});break;case 337:u=h?1:0;break;case 338:u=2;break;case 35:s.push(g),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!p.T&&(!o||i.WTF&&35!=s[s.length-1]))throw new Error("Unexpected record 0x"+g.toString(16))}}),r}(n,0,e):function dee(n,t,e){var r={Types:[],Cell:[],Value:[]};if(!n)return r;var o,i=!1,s=2;return n.replace(Jo,function(u){var h=Nn(u);switch(Xd(h[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":r.Types.push({name:h.name});break;case"<futureMetadata":for(var p=0;p<r.Types.length;++p)r.Types[p].name==h.name&&(o=r.Types[p]);break;case"<rc":1==s?r.Cell.push({type:r.Types[h.t-1].name,index:+h.v}):0==s&&r.Value.push({type:r.Types[h.t-1].name,index:+h.v});break;case"<cellMetadata":s=1;break;case"</cellMetadata>":case"</valueMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+h.i);break;default:if(!i&&e.WTF)throw new Error("unrecognized "+h[0]+" in metadata")}return u}),r}(n,0,e)}(Ss(n,zc(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=function wee(n,t){var e=[],r=!1;return n.replace(Jo,function(s){var o=Nn(s);switch(Xd(o[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":e.push({name:o.displayname,id:o.id});break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),e}(Ss(n,zc(i.people[0])),t)),we&&(we=function toe(n,t){if(!n)return 0;try{n=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,n["!id"][r.id].Target,eoe(n["!id"][r.id].Type)]})}catch{return null}return n&&0!==n.length?n:null}(we,g.Sheets));var Ue=Ss(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(R=0;R!=y.Worksheets;++R){var Ke="sheet";if(we&&we[R]?(j="xl/"+we[R][1].replace(/[\/]?xl\//,""),Bc(n,j)||(j=we[R][1]),Bc(n,j)||(j=De.replace(/_rels\/.*$/,"")+we[R][1]),Ke=we[R][2]):j=(j="xl/worksheets/sheet"+(R+1-Ue)+"."+ae).replace(/sheet0\./,"sheet."),V=j.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(R!=t.sheets)continue e;break;case"string":if(y.SheetNames[R].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var Te=!1,Mt=0;Mt!=t.sheets.length;++Mt)"number"==typeof t.sheets[Mt]&&t.sheets[Mt]==R&&(Te=1),"string"==typeof t.sheets[Mt]&&t.sheets[Mt].toLowerCase()==y.SheetNames[R].toLowerCase()&&(Te=1);if(!Te)continue e}}noe(n,j,V,y.SheetNames[R],R,B,o,Ke,t,g,h,p)}return k={Directory:i,Workbook:g,Props:y,Custprops:T,Deps:D,Sheets:o,SheetNames:y.SheetNames,Strings:QE,Styles:p,Themes:h,SSF:ai(In)},t&&t.bookFiles&&(n.files?(k.keys=r,k.files=n.files):(k.keys=[],k.files={},n.FullPaths.forEach(function(nn,Ot){nn=nn.replace(/^Root Entry[\/]/,""),k.keys.push(nn),k.files[nn]=n.FileIndex[Ot]}))),t&&t.bookVBA&&(i.vba.length>0?k.vbaraw=Ss(n,zc(i.vba[0]),!0):i.defaults&&"application/vnd.ms-office.vbaProject"===i.defaults.bin&&(k.vbaraw=Ss(n,"xl/vbaProject.bin",!0))),k}function ioe(n,t){var e=t||{},r="Workbook",i=Dn.find(n,r);try{if(!(i=Dn.find(n,r="/!DataSpaces/Version"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(function BQ(n){var t={};t.id=n.read_shift(0,"lpp4"),t.R=xf(n,4),t.U=xf(n,4),t.W=xf(n,4)}(i.content),!(i=Dn.find(n,r="/!DataSpaces/DataSpaceMap"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=function HQ(n){var t=[];n.l+=4;for(var e=n.read_shift(4);e-- >0;)t.push(UQ(n));return t}(i.content);if(1!==s.length||1!==s[0].comps.length||0!==s[0].comps[0].t||"StrongEncryptionDataSpace"!==s[0].name||"EncryptedPackage"!==s[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+r);if(!(i=Dn.find(n,r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=function jQ(n){var t=[];n.l+=4;for(var e=n.read_shift(4);e-- >0;)t.push(n.read_shift(0,"lpp4"));return t}(i.content);if(1!=o.length||"StrongEncryptionTransform"!=o[0])throw new Error("ECMA-376 Encrypted file bad "+r);if(!(i=Dn.find(n,r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);!function $Q(n){var t=function GQ(n){var t={};return n.read_shift(4),n.l+=4,t.id=n.read_shift(0,"lpp4"),t.name=n.read_shift(0,"lpp4"),t.R=xf(n,4),t.U=xf(n,4),t.W=xf(n,4),t}(n);if(t.ename=n.read_shift(0,"8lpp4"),t.blksz=n.read_shift(4),t.cmode=n.read_shift(4),4!=n.read_shift(4))throw new Error("Bad !Primary record");return t}(i.content)}catch{}if(!(i=Dn.find(n,r="/EncryptionInfo"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var u=function zQ(n){var t=xf(n);switch(t.Minor){case 2:return[t.Minor,ZQ(n)];case 3:return[t.Minor,WQ()];case 4:return[t.Minor,qQ(n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(i.content);if(!(i=Dn.find(n,r="/EncryptedPackage"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(4==u[0]&&typeof decrypt_agile<"u")return decrypt_agile(u[1],i.content,e.password||"",e);if(2==u[0]&&typeof decrypt_std76<"u")return decrypt_std76(u[1],i.content,e.password||"",e);throw new Error("File is password-protected")}function XP(n,t){var e="";switch((t||{}).type||"base64"){case"buffer":case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":e=Pl(n.slice(0,12));break;case"binary":e=n;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function E8(n,t){var e=0;e:for(;e<n.length;)switch(n.charCodeAt(e)){case 10:case 13:case 32:++e;break;case 60:return jP(n.slice(e),t);default:break e}return E1.to_workbook(n,t)}function QP(n,t,e,r){return r?(e.type="string",E1.to_workbook(n,e)):E1.to_workbook(t,e)}function CI(n,t){qA();var e=t||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return CI(new Uint8Array(n),((e=ai(e)).type="array",e));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!e.type&&(e.type=typeof Deno<"u"?"buffer":"array");var i,r=n,s=!1;if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),T1={},e.dateNF&&(T1.dateNF=e.dateNF),e.type||(e.type=or&&Buffer.isBuffer(n)?"buffer":"base64"),"file"==e.type&&(e.type=or?"buffer":"binary",r=function fY(n){if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(n);t.open("r"),t.encoding="binary";var e=t.read();return t.close(),e}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+n)}(n),typeof Uint8Array<"u"&&!or&&(e.type="array")),"string"==e.type&&(s=!0,e.type="binary",e.codepage=65001,r=function doe(n){return n.match(/[^\x00-\x7F]/)?Qd(n):n}(n)),"array"==e.type&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),u=new Uint8Array(o);if(u.foo="bar",!u.foo)return(e=ai(e)).type="array",CI(jO(r),e)}switch((i=XP(r,e))[0]){case 208:if(207===i[1]&&17===i[2]&&224===i[3]&&161===i[4]&&177===i[5]&&26===i[6]&&225===i[7])return function aoe(n,t){return Dn.find(n,"EncryptedPackage")?ioe(n,t):n8(n,t)}(Dn.read(r,e),e);break;case 9:if(i[1]<=8)return n8(r,e);break;case 60:return jP(r,e);case 73:if(73===i[1]&&42===i[2]&&0===i[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===i[1])return function bQ(n,t){var e=t||{},r=!!e.WTF;e.WTF=!0;try{var i=c5.to_workbook(n,e);return e.WTF=r,i}catch(s){if(e.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return E1.to_workbook(n,t)}}(r,e);break;case 84:if(65===i[1]&&66===i[2]&&76===i[3])return u5.to_workbook(r,e);break;case 80:return 75===i[1]&&i[2]<9&&i[3]<9?function loe(n,t){var r=n,i=t||{};return i.type||(i.type=or&&Buffer.isBuffer(n)?"buffer":"base64"),roe(U6(r,i),i)}(r,e):QP(n,r,e,s);case 239:return 60===i[3]?jP(r,e):QP(n,r,e,s);case 255:if(254===i[1])return function uoe(n,t){var e=n;return"base64"==t.type&&(e=Pl(e)),e=Er.utils.decode(1200,e.slice(2),"str"),t.type="binary",E8(e,t)}(r,e);if(0===i[1]&&2===i[2]&&0===i[3])return S_.to_workbook(r,e);break;case 0:if(0===i[1]&&(i[2]>=2&&0===i[3]||0===i[2]&&(8===i[3]||9===i[3])))return S_.to_workbook(r,e);break;case 3:case 131:case 139:case 140:return SP.to_workbook(r,e);case 123:if(92===i[1]&&114===i[2]&&116===i[3])return _5.to_workbook(r,e);break;case 10:case 13:case 32:return function coe(n,t){var e="",r=XP(n,t);switch(t.type){case"base64":e=Pl(n);break;case"binary":e=n;break;case"buffer":e=n.toString("binary");break;case"array":e=p_(n);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]&&(e=Yr(e)),t.type="binary",E8(e,t)}(r,e);case 137:if(80===i[1]&&78===i[2]&&71===i[3])throw new Error("PNG Image File is not a spreadsheet")}return xQ.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?SP.to_workbook(r,e):QP(n,r,e,s)}function T8(n,t,e,r,i,s,o,u){var h=es(e),p=u.defval,g=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),y=!0,E=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(E,"__rowNum__",{value:e,enumerable:!1})}catch{E.__rowNum__=e}else E.__rowNum__=e;if(!o||n[e])for(var T=t.s.c;T<=t.e.c;++T){var k=o?n[e][T]:n[r[T]+h];if(void 0!==k&&void 0!==k.t){var D=k.v;switch(k.t){case"z":if(null==D)break;continue;case"e":D=0==D?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+k.t)}if(null!=s[T]){if(null==D)if("e"==k.t&&null===D)E[s[T]]=null;else if(void 0!==p)E[s[T]]=p;else{if(!g||null!==D)continue;E[s[T]]=null}else E[s[T]]=g&&("n"!==k.t||"n"===k.t&&!1!==u.rawNumbers)?D:Jd(k,D,u);null!=D&&(y=!1)}}else{if(void 0===p)continue;null!=s[T]&&(E[s[T]]=p)}}return{row:E,isempty:y}}function SI(n,t){if(null==n||null==n["!ref"])return[];var e={t:"n",v:0},r=0,i=1,s=[],o=0,u="",h={s:{r:0,c:0},e:{r:0,c:0}},p=t||{},g=null!=p.range?p.range:n["!ref"];switch(1===p.header?r=1:"A"===p.header?r=2:Array.isArray(p.header)?r=3:null==p.header&&(r=0),typeof g){case"string":h=_r(g);break;case"number":(h=_r(n["!ref"])).s.r=g;break;default:h=g}r>0&&(i=0);var y=es(h.s.r),E=[],T=[],k=0,D=0,R=Array.isArray(n),B=h.s.r,j=0,V={};R&&!n[B]&&(n[B]=[]);var re=p.skipHidden&&n["!cols"]||[],ve=p.skipHidden&&n["!rows"]||[];for(j=h.s.c;j<=h.e.c;++j)if(!(re[j]||{}).hidden)switch(E[j]=Di(j),e=R?n[B][j]:n[E[j]+y],r){case 1:s[j]=j-h.s.c;break;case 2:s[j]=E[j];break;case 3:s[j]=p.header[j-h.s.c];break;default:if(null==e&&(e={w:"__EMPTY",t:"s"}),u=o=Jd(e,null,p),D=V[o]||0){do{u=o+"_"+D++}while(V[u]);V[o]=D,V[u]=1}else V[o]=1;s[j]=u}for(B=h.s.r+i;B<=h.e.r;++B)if(!(ve[B]||{}).hidden){var ae=T8(n,h,B,E,r,s,R,p);(!1===ae.isempty||(1===r?!1!==p.blankrows:p.blankrows))&&(T[k++]=ae.row)}return T.length=k,T}var A8=/"/g;function I8(n,t,e,r,i,s,o,u){for(var h=!0,p=[],g="",y=es(e),E=t.s.c;E<=t.e.c;++E)if(r[E]){var T=u.dense?(n[e]||[])[E]:n[r[E]+y];if(null==T)g="";else if(null!=T.v){h=!1,g=""+(u.rawNumbers&&"n"==T.t?T.v:Jd(T,null,u));for(var k=0,D=0;k!==g.length;++k)if((D=g.charCodeAt(k))===i||D===s||34===D||u.forceQuotes){g='"'+g.replace(A8,'""')+'"';break}"ID"==g&&(g='"ID"')}else null==T.f||T.F?g="":(h=!1,(g="="+T.f).indexOf(",")>=0&&(g='"'+g.replace(A8,'""')+'"'));p.push(g)}return!1===u.blankrows&&h?null:p.join(o)}function tN(n,t){var e=[],r=t??{};if(null==n||null==n["!ref"])return"";var i=_r(n["!ref"]),s=void 0!==r.FS?r.FS:",",o=s.charCodeAt(0),u=void 0!==r.RS?r.RS:"\n",h=u.charCodeAt(0),p=new RegExp(("|"==s?"\\|":s)+"+$"),g="",y=[];r.dense=Array.isArray(n);for(var E=r.skipHidden&&n["!cols"]||[],T=r.skipHidden&&n["!rows"]||[],k=i.s.c;k<=i.e.c;++k)(E[k]||{}).hidden||(y[k]=Di(k));for(var D=0,R=i.s.r;R<=i.e.r;++R)(T[R]||{}).hidden||null!=(g=I8(n,i,R,y,o,h,s,r))&&(r.strip&&(g=g.replace(p,"")),(g||!1!==r.blankrows)&&e.push((D++?u:"")+g));return delete r.dense,e.join("")}function M8(n,t,e){var r=e||{},i=+!r.skipHeader,s=n||{},o=0,u=0;if(s&&null!=r.origin)if("number"==typeof r.origin)o=r.origin;else{var h="string"==typeof r.origin?Hi(r.origin):r.origin;o=h.r,u=h.c}var p,g={s:{c:0,r:0},e:{c:u,r:o+t.length-1+i}};if(s["!ref"]){var y=_r(s["!ref"]);g.e.c=Math.max(g.e.c,y.e.c),g.e.r=Math.max(g.e.r,y.e.r),-1==o&&(g.e.r=(o=y.e.r+1)+t.length-1+i)}else-1==o&&(o=0,g.e.r=t.length-1+i);var E=r.header||[],T=0;t.forEach(function(D,R){Qi(D).forEach(function(B){-1==(T=E.indexOf(B))&&(E[T=E.length]=B);var j=D[B],V="z",re="",ve=Ln({c:u+T,r:o+R+i});p=sC(s,ve),!j||"object"!=typeof j||j instanceof Date?("number"==typeof j?V="n":"boolean"==typeof j?V="b":"string"==typeof j?V="s":j instanceof Date?(V="d",r.cellDates||(V="n",j=Ws(j)),re=r.dateNF||In[14]):null===j&&r.nullError&&(V="e",j=0),p?(p.t=V,p.v=j,delete p.w,delete p.R,re&&(p.z=re)):s[ve]=p={t:V,v:j},re&&(p.z=re)):s[ve]=j})}),g.e.c=Math.max(g.e.c,u+E.length-1);var k=es(o);if(i)for(T=0;T<E.length;++T)s[Di(T+u)+k]={t:"s",v:E[T]};return s["!ref"]=Xn(g),s}function sC(n,t,e){if("string"==typeof t){if(Array.isArray(n)){var r=Hi(t);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[t]||(n[t]={t:"z"})}return sC(n,Ln("number"!=typeof t?t:{r:t,c:e||0}))}function rN(n,t,e,r){var i=1;if(!e)for(;i<=65535&&-1!=n.SheetNames.indexOf(e="Sheet"+i);++i,e=void 0);if(!e||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(e)>=0){var s=e.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||e;for(++i;i<=65535&&-1!=n.SheetNames.indexOf(e=o+i);++i);}if(function K5(n,t){if(n.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var e=!0;return die.forEach(function(r){if(-1!=n.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");e=!1}}),e}(e),n.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return n.SheetNames.push(e),n.Sheets[e]=t,e}function R8(n,t,e){return t?(n.l={Target:t},e&&(n.l.Tooltip=e)):delete n.l,n}var Coe={encode_col:Di,encode_row:es,encode_cell:Ln,encode_range:Xn,decode_col:lP,decode_row:aP,split_cell:function $Y(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Hi,decode_range:Ul,format_cell:Jd,sheet_add_aoa:pU,sheet_add_json:M8,sheet_add_dom:u8,aoa_to_sheet:x1,json_to_sheet:function _oe(n,t){return M8(null,n,t)},table_to_sheet:d8,table_to_book:function Ose(n,t){return Em(d8(n,t),t)},sheet_to_csv:tN,sheet_to_txt:function k8(n,t){t||(t={}),t.FS="\t",t.RS="\n";var e=tN(n,t);return e},sheet_to_json:SI,sheet_to_html:function c8(n,t){var e=t||{},i=null!=e.footer?e.footer:"</body></html>",s=[null!=e.header?e.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>'],o=Ul(n["!ref"]);e.dense=Array.isArray(n),s.push(function l8(n,t,e){return[].join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}(0,0,e));for(var u=o.s.r;u<=o.e.r;++u)s.push(s8(n,o,u,e));return s.push("</table>"+i),s.join("")},sheet_to_formulae:function goe(n){var e,t="",r="";if(null==n||null==n["!ref"])return[];var u,i=_r(n["!ref"]),s="",o=[],h=[],p=Array.isArray(n);for(u=i.s.c;u<=i.e.c;++u)o[u]=Di(u);for(var g=i.s.r;g<=i.e.r;++g)for(s=es(g),u=i.s.c;u<=i.e.c;++u)if(t=o[u]+s,r="",void 0!==(e=p?(n[g]||[])[u]:n[t])){if(null!=e.F){if(t=e.F,!e.f)continue;r=e.f,-1==t.indexOf(":")&&(t=t+":"+t)}if(null!=e.f)r=e.f;else{if("z"==e.t)continue;if("n"==e.t&&null!=e.v)r=""+e.v;else if("b"==e.t)r=e.v?"TRUE":"FALSE";else if(void 0!==e.w)r="'"+e.w;else{if(void 0===e.v)continue;r="s"==e.t?"'"+e.v:""+e.v}}h[h.length]=t+"="+r}return h},sheet_to_row_object_array:SI,sheet_get_cell:sC,book_new:function nN(){return{SheetNames:[],Sheets:{}}},book_append_sheet:rN,book_set_sheet_visibility:function yoe(n,t,e){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=function voe(n,t){if("number"==typeof t){if(t>=0&&n.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var e=n.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(n,t);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}n.Workbook.Sheets[r].Hidden=e},cell_set_number_format:function woe(n,t){return n.z=t,n},cell_set_hyperlink:R8,cell_set_internal_link:function xoe(n,t,e){return R8(n,"#"+t,e)},cell_add_comment:function boe(n,t,e){n.c||(n.c=[]),n.c.push({t,a:e||"SheetJS"})},sheet_set_array_formula:function Eoe(n,t,e,r){for(var i="string"!=typeof t?t:_r(t),s="string"==typeof t?t:Xn(t),o=i.s.r;o<=i.e.r;++o)for(var u=i.s.c;u<=i.e.c;++u){var h=sC(n,o,u);h.t="n",h.F=s,delete h.v,o==i.s.r&&u==i.s.c&&(h.f=e,r&&(h.D=!0))}return n},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};let Ioe=(()=>{class n{constructor(e,r,i){this.udataService=e,this.transferService=r,this.scheduleService=i,this.canceled=new l.vpe,this.allData=[],this.weekMap=new Map([[2,"Saturday"],[4,"Sunday"],[6,"Monday"],[8,"Tuesday"],[10,"Wednesday"],[12,"Thursday"],[14,"Friday"]])}ngOnInit(){}onUpload(){this.readFile(this.event)}onFileChange(e){this.event=e}readFile(e){var r=this;return(0,Ee.Z)(function*(){const i=e.target;if(1!==i.files.length)throw new Error("Cannot use multiple files");const s=new FileReader;s.onload=o=>{const h=CI(o.target.result,{type:"binary"});for(var p=0;p<h.SheetNames.length;p++){r.allData[p]=Coe.sheet_to_json(h.Sheets[h.SheetNames[p]],{header:1});var g=r.getPositionMap(r.allData[p]);r.processData(r.allData[p],g)}},s.readAsBinaryString(i.files[0])})()}getPositionMap(e){for(var r=new Map,i=3;i<e.length;i++)null!=e[i][0]&&r.set(i,e[i][0]);return r}processData(e,r){var i=this;return(0,Ee.Z)(function*(){for(var s=2;s<e[0].length;s+=2){var o=e[1][s];if(null!=o){var u;u="string"==typeof o?i.stringDateToJSDate(o):i.excelDateToJSDate(o);for(var h=[],p=3;p<e.length;p++){var g=e[p][s];if(null!=g)if(g.includes("/"))g.split("/").forEach(k=>{var D=i.processEmployeeInfo(k,r.get(p));h.push(D)});else if(g.includes("&"))g.split(" & ").forEach(D=>{var R=i.processEmployeeInfo(D,r.get(p));h.push(R)});else if(g.includes("'o'"))g.split(" 'o' ").forEach(D=>{var R=i.processEmployeeInfo(D,r.get(p));h.push(R)});else{var E=i.processEmployeeInfo(g,r.get(p));h.push(E)}}var T=i.makeDocTitle(u);yield i.processAttenders(h).then(k=>{i.scheduleService.addSchedule({date:u,attenders:h},T)})}}})()}makeDocTitle(e){return e.getFullYear().toString()+"-"+(e.getMonth()+1).toString()+"-"+e.getDate().toString()}excelDateToJSDate(e){var r=new Date(Math.round(86400*(e-25568.70833)*1e3));return new Date(r.getFullYear(),r.getMonth(),r.getDate())}stringDateToJSDate(e){var i=e.split("-")[0].split("/");return new Date(i[2]+"-"+i[0]+"-"+i[1])}processEmployeeInfo(e,r){return{uid:"",nameDisplayed:e,position:r,photoURL:""}}processAttenders(e){var r=this;return(0,Ee.Z)(function*(){for(var i=0;i<e.length;i++)yield r.udataService.getUidAndPhotoByName(e[i].nameDisplayed).then(s=>{var o=r.transferService.getData();null!=o&&(e[i].uid=o.uid,e[i].photoURL=o.photoURL),r.transferService.clearData()}).catch(s=>{console.log(s)})})()}onCancel(){this.canceled.emit({canceled:!0})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Zs),l.Y36(So),l.Y36(ZA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-import-file"]],outputs:{canceled:"canceled"},decls:13,vars:0,consts:[[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body"],["type","file","multiple","false",3,"change"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"btn","btn-primary","btn-block",3,"click"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"b"),l._uU(3,"Import Working Schedule"),l.qZA()(),l.TgZ(4,"div",2)(5,"input",3),l.NdJ("change",function(s){return r.onFileChange(s)}),l.qZA(),l._UZ(6,"br"),l.TgZ(7,"p"),l._uU(8,"* Notice: upload duplicate files will replace the data stored in database."),l.qZA(),l.TgZ(9,"button",4),l.NdJ("click",function(){return r.onUpload()}),l._uU(10,"Upload"),l.qZA(),l.TgZ(11,"button",5),l.NdJ("click",function(){return r.onCancel()}),l._uU(12,"Cancel"),l.qZA()()())}}),n})();function koe(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",4),l._UZ(1,"br")(2,"img",24),l._uU(3),l.TgZ(4,"span",25),l.NdJ("click",function(){const s=l.CHM(e).$implicit,o=l.oxw();return l.KtG(o.onDeleteUser(s))}),l.O4$(),l.TgZ(5,"svg",26),l._UZ(6,"path",27),l.qZA()()()}if(2&n){const e=t.$implicit,r=l.oxw();l.xp6(2),l.s9C("src",r.getPhoto(e),l.LSH),l.xp6(1),l.AsE(" ",e.nameDisplayed," (",e.position,") ")}}function Moe(n,t){if(1&n&&(l.TgZ(0,"option",28),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("value",e),l.xp6(1),l.Oqu(e)}}function Roe(n,t){if(1&n&&(l.TgZ(0,"option",28),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("value",e),l.xp6(1),l.Oqu(e)}}let Foe=(()=>{class n{constructor(e,r,i){this.udataService=e,this.scheduleService=r,this.transferService=i,this.added=new l.vpe,this.canceled=new l.vpe,this.pipe=new Zl("en-US"),this.formGroup=new Du({releasedAt:new sg}),this.employees=[],this.users=[],this.usernames=[],this.positions=["Nurse","Athletic Trainer","EMT","Rad Tech","Front Desk","Attending","Resident","Fellow"],this.enterANewName=!1,this.positionSelected="",this.userSelected=""}ngOnInit(){this.setTime(),this.udataService.getAllUsers().then(e=>{this.users=this.transferService.getData(),this.transferService.clearData(),this.users.forEach(r=>{this.usernames.push(r.name)}),this.usernames.sort(),this.usernames.push("Other")})}setTime(){this.date=new Date,this.date.setHours(0,0,0,0),this.dateWithPipe=this.pipe.transform(this.date,"M/d/yy"),this.today=this.dateWithPipe}onDateSelected(e){var r=this;return(0,Ee.Z)(function*(){r.date=e,console.log("New date selected: "+r.date)})()}onCancel(){this.canceled.emit({canceled:!0})}addEmployee(e,r,i){if(""!=this.positionSelected&&"Select a position"!=this.positionSelected)if(""!=this.userSelected&&"Select a user"!=this.userSelected)if("Other"!=this.userSelected||""!=e.value){if(""!=this.userSelected&&"Select a user"!=this.userSelected&&"Other"!=this.userSelected){var s={uid:"",nameDisplayed:this.userSelected,position:this.positionSelected,photoURL:""};this.users.forEach(o=>{o.name==this.userSelected&&(s.uid=o.uid,s.photoURL=o.photoURL)}),this.employees.push(s)}else this.employees.push(s={uid:"",nameDisplayed:e.value,position:this.positionSelected,photoURL:""});this.enterANewName=!1,this.positionSelected="Select a position",this.userSelected="Select a user",r.value="Select a position",i.value="Select a user"}else alert("Please enter an employee's name!");else alert("Please select an employee!");else alert("Please select a position!")}onPositionSelected(e){this.positionSelected=e}onUserSelected(e){this.userSelected=e,"Other"==e&&(this.enterANewName=!0)}getPhoto(e){return""!=e.photoURL?e.photoURL:"../../../../assets/avatar.png"}onDeleteUser(e){const r=this.employees.indexOf(e,0);r>-1&&this.employees.splice(r,1)}onSaveSchedule(){this.scheduleService.getScheduleByDate(this.date).then(e=>{var r=this.transferService.getData();this.transferService.clearData(),null!=r?window.confirm("A schedule of the selected date already exists. Do you want to overwrite it?")&&this.saveSchedule():this.saveSchedule()})}saveSchedule(){var e=this;return(0,Ee.Z)(function*(){var r={date:e.date,attenders:e.employees},i=e.makeDocTitle(e.date);yield e.scheduleService.addSchedule(r,i).then(s=>{e.added.emit({ds:r}),e.employees=[],e.setTime()})})()}makeDocTitle(e){return e.getFullYear().toString()+"-"+(e.getMonth()+1).toString()+"-"+e.getDate().toString()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Zs),l.Y36(ZA),l.Y36(So))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-add-schedule"]],outputs:{added:"added",canceled:"canceled"},decls:47,vars:11,consts:[[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body"],[1,"form-horizontal"],[1,"form-row"],["for","date"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","releasedAt",3,"placeholder","matDatepicker","dateInput","click"],["matPrefix","",3,"for"],[3,"touchUi","startAt"],["releasedAtPicker",""],["for","worker"],[3,"hidden"],["class","form-row",4,"ngFor","ngForOf"],["aria-label","vehicle selection",1,"form-select","form-select-lg",3,"change"],["positionOptions",""],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["userOptions",""],[1,"input-group",3,"hidden"],["id","name","type","text","placeholder","Enter a name","required","",1,"form-control"],["name",""],[1,"btn","btn-primary","btn-block",3,"click"],[1,"img-thumbnail","rounded-circle",2,"width","50px","height","50px",3,"src"],[1,"align-middle",2,"float","right",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dash-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7z"],[3,"value"]],template:function(e,r){if(1&e){const i=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"label"),l._uU(3,"Create a Wroking Schedule"),l.qZA(),l._UZ(4,"br"),l.qZA(),l.TgZ(5,"div",2)(6,"form",3)(7,"div",4)(8,"label",5),l._uU(9,"Date"),l.qZA(),l.TgZ(10,"div",6)(11,"mat-form-field",7)(12,"input",8),l.NdJ("dateInput",function(o){return r.onDateSelected(o.value)})("click",function(){l.CHM(i);const o=l.MAs(15);return l.KtG(o.open())}),l.qZA(),l._UZ(13,"mat-datepicker-toggle",9)(14,"mat-datepicker",10,11),l.qZA()()(),l.TgZ(16,"div",4)(17,"label",12),l._uU(18,"Employees Added"),l.qZA(),l.TgZ(19,"div",13),l._uU(20," No employees yet! "),l.qZA(),l.YNc(21,koe,7,3,"div",14),l.qZA(),l._UZ(22,"br"),l.TgZ(23,"div",4)(24,"select",15,16),l.NdJ("change",function(){l.CHM(i);const o=l.MAs(25);return l.KtG(r.onPositionSelected(o.value))}),l.TgZ(26,"option",17),l._uU(27,"Select a position"),l.qZA(),l.YNc(28,Moe,2,2,"option",18),l.qZA(),l._UZ(29,"br"),l.TgZ(30,"select",15,19),l.NdJ("change",function(){l.CHM(i);const o=l.MAs(31);return l.KtG(r.onUserSelected(o.value))}),l.TgZ(32,"option",17),l._uU(33,"Select a user"),l.qZA(),l.YNc(34,Roe,2,2,"option",18),l.qZA(),l.TgZ(35,"div",20),l._UZ(36,"br")(37,"input",21,22),l.qZA(),l._UZ(39,"br"),l.TgZ(40,"button",23),l.NdJ("click",function(){l.CHM(i);const o=l.MAs(38),u=l.MAs(25),h=l.MAs(31);return l.KtG(r.addEmployee(o,u,h))}),l._uU(41," Add Employee to this Schedule "),l.qZA()(),l._UZ(42,"br"),l.TgZ(43,"button",23),l.NdJ("click",function(){return r.onSaveSchedule()}),l._uU(44,"Save this Schedule "),l.qZA(),l.TgZ(45,"button",23),l.NdJ("click",function(){return r.onCancel()}),l._uU(46,"Cancel "),l.qZA()()()()}if(2&e){const i=l.MAs(15);l.xp6(10),l.Q6J("formGroup",r.formGroup),l.xp6(2),l.Q6J("placeholder",r.today)("matDatepicker",i),l.xp6(1),l.Q6J("for",i),l.xp6(1),l.Q6J("touchUi",!0)("startAt",r.date),l.xp6(5),l.Q6J("hidden",0!=r.employees.length),l.xp6(2),l.Q6J("ngForOf",r.employees),l.xp6(7),l.Q6J("ngForOf",r.positions),l.xp6(6),l.Q6J("ngForOf",r.usernames),l.xp6(1),l.Q6J("hidden",!r.enterANewName)}},dependencies:[Ti,sp,K_,X_,_l,kh,Wa,jo,$F,jF,oO,vE,aO,vd,Fh,QF]}),n})(),Ooe=(()=>{class n{constructor(e,r,i){this.cpdataService=e,this.udataService=r,this.transferService=i,this.status=0}ngOnInit(){this.checkUserUpdate().then(e=>{var r=[];this.cpdataService.getAllCarpoolsFromDate(this.date).then(i=>{r=this.transferService.getData(),this.transferService.clearData(),this.findStatus(r)}).catch(i=>{console.log(i)})})}checkUserUpdate(){var e=this;return(0,Ee.Z)(function*(){""==e.employeeObj.uid&&(yield e.udataService.getUidAndPhotoByName(e.employeeObj.nameDisplayed).then(r=>{var i=e.transferService.getData();e.transferService.clearData(),null!=i&&(e.employeeObj.uid=i.uid,e.employeeObj.photoURL=i.photoURL,console.log("Updated: "+e.employeeObj.uid))}))})()}getPhoto(e){return null==e||""==e?"../../../../assets/avatar.png":e}findStatus(e){if(null!=e&&0!=e.length){for(var r=0;r<e.length;r++){if(e[r].driver==this.employeeObj.uid)return void(this.status=1);for(var i=0;i<e[r].passengers.length;i++)if(e[r].passengers[i]==this.employeeObj.uid)return void(this.status=2)}this.status=0}else this.status=0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(iE),l.Y36(Zs),l.Y36(So))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-employee"]],inputs:{employeeObj:"employeeObj",date:"date"},decls:11,vars:5,consts:[[1,"img-thumbnail","rounded-circle",2,"width","50px","height","50px",3,"src"],[3,"hidden"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"]],template:function(e,r){1&e&&(l.TgZ(0,"div"),l._UZ(1,"img",0),l._uU(2),l.TgZ(3,"span",1),l.O4$(),l.TgZ(4,"svg",2),l._UZ(5,"path",3),l.qZA()(),l.kcU(),l.TgZ(6,"span",1),l.O4$(),l.TgZ(7,"svg",4),l._UZ(8,"path",5)(9,"path",6),l.qZA()()(),l.kcU(),l._UZ(10,"br")),2&e&&(l.xp6(1),l.s9C("src",r.getPhoto(r.employeeObj.photoURL),l.LSH),l.xp6(1),l.AsE(" ",r.employeeObj.nameDisplayed," (",r.employeeObj.position,") "),l.xp6(1),l.Q6J("hidden",1!=r.status),l.xp6(3),l.Q6J("hidden",2!=r.status))}}),n})();function Poe(n,t){if(1&n&&l._UZ(0,"app-employee",21),2&n){const e=t.$implicit,r=l.oxw();l.Q6J("employeeObj",e)("date",r.dsObj.date)}}function Noe(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",11)(1,"div"),l._UZ(2,"img",22),l._uU(3),l.TgZ(4,"span",23),l.NdJ("click",function(){const s=l.CHM(e).$implicit,o=l.oxw();return l.KtG(o.onDeleteUser(s))}),l.O4$(),l.TgZ(5,"svg",24),l._UZ(6,"path",25),l.qZA()()(),l.kcU(),l._UZ(7,"br"),l.qZA()}if(2&n){const e=t.$implicit,r=l.oxw();l.xp6(2),l.s9C("src",r.getPhoto(e),l.LSH),l.xp6(1),l.AsE(" ",e.nameDisplayed," (",e.position,") ")}}function Loe(n,t){if(1&n&&(l.TgZ(0,"option",26),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("value",e),l.xp6(1),l.Oqu(e)}}function Voe(n,t){if(1&n&&(l.TgZ(0,"option",26),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("value",e),l.xp6(1),l.Oqu(e)}}let Boe=(()=>{class n{constructor(e,r,i){this.udataService=e,this.transferService=r,this.scheduleService=i,this.isEditing=!1,this.positions=["Nurse","Athletic Trainer","EMT","Rad Tech","Front Desk","Attending","Resident","Fellow"],this.enterANewName=!1,this.positionSelected="",this.userSelected="",this.users=[],this.usernames=[]}ngOnInit(){this.employees=this.dsObj.attenders,this.udataService.getAllUsers().then(e=>{this.users=this.transferService.getData(),this.transferService.clearData(),this.users.forEach(r=>{this.usernames.push(r.name)}),this.usernames.sort(),this.usernames.push("Other")})}formatDate(e){var r=e.toString().split(" ");return r[0]+" "+r[1]+" "+r[2]+" "+r[3]}onEdit(){this.isEditing=!0}getPhoto(e){return""!=e.photoURL?e.photoURL:"../../../../assets/avatar.png"}onDeleteUser(e){const r=this.employees.indexOf(e,0);r>-1&&this.employees.splice(r,1)}onPositionSelected(e){this.positionSelected=e}onUserSelected(e){this.userSelected=e,"Other"==e&&(this.enterANewName=!0)}addEmployee(e,r,i){if(""!=this.positionSelected&&"Select a position"!=this.positionSelected)if(""!=this.userSelected&&"Select a user"!=this.userSelected)if("Other"!=this.userSelected||""!=e.value){if(""!=this.userSelected&&"Select a user"!=this.userSelected&&"Other"!=this.userSelected){var s={uid:"",nameDisplayed:this.userSelected,position:this.positionSelected,photoURL:""};this.users.forEach(o=>{o.name==this.userSelected&&(s.uid=o.uid,s.photoURL=o.photoURL)}),this.employees.push(s)}else this.employees.push(s={uid:"",nameDisplayed:e.value,position:this.positionSelected,photoURL:""});this.enterANewName=!1,this.positionSelected="Select a position",this.userSelected="Select a user",r.value="Select a position",i.value="Select a user"}else alert("Please enter an employee's name!");else alert("Please select an employee!");else alert("Please select a position!")}onCancel(){this.isEditing=!1}onSaveSchedule(){window.confirm("Save this schedule? The data will be overwritten.")&&this.saveSchedule()}saveSchedule(){var e=this;return(0,Ee.Z)(function*(){e.dsObj.attenders=e.employees;var r=e.makeDocTitle(e.dsObj.date);yield e.scheduleService.addSchedule(e.dsObj,r).then(i=>{e.isEditing=!1})})()}makeDocTitle(e){return e.getFullYear().toString()+"-"+(e.getMonth()+1).toString()+"-"+e.getDate().toString()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Zs),l.Y36(So),l.Y36(ZA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-schedule"]],inputs:{dsObj:"dsObj"},decls:41,vars:9,consts:[[1,"panel","panel-default"],[1,"panel-heading"],[2,"float","right"],[2,"font-size","medium",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],[1,"panel-body",3,"hidden"],[3,"employeeObj","date",4,"ngFor","ngForOf"],[3,"hidden"],["class","form-row",4,"ngFor","ngForOf"],[1,"form-row"],["aria-label","vehicle selection",1,"form-select","form-select-lg",3,"change"],["positionOptions",""],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["userOptions",""],[1,"input-group",3,"hidden"],["id","name","type","text","placeholder","Enter a name","required","",1,"form-control"],["name",""],[1,"btn","btn-primary","btn-block",3,"click"],[3,"employeeObj","date"],[1,"img-thumbnail","rounded-circle",2,"width","50px","height","50px",3,"src"],[1,"align-middle",2,"float","right",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dash-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7z"],[3,"value"]],template:function(e,r){if(1&e){const i=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"b"),l._uU(3),l.qZA(),l.TgZ(4,"div",2)(5,"span",3),l.NdJ("click",function(){return r.onEdit()}),l.O4$(),l.TgZ(6,"svg",4),l._UZ(7,"path",5)(8,"path",6),l.qZA()()()(),l.kcU(),l.TgZ(9,"div",7),l.YNc(10,Poe,1,2,"app-employee",8),l.TgZ(11,"p",9),l._uU(12,"Wow, no one's working today!"),l.qZA()(),l.TgZ(13,"div",7),l.YNc(14,Noe,8,3,"div",10),l._UZ(15,"br"),l.TgZ(16,"div",11)(17,"select",12,13),l.NdJ("change",function(){l.CHM(i);const o=l.MAs(18);return l.KtG(r.onPositionSelected(o.value))}),l.TgZ(19,"option",14),l._uU(20,"Select a position"),l.qZA(),l.YNc(21,Loe,2,2,"option",15),l.qZA(),l._UZ(22,"br"),l.TgZ(23,"select",12,16),l.NdJ("change",function(){l.CHM(i);const o=l.MAs(24);return l.KtG(r.onUserSelected(o.value))}),l.TgZ(25,"option",14),l._uU(26,"Select a user"),l.qZA(),l.YNc(27,Voe,2,2,"option",15),l.qZA(),l.TgZ(28,"div",17),l._UZ(29,"br")(30,"input",18,19),l.qZA(),l._UZ(32,"br"),l.TgZ(33,"button",20),l.NdJ("click",function(){l.CHM(i);const o=l.MAs(31),u=l.MAs(18),h=l.MAs(24);return l.KtG(r.addEmployee(o,u,h))}),l._uU(34," Add Employee to this Schedule "),l.qZA()(),l.TgZ(35,"div",11),l._UZ(36,"br"),l.TgZ(37,"button",20),l.NdJ("click",function(){return r.onSaveSchedule()}),l._uU(38,"Save this Schedule "),l.qZA(),l.TgZ(39,"button",20),l.NdJ("click",function(){return r.onCancel()}),l._uU(40,"Cancel "),l.qZA()()()()}2&e&&(l.xp6(3),l.Oqu(r.formatDate(r.dsObj.date)),l.xp6(6),l.Q6J("hidden",r.isEditing),l.xp6(1),l.Q6J("ngForOf",r.dsObj.attenders),l.xp6(1),l.Q6J("hidden",0!=r.dsObj.attenders.length),l.xp6(2),l.Q6J("hidden",!r.isEditing),l.xp6(1),l.Q6J("ngForOf",r.employees),l.xp6(7),l.Q6J("ngForOf",r.positions),l.xp6(6),l.Q6J("ngForOf",r.usernames),l.xp6(1),l.Q6J("hidden",!r.enterANewName))},dependencies:[Ti,K_,X_,Ooe]}),n})();function Uoe(n,t){1&n&&l._UZ(0,"app-schedule",28),2&n&&l.Q6J("dsObj",t.$implicit)}const Hoe=[{path:"",pathMatch:"full",redirectTo:"carpools"},{path:"login",component:rq},{path:"carpools",component:eZ},{path:"carpools/:id",component:Dq},{path:"profile",component:Iq},{path:"editprofile",component:eq},{path:"approveusers",component:Rq},{path:"notice",component:Fq},{path:"calendar",component:(()=>{class n{constructor(e,r,i,s){this.scheduleService=e,this.transferService=r,this.udataService=i,this.gudataService=s,this.formGroup=new Du({releasedAt:new sg}),this.pipe=new Zl("en-US"),this.isUploading=!1,this.isCreating=!1}ngOnInit(){this.gudataService.checkAccountStatus(),this.udataService.checkLoginStatus(),this.date=new Date,this.date.setHours(0,0,0,0),this.dateWithPipe=this.pipe.transform(this.date,"M/d/yy"),this.today=this.dateWithPipe,this.getDataForAWeek(this.date)}getDataForAWeek(e){var r=this;return(0,Ee.Z)(function*(){var i=e,s=new Date(i);s.setDate(i.getDate()+6),yield r.scheduleService.getScheduleByTimePeriod(i,s).then(o=>{r.weeklySchedule=r.transferService.getData(),r.transferService.clearData()})})()}onDateSelected(e){var r=this;return(0,Ee.Z)(function*(){r.date=e,yield r.getDataForAWeek(r.date)})()}startUpload(){this.isUploading=!0}stopUpload(){this.isUploading=!1}startCreating(){this.isCreating=!0}onCreatingCanceled(e){e&&(this.isCreating=!1)}onUploadingCanceled(e){e&&(this.isUploading=!1)}onAdded(e){null!=e&&(this.isCreating=!1,this.getDataForAWeek(this.date))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ZA),l.Y36(So),l.Y36(Zs),l.Y36(Oc))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-calendar"]],decls:46,vars:11,consts:[[1,"col-sm-10","justify-content-center"],[2,"float","right"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle-fill",3,"click"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"],[3,"hidden","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-upload"],["d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"],["d","M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-return-left"],["fill-rule","evenodd","d","M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z"],[3,"hidden"],[3,"canceled","added"],[3,"canceled"],[1,"col-sm-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"],[1,"col-sm-1"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","releasedAt",3,"placeholder","matDatepicker","dateInput","click"],["matPrefix","",3,"for"],[3,"touchUi","startAt"],["releasedAtPicker",""],[3,"dsObj",4,"ngFor","ngForOf"],[1,"fixed-bottom",2,"width","100%"],[3,"dsObj"]],template:function(e,r){if(1&e){const i=l.EpF();l.TgZ(0,"div",0)(1,"h3")(2,"b"),l._uU(3,"Calendar"),l.qZA(),l.TgZ(4,"div",1)(5,"span"),l.O4$(),l.TgZ(6,"svg",2),l.NdJ("click",function(){return r.startCreating()}),l._UZ(7,"path",3),l.qZA()(),l._uU(8," \xa0 "),l.kcU(),l.TgZ(9,"span",4),l.NdJ("click",function(){return r.startUpload()}),l.O4$(),l.TgZ(10,"svg",5),l._UZ(11,"path",6)(12,"path",7),l.qZA()(),l.kcU(),l.TgZ(13,"span",4),l.NdJ("click",function(){return r.stopUpload()}),l.O4$(),l.TgZ(14,"svg",8),l._UZ(15,"path",9),l.qZA()()()(),l.kcU(),l.TgZ(16,"div",10)(17,"app-add-schedule",11),l.NdJ("canceled",function(o){return r.onCreatingCanceled(o)})("added",function(o){return r.onAdded(o)}),l.qZA()(),l.TgZ(18,"div",10)(19,"app-import-file",12),l.NdJ("canceled",function(o){return r.onUploadingCanceled(o)}),l.qZA()(),l.TgZ(20,"div")(21,"span",13),l.O4$(),l.TgZ(22,"svg",14),l._UZ(23,"path",15),l.qZA(),l.kcU(),l.TgZ(24,"span"),l._uU(25," : Driver"),l.qZA()(),l.TgZ(26,"span",16),l.O4$(),l.TgZ(27,"svg",17),l._UZ(28,"path",18)(29,"path",19),l.qZA(),l.kcU(),l.TgZ(30,"span"),l._uU(31," : Passenger"),l.qZA()()(),l._UZ(32,"br"),l.TgZ(33,"div",20)(34,"mat-form-field",21)(35,"input",22),l.NdJ("dateInput",function(o){return r.onDateSelected(o.value)})("click",function(){l.CHM(i);const o=l.MAs(38);return l.KtG(o.open())}),l.qZA(),l._UZ(36,"mat-datepicker-toggle",23)(37,"mat-datepicker",24,25),l.qZA()(),l.TgZ(39,"div"),l.YNc(40,Uoe,1,1,"app-schedule",26),l.qZA()(),l._UZ(41,"br")(42,"br")(43,"br"),l.TgZ(44,"div",27),l._UZ(45,"app-navbar"),l.qZA()}if(2&e){const i=l.MAs(38);l.xp6(9),l.Q6J("hidden",r.isUploading),l.xp6(4),l.Q6J("hidden",!r.isUploading),l.xp6(3),l.Q6J("hidden",!r.isCreating),l.xp6(2),l.Q6J("hidden",!r.isUploading),l.xp6(15),l.Q6J("formGroup",r.formGroup),l.xp6(2),l.Q6J("placeholder",r.today)("matDatepicker",i),l.xp6(1),l.Q6J("for",i),l.xp6(1),l.Q6J("touchUi",!0)("startAt",r.date),l.xp6(3),l.Q6J("ngForOf",r.weeklySchedule)}},dependencies:[Ti,_l,kh,Wa,$F,jF,oO,vE,aO,vd,Fh,QF,d1,Ioe,Foe,Boe]}),n})()}];let joe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[gx]}),n.\u0275inj=l.cJS({imports:[fl,q1,JW,bq,Zw.forRoot(Hoe),uS,Zo.hO.initializeApp(Sl_firebase),C9,Yz,zF,Mz,pN,Y$,bG]}),n})();(0,l.G48)(),mu().bootstrapModule(joe).catch(n=>console.error(n))},5867:(ln,ct,z)=>{z.d(ct,{C6:()=>l.getApps,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=z(9681);(0,l.registerVersion)("firebase","9.9.4","app")},127:(ln,ct,z)=>{z.d(ct,{Z:()=>l.Z});var l=z(3942);l.Z.registerVersion("firebase","9.9.4","app-compat")},5881:(ln,ct,z)=>{z.r(ct);var l=z(5861),te=z(3942),H=z(8554),Me=z(2090),Fe=(z(9681),z(1877),z(4859));function je(){return window}function he(){return(he=(0,l.Z)(function*(Se,se,ue){var Je;const{BuildInfo:Nt}=je();(0,H.aq)(se.sessionId,"AuthEvent did not contain a session ID");const mn=yield We(se.sessionId),yn={};return(0,H.ar)()?yn.ibi=Nt.packageName:(0,H.as)()?yn.apn=Nt.packageName:(0,H.at)(Se,"operation-not-supported-in-this-environment"),Nt.displayName&&(yn.appDisplayName=Nt.displayName),yn.sessionId=mn,(0,H.au)(Se,ue,se.type,void 0,null!==(Je=se.eventId)&&void 0!==Je?Je:void 0,yn)})).apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(Se){const{BuildInfo:se}=je(),ue={};(0,H.ar)()?ue.iosBundleId=se.packageName:(0,H.as)()?ue.androidPackageName=se.packageName:(0,H.at)(Se,"operation-not-supported-in-this-environment"),yield(0,H.av)(Se,ue)})).apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(Se,se,ue){const{cordova:Je}=je();let Nt=()=>{};try{yield new Promise((mn,yn)=>{let wt=null;function Jt(){var On;mn();const xr=null===(On=Je.plugins.browsertab)||void 0===On?void 0:On.close;"function"==typeof xr&&xr(),"function"==typeof ue?.close&&ue.close()}function Yn(){wt||(wt=window.setTimeout(()=>{yn((0,H.aw)(Se,"redirect-cancelled-by-user"))},2e3))}function Ur(){"visible"===document?.visibilityState&&Yn()}se.addPassiveListener(Jt),document.addEventListener("resume",Yn,!1),(0,H.as)()&&document.addEventListener("visibilitychange",Ur,!1),Nt=()=>{se.removePassiveListener(Jt),document.removeEventListener("resume",Yn,!1),document.removeEventListener("visibilitychange",Ur,!1),wt&&window.clearTimeout(wt)}})}finally{Nt()}})).apply(this,arguments)}function We(Se){return qt.apply(this,arguments)}function qt(){return(qt=(0,l.Z)(function*(Se){const se=Yt(Se),ue=yield crypto.subtle.digest("SHA-256",se);return Array.from(new Uint8Array(ue)).map(Nt=>Nt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Yt(Se){if((0,H.aq)(/[0-9a-zA-Z]+/.test(Se),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Se);const se=new ArrayBuffer(Se.length),ue=new Uint8Array(se);for(let Je=0;Je<Se.length;Je++)ue[Je]=Se.charCodeAt(Je);return ue}class ft extends H.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(se=>{this.resolveInialized=se})}addPassiveListener(se){this.passiveListeners.add(se)}removePassiveListener(se){this.passiveListeners.delete(se)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(se){return this.resolveInialized(),this.passiveListeners.forEach(ue=>ue(se)),super.onEvent(se)}initialized(){var se=this;return(0,l.Z)(function*(){yield se.initPromise})()}}function ke(Se){return Le.apply(this,arguments)}function Le(){return(Le=(0,l.Z)(function*(Se){const se=yield Ce()._get($e(Se));return se&&(yield Ce()._remove($e(Se))),se})).apply(this,arguments)}function ye(){const Se=[],se="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ue=0;ue<20;ue++){const Je=Math.floor(Math.random()*se.length);Se.push(se.charAt(Je))}return Se.join("")}function Ce(){return(0,H.ay)(H.b)}function $e(Se){return(0,H.az)("authEvent",Se.config.apiKey,Se.name)}function Ct(Se){if(!Se?.includes("?"))return{};const[se,...ue]=Se.split("?");return(0,Me.zd)(ue.join("?"))}function Bt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function $n(){var Se;return(null===(Se=self?.location)||void 0===Se?void 0:Se.protocol)||null}function ji(Se=(0,Me.z$)()){return!("file:"!==$n()&&"ionic:"!==$n()&&"capacitor:"!==$n()||!Se.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mo(){try{const Se=self.localStorage,se=H.aI();if(Se)return Se.setItem(se,"1"),Se.removeItem(se),!function aa(Se=(0,Me.z$)()){return function Gi(){return(0,Me.w1)()&&11===document?.documentMode}()||function Br(Se=(0,Me.z$)()){return/Edge\/\d+/.test(Se)}(Se)}()||(0,Me.hl)()}catch{return Rs()&&(0,Me.hl)()}return!1}function Rs(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xr(){return(function Bn(){return"http:"===$n()||"https:"===$n()}()||(0,Me.ru)()||ji())&&!function Gl(){return(0,Me.b$)()||(0,Me.UG)()}()&&Mo()&&!Rs()}function Ro(){return ji()&&typeof document<"u"}function Xt(){return(Xt=(0,l.Z)(function*(){return!!Ro()&&new Promise(Se=>{const se=setTimeout(()=>{Se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(se),Se(!0)})})})).apply(this,arguments)}const Qr={LOCAL:"local",NONE:"none",SESSION:"session"},wr=H.ax,$i="persistence";function kr(Se){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(Se){yield Se._initializationPromise;const se=dn(),ue=H.az($i,Se.config.apiKey,Se.name);se&&se.setItem(ue,Se._getPersistence())})).apply(this,arguments)}function dn(){var Se;try{return(null===(Se=function Fi(){return typeof window<"u"?window:null}())||void 0===Se?void 0:Se.sessionStorage)||null}catch{return null}}const hn=H.ax;class Mn{constructor(){this.browserResolver=H.ay(H.k),this.cordovaResolver=H.ay(class rr{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(se){var ue=this;return(0,l.Z)(function*(){const Je=se._key();let Nt=ue.eventManagers.get(Je);return Nt||(Nt=new ft(se),ue.eventManagers.set(Je,Nt),ue.attachCallbackListeners(se,Nt)),Nt})()}_openPopup(se){(0,H.at)(se,"operation-not-supported-in-this-environment")}_openRedirect(se,ue,Je,Nt){var mn=this;return(0,l.Z)(function*(){!function et(Se){var se,ue,Je,Nt,mn,yn,wt,Jt,Yn,Ur;const On=je();(0,H.ax)("function"==typeof(null===(se=On?.universalLinks)||void 0===se?void 0:se.subscribe),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(ue=On?.BuildInfo)||void 0===ue?void 0:ue.packageName)<"u",Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(mn=null===(Nt=null===(Je=On?.cordova)||void 0===Je?void 0:Je.plugins)||void 0===Nt?void 0:Nt.browsertab)||void 0===mn?void 0:mn.openUrl),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(Jt=null===(wt=null===(yn=On?.cordova)||void 0===yn?void 0:yn.plugins)||void 0===wt?void 0:wt.browsertab)||void 0===Jt?void 0:Jt.isAvailable),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(Ur=null===(Yn=On?.cordova)||void 0===Yn?void 0:Yn.InAppBrowser)||void 0===Ur?void 0:Ur.open),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(se);const yn=yield mn._initialize(se);yield yn.initialized(),yn.resetRedirect(),(0,H.aD)(),yield mn._originValidation(se);const wt=function rt(Se,se,ue=null){return{type:se,eventId:ue,urlResponse:null,sessionId:ye(),postBody:null,tenantId:Se.tenantId,error:(0,H.aw)(Se,"no-auth-event")}}(se,Je,Nt);yield function Vt(Se,se){return Ce()._set($e(Se),se)}(se,wt);const Jt=yield function de(Se,se,ue){return he.apply(this,arguments)}(se,wt,ue),Yn=yield function _t(Se){const{cordova:se}=je();return new Promise(ue=>{se.plugins.browsertab.isAvailable(Je=>{let Nt=null;Je?se.plugins.browsertab.openUrl(Se):Nt=se.InAppBrowser.open(Se,(0,H.ap)()?"_blank":"_system","location=yes"),ue(Nt)})})}(Jt);return function nt(Se,se,ue){return en.apply(this,arguments)}(se,yn,Yn)})()}_isIframeWebStorageSupported(se,ue){throw new Error("Method not implemented.")}_originValidation(se){const ue=se._key();return this.originValidationPromises[ue]||(this.originValidationPromises[ue]=function be(Se){return kt.apply(this,arguments)}(se)),this.originValidationPromises[ue]}attachCallbackListeners(se,ue){const{universalLinks:Je,handleOpenURL:Nt,BuildInfo:mn}=je(),yn=setTimeout((0,l.Z)(function*(){yield ke(se),ue.onEvent(Bt())}),500),wt=function(){var Ur=(0,l.Z)(function*(On){clearTimeout(yn);const xr=yield ke(se);let ca=null;xr&&On?.url&&(ca=function Xe(Se,se){var ue,Je;const Nt=function Et(Se){const se=Ct(Se),ue=se.link?decodeURIComponent(se.link):void 0,Je=Ct(ue).link,Nt=se.deep_link_id?decodeURIComponent(se.deep_link_id):void 0;return Ct(Nt).link||Nt||Je||ue||Se}(se);if(Nt.includes("/__/auth/callback")){const mn=Ct(Nt),yn=mn.firebaseError?function Re(Se){try{return JSON.parse(Se)}catch{return null}}(decodeURIComponent(mn.firebaseError)):null,wt=null===(Je=null===(ue=yn?.code)||void 0===ue?void 0:ue.split("auth/"))||void 0===Je?void 0:Je[1],Jt=wt?(0,H.aw)(wt):null;return Jt?{type:Se.type,eventId:Se.eventId,tenantId:Se.tenantId,error:Jt,urlResponse:null,sessionId:null,postBody:null}:{type:Se.type,eventId:Se.eventId,tenantId:Se.tenantId,sessionId:Se.sessionId,urlResponse:Nt,postBody:null}}return null}(xr,On.url)),ue.onEvent(ca||Bt())});return function(xr){return Ur.apply(this,arguments)}}();typeof Je<"u"&&"function"==typeof Je.subscribe&&Je.subscribe(null,wt);const Jt=Nt,Yn=`${mn.packageName.toLowerCase()}://`;je().handleOpenURL=function(){var Ur=(0,l.Z)(function*(On){if(On.toLowerCase().startsWith(Yn)&&wt({url:On}),"function"==typeof Jt)try{Jt(On)}catch(xr){console.error(xr)}});return function(On){return Ur.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(se){var ue=this;return(0,l.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._initialize(se)})()}_openPopup(se,ue,Je,Nt){var mn=this;return(0,l.Z)(function*(){return yield mn.selectUnderlyingResolver(),mn.assertedUnderlyingResolver._openPopup(se,ue,Je,Nt)})()}_openRedirect(se,ue,Je,Nt){var mn=this;return(0,l.Z)(function*(){return yield mn.selectUnderlyingResolver(),mn.assertedUnderlyingResolver._openRedirect(se,ue,Je,Nt)})()}_isIframeWebStorageSupported(se,ue){this.assertedUnderlyingResolver._isIframeWebStorageSupported(se,ue)}_originValidation(se){return this.assertedUnderlyingResolver._originValidation(se)}get _shouldInitProactively(){return Ro()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var se=this;return(0,l.Z)(function*(){if(se.underlyingResolver)return;const ue=yield function Fo(){return Xt.apply(this,arguments)}();se.underlyingResolver=ue?se.cordovaResolver:se.browserResolver})()}}function gs(Se){return Se.unwrap()}function zi(Se){return ns(Se)}function ns(Se){const{_tokenResponse:se}=Se instanceof Me.ZR?Se.customData:Se;if(!se)return null;if(!(Se instanceof Me.ZR)&&"temporaryProof"in se&&"phoneNumber"in se)return H.P.credentialFromResult(Se);const ue=se.providerId;if(!ue||ue===H.o.PASSWORD)return null;let Je;switch(ue){case H.o.GOOGLE:Je=H.Q;break;case H.o.FACEBOOK:Je=H.N;break;case H.o.GITHUB:Je=H.T;break;case H.o.TWITTER:Je=H.W;break;default:const{oauthIdToken:Nt,oauthAccessToken:mn,oauthTokenSecret:yn,pendingToken:wt,nonce:Jt}=se;return mn||yn||Nt||wt?wt?ue.startsWith("saml.")?H.aL._create(ue,wt):H.J._fromParams({providerId:ue,signInMethod:ue,pendingToken:wt,idToken:Nt,accessToken:mn}):new H.U(ue).credential({idToken:Nt,accessToken:mn,rawNonce:Jt}):null}return Se instanceof Me.ZR?Je.credentialFromError(Se):Je.credentialFromResult(Se)}function Rn(Se,se){return se.catch(ue=>{throw ue instanceof Me.ZR&&function xn(Se,se){var ue,Je;const Nt=null===(ue=se.customData)||void 0===ue?void 0:ue._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Je=se)||void 0===Je?void 0:Je.code))se.resolver=new _e(Se,H.an(Se,se));else if(Nt){const mn=ns(se),yn=se;mn&&(yn.credential=mn,yn.tenantId=Nt.tenantId||void 0,yn.email=Nt.email||void 0,yn.phoneNumber=Nt.phoneNumber||void 0)}}(Se,ue),ue}).then(ue=>{const Nt=ue.user;return{operationType:ue.operationType,credential:zi(ue),additionalUserInfo:H.al(ue),user:ce.getOrCreate(Nt)}})}function Fs(Se,se){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(Se,se){const ue=yield se;return{verificationId:ue.verificationId,confirm:Je=>Rn(Se,ue.confirm(Je))}})).apply(this,arguments)}class _e{constructor(se,ue){this.resolver=ue,this.auth=function Oi(Se){return Se.wrapped()}(se)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(se){return Rn(gs(this.auth),this.resolver.resolveSignIn(se))}}class ce{constructor(se){this._delegate=se,this.multiFactor=H.ao(se)}static getOrCreate(se){return ce.USER_MAP.has(se)||ce.USER_MAP.set(se,new ce(se)),ce.USER_MAP.get(se)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(se){return this._delegate.getIdTokenResult(se)}getIdToken(se){return this._delegate.getIdToken(se)}linkAndRetrieveDataWithCredential(se){return this.linkWithCredential(se)}linkWithCredential(se){var ue=this;return(0,l.Z)(function*(){return Rn(ue.auth,H.Z(ue._delegate,se))})()}linkWithPhoneNumber(se,ue){var Je=this;return(0,l.Z)(function*(){return Fs(Je.auth,H.l(Je._delegate,se,ue))})()}linkWithPopup(se){var ue=this;return(0,l.Z)(function*(){return Rn(ue.auth,H.d(ue._delegate,se,Mn))})()}linkWithRedirect(se){var ue=this;return(0,l.Z)(function*(){return yield kr(H.aE(ue.auth)),H.g(ue._delegate,se,Mn)})()}reauthenticateAndRetrieveDataWithCredential(se){return this.reauthenticateWithCredential(se)}reauthenticateWithCredential(se){var ue=this;return(0,l.Z)(function*(){return Rn(ue.auth,H._(ue._delegate,se))})()}reauthenticateWithPhoneNumber(se,ue){return Fs(this.auth,H.r(this._delegate,se,ue))}reauthenticateWithPopup(se){return Rn(this.auth,H.e(this._delegate,se,Mn))}reauthenticateWithRedirect(se){var ue=this;return(0,l.Z)(function*(){return yield kr(H.aE(ue.auth)),H.h(ue._delegate,se,Mn)})()}sendEmailVerification(se){return H.ab(this._delegate,se)}unlink(se){var ue=this;return(0,l.Z)(function*(){return yield H.ak(ue._delegate,se),ue})()}updateEmail(se){return H.ag(this._delegate,se)}updatePassword(se){return H.ah(this._delegate,se)}updatePhoneNumber(se){return H.u(this._delegate,se)}updateProfile(se){return H.af(this._delegate,se)}verifyBeforeUpdateEmail(se,ue){return H.ac(this._delegate,se,ue)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ce.USER_MAP=new WeakMap;const ie=H.ax;let fe=(()=>{class Se{constructor(ue,Je){if(this.app=ue,Je.isInitialized())return this._delegate=Je.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Nt}=ue.options;ie(Nt,"invalid-api-key",{appName:ue.name}),ie(Nt,"invalid-api-key",{appName:ue.name});const mn=typeof window<"u"?Mn:void 0;this._delegate=Je.initialize({options:{persistence:at(Nt,ue.name),popupRedirectResolver:mn}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ce.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ue){this._delegate.languageCode=ue}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ue){this._delegate.tenantId=ue}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ue,Je){H.G(this._delegate,ue,Je)}applyActionCode(ue){return H.a2(this._delegate,ue)}checkActionCode(ue){return H.a3(this._delegate,ue)}confirmPasswordReset(ue,Je){return H.a1(this._delegate,ue,Je)}createUserWithEmailAndPassword(ue,Je){var Nt=this;return(0,l.Z)(function*(){return Rn(Nt._delegate,H.a5(Nt._delegate,ue,Je))})()}fetchProvidersForEmail(ue){return this.fetchSignInMethodsForEmail(ue)}fetchSignInMethodsForEmail(ue){return H.aa(this._delegate,ue)}isSignInWithEmailLink(ue){return H.a8(this._delegate,ue)}getRedirectResult(){var ue=this;return(0,l.Z)(function*(){ie(Xr(),ue._delegate,"operation-not-supported-in-this-environment");const Je=yield H.j(ue._delegate,Mn);return Je?Rn(ue._delegate,Promise.resolve(Je)):{credential:null,user:null}})()}addFrameworkForLogging(ue){!function Cr(Se,se){(0,H.aE)(Se)._logFramework(se)}(this._delegate,ue)}onAuthStateChanged(ue,Je,Nt){const{next:mn,error:yn,complete:wt}=pe(ue,Je,Nt);return this._delegate.onAuthStateChanged(mn,yn,wt)}onIdTokenChanged(ue,Je,Nt){const{next:mn,error:yn,complete:wt}=pe(ue,Je,Nt);return this._delegate.onIdTokenChanged(mn,yn,wt)}sendSignInLinkToEmail(ue,Je){return H.a7(this._delegate,ue,Je)}sendPasswordResetEmail(ue,Je){return H.a0(this._delegate,ue,Je||void 0)}setPersistence(ue){var Je=this;return(0,l.Z)(function*(){let Nt;switch(function la(Se,se){wr(Object.values(Qr).includes(se),Se,"invalid-persistence-type"),(0,Me.b$)()?wr(se!==Qr.SESSION,Se,"unsupported-persistence-type"):(0,Me.UG)()?wr(se===Qr.NONE,Se,"unsupported-persistence-type"):Rs()?wr(se===Qr.NONE||se===Qr.LOCAL&&(0,Me.hl)(),Se,"unsupported-persistence-type"):wr(se===Qr.NONE||Mo(),Se,"unsupported-persistence-type")}(Je._delegate,ue),ue){case Qr.SESSION:Nt=H.a;break;case Qr.LOCAL:Nt=(yield H.ay(H.i)._isAvailable())?H.i:H.b;break;case Qr.NONE:Nt=H.L;break;default:return H.at("argument-error",{appName:Je._delegate.name})}return Je._delegate.setPersistence(Nt)})()}signInAndRetrieveDataWithCredential(ue){return this.signInWithCredential(ue)}signInAnonymously(){return Rn(this._delegate,H.X(this._delegate))}signInWithCredential(ue){return Rn(this._delegate,H.Y(this._delegate,ue))}signInWithCustomToken(ue){return Rn(this._delegate,H.$(this._delegate,ue))}signInWithEmailAndPassword(ue,Je){return Rn(this._delegate,H.a6(this._delegate,ue,Je))}signInWithEmailLink(ue,Je){return Rn(this._delegate,H.a9(this._delegate,ue,Je))}signInWithPhoneNumber(ue,Je){return Fs(this._delegate,H.s(this._delegate,ue,Je))}signInWithPopup(ue){var Je=this;return(0,l.Z)(function*(){return ie(Xr(),Je._delegate,"operation-not-supported-in-this-environment"),Rn(Je._delegate,H.c(Je._delegate,ue,Mn))})()}signInWithRedirect(ue){var Je=this;return(0,l.Z)(function*(){return ie(Xr(),Je._delegate,"operation-not-supported-in-this-environment"),yield kr(Je._delegate),H.f(Je._delegate,ue,Mn)})()}updateCurrentUser(ue){return this._delegate.updateCurrentUser(ue)}verifyPasswordResetCode(ue){return H.a4(this._delegate,ue)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Se.Persistence=Qr,Se})();function pe(Se,se,ue){let Je=Se;"function"!=typeof Se&&({next:Je,error:se,complete:ue}=Se);const Nt=Je;return{next:yn=>Nt(yn&&ce.getOrCreate(yn)),error:se,complete:ue}}function at(Se,se){const ue=function Sr(Se,se){const ue=dn();if(!ue)return[];const Je=H.az($i,Se,se);switch(ue.getItem(Je)){case Qr.NONE:return[H.L];case Qr.LOCAL:return[H.i,H.a];case Qr.SESSION:return[H.a];default:return[]}}(Se,se);if(typeof self<"u"&&!ue.includes(H.i)&&ue.push(H.i),typeof window<"u")for(const Je of[H.b,H.a])ue.includes(Je)||ue.push(Je);return ue.includes(H.L)||ue.push(H.L),ue}class Ft{constructor(){this.providerId="phone",this._delegate=new H.P(gs(te.Z.auth()))}static credential(se,ue){return H.P.credential(se,ue)}verifyPhoneNumber(se,ue){return this._delegate.verifyPhoneNumber(se,ue)}unwrap(){return this._delegate}}Ft.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,Ft.PROVIDER_ID=H.P.PROVIDER_ID;const vn=H.ax;class mr{constructor(se,ue,Je=te.Z.app()){var Nt;vn(null===(Nt=Je.options)||void 0===Nt?void 0:Nt.apiKey,"invalid-api-key",{appName:Je.name}),this._delegate=new H.R(se,ue,Je.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fi(Se){Se.INTERNAL.registerComponent(new Fe.wA("auth-compat",se=>{const ue=se.getProvider("app-compat").getImmediate(),Je=se.getProvider("auth");return new fe(ue,Je)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:Ft,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:mr,TwitterAuthProvider:H.W,Auth:fe,AuthCredential:H.H,Error:Me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Se.registerVersion("@firebase/auth-compat","0.2.19")}(te.Z)},9751:(ln,ct,z)=>{z.d(ct,{y:()=>je});var l=z(930),te=z(727),H=z(8822),Me=z(9635),Pe=z(2416),qe=z(576),Fe=z(2806);let je=(()=>{class be{constructor(_t){_t&&(this._subscribe=_t)}lift(_t){const nt=new be;return nt.source=this,nt.operator=_t,nt}subscribe(_t,nt,en){const et=function he(be){return be&&be instanceof l.Lv||function de(be){return be&&(0,qe.m)(be.next)&&(0,qe.m)(be.error)&&(0,qe.m)(be.complete)}(be)&&(0,te.Nn)(be)}(_t)?_t:new l.Hp(_t,nt,en);return(0,Fe.x)(()=>{const{operator:We,source:qt}=this;et.add(We?We.call(et,qt):qt?this._subscribe(et):this._trySubscribe(et))}),et}_trySubscribe(_t){try{return this._subscribe(_t)}catch(nt){_t.error(nt)}}forEach(_t,nt){return new(nt=Qe(nt))((en,et)=>{const We=new l.Hp({next:qt=>{try{_t(qt)}catch(Yt){et(Yt),We.unsubscribe()}},error:et,complete:en});this.subscribe(We)})}_subscribe(_t){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(_t)}[H.L](){return this}pipe(..._t){return(0,Me.U)(_t)(this)}toPromise(_t){return new(_t=Qe(_t))((nt,en)=>{let et;this.subscribe(We=>et=We,We=>en(We),()=>nt(et))})}}return be.create=kt=>new be(kt),be})();function Qe(be){var kt;return null!==(kt=be??Pe.v.Promise)&&void 0!==kt?kt:Promise}},7579:(ln,ct,z)=>{z.d(ct,{x:()=>Fe});var l=z(9751),te=z(727);const Me=(0,z(3888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=z(8737),qe=z(2806);let Fe=(()=>{class Qe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const be=new je(this,this);return be.operator=he,be}_throwIfClosed(){if(this.closed)throw new Me}next(he){(0,qe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(he)}})}error(he){(0,qe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:be}=this;for(;be.length;)be.shift().error(he)}})}complete(){(0,qe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:be,isStopped:kt,observers:_t}=this;return be||kt?te.Lc:(this.currentObservers=null,_t.push(he),new te.w0(()=>{this.currentObservers=null,(0,Pe.P)(_t,he)}))}_checkFinalizedStatuses(he){const{hasError:be,thrownError:kt,isStopped:_t}=this;be?he.error(kt):_t&&he.complete()}asObservable(){const he=new l.y;return he.source=this,he}}return Qe.create=(de,he)=>new je(de,he),Qe})();class je extends Fe{constructor(de,he){super(),this.destination=de,this.source=he}next(de){var he,be;null===(be=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===be||be.call(he,de)}error(de){var he,be;null===(be=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===be||be.call(he,de)}complete(){var de,he;null===(he=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===he||he.call(de)}_subscribe(de){var he,be;return null!==(be=null===(he=this.source)||void 0===he?void 0:he.subscribe(de))&&void 0!==be?be:te.Lc}}},930:(ln,ct,z)=>{z.d(ct,{Hp:()=>en,Lv:()=>be});var l=z(576),te=z(727),H=z(2416),Me=z(7849),Pe=z(5032);const qe=Qe("C",void 0,void 0);function Qe(vt,ft,rt){return{kind:vt,value:ft,error:rt}}var de=z(3410),he=z(2806);class be extends te.w0{constructor(ft){super(),this.isStopped=!1,ft?(this.destination=ft,(0,te.Nn)(ft)&&ft.add(this)):this.destination=Yt}static create(ft,rt,Vt){return new en(ft,rt,Vt)}next(ft){this.isStopped?qt(function je(vt){return Qe("N",vt,void 0)}(ft),this):this._next(ft)}error(ft){this.isStopped?qt(function Fe(vt){return Qe("E",void 0,vt)}(ft),this):(this.isStopped=!0,this._error(ft))}complete(){this.isStopped?qt(qe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ft){this.destination.next(ft)}_error(ft){try{this.destination.error(ft)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const kt=Function.prototype.bind;function _t(vt,ft){return kt.call(vt,ft)}class nt{constructor(ft){this.partialObserver=ft}next(ft){const{partialObserver:rt}=this;if(rt.next)try{rt.next(ft)}catch(Vt){et(Vt)}}error(ft){const{partialObserver:rt}=this;if(rt.error)try{rt.error(ft)}catch(Vt){et(Vt)}else et(ft)}complete(){const{partialObserver:ft}=this;if(ft.complete)try{ft.complete()}catch(rt){et(rt)}}}class en extends be{constructor(ft,rt,Vt){let ke;if(super(),(0,l.m)(ft)||!ft)ke={next:ft??void 0,error:rt??void 0,complete:Vt??void 0};else{let Le;this&&H.v.useDeprecatedNextContext?(Le=Object.create(ft),Le.unsubscribe=()=>this.unsubscribe(),ke={next:ft.next&&_t(ft.next,Le),error:ft.error&&_t(ft.error,Le),complete:ft.complete&&_t(ft.complete,Le)}):ke=ft}this.destination=new nt(ke)}}function et(vt){H.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(vt):(0,Me.h)(vt)}function qt(vt,ft){const{onStoppedNotification:rt}=H.v;rt&&de.z.setTimeout(()=>rt(vt,ft))}const Yt={closed:!0,next:Pe.Z,error:function We(vt){throw vt},complete:Pe.Z}},727:(ln,ct,z)=>{z.d(ct,{Lc:()=>qe,w0:()=>Pe,Nn:()=>Fe});var l=z(576);const H=(0,z(3888).d)(Qe=>function(he){Qe(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((be,kt)=>`${kt+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var Me=z(8737);class Pe{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const _t of he)_t.remove(this);else he.remove(this);const{initialTeardown:be}=this;if((0,l.m)(be))try{be()}catch(_t){de=_t instanceof H?_t.errors:[_t]}const{_finalizers:kt}=this;if(kt){this._finalizers=null;for(const _t of kt)try{je(_t)}catch(nt){de=de??[],nt instanceof H?de=[...de,...nt.errors]:de.push(nt)}}if(de)throw new H(de)}}add(de){var he;if(de&&de!==this)if(this.closed)je(de);else{if(de instanceof Pe){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(de)}}_hasParent(de){const{_parentage:he}=this;return he===de||Array.isArray(he)&&he.includes(de)}_addParent(de){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(de),he):he?[he,de]:de}_removeParent(de){const{_parentage:he}=this;he===de?this._parentage=null:Array.isArray(he)&&(0,Me.P)(he,de)}remove(de){const{_finalizers:he}=this;he&&(0,Me.P)(he,de),de instanceof Pe&&de._removeParent(this)}}Pe.EMPTY=(()=>{const Qe=new Pe;return Qe.closed=!0,Qe})();const qe=Pe.EMPTY;function Fe(Qe){return Qe instanceof Pe||Qe&&"closed"in Qe&&(0,l.m)(Qe.remove)&&(0,l.m)(Qe.add)&&(0,l.m)(Qe.unsubscribe)}function je(Qe){(0,l.m)(Qe)?Qe():Qe.unsubscribe()}},2416:(ln,ct,z)=>{z.d(ct,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ln,ct,z)=>{z.d(ct,{E:()=>te});const te=new(z(9751).y)(Pe=>Pe.complete())},8996:(ln,ct,z)=>{z.d(ct,{D:()=>ft});var l=z(8421),te=z(5363),H=z(9468),qe=z(9751),je=z(2202),Qe=z(576),de=z(9672);function be(rt,Vt){if(!rt)throw new Error("Iterable cannot be null");return new qe.y(ke=>{(0,de.f)(ke,Vt,()=>{const Le=rt[Symbol.asyncIterator]();(0,de.f)(ke,Vt,()=>{Le.next().then(Xe=>{Xe.done?ke.complete():ke.next(Xe.value)})},0,!0)})})}var kt=z(3670),_t=z(8239),nt=z(1144),en=z(6495),et=z(2206),We=z(4532),qt=z(3260);function ft(rt,Vt){return Vt?function vt(rt,Vt){if(null!=rt){if((0,kt.c)(rt))return function Me(rt,Vt){return(0,l.Xf)(rt).pipe((0,H.R)(Vt),(0,te.Q)(Vt))}(rt,Vt);if((0,nt.z)(rt))return function Fe(rt,Vt){return new qe.y(ke=>{let Le=0;return Vt.schedule(function(){Le===rt.length?ke.complete():(ke.next(rt[Le++]),ke.closed||this.schedule())})})}(rt,Vt);if((0,_t.t)(rt))return function Pe(rt,Vt){return(0,l.Xf)(rt).pipe((0,H.R)(Vt),(0,te.Q)(Vt))}(rt,Vt);if((0,et.D)(rt))return be(rt,Vt);if((0,en.T)(rt))return function he(rt,Vt){return new qe.y(ke=>{let Le;return(0,de.f)(ke,Vt,()=>{Le=rt[je.h](),(0,de.f)(ke,Vt,()=>{let Xe,ye;try{({value:Xe,done:ye}=Le.next())}catch(Ce){return void ke.error(Ce)}ye?ke.complete():ke.next(Xe)},0,!0)}),()=>(0,Qe.m)(Le?.return)&&Le.return()})}(rt,Vt);if((0,qt.L)(rt))return function Yt(rt,Vt){return be((0,qt.Q)(rt),Vt)}(rt,Vt)}throw(0,We.z)(rt)}(rt,Vt):(0,l.Xf)(rt)}},8421:(ln,ct,z)=>{z.d(ct,{Xf:()=>kt});var l=z(655),te=z(1144),H=z(8239),Me=z(9751),Pe=z(3670),qe=z(2206),Fe=z(4532),je=z(6495),Qe=z(3260),de=z(576),he=z(7849),be=z(8822);function kt(vt){if(vt instanceof Me.y)return vt;if(null!=vt){if((0,Pe.c)(vt))return function _t(vt){return new Me.y(ft=>{const rt=vt[be.L]();if((0,de.m)(rt.subscribe))return rt.subscribe(ft);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(vt);if((0,te.z)(vt))return function nt(vt){return new Me.y(ft=>{for(let rt=0;rt<vt.length&&!ft.closed;rt++)ft.next(vt[rt]);ft.complete()})}(vt);if((0,H.t)(vt))return function en(vt){return new Me.y(ft=>{vt.then(rt=>{ft.closed||(ft.next(rt),ft.complete())},rt=>ft.error(rt)).then(null,he.h)})}(vt);if((0,qe.D)(vt))return We(vt);if((0,je.T)(vt))return function et(vt){return new Me.y(ft=>{for(const rt of vt)if(ft.next(rt),ft.closed)return;ft.complete()})}(vt);if((0,Qe.L)(vt))return function qt(vt){return We((0,Qe.Q)(vt))}(vt)}throw(0,Fe.z)(vt)}function We(vt){return new Me.y(ft=>{(function Yt(vt,ft){var rt,Vt,ke,Le;return(0,l.mG)(this,void 0,void 0,function*(){try{for(rt=(0,l.KL)(vt);!(Vt=yield rt.next()).done;)if(ft.next(Vt.value),ft.closed)return}catch(Xe){ke={error:Xe}}finally{try{Vt&&!Vt.done&&(Le=rt.return)&&(yield Le.call(rt))}finally{if(ke)throw ke.error}}ft.complete()})})(vt,ft).catch(rt=>ft.error(rt))})}},6451:(ln,ct,z)=>{z.d(ct,{T:()=>qe});var l=z(8189),te=z(8421),H=z(515),Me=z(3269),Pe=z(8996);function qe(...Fe){const je=(0,Me.yG)(Fe),Qe=(0,Me._6)(Fe,1/0),de=Fe;return de.length?1===de.length?(0,te.Xf)(de[0]):(0,l.J)(Qe)((0,Pe.D)(de,je)):H.E}},5403:(ln,ct,z)=>{z.d(ct,{x:()=>te});var l=z(930);function te(Me,Pe,qe,Fe,je){return new H(Me,Pe,qe,Fe,je)}class H extends l.Lv{constructor(Pe,qe,Fe,je,Qe,de){super(Pe),this.onFinalize=Qe,this.shouldUnsubscribe=de,this._next=qe?function(he){try{qe(he)}catch(be){Pe.error(be)}}:super._next,this._error=je?function(he){try{je(he)}catch(be){Pe.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Fe?function(){try{Fe()}catch(he){Pe.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:qe}=this;super.unsubscribe(),!qe&&(null===(Pe=this.onFinalize)||void 0===Pe||Pe.call(this))}}}},4004:(ln,ct,z)=>{z.d(ct,{U:()=>H});var l=z(4482),te=z(5403);function H(Me,Pe){return(0,l.e)((qe,Fe)=>{let je=0;qe.subscribe((0,te.x)(Fe,Qe=>{Fe.next(Me.call(Pe,Qe,je++))}))})}},8189:(ln,ct,z)=>{z.d(ct,{J:()=>H});var l=z(5577),te=z(4671);function H(Me=1/0){return(0,l.z)(te.y,Me)}},5577:(ln,ct,z)=>{z.d(ct,{z:()=>je});var l=z(4004),te=z(8421),H=z(4482),Me=z(9672),Pe=z(5403),Fe=z(576);function je(Qe,de,he=1/0){return(0,Fe.m)(de)?je((be,kt)=>(0,l.U)((_t,nt)=>de(be,_t,kt,nt))((0,te.Xf)(Qe(be,kt))),he):("number"==typeof de&&(he=de),(0,H.e)((be,kt)=>function qe(Qe,de,he,be,kt,_t,nt,en){const et=[];let We=0,qt=0,Yt=!1;const vt=()=>{Yt&&!et.length&&!We&&de.complete()},ft=Vt=>We<be?rt(Vt):et.push(Vt),rt=Vt=>{_t&&de.next(Vt),We++;let ke=!1;(0,te.Xf)(he(Vt,qt++)).subscribe((0,Pe.x)(de,Le=>{kt?.(Le),_t?ft(Le):de.next(Le)},()=>{ke=!0},void 0,()=>{if(ke)try{for(We--;et.length&&We<be;){const Le=et.shift();nt?(0,Me.f)(de,nt,()=>rt(Le)):rt(Le)}vt()}catch(Le){de.error(Le)}}))};return Qe.subscribe((0,Pe.x)(de,ft,()=>{Yt=!0,vt()})),()=>{en?.()}}(be,kt,Qe,he)))}},5363:(ln,ct,z)=>{z.d(ct,{Q:()=>Me});var l=z(9672),te=z(4482),H=z(5403);function Me(Pe,qe=0){return(0,te.e)((Fe,je)=>{Fe.subscribe((0,H.x)(je,Qe=>(0,l.f)(je,Pe,()=>je.next(Qe),qe),()=>(0,l.f)(je,Pe,()=>je.complete(),qe),Qe=>(0,l.f)(je,Pe,()=>je.error(Qe),qe)))})}},3099:(ln,ct,z)=>{z.d(ct,{B:()=>Pe});var l=z(8421),te=z(7579),H=z(930),Me=z(4482);function Pe(Fe={}){const{connector:je=(()=>new te.x),resetOnError:Qe=!0,resetOnComplete:de=!0,resetOnRefCountZero:he=!0}=Fe;return be=>{let kt,_t,nt,en=0,et=!1,We=!1;const qt=()=>{_t?.unsubscribe(),_t=void 0},Yt=()=>{qt(),kt=nt=void 0,et=We=!1},vt=()=>{const ft=kt;Yt(),ft?.unsubscribe()};return(0,Me.e)((ft,rt)=>{en++,!We&&!et&&qt();const Vt=nt=nt??je();rt.add(()=>{en--,0===en&&!We&&!et&&(_t=qe(vt,he))}),Vt.subscribe(rt),!kt&&en>0&&(kt=new H.Hp({next:ke=>Vt.next(ke),error:ke=>{We=!0,qt(),_t=qe(Yt,Qe,ke),Vt.error(ke)},complete:()=>{et=!0,qt(),_t=qe(Yt,de),Vt.complete()}}),(0,l.Xf)(ft).subscribe(kt))})(be)}}function qe(Fe,je,...Qe){if(!0===je)return void Fe();if(!1===je)return;const de=new H.Hp({next:()=>{de.unsubscribe(),Fe()}});return je(...Qe).subscribe(de)}},9468:(ln,ct,z)=>{z.d(ct,{R:()=>te});var l=z(4482);function te(H,Me=0){return(0,l.e)((Pe,qe)=>{qe.add(H.schedule(()=>Pe.subscribe(qe),Me))})}},8505:(ln,ct,z)=>{z.d(ct,{b:()=>Pe});var l=z(576),te=z(4482),H=z(5403),Me=z(4671);function Pe(qe,Fe,je){const Qe=(0,l.m)(qe)||Fe||je?{next:qe,error:Fe,complete:je}:qe;return Qe?(0,te.e)((de,he)=>{var be;null===(be=Qe.subscribe)||void 0===be||be.call(Qe);let kt=!0;de.subscribe((0,H.x)(he,_t=>{var nt;null===(nt=Qe.next)||void 0===nt||nt.call(Qe,_t),he.next(_t)},()=>{var _t;kt=!1,null===(_t=Qe.complete)||void 0===_t||_t.call(Qe),he.complete()},_t=>{var nt;kt=!1,null===(nt=Qe.error)||void 0===nt||nt.call(Qe,_t),he.error(_t)},()=>{var _t,nt;kt&&(null===(_t=Qe.unsubscribe)||void 0===_t||_t.call(Qe)),null===(nt=Qe.finalize)||void 0===nt||nt.call(Qe)}))}):Me.y}},4408:(ln,ct,z)=>{z.d(ct,{o:()=>Pe});var l=z(727);class te extends l.w0{constructor(Fe,je){super()}schedule(Fe,je=0){return this}}const H={setInterval(qe,Fe,...je){const{delegate:Qe}=H;return Qe?.setInterval?Qe.setInterval(qe,Fe,...je):setInterval(qe,Fe,...je)},clearInterval(qe){const{delegate:Fe}=H;return(Fe?.clearInterval||clearInterval)(qe)},delegate:void 0};var Me=z(8737);class Pe extends te{constructor(Fe,je){super(Fe,je),this.scheduler=Fe,this.work=je,this.pending=!1}schedule(Fe,je=0){if(this.closed)return this;this.state=Fe;const Qe=this.id,de=this.scheduler;return null!=Qe&&(this.id=this.recycleAsyncId(de,Qe,je)),this.pending=!0,this.delay=je,this.id=this.id||this.requestAsyncId(de,this.id,je),this}requestAsyncId(Fe,je,Qe=0){return H.setInterval(Fe.flush.bind(Fe,this),Qe)}recycleAsyncId(Fe,je,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return je;H.clearInterval(je)}execute(Fe,je){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(Fe,je);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Fe,je){let de,Qe=!1;try{this.work(Fe)}catch(he){Qe=!0,de=he||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:Fe,scheduler:je}=this,{actions:Qe}=je;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Me.P)(Qe,this),null!=Fe&&(this.id=this.recycleAsyncId(je,Fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ln,ct,z)=>{z.d(ct,{v:()=>H});var l=z(6063);class te{constructor(Pe,qe=te.now){this.schedulerActionCtor=Pe,this.now=qe}schedule(Pe,qe=0,Fe){return new this.schedulerActionCtor(this,Pe).schedule(Fe,qe)}}te.now=l.l.now;class H extends te{constructor(Pe,qe=te.now){super(Pe,qe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Pe){const{actions:qe}=this;if(this._active)return void qe.push(Pe);let Fe;this._active=!0;do{if(Fe=Pe.execute(Pe.state,Pe.delay))break}while(Pe=qe.shift());if(this._active=!1,Fe){for(;Pe=qe.shift();)Pe.unsubscribe();throw Fe}}}},4986:(ln,ct,z)=>{z.d(ct,{P:()=>Me,z:()=>H});var l=z(4408);const H=new(z(7565).v)(l.o),Me=H},6063:(ln,ct,z)=>{z.d(ct,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ln,ct,z)=>{z.d(ct,{z:()=>l});const l={setTimeout(te,H,...Me){const{delegate:Pe}=l;return Pe?.setTimeout?Pe.setTimeout(te,H,...Me):setTimeout(te,H,...Me)},clearTimeout(te){const{delegate:H}=l;return(H?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(ln,ct,z)=>{z.d(ct,{h:()=>te});const te=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ln,ct,z)=>{z.d(ct,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ln,ct,z)=>{z.d(ct,{_6:()=>qe,jO:()=>Me,yG:()=>Pe});var l=z(576),te=z(3532);function H(Fe){return Fe[Fe.length-1]}function Me(Fe){return(0,l.m)(H(Fe))?Fe.pop():void 0}function Pe(Fe){return(0,te.K)(H(Fe))?Fe.pop():void 0}function qe(Fe,je){return"number"==typeof H(Fe)?Fe.pop():je}},8737:(ln,ct,z)=>{function l(te,H){if(te){const Me=te.indexOf(H);0<=Me&&te.splice(Me,1)}}z.d(ct,{P:()=>l})},3888:(ln,ct,z)=>{function l(te){const Me=te(Pe=>{Error.call(Pe),Pe.stack=(new Error).stack});return Me.prototype=Object.create(Error.prototype),Me.prototype.constructor=Me,Me}z.d(ct,{d:()=>l})},2806:(ln,ct,z)=>{z.d(ct,{O:()=>Me,x:()=>H});var l=z(2416);let te=null;function H(Pe){if(l.v.useDeprecatedSynchronousErrorHandling){const qe=!te;if(qe&&(te={errorThrown:!1,error:null}),Pe(),qe){const{errorThrown:Fe,error:je}=te;if(te=null,Fe)throw je}}else Pe()}function Me(Pe){l.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=Pe)}},9672:(ln,ct,z)=>{function l(te,H,Me,Pe=0,qe=!1){const Fe=H.schedule(function(){Me(),qe?te.add(this.schedule(null,Pe)):this.unsubscribe()},Pe);if(te.add(Fe),!qe)return Fe}z.d(ct,{f:()=>l})},4671:(ln,ct,z)=>{function l(te){return te}z.d(ct,{y:()=>l})},1144:(ln,ct,z)=>{z.d(ct,{z:()=>l});const l=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(ln,ct,z)=>{z.d(ct,{D:()=>te});var l=z(576);function te(H){return Symbol.asyncIterator&&(0,l.m)(H?.[Symbol.asyncIterator])}},576:(ln,ct,z)=>{function l(te){return"function"==typeof te}z.d(ct,{m:()=>l})},3670:(ln,ct,z)=>{z.d(ct,{c:()=>H});var l=z(8822),te=z(576);function H(Me){return(0,te.m)(Me[l.L])}},6495:(ln,ct,z)=>{z.d(ct,{T:()=>H});var l=z(2202),te=z(576);function H(Me){return(0,te.m)(Me?.[l.h])}},8239:(ln,ct,z)=>{z.d(ct,{t:()=>te});var l=z(576);function te(H){return(0,l.m)(H?.then)}},3260:(ln,ct,z)=>{z.d(ct,{L:()=>Me,Q:()=>H});var l=z(655),te=z(576);function H(Pe){return(0,l.FC)(this,arguments,function*(){const Fe=Pe.getReader();try{for(;;){const{value:je,done:Qe}=yield(0,l.qq)(Fe.read());if(Qe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(je)}}finally{Fe.releaseLock()}})}function Me(Pe){return(0,te.m)(Pe?.getReader)}},3532:(ln,ct,z)=>{z.d(ct,{K:()=>te});var l=z(576);function te(H){return H&&(0,l.m)(H.schedule)}},4482:(ln,ct,z)=>{z.d(ct,{A:()=>te,e:()=>H});var l=z(576);function te(Me){return(0,l.m)(Me?.lift)}function H(Me){return Pe=>{if(te(Pe))return Pe.lift(function(qe){try{return Me(qe,this)}catch(Fe){this.error(Fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ln,ct,z)=>{function l(){}z.d(ct,{Z:()=>l})},9635:(ln,ct,z)=>{z.d(ct,{U:()=>H,z:()=>te});var l=z(4671);function te(...Me){return H(Me)}function H(Me){return 0===Me.length?l.y:1===Me.length?Me[0]:function(qe){return Me.reduce((Fe,je)=>je(Fe),qe)}}},7849:(ln,ct,z)=>{z.d(ct,{h:()=>H});var l=z(2416),te=z(3410);function H(Me){te.z.setTimeout(()=>{const{onUnhandledError:Pe}=l.v;if(!Pe)throw Me;Pe(Me)})}},4532:(ln,ct,z)=>{function l(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(ct,{z:()=>l})},655:(ln,ct,z)=>{function Me(ye,Ce){var $e={};for(var Re in ye)Object.prototype.hasOwnProperty.call(ye,Re)&&Ce.indexOf(Re)<0&&($e[Re]=ye[Re]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var Et=0;for(Re=Object.getOwnPropertySymbols(ye);Et<Re.length;Et++)Ce.indexOf(Re[Et])<0&&Object.prototype.propertyIsEnumerable.call(ye,Re[Et])&&($e[Re[Et]]=ye[Re[Et]])}return $e}function je(ye,Ce,$e,Re){return new($e||($e=Promise))(function(Ct,pn){function rr(Cr){try{Bt(Re.next(Cr))}catch(Kr){pn(Kr)}}function Zn(Cr){try{Bt(Re.throw(Cr))}catch(Kr){pn(Kr)}}function Bt(Cr){Cr.done?Ct(Cr.value):function Et(Ct){return Ct instanceof $e?Ct:new $e(function(pn){pn(Ct)})}(Cr.value).then(rr,Zn)}Bt((Re=Re.apply(ye,Ce||[])).next())})}function et(ye){return this instanceof et?(this.v=ye,this):new et(ye)}function We(ye,Ce,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,Re=$e.apply(ye,Ce||[]),Ct=[];return Et={},pn("next"),pn("throw"),pn("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function pn(dr){Re[dr]&&(Et[dr]=function(ar){return new Promise(function($n,Bn){Ct.push([dr,ar,$n,Bn])>1||rr(dr,ar)})})}function rr(dr,ar){try{!function Zn(dr){dr.value instanceof et?Promise.resolve(dr.value.v).then(Bt,Cr):Kr(Ct[0][2],dr)}(Re[dr](ar))}catch($n){Kr(Ct[0][3],$n)}}function Bt(dr){rr("next",dr)}function Cr(dr){rr("throw",dr)}function Kr(dr,ar){dr(ar),Ct.shift(),Ct.length&&rr(Ct[0][0],Ct[0][1])}}function Yt(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Ce=ye[Symbol.asyncIterator];return Ce?Ce.call(ye):(ye=function be(ye){var Ce="function"==typeof Symbol&&Symbol.iterator,$e=Ce&&ye[Ce],Re=0;if($e)return $e.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Re>=ye.length&&(ye=void 0),{value:ye&&ye[Re++],done:!ye}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),$e={},Re("next"),Re("throw"),Re("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function Re(Ct){$e[Ct]=ye[Ct]&&function(pn){return new Promise(function(rr,Zn){!function Et(Ct,pn,rr,Zn){Promise.resolve(Zn).then(function(Bt){Ct({value:Bt,done:rr})},pn)}(rr,Zn,(pn=ye[Ct](pn)).done,pn.value)})}}}z.d(ct,{FC:()=>We,KL:()=>Yt,_T:()=>Me,mG:()=>je,qq:()=>et})},4650:(ln,ct,z)=>{z.d(ct,{$8M:()=>ud,$Z:()=>Ek,AFp:()=>ab,AaK:()=>je,AsE:()=>n0,BQk:()=>Fv,CHM:()=>Fm,CRH:()=>KS,CZH:()=>Dy,CqO:()=>Ov,D6c:()=>Yo,EJc:()=>dR,EpF:()=>ro,F$t:()=>Tp,F4k:()=>Kw,FYo:()=>Z1,FiY:()=>Pt,G48:()=>Ld,Gf:()=>qS,GfV:()=>W1,Gpc:()=>he,Hsn:()=>Qw,Ikx:()=>gx,JOm:()=>Iu,KtG:()=>ec,LFG:()=>ii,LSH:()=>gC,Lbi:()=>Vn,Lck:()=>LS,MAs:()=>Ka,MMx:()=>ay,NdJ:()=>Sp,O4$:()=>ph,OlP:()=>Mr,Oqu:()=>sS,PXZ:()=>mT,Q6J:()=>Cp,QGY:()=>Dp,QP$:()=>Nt,QbO:()=>ui,Qsj:()=>$I,R0b:()=>ds,RDi:()=>fC,Rgc:()=>Hp,SBq:()=>dg,Sil:()=>af,Suo:()=>YS,TTD:()=>La,TgZ:()=>Iv,Udp:()=>Ip,VKq:()=>py,WFA:()=>Xg,X6Q:()=>N0,XFs:()=>Xt,Xpm:()=>fe,Xts:()=>B1,Y36:()=>Ag,YKP:()=>so,YNc:()=>OD,Yjl:()=>Se,Yz7:()=>ar,Z0I:()=>Gl,ZZ4:()=>Py,_Bn:()=>Lp,_UZ:()=>Mv,_Vd:()=>ug,_c5:()=>Db,_uU:()=>iS,aQg:()=>Ny,c2e:()=>An,cJS:()=>Bn,cg1:()=>kp,d8E:()=>zv,dDg:()=>vb,dqk:()=>Mn,eFA:()=>_T,ekj:()=>rx,eoX:()=>pT,f3M:()=>M,g9A:()=>cb,h0i:()=>Yh,hGG:()=>tm,hij:()=>ox,iGM:()=>Qx,ifc:()=>hn,ip1:()=>dT,jDz:()=>Vp,kL8:()=>Mp,kcU:()=>Bf,lG2:()=>fi,lnq:()=>oS,lqb:()=>yd,lri:()=>Rd,n5z:()=>ja,oAB:()=>vn,oxw:()=>BD,q4F:()=>ZI,qLn:()=>pg,qOj:()=>Zw,qZA:()=>kv,rWj:()=>_b,s9C:()=>Ap,sBO:()=>lf,sIi:()=>jg,s_b:()=>x0,soG:()=>ir,tb:()=>sf,tp0:()=>En,uIk:()=>Yw,vHH:()=>nt,vpe:()=>qo,wAp:()=>Sn,xp6:()=>XC,ynx:()=>Rv,z2F:()=>Pd,zSh:()=>ag,zs3:()=>xo});var l=z(7579),te=z(727),H=z(9751),Me=z(6451),Pe=z(3099);function qe(a){for(let c in a)if(a[c]===qe)return c;throw Error("Could not find renamed property on target object.")}function Fe(a,c){for(const d in c)c.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=c[d])}function je(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(je).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Qe(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const de=qe({__forward_ref__:qe});function he(a){return a.__forward_ref__=he,a.toString=function(){return je(this())},a}function be(a){return kt(a)?a():a}function kt(a){return"function"==typeof a&&a.hasOwnProperty(de)&&a.__forward_ref__===he}class nt extends Error{constructor(c,d){super(function en(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}(c,d)),this.code=c}}function et(a){return"string"==typeof a?a:null==a?"":String(a)}function ft(a,c){throw new nt(-201,!1)}function Zn(a,c){null==a&&function Bt(a,c,d,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${d} ${f} ${c} <=Actual]`))}(c,a,null,"!=")}function ar(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Bn(a){return{providers:a.providers||[],imports:a.imports||[]}}function ji(a){return Gi(a,Rs)||Gi(a,Ro)}function Gl(a){return null!==ji(a)}function Gi(a,c){return a.hasOwnProperty(c)?a[c]:null}function Mo(a){return a&&(a.hasOwnProperty(Xr)||a.hasOwnProperty(Fo))?a[Xr]:null}const Rs=qe({\u0275prov:qe}),Xr=qe({\u0275inj:qe}),Ro=qe({ngInjectableDef:qe}),Fo=qe({ngInjectorDef:qe});var Xt=(()=>((Xt=Xt||{})[Xt.Default=0]="Default",Xt[Xt.Host=1]="Host",Xt[Xt.Self=2]="Self",Xt[Xt.SkipSelf=4]="SkipSelf",Xt[Xt.Optional=8]="Optional",Xt))();let Fi;function wr(a){const c=Fi;return Fi=a,c}function $i(a,c,d){const f=ji(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&Xt.Optional?null:void 0!==c?c:void ft(je(a))}function kr(a){return{toString:a}.toString()}var Rr=(()=>((Rr=Rr||{})[Rr.OnPush=0]="OnPush",Rr[Rr.Default=1]="Default",Rr))(),hn=(()=>{return(a=hn||(hn={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",hn;var a})();const Mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zi={},xn=[],ns=qe({\u0275cmp:qe}),Rn=qe({\u0275dir:qe}),Fs=qe({\u0275pipe:qe}),Wn=qe({\u0275mod:qe}),_e=qe({\u0275fac:qe}),ce=qe({__NG_ELEMENT_ID__:qe});let ie=0;function fe(a){return kr(()=>{const d=!0===a.standalone,f={},m={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Rr.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||xn,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||hn.Emulated,id:"c"+ie++,styles:a.styles||xn,_:null,setInput:null,schemas:a.schemas||null,tView:null},_=a.dependencies,x=a.features;return m.inputs=hr(a.inputs,f),m.outputs=hr(a.outputs),x&&x.forEach(C=>C(m)),m.directiveDefs=_?()=>("function"==typeof _?_():_).map(at).filter(Ft):null,m.pipeDefs=_?()=>("function"==typeof _?_():_).map(Je).filter(Ft):null,m})}function at(a){return se(a)||ue(a)}function Ft(a){return null!==a}function vn(a){return kr(()=>({type:a.type,bootstrap:a.bootstrap||xn,declarations:a.declarations||xn,imports:a.imports||xn,exports:a.exports||xn,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function hr(a,c){if(null==a)return zi;const d={};for(const f in a)if(a.hasOwnProperty(f)){let m=a[f],_=m;Array.isArray(m)&&(_=m[1],m=m[0]),d[m]=f,c&&(c[m]=_)}return d}const fi=fe;function Se(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function se(a){return a[ns]||null}function ue(a){return a[Rn]||null}function Je(a){return a[Fs]||null}function Nt(a){const c=se(a)||ue(a)||Je(a);return null!==c&&c.standalone}function mn(a,c){const d=a[Wn]||null;if(!d&&!0===c)throw new Error(`Type ${je(a)} does not have '\u0275mod' property.`);return d}function pi(a){return Array.isArray(a)&&"object"==typeof a[1]}function Ks(a){return Array.isArray(a)&&!0===a[1]}function Na(a){return 0!=(8&a.flags)}function Kc(a){return 2==(2&a.flags)}function Xc(a){return 1==(1&a.flags)}function Ps(a){return null!==a.template}function oh(a){return 0!=(256&a[2])}function Zi(a,c){return a.hasOwnProperty(_e)?a[_e]:null}class Yl{constructor(c,d,f){this.previousValue=c,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function La(){return If}function If(a){return a.type.prototype.ngOnChanges&&(a.setInput=lh),Ju}function Ju(){const a=Kl(this),c=a?.current;if(c){const d=a.previous;if(d===zi)a.previous=c;else for(let f in c)d[f]=c[f];a.current=null,this.ngOnChanges(c)}}function lh(a,c,d,f){const m=Kl(a)||function Mf(a,c){return a[kf]=c}(a,{previous:zi,current:null}),_=m.current||(m.current={}),x=m.previous,C=this.declaredInputs[d],I=x[C];_[C]=new Yl(I&&I.currentValue,c,x===zi),a[f]=c}La.ngInherit=!0;const kf="__ngSimpleChanges__";function Kl(a){return a[kf]||null}function Zr(a){for(;Array.isArray(a);)a=a[0];return a}function _o(a,c){return Zr(c[a])}function Wi(a,c){return Zr(c[a.index])}function Ql(a,c){return a.data[c]}function lr(a,c){const d=c[a];return pi(d)?d:d[0]}function td(a){return 4==(4&a[2])}function Va(a){return 64==(64&a[2])}function eo(a,c){return null==c?null:a[c]}function eu(a){a[18]=0}function ei(a,c){a[5]+=c;let d=a,f=a[3];for(;null!==f&&(1===c&&1===d[5]||-1===c&&0===d[5]);)f[5]+=c,d=f,f=f[3]}const kn={lFrame:uu(null),bindingsEnabled:!0};function dl(){return kn.bindingsEnabled}function pt(){return kn.lFrame.lView}function qn(){return kn.lFrame.tView}function Fm(a){return kn.lFrame.contextLView=a,a[8]}function ec(a){return kn.lFrame.contextLView=null,a}function mi(){let a=tc();for(;null!==a&&64===a.type;)a=a.parent;return a}function tc(){return kn.lFrame.currentTNode}function _s(a,c){const d=kn.lFrame;d.currentTNode=a,d.isParent=c}function rd(){return kn.lFrame.isParent}function nc(){kn.lFrame.isParent=!1}function Po(){return kn.lFrame.bindingIndex}function au(){return kn.lFrame.bindingIndex++}function ma(a){const c=kn.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,d}function Pf(a,c){const d=kn.lFrame;d.bindingIndex=d.bindingRootIndex=a,rc(c)}function rc(a){kn.lFrame.currentDirectiveIndex=a}function hh(a){const c=kn.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}function lu(){return kn.lFrame.currentQueryIndex}function fh(a){kn.lFrame.currentQueryIndex=a}function cu(a){const c=a[1];return 2===c.type?c.declTNode:1===c.type?a[6]:null}function Nf(a,c,d){if(d&Xt.SkipSelf){let m=c,_=a;for(;!(m=m.parent,null!==m||d&Xt.Host||(m=cu(_),null===m||(_=_[15],10&m.type))););if(null===m)return!1;c=m,a=_}const f=kn.lFrame=Nm();return f.currentTNode=c,f.lView=a,!0}function ic(a){const c=Nm(),d=a[1];kn.lFrame=c,c.currentTNode=d.firstChild,c.lView=a,c.tView=d,c.contextLView=a,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Nm(){const a=kn.lFrame,c=null===a?null:a.child;return null===c?uu(a):c}function uu(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function Lm(){const a=kn.lFrame;return kn.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Lf=Lm;function Ba(){const a=Lm();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Hr(){return kn.lFrame.selectedIndex}function ga(a){kn.lFrame.selectedIndex=a}function jr(){const a=kn.lFrame;return Ql(a.tView,a.selectedIndex)}function ph(){kn.lFrame.currentNamespace="svg"}function Bf(){!function gh(){kn.lFrame.currentNamespace=null}()}function vh(a,c){for(let d=c.directiveStart,f=c.directiveEnd;d<f;d++){const _=a.data[d].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:O,ngOnDestroy:L}=_;x&&(a.contentHooks||(a.contentHooks=[])).push(-d,x),C&&((a.contentHooks||(a.contentHooks=[])).push(d,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(d,C)),I&&(a.viewHooks||(a.viewHooks=[])).push(-d,I),O&&((a.viewHooks||(a.viewHooks=[])).push(d,O),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(d,O)),null!=L&&(a.destroyHooks||(a.destroyHooks=[])).push(d,L)}}function sc(a,c,d){ac(a,c,3,d)}function oc(a,c,d,f){(3&a[2])===d&&ac(a,c,d,f)}function Hf(a,c){let d=a[2];(3&d)===c&&(d&=2047,d+=1,a[2]=d)}function ac(a,c,d,f){const _=f??-1,x=c.length-1;let C=0;for(let I=void 0!==f?65535&a[18]:0;I<x;I++)if("number"==typeof c[I+1]){if(C=c[I],null!=f&&C>=f)break}else c[I]<0&&(a[18]+=65536),(C<_||-1==_)&&(jf(a,d,c,I),a[18]=(4294901760&a[18])+I+2),I++}function jf(a,c,d,f){const m=d[f]<0,_=d[f+1],C=a[m?-d[f]:d[f]];if(m){if(a[2]>>11<a[18]>>16&&(3&a[2])===c){a[2]+=2048;try{_.call(C)}finally{}}}else try{_.call(C)}finally{}}class to{constructor(c,d,f){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function _a(a,c,d){let f=0;for(;f<d.length;){const m=d[f];if("number"==typeof m){if(0!==m)break;f++;const _=d[f++],x=d[f++],C=d[f++];a.setAttribute(c,x,C,_)}else{const _=m,x=d[++f];wh(_)?a.setProperty(c,_,x):a.setAttribute(c,_,x),f++}}return f}function hu(a){return 3===a||4===a||6===a}function wh(a){return 64===a.charCodeAt(0)}function fu(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let d=-1;for(let f=0;f<c.length;f++){const m=c[f];"number"==typeof m?d=m:0===d||$f(a,d,m,null,-1===d||2===d?c[++f]:null)}}return a}function $f(a,c,d,f,m){let _=0,x=a.length;if(-1===c)x=-1;else for(;_<a.length;){const C=a[_++];if("number"==typeof C){if(C===c){x=-1;break}if(C>c){x=_-1;break}}}for(;_<a.length;){const C=a[_];if("number"==typeof C)break;if(C===d){if(null===f)return void(null!==m&&(a[_+1]=m));if(f===a[_+1])return void(a[_+2]=m)}_++,null!==f&&_++,null!==m&&_++}-1!==x&&(a.splice(x,0,c),_=x+1),a.splice(_++,0,d),null!==f&&a.splice(_++,0,f),null!==m&&a.splice(_++,0,m)}function Bm(a){return-1!==a}function _i(a){return 32767&a}function Ha(a,c){let d=function Um(a){return a>>16}(a),f=c;for(;d>0;)f=f[15],d--;return f}let xh=!0;function pu(a){const c=xh;return xh=a,c}let zf=0;const Ls={};function va(a,c){const d=ad(a,c);if(-1!==d)return d;const f=c[1];f.firstCreatePass&&(a.injectorIndex=c.length,bh(f.data,a),bh(c,null),bh(f.blueprint,null));const m=mu(a,c),_=a.injectorIndex;if(Bm(m)){const x=_i(m),C=Ha(m,c),I=C[1].data;for(let O=0;O<8;O++)c[_+O]=C[x+O]|I[x+O]}return c[_+8]=m,_}function bh(a,c){a.push(0,0,0,0,0,0,0,0,c)}function ad(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function mu(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,f=null,m=c;for(;null!==m;){if(f=pc(m),null===f)return-1;if(d++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function hl(a,c,d){!function Zf(a,c,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(ce)&&(f=d[ce]),null==f&&(f=d[ce]=zf++);const m=255&f;c.data[a+(m>>5)]|=1<<m}(a,c,d)}function cc(a,c,d){if(d&Xt.Optional)return a;ft()}function fl(a,c,d,f){if(d&Xt.Optional&&void 0===f&&(f=null),0==(d&(Xt.Self|Xt.Host))){const m=a[9],_=wr(void 0);try{return m?m.get(c,f,d&Xt.Optional):$i(c,f,d&Xt.Optional)}finally{wr(_)}}return cc(f,0,d)}function uc(a,c,d,f=Xt.Default,m){if(null!==a){if(1024&c[2]){const x=function Gm(a,c,d,f,m){let _=a,x=c;for(;null!==_&&null!==x&&1024&x[2]&&!(256&x[2]);){const C=Wf(_,x,d,f|Xt.Self,Ls);if(C!==Ls)return C;let I=_.parent;if(!I){const O=x[21];if(O){const L=O.get(d,Ls,f);if(L!==Ls)return L}I=pc(x),x=x[15]}_=I}return m}(a,c,d,f,Ls);if(x!==Ls)return x}const _=Wf(a,c,d,f,Ls);if(_!==Ls)return _}return fl(c,d,f,m)}function Wf(a,c,d,f,m){const _=function jm(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(ce)?a[ce]:void 0;return"number"==typeof c?c>=0?255&c:Eh:c}(d);if("function"==typeof _){if(!Nf(c,a,f))return f&Xt.Host?cc(m,0,f):fl(c,d,f,m);try{const x=_(f);if(null!=x||f&Xt.Optional)return x;ft()}finally{Lf()}}else if("number"==typeof _){let x=null,C=ad(a,c),I=-1,O=f&Xt.Host?c[16][6]:null;for((-1===C||f&Xt.SkipSelf)&&(I=-1===C?mu(a,c):c[C+8],-1!==I&&cd(f,!1)?(x=c[1],C=_i(I),c=Ha(I,c)):C=-1);-1!==C;){const L=c[1];if(dc(_,C,L.data)){const q=ld(C,c,d,x,f,O);if(q!==Ls)return q}I=c[C+8],-1!==I&&cd(f,c[1].data[C+8]===O)&&dc(_,C,c)?(x=L,C=_i(I),c=Ha(I,c)):C=-1}}return m}function ld(a,c,d,f,m,_){const x=c[1],C=x.data[a+8],L=_u(C,x,d,null==f?Kc(C)&&xh:f!=x&&0!=(3&C.type),m&Xt.Host&&_===C);return null!==L?No(c,x,L,C):Ls}function _u(a,c,d,f,m){const _=a.providerIndexes,x=c.data,C=1048575&_,I=a.directiveStart,L=_>>20,ge=m?C+L:a.directiveEnd;for(let Ie=f?C:C+L;Ie<ge;Ie++){const ze=x[Ie];if(Ie<I&&d===ze||Ie>=I&&ze.type===d)return Ie}if(m){const Ie=x[I];if(Ie&&Ps(Ie)&&Ie.type===d)return I}return null}function No(a,c,d,f){let m=a[d];const _=c.data;if(function yh(a){return a instanceof to}(m)){const x=m;x.resolving&&function qt(a,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new nt(-200,`Circular dependency in DI detected for ${a}${d}`)}(function We(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():et(a)}(_[d]));const C=pu(x.canSeeViewProviders);x.resolving=!0;const I=x.injectImpl?wr(x.injectImpl):null;Nf(a,f,Xt.Default);try{m=a[d]=x.factory(void 0,_,a,f),c.firstCreatePass&&d>=f.directiveStart&&function Uf(a,c,d){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:_}=c.type.prototype;if(f){const x=If(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(a,x),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,x)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-a,m),_&&((d.preOrderHooks||(d.preOrderHooks=[])).push(a,_),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,_))}(d,_[d],c)}finally{null!==I&&wr(I),pu(C),x.resolving=!1,Lf()}}return m}function dc(a,c,d){return!!(d[c+(a>>5)]&1<<a)}function cd(a,c){return!(a&Xt.Self||a&Xt.Host&&c)}class hc{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,f){return uc(this._tNode,this._lView,c,f,d)}}function Eh(){return new hc(mi(),pt())}function ja(a){return kr(()=>{const c=a.prototype.constructor,d=c[_e]||fc(c),f=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==f;){const _=m[_e]||fc(m);if(_&&_!==d)return _;m=Object.getPrototypeOf(m)}return _=>new _})}function fc(a){return kt(a)?()=>{const c=fc(be(a));return c&&c()}:Zi(a)}function pc(a){const c=a[1],d=c.type;return 2===d?c.declTNode:1===d?a[6]:null}function ud(a){return function gu(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const d=a.attrs;if(d){const f=d.length;let m=0;for(;m<f;){const _=d[m];if(hu(_))break;if(0===_)m+=2;else if("number"==typeof _)for(m++;m<f&&"string"==typeof d[m];)m++;else{if(_===c)return d[m+1];m+=2}}}return null}(mi(),a)}const mc="__parameters__";function _c(a,c,d){return kr(()=>{const f=function Ch(a){return function(...d){if(a){const f=a(...d);for(const m in f)this[m]=f[m]}}}(c);function m(..._){if(this instanceof m)return f.apply(this,_),this;const x=new m(..._);return C.annotation=x,C;function C(I,O,L){const q=I.hasOwnProperty(mc)?I[mc]:Object.defineProperty(I,mc,{value:[]})[mc];for(;q.length<=L;)q.push(null);return(q[L]=q[L]||[]).push(x),I}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class Mr{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=ar({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function is(a,c){void 0===c&&(c=a);for(let d=0;d<a.length;d++){let f=a[d];Array.isArray(f)?(c===a&&(c=a.slice(0,d)),is(f,c)):c!==a&&c.push(f)}return c}function ya(a,c){a.forEach(d=>Array.isArray(d)?ya(d,c):c(d))}function vu(a,c,d){c>=a.length?a.push(d):a.splice(c,0,d)}function ml(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function Vs(a,c){const d=[];for(let f=0;f<a;f++)d.push(c);return d}function vs(a,c,d){let f=yo(a,c);return f>=0?a[1|f]=d:(f=~f,function bn(a,c,d,f){let m=a.length;if(m==c)a.push(d,f);else if(1===m)a.push(f,a[0]),a[0]=d;else{for(m--,a.push(a[m-1],a[m]);m>c;)a[m]=a[m-2],m--;a[c]=d,a[c+1]=f}}(a,f,c,d)),f}function yu(a,c){const d=yo(a,c);if(d>=0)return a[1|d]}function yo(a,c){return function ss(a,c,d){let f=0,m=a.length>>d;for(;m!==f;){const _=f+(m-f>>1),x=a[_<<d];if(c===x)return _<<d;x>c?m=_:f=_+1}return~(m<<d)}(a,c,1)}const Wr={},Bo="__NG_DI_FLAG__",wc="ngTempTokenPath",fd=/\n/gm,Ah="__source";let xc;function xa(a){const c=xc;return xc=a,c}function Qf(a,c=Xt.Default){if(void 0===xc)throw new nt(-203,!1);return null===xc?$i(a,void 0,c):xc.get(a,c&Xt.Optional?null:void 0,c)}function ii(a,c=Xt.Default){return(function Qr(){return Fi}()||Qf)(be(a),c)}function M(a,c=Xt.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),ii(a,c)}function F(a){const c=[];for(let d=0;d<a.length;d++){const f=be(a[d]);if(Array.isArray(f)){if(0===f.length)throw new nt(900,!1);let m,_=Xt.Default;for(let x=0;x<f.length;x++){const C=f[x],I=X(C);"number"==typeof I?-1===I?m=C.token:_|=I:m=C}c.push(ii(m,_))}else c.push(ii(f))}return c}function N(a,c){return a[Bo]=c,a.prototype[Bo]=c,a}function X(a){return a[Bo]}const Pt=N(_c("Optional"),8),En=N(_c("SkipSelf"),4);let z_;function fC(a){z_=a}class Jf{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yl(a){return a instanceof Jf?a.changingThisBreaksApplicationSecurity:a}const G=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ni=(()=>((Ni=Ni||{})[Ni.NONE=0]="NONE",Ni[Ni.HTML=1]="HTML",Ni[Ni.STYLE=2]="STYLE",Ni[Ni.SCRIPT=3]="SCRIPT",Ni[Ni.URL=4]="URL",Ni[Ni.RESOURCE_URL=5]="RESOURCE_URL",Ni))();function gC(a){const c=function op(){const a=pt();return a&&a[12]}();return c?c.sanitize(Ni.URL,a)||"":function Cu(a,c){const d=function Du(a){return a instanceof Jf&&a.getTypeName()||null}(a);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}(a,"URL")?yl(a):function Ae(a){return(a=String(a)).match(G)?a:"unsafe:"+a}(et(a))}const B1=new Mr("ENVIRONMENT_INITIALIZER"),VI=new Mr("INJECTOR",-1),U1=new Mr("INJECTOR_DEF_TYPES");class yC{get(c,d=Wr){if(d===Wr){const f=new Error(`NullInjectorError: No provider for ${je(c)}!`);throw f.name="NullInjectorError",f}return d}}function wC(...a){return{\u0275providers:xC(0,a)}}function xC(a,...c){const d=[],f=new Set;let m;return ya(c,_=>{const x=_;og(x,d,[],f)&&(m||(m=[]),m.push(x))}),void 0!==m&&H1(m,d),d}function H1(a,c){for(let d=0;d<a.length;d++){const{providers:m}=a[d];ya(m,_=>{c.push(_)})}}function og(a,c,d,f){if(!(a=be(a)))return!1;let m=null,_=Mo(a);const x=!_&&se(a);if(_||x){if(x&&!x.standalone)return!1;m=a}else{const I=a.ngModule;if(_=Mo(I),!_)return!1;m=I}const C=f.has(m);if(x){if(C)return!1;if(f.add(m),x.dependencies){const I="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const O of I)og(O,c,d,f)}}else{if(!_)return!1;{if(null!=_.imports&&!C){let O;f.add(m);try{ya(_.imports,L=>{og(L,c,d,f)&&(O||(O=[]),O.push(L))})}finally{}void 0!==O&&H1(O,c)}if(!C){const O=Zi(m)||(()=>new m);c.push({provide:m,useFactory:O,deps:xn},{provide:U1,useValue:m,multi:!0},{provide:B1,useValue:()=>ii(m),multi:!0})}const I=_.providers;null==I||C||ya(I,L=>{c.push(L)})}}return m!==a&&void 0!==a.providers}const bC=qe({provide:String,useValue:qe});function j1(a){return null!==a&&"object"==typeof a&&bC in a}function Su(a){return"function"==typeof a}const ag=new Mr("Set Injector scope."),lg={},UI={};let Fh;function Y_(){return void 0===Fh&&(Fh=new yC),Fh}class yd{}class CC extends yd{constructor(c,d,f,m){super(),this.parent=d,this.source=f,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Q_(c,x=>this.processProvider(x)),this.records.set(VI,ap(void 0,this)),m.has("environment")&&this.records.set(yd,ap(void 0,this));const _=this.records.get(ag);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(U1.multi,xn,Xt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=xa(this),f=wr(void 0);try{return c()}finally{xa(d),wr(f)}}get(c,d=Wr,f=Xt.Default){this.assertNotDestroyed();const m=xa(this),_=wr(void 0);try{if(!(f&Xt.SkipSelf)){let C=this.records.get(c);if(void 0===C){const I=function X_(a){return"function"==typeof a||"object"==typeof a&&a instanceof Mr}(c)&&ji(c);C=I&&this.injectableDefInScope(I)?ap(cg(c),lg):null,this.records.set(c,C)}if(null!=C)return this.hydrate(c,C)}return(f&Xt.Self?Y_():this.parent).get(c,d=f&Xt.Optional&&d===Wr?null:d)}catch(x){if("NullInjectorError"===x.name){if((x[wc]=x[wc]||[]).unshift(je(c)),m)throw x;return function xe(a,c,d,f){const m=a[wc];throw c[Ah]&&m.unshift(c[Ah]),a.message=function Ve(a,c,d,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let m=je(c);if(Array.isArray(c))m=c.map(je).join(" -> ");else if("object"==typeof c){let _=[];for(let x in c)if(c.hasOwnProperty(x)){let C=c[x];_.push(x+":"+("string"==typeof C?JSON.stringify(C):je(C)))}m=`{${_.join(", ")}}`}return`${d}${f?"("+f+")":""}[${m}]: ${a.replace(fd,"\n  ")}`}("\n"+a.message,m,d,f),a.ngTokenPath=m,a[wc]=null,a}(x,c,"R3InjectorError",this.source)}throw x}finally{wr(_),xa(m)}}resolveInjectorInitializers(){const c=xa(this),d=wr(void 0);try{const f=this.get(B1.multi,xn,Xt.Self);for(const m of f)m()}finally{xa(c),wr(d)}}toString(){const c=[],d=this.records;for(const f of d.keys())c.push(je(f));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(c){let d=Su(c=be(c))?c:be(c&&c.provide);const f=function HI(a){return j1(a)?ap(void 0,a.useValue):ap(G1(a),lg)}(c);if(Su(c)||!0!==c.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=ap(void 0,lg,!0),m.factory=()=>F(m.multi),this.records.set(d,m)),d=c,m.multi.push(c)}this.records.set(d,f)}hydrate(c,d){return d.value===lg&&(d.value=UI,d.value=d.factory()),"object"==typeof d.value&&d.value&&function $1(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=be(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function cg(a){const c=ji(a),d=null!==c?c.factory:Zi(a);if(null!==d)return d;if(a instanceof Mr)throw new nt(204,!1);if(a instanceof Function)return function K_(a){const c=a.length;if(c>0)throw Vs(c,"?"),new nt(204,!1);const d=function Br(a){const c=a&&(a[Rs]||a[Ro]);if(c){const d=function aa(a){if(a.hasOwnProperty("name"))return a.name;const c=(""+a).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new nt(204,!1)}function G1(a,c,d){let f;if(Su(a)){const m=be(a);return Zi(m)||cg(m)}if(j1(a))f=()=>be(a.useValue);else if(function EC(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...F(a.deps||[]));else if(function vd(a){return!(!a||!a.useExisting)}(a))f=()=>ii(be(a.useExisting));else{const m=be(a&&(a.useClass||a.provide));if(!function dN(a){return!!a.deps}(a))return Zi(m)||cg(m);f=()=>new m(...F(a.deps))}return f}function ap(a,c,d=!1){return{factory:a,value:c,multi:d?[]:void 0}}function DC(a){return!!a.\u0275providers}function Q_(a,c){for(const d of a)Array.isArray(d)?Q_(d,c):DC(d)?Q_(d.\u0275providers,c):c(d)}class SC{}class GI{resolveComponentFactory(c){throw function TC(a){const c=Error(`No component factory found for ${je(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let ug=(()=>{class a{}return a.NULL=new GI,a})();function z1(){return Ph(mi(),pt())}function Ph(a,c){return new dg(Wi(a,c))}let dg=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=z1,a})();function IC(a){return a instanceof dg?a.nativeElement:a}class Z1{}let $I=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function kC(){const a=pt(),d=lr(mi().index,a);return(pi(d)?d:a)[11]}(),a})(),zI=(()=>{class a{}return a.\u0275prov=ar({token:a,providedIn:"root",factory:()=>null}),a})();class W1{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const ZI=new W1("14.2.0"),MC={};function fg(a){return a.ngOriginalError}class pg{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&fg(c);for(;d&&fg(d);)d=fg(d);return d||null}}const Cc=new Map;let os=0;const lp="__ngContext__";function Us(a,c){pi(c)?(a[lp]=c[20],function Y1(a){Cc.set(a[20],a)}(c)):a[lp]=c}function vg(a){const c=a[lp];return"number"==typeof c?function K1(a){return Cc.get(a)||null}(c):c||null}function wl(a){const c=vg(a);return c?pi(c)?c:c.lView:null}function $o(a){return a instanceof Function?a():a}var Iu=(()=>((Iu=Iu||{})[Iu.Important=1]="Important",Iu[Iu.DashCase=2]="DashCase",Iu))();function Dc(a,c){return undefined(a,c)}function dp(a){const c=a[3];return Ks(c)?c[3]:c}function J_(a){return rw(a[13])}function nw(a){return rw(a[4])}function rw(a){for(;null!==a&&!Ks(a);)a=a[4];return a}function ku(a,c,d,f,m){if(null!=f){let _,x=!1;Ks(f)?_=f:pi(f)&&(x=!0,f=f[0]);const C=Zr(f);0===a&&null!==d?null==m?UC(c,d,C):Bh(c,d,C,m||null,!0):1===a&&null!==d?Bh(c,d,C,m||null,!0):2===a?function zC(a,c,d){const f=iv(a,c);f&&function rv(a,c,d,f){a.removeChild(c,d,f)}(a,f,c,d)}(c,C,x):3===a&&c.destroyNode(C),null!=_&&function ZC(a,c,d,f,m){const _=d[7];_!==Zr(d)&&ku(c,a,f,_,m);for(let C=10;C<d.length;C++){const I=d[C];Ru(I[1],I,a,c,f,_)}}(c,a,_,d,m)}}function iw(a,c,d){return a.createElement(c,d)}function hp(a,c){const d=a[9],f=d.indexOf(c),m=c[3];512&c[2]&&(c[2]&=-513,ei(m,-1)),d.splice(f,1)}function tv(a,c){if(a.length<=10)return;const d=10+c,f=a[d];if(f){const m=f[17];null!==m&&m!==a&&hp(m,f),c>0&&(a[d-1][4]=f[4]);const _=ml(a,10+c);!function Vh(a,c){Ru(a,c,c[11],2,null,null),c[0]=null,c[6]=null}(f[1],f);const x=_[19];null!==x&&x.detachView(_[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function xg(a,c){if(!(128&c[2])){const d=c[11];d.destroyNode&&Ru(a,c,d,3,null,null),function sw(a){let c=a[13];if(!c)return ow(a[1],a);for(;c;){let d=null;if(pi(c))d=c[13];else{const f=c[10];f&&(d=f)}if(!d){for(;c&&!c[4]&&c!==a;)pi(c)&&ow(c[1],c),c=c[3];null===c&&(c=a),pi(c)&&ow(c[1],c),d=c&&c[4]}c=d}}(c)}}function ow(a,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function nv(a,c){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let f=0;f<d.length;f+=2){const m=c[d[f]];if(!(m instanceof to)){const _=d[f+1];if(Array.isArray(_))for(let x=0;x<_.length;x+=2){const C=m[_[x]],I=_[x+1];try{I.call(C)}finally{}}else try{_.call(m)}finally{}}}}(a,c),function aw(a,c){const d=a.cleanup,f=c[7];let m=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const x=d[_+1],C="function"==typeof x?x(c):Zr(c[x]),I=f[m=d[_+2]],O=d[_+3];"boolean"==typeof O?C.removeEventListener(d[_],I,O):O>=0?f[m=O]():f[m=-O].unsubscribe(),_+=2}else{const x=f[m=d[_+1]];d[_].call(x)}if(null!==f){for(let _=m+1;_<f.length;_++)(0,f[_])();c[7]=null}}(a,c),1===c[1].type&&c[11].destroy();const d=c[17];if(null!==d&&Ks(c[3])){d!==c[3]&&hp(d,c);const f=c[19];null!==f&&f.detachView(a)}!function as(a){Cc.delete(a[20])}(c)}}function lw(a,c,d){return function cw(a,c,d){let f=c;for(;null!==f&&40&f.type;)f=(c=f).parent;if(null===f)return d[0];if(2&f.flags){const m=a.data[f.directiveStart].encapsulation;if(m===hn.None||m===hn.Emulated)return null}return Wi(f,d)}(a,c.parent,d)}function Bh(a,c,d,f,m){a.insertBefore(c,d,f,m)}function UC(a,c,d){a.appendChild(c,d)}function HC(a,c,d,f,m){null!==f?Bh(a,c,d,f,m):UC(a,c,d)}function iv(a,c){return a.parentNode(c)}function jC(a,c,d){return sv(a,c,d)}let sv=function GC(a,c,d){return 40&a.type?Wi(a,d):null};function Sc(a,c,d,f){const m=lw(a,f,c),_=c[11],C=jC(f.parent||c[6],f,c);if(null!=m)if(Array.isArray(d))for(let I=0;I<d.length;I++)HC(_,m,d[I],C,!1);else HC(_,m,d,C,!1)}function pp(a,c){if(null!==c){const d=c.type;if(3&d)return Wi(c,a);if(4&d)return uw(-1,a[c.index]);if(8&d){const f=c.child;if(null!==f)return pp(a,f);{const m=a[c.index];return Ks(m)?uw(-1,m):Zr(m)}}if(32&d)return Dc(c,a)()||Zr(a[c.index]);{const f=ck(a,c);return null!==f?Array.isArray(f)?f[0]:pp(dp(a[16]),f):pp(a,c.next)}}return null}function ck(a,c){return null!==c?a[16][6].projection[c.projection]:null}function uw(a,c){const d=10+a+1;if(d<c.length){const f=c[d],m=f[1].firstChild;if(null!==m)return pp(f,m)}return c[7]}function dw(a,c,d,f,m,_,x){for(;null!=d;){const C=f[d.index],I=d.type;if(x&&0===c&&(C&&Us(Zr(C),f),d.flags|=4),64!=(64&d.flags))if(8&I)dw(a,c,d.child,f,m,_,!1),ku(c,a,m,C,_);else if(32&I){const O=Dc(d,f);let L;for(;L=O();)ku(c,a,m,L,_);ku(c,a,m,C,_)}else 16&I?Uh(a,c,f,d,m,_):ku(c,a,m,C,_);d=x?d.projectionNext:d.next}}function Ru(a,c,d,f,m,_){dw(d,f,a.firstChild,c,m,_,!1)}function Uh(a,c,d,f,m,_){const x=d[16],I=x[6].projection[f.projection];if(Array.isArray(I))for(let O=0;O<I.length;O++)ku(c,a,m,I[O],_);else dw(a,c,I,x[3],m,_,!0)}function hw(a,c,d){a.setAttribute(c,"style",d)}function wd(a,c,d){""===d?a.removeAttribute(c,"class"):a.setAttribute(c,"class",d)}function qC(a,c,d){let f=a.length;for(;;){const m=a.indexOf(c,d);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const _=c.length;if(m+_===f||a.charCodeAt(m+_)<=32)return m}d=m+1}}const fw="ng-template";function uk(a,c,d){let f=0;for(;f<a.length;){let m=a[f++];if(d&&"class"===m){if(m=a[f],-1!==qC(m.toLowerCase(),c,0))return!0}else if(1===m){for(;f<a.length&&"string"==typeof(m=a[f++]);)if(m.toLowerCase()===c)return!0;return!1}}return!1}function ov(a){return 4===a.type&&a.value!==fw}function Eg(a,c,d){return c===(4!==a.type||d?a.value:fw)}function dk(a,c,d){let f=4;const m=a.attrs||[],_=function Fu(a){for(let c=0;c<a.length;c++)if(hu(a[c]))return c;return a.length}(m);let x=!1;for(let C=0;C<c.length;C++){const I=c[C];if("number"!=typeof I){if(!x)if(4&f){if(f=2|1&f,""!==I&&!Eg(a,I,d)||""===I&&1===c.length){if(Da(f))return!1;x=!0}}else{const O=8&f?I:c[++C];if(8&f&&null!==a.attrs){if(!uk(a.attrs,O,d)){if(Da(f))return!1;x=!0}continue}const q=hk(8&f?"class":I,m,ov(a),d);if(-1===q){if(Da(f))return!1;x=!0;continue}if(""!==O){let ge;ge=q>_?"":m[q+1].toLowerCase();const Ie=8&f?ge:null;if(Ie&&-1!==qC(Ie,O,0)||2&f&&O!==ge){if(Da(f))return!1;x=!0}}}}else{if(!x&&!Da(f)&&!Da(I))return!1;if(x&&Da(I))continue;x=!1,f=I|1&f}}return Da(f)||x}function Da(a){return 0==(1&a)}function hk(a,c,d,f){if(null===c)return-1;let m=0;if(f||!d){let _=!1;for(;m<c.length;){const x=c[m];if(x===a)return m;if(3===x||6===x)_=!0;else{if(1===x||2===x){let C=c[++m];for(;"string"==typeof C;)C=c[++m];continue}if(4===x)break;if(0===x){m+=4;continue}}m+=_?1:2}return-1}return function mw(a,c){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const f=a[d];if("number"==typeof f)return-1;if(f===c)return d;d++}return-1}(c,a)}function pw(a,c,d=!1){for(let f=0;f<c.length;f++)if(dk(a,c[f],d))return!0;return!1}function Hh(a,c){e:for(let d=0;d<c.length;d++){const f=c[d];if(a.length===f.length){for(let m=0;m<a.length;m++)if(a[m]!==f[m])continue e;return!0}}return!1}function Cg(a,c){return a?":not("+c.trim()+")":c}function KC(a){let c=a[0],d=1,f=2,m="",_=!1;for(;d<a.length;){let x=a[d];if("string"==typeof x)if(2&f){const C=a[++d];m+="["+x+(C.length>0?'="'+C+'"':"")+"]"}else 8&f?m+="."+x:4&f&&(m+=" "+x);else""!==m&&!Da(x)&&(c+=Cg(_,m),m=""),f=x,_=_||!Da(f);d++}return""!==m&&(c+=Cg(_,m)),c}const Un={};function XC(a){QC(qn(),pt(),Hr()+a,!1)}function QC(a,c,d,f){if(!f)if(3==(3&c[2])){const _=a.preOrderCheckHooks;null!==_&&sc(c,_,d)}else{const _=a.preOrderHooks;null!==_&&oc(c,_,0,d)}ga(d)}function av(a,c=null,d=null,f){const m=lv(a,c,d,f);return m.resolveInjectorInitializers(),m}function lv(a,c=null,d=null,f,m=new Set){const _=[d||xn,wC(a)];return f=f||("object"==typeof a?void 0:je(a)),new CC(_,c||Y_(),f||null,m)}let xo=(()=>{class a{static create(d,f){if(Array.isArray(d))return av({name:""},f,d,"");{const m=d.name??"";return av({name:m},d.parent,d.providers,m)}}}return a.THROW_IF_NOT_FOUND=Wr,a.NULL=new yC,a.\u0275prov=ar({token:a,providedIn:"any",factory:()=>ii(VI)}),a.__NG_ELEMENT_ID__=-1,a})();function Ag(a,c=Xt.Default){const d=pt();return null===d?ii(a,c):uc(mi(),d,be(a),c)}function Ek(){throw new Error("invalid")}function gp(a,c){return a<<17|c<<2}function xl(a){return a>>17&32767}function Ig(a){return 2|a}function qi(a){return(131068&a)>>2}function fv(a,c){return-131069&a|c<<2}function ww(a){return 1|a}function Iw(a,c){const d=a.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const m=d[f],_=d[f+1];if(-1!==_){const x=a.data[_];fh(m),x.contentQueries(2,c[_],_)}}}function Pg(a,c,d,f,m,_,x,C,I,O,L){const q=c.blueprint.slice();return q[0]=m,q[2]=76|f,(null!==L||a&&1024&a[2])&&(q[2]|=1024),eu(q),q[3]=q[15]=a,q[8]=d,q[10]=x||a&&a[10],q[11]=C||a&&a[11],q[12]=I||a&&a[12]||null,q[9]=O||a&&a[9]||null,q[6]=_,q[20]=function ws(){return os++}(),q[21]=L,q[16]=2==c.type?a[16]:q,q}function Tc(a,c,d,f,m){let _=a.data[c];if(null===_)_=function yv(a,c,d,f,m){const _=tc(),x=rd(),I=a.data[c]=function Ok(a,c,d,f,m,_){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?_:_&&_.parent,d,c,f,m);return null===a.firstChild&&(a.firstChild=I),null!==_&&(x?null==_.child&&null!==I.parent&&(_.child=I):null===_.next&&(_.next=I)),I}(a,c,d,f,m),function Of(){return kn.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=d,_.value=f,_.attrs=m;const x=function nd(){const a=kn.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();_.injectorIndex=null===x?-1:x.injectorIndex}return _s(_,!0),_}function yp(a,c,d,f){if(0===d)return-1;const m=c.length;for(let _=0;_<d;_++)c.push(f),a.blueprint.push(f),a.data.push(null);return m}function wv(a,c,d){ic(c);try{const f=a.viewQuery;null!==f&&Ev(1,f,d);const m=a.template;null!==m&&vD(a,c,m,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Iw(a,c),a.staticViewQueries&&Ev(2,a.viewQuery,d);const _=a.components;null!==_&&function vv(a,c){for(let d=0;d<c.length;d++)zk(a,c[d])}(c,_)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{c[2]&=-5,Ba()}}function Ng(a,c,d,f){const m=c[2];if(128!=(128&m)){ic(c);try{eu(c),function ou(a){return kn.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&vD(a,c,d,2,f);const x=3==(3&m);if(x){const O=a.preOrderCheckHooks;null!==O&&sc(c,O,null)}else{const O=a.preOrderHooks;null!==O&&oc(c,O,0,null),Hf(c,0)}if(function Gk(a){for(let c=J_(a);null!==c;c=nw(c)){if(!c[2])continue;const d=c[9];for(let f=0;f<d.length;f++){const m=d[f],_=m[3];0==(512&m[2])&&ei(_,1),m[2]|=512}}}(c),function jk(a){for(let c=J_(a);null!==c;c=nw(c))for(let d=10;d<c.length;d++){const f=c[d],m=f[1];Va(f)&&Ng(m,f,m.template,f[8])}}(c),null!==a.contentQueries&&Iw(a,c),x){const O=a.contentCheckHooks;null!==O&&sc(c,O)}else{const O=a.contentHooks;null!==O&&oc(c,O,1),Hf(c,1)}!function _D(a,c){const d=a.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const m=d[f];if(m<0)ga(~m);else{const _=m,x=d[++f],C=d[++f];Pf(x,_),C(2,c[_])}}}finally{ga(-1)}}(a,c);const C=a.components;null!==C&&function _v(a,c){for(let d=0;d<c.length;d++)$k(a,c[d])}(c,C);const I=a.viewQuery;if(null!==I&&Ev(2,I,f),x){const O=a.viewCheckHooks;null!==O&&sc(c,O)}else{const O=a.viewHooks;null!==O&&oc(c,O,2),Hf(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,ei(c[3],-1))}finally{Ba()}}}function Mk(a,c,d,f){const m=c[10],x=td(c);try{!x&&m.begin&&m.begin(),x&&wv(a,c,f),Ng(a,c,d,f)}finally{!x&&m.end&&m.end()}}function vD(a,c,d,f,m){const _=Hr(),x=2&f;try{ga(-1),x&&c.length>22&&QC(a,c,22,!1),d(f,m)}finally{ga(_)}}function Lg(a,c,d){if(Na(c)){const m=c.directiveEnd;for(let _=c.directiveStart;_<m;_++){const x=a.data[_];x.contentQueries&&x.contentQueries(1,d[_],_)}}}function kw(a,c,d){!dl()||(function bD(a,c,d,f){const m=d.directiveStart,_=d.directiveEnd;a.firstCreatePass||va(d,c),Us(f,c);const x=d.initialInputs;for(let C=m;C<_;C++){const I=a.data[C],O=Ps(I);O&&xv(c,d,I);const L=No(c,a,C,d);Us(L,c),null!==x&&Uw(0,C-m,L,I,0,x),O&&(lr(d.index,c)[8]=L)}}(a,c,d,Wi(d,c)),128==(128&d.flags)&&function Vw(a,c,d){const f=d.directiveStart,m=d.directiveEnd,_=d.index,x=function Pm(){return kn.lFrame.currentDirectiveIndex}();try{ga(_);for(let C=f;C<m;C++){const I=a.data[C],O=c[C];rc(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Bw(I,O)}}finally{ga(-1),rc(x)}}(a,c,d))}function Mw(a,c,d=Wi){const f=c.localNames;if(null!==f){let m=c.index+1;for(let _=0;_<f.length;_+=2){const x=f[_+1],C=-1===x?d(c,a):a[x];a[m++]=C}}}function yD(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=Rw(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function Rw(a,c,d,f,m,_,x,C,I,O){const L=22+f,q=L+m,ge=function Rk(a,c){const d=[];for(let f=0;f<c;f++)d.push(f<a?null:Un);return d}(L,q),Ie="function"==typeof O?O():O;return ge[1]={type:a,blueprint:ge,template:d,queries:null,viewQuery:C,declTNode:c,data:ge.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:I,consts:Ie,incompleteFirstPass:!1}}function Fw(a,c,d,f){const m=Zk(c);null===d?m.push(f):(m.push(d),a.firstCreatePass&&AD(a).push(f,m.length-1))}function Ow(a,c,d){for(let f in a)if(a.hasOwnProperty(f)){const m=a[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(c,m):d[f]=[c,m]}return d}function Pw(a,c){const f=c.directiveEnd,m=a.data,_=c.attrs,x=[];let C=null,I=null;for(let O=c.directiveStart;O<f;O++){const L=m[O],q=L.inputs,ge=null===_||ov(c)?null:Hk(q,_);x.push(ge),C=Ow(q,O,C),I=Ow(L.outputs,O,I)}null!==C&&(C.hasOwnProperty("class")&&(c.flags|=16),C.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=x,c.inputs=C,c.outputs=I}function zo(a,c,d,f,m,_,x,C){const I=Wi(c,d);let L,O=c.inputs;!C&&null!=O&&(L=O[f])?(xp(a,d,L,f,m),Kc(c)&&Nw(d,c.index)):3&c.type&&(f=function wD(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),m=null!=x?x(m,c.value||"",f):m,_.setProperty(I,f,m))}function Nw(a,c){const d=lr(c,a);16&d[2]||(d[2]|=32)}function Lw(a,c,d,f){let m=!1;if(dl()){const _=function ED(a,c,d){const f=a.directiveRegistry;let m=null;if(f)for(let _=0;_<f.length;_++){const x=f[_];pw(d,x.selectors,!1)&&(m||(m=[]),hl(va(d,c),a,x.type),Ps(x)?(Vk(a,d),m.unshift(x)):m.push(x))}return m}(a,c,d),x=null===f?null:{"":-1};if(null!==_){m=!0,CD(d,a.data.length,_.length);for(let L=0;L<_.length;L++){const q=_[L];q.providersResolver&&q.providersResolver(q)}let C=!1,I=!1,O=yp(a,c,_.length,null);for(let L=0;L<_.length;L++){const q=_[L];d.mergedAttrs=fu(d.mergedAttrs,q.hostAttrs),DD(a,d,c,O,q),Uk(O,q,x),null!==q.contentQueries&&(d.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(d.flags|=128);const ge=q.type.prototype;!C&&(ge.ngOnChanges||ge.ngOnInit||ge.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(d.index),C=!0),!I&&(ge.ngOnChanges||ge.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(d.index),I=!0),O++}Pw(a,d)}x&&function Bk(a,c,d){if(c){const f=a.localNames=[];for(let m=0;m<c.length;m+=2){const _=d[c[m+1]];if(null==_)throw new nt(-301,!1);f.push(c[m],_)}}}(d,f,x)}return d.mergedAttrs=fu(d.mergedAttrs,d.attrs),m}function xD(a,c,d,f,m,_){const x=_.hostBindings;if(x){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const I=~c.index;(function Lk(a){let c=a.length;for(;c>0;){const d=a[--c];if("number"==typeof d&&d<0)return d}return 0})(C)!=I&&C.push(I),C.push(f,m,x)}}function Bw(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function Vk(a,c){c.flags|=2,(a.components||(a.components=[])).push(c.index)}function Uk(a,c,d){if(d){if(c.exportAs)for(let f=0;f<c.exportAs.length;f++)d[c.exportAs[f]]=a;Ps(c)&&(d[""]=a)}}function CD(a,c,d){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+d,a.providerIndexes=c}function DD(a,c,d,f,m){a.data[f]=m;const _=m.factory||(m.factory=Zi(m.type)),x=new to(_,Ps(m),Ag);a.blueprint[f]=x,d[f]=x,xD(a,c,0,f,yp(a,d,m.hostVars,Un),m)}function xv(a,c,d){const f=Wi(c,a),m=yD(d),_=a[10],x=br(a,Pg(a,m,null,d.onPush?32:16,f,c,_,_.createRenderer(f,d),null,null,null));a[c.index]=x}function bl(a,c,d,f,m,_){const x=Wi(a,c);!function Vg(a,c,d,f,m,_,x){if(null==_)a.removeAttribute(c,m,d);else{const C=null==x?et(_):x(_,f||"",m);a.setAttribute(c,m,C,d)}}(c[11],x,_,a.value,d,f,m)}function Uw(a,c,d,f,m,_){const x=_[c];if(null!==x){const C=f.setInput;for(let I=0;I<x.length;){const O=x[I++],L=x[I++],q=x[I++];null!==C?f.setInput(d,q,O,L):d[L]=q}}}function Hk(a,c){let d=null,f=0;for(;f<c.length;){const m=c[f];if(0!==m)if(5!==m){if("number"==typeof m)break;a.hasOwnProperty(m)&&(null===d&&(d=[]),d.push(m,a[m],c[f+1])),f+=2}else f+=2;else f+=4}return d}function Bg(a,c,d,f){return new Array(a,!0,!1,c,null,0,f,d,null,null)}function $k(a,c){const d=lr(c,a);if(Va(d)){const f=d[1];48&d[2]?Ng(f,d,f.template,d[8]):d[5]>0&&Hw(d)}}function Hw(a){for(let f=J_(a);null!==f;f=nw(f))for(let m=10;m<f.length;m++){const _=f[m];if(Va(_))if(512&_[2]){const x=_[1];Ng(x,_,x.template,_[8])}else _[5]>0&&Hw(_)}const d=a[1].components;if(null!==d)for(let f=0;f<d.length;f++){const m=lr(d[f],a);Va(m)&&m[5]>0&&Hw(m)}}function zk(a,c){const d=lr(c,a),f=d[1];(function SD(a,c){for(let d=c.length;d<a.blueprint.length;d++)c.push(a.blueprint[d])})(f,d),wv(f,d,d[8])}function br(a,c){return a[13]?a[14][4]=c:a[13]=c,a[14]=c,c}function jw(a){for(;a;){a[2]|=32;const c=dp(a);if(oh(a)&&!c)return a;a=c}return null}function Ev(a,c,d){fh(0),c(a,d)}function Zk(a){return a[7]||(a[7]=[])}function AD(a){return a.cleanup||(a.cleanup=[])}function Cv(a,c,d){return(null===a||Ps(a))&&(d=function Rf(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(d[c.index])),d[11]}function Gw(a,c){const d=a[9],f=d?d.get(pg,null):null;f&&f.handleError(c)}function xp(a,c,d,f,m){for(let _=0;_<d.length;){const x=d[_++],C=d[_++],I=c[x],O=a.data[x];null!==O.setInput?O.setInput(I,m,f,C):I[C]=m}}function Dd(a,c,d){const f=_o(c,a);!function er(a,c,d){a.setValue(c,d)}(a[11],f,d)}function Ug(a,c,d){let f=d?a.styles:null,m=d?a.classes:null,_=0;if(null!==c)for(let x=0;x<c.length;x++){const C=c[x];"number"==typeof C?_=C:1==_?m=Qe(m,C):2==_&&(f=Qe(f,C+": "+c[++x]+";"))}d?a.styles=f:a.stylesWithoutHost=f,d?a.classes=m:a.classesWithoutHost=m}function Pu(a,c,d,f,m=!1){for(;null!==d;){const _=c[d.index];if(null!==_&&f.push(Zr(_)),Ks(_))for(let C=10;C<_.length;C++){const I=_[C],O=I[1].firstChild;null!==O&&Pu(I[1],I,O,f)}const x=d.type;if(8&x)Pu(a,c,d.child,f);else if(32&x){const C=Dc(d,c);let I;for(;I=C();)f.push(I)}else if(16&x){const C=ck(c,d);if(Array.isArray(C))f.push(...C);else{const I=dp(c[16]);Pu(I[1],I,C,f,!0)}}d=m?d.projectionNext:d.next}return f}class $h{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return Pu(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Ks(c)){const d=c[8],f=d?d.indexOf(this):-1;f>-1&&(tv(c,f),ml(d,f))}this._attachedToViewContainer=!1}xg(this._lView[1],this._lView)}onDestroy(c){Fw(this._lView[1],this._lView,null,c)}markForCheck(){jw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function wp(a,c,d){const f=c[10];f.begin&&f.begin();try{Ng(a,c,a.template,d)}catch(m){throw Gw(c,m),m}finally{f.end&&f.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BC(a,c){Ru(a,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=c}}class BN extends $h{constructor(c){super(c),this._view=c}detectChanges(){!function bv(a){!function TD(a){for(let c=0;c<a.components.length;c++){const d=a.components[c],f=wl(d);if(null!==f){const m=f[1];Mk(m,f,m.template,d)}}}(a[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Dv extends ug{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=se(c);return new Hg(d,this.ngModule)}}function $w(a){const c=[];for(let d in a)a.hasOwnProperty(d)&&c.push({propName:a[d],templateName:d});return c}class Wk{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,f){const m=this.injector.get(c,MC,f);return m!==MC||d===MC?m:this.parentInjector.get(c,d,f)}}class Hg extends SC{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function fk(a){return a.map(KC).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return $w(this.componentDef.inputs)}get outputs(){return $w(this.componentDef.outputs)}create(c,d,f,m){let _=(m=m||this.ngModule)instanceof yd?m:m?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const x=_?new Wk(c,_):c,C=x.get(Z1,null);if(null===C)throw new nt(407,!1);const I=x.get(zI,null),O=C.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",q=f?function Fk(a,c,d){return a.selectRootElement(c,d===hn.ShadowDom)}(O,f,this.componentDef.encapsulation):iw(C.createRenderer(null,this.componentDef),L,function zw(a){const c=a.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(L)),ge=this.componentDef.onPush?288:272,Ie={components:[]},ze=Rw(0,null,null,1,0,null,null,null,null,null),Dt=Pg(null,ze,Ie,ge,null,null,C,O,I,x,null);let Gt,rn;ic(Dt);try{const Tn=function Sv(a,c,d,f,m,_){const x=d[1];d[22]=a;const I=Tc(x,22,2,"#host",null),O=I.mergedAttrs=c.hostAttrs;null!==O&&(Ug(I,O,!0),null!==a&&(_a(m,a,O),null!==I.classes&&wd(m,a,I.classes),null!==I.styles&&hw(m,a,I.styles)));const L=f.createRenderer(a,c),q=Pg(d,yD(c),null,c.onPush?32:16,d[22],I,f,L,_||null,null,null);return x.firstCreatePass&&(hl(va(I,d),x,c.type),Vk(x,I),CD(I,d.length,1)),br(d,q),d[22]=q}(q,this.componentDef,Dt,C,O);if(q)if(f)_a(O,q,["ng-version",ZI.full]);else{const{attrs:gt,classes:wn}=function pk(a){const c=[],d=[];let f=1,m=2;for(;f<a.length;){let _=a[f];if("string"==typeof _)2===m?""!==_&&c.push(_,a[++f]):8===m&&d.push(_);else{if(!Da(m))break;m=_}f++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);gt&&_a(O,q,gt),wn&&wn.length>0&&wd(O,q,wn.join(" "))}if(rn=Ql(ze,22),void 0!==d){const gt=rn.projection=[];for(let wn=0;wn<this.ngContentSelectors.length;wn++){const sr=d[wn];gt.push(null!=sr?Array.from(sr):null)}}Gt=function UN(a,c,d,f,m){const _=d[1],x=function Nk(a,c,d){const f=mi();a.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),DD(a,f,c,yp(a,c,1,null),d),Pw(a,f));const m=No(c,a,f.directiveStart,f);Us(m,c);const _=Wi(f,c);return _&&Us(_,c),m}(_,d,c);if(f.components.push(x),a[8]=x,null!==m)for(const I of m)I(x,c);if(c.contentQueries){const I=mi();c.contentQueries(1,x,I.directiveStart)}const C=mi();return!_.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(ga(C.index),xD(d[1],C,0,C.directiveStart,C.directiveEnd,c),Bw(c,x)),x}(Tn,this.componentDef,Dt,Ie,[Xk]),wv(ze,Dt,null)}finally{Ba()}return new Kk(this.componentType,Gt,Ph(rn,Dt),Dt,rn)}}class Kk extends class Oh{}{constructor(c,d,f,m,_){super(),this.location=f,this._rootLView=m,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new BN(m),this.componentType=c}setInput(c,d){const f=this._tNode.inputs;let m;if(null!==f&&(m=f[c])){const _=this._rootLView;xp(_[1],_,m,c,d),Nw(_,this._tNode.index)}}get injector(){return new hc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function Xk(){const a=mi();vh(pt()[1],a)}function Zw(a){let c=function kD(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const f=[a];for(;c;){let m;if(Ps(a))m=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new nt(903,!1);m=c.\u0275dir}if(m){if(d){f.push(m);const x=a;x.inputs=Ww(a.inputs),x.declaredInputs=Ww(a.declaredInputs),x.outputs=Ww(a.outputs);const C=m.hostBindings;C&&tM(a,C);const I=m.viewQuery,O=m.contentQueries;if(I&&Jk(a,I),O&&eM(a,O),Fe(a.inputs,m.inputs),Fe(a.declaredInputs,m.declaredInputs),Fe(a.outputs,m.outputs),Ps(m)&&m.data.animation){const L=a.data;L.animation=(L.animation||[]).concat(m.data.animation)}}const _=m.features;if(_)for(let x=0;x<_.length;x++){const C=_[x];C&&C.ngInherit&&C(a),C===Zw&&(d=!1)}}c=Object.getPrototypeOf(c)}!function Qk(a){let c=0,d=null;for(let f=a.length-1;f>=0;f--){const m=a[f];m.hostVars=c+=m.hostVars,m.hostAttrs=fu(m.hostAttrs,d=fu(d,m.hostAttrs))}}(f)}function Ww(a){return a===zi?{}:a===xn?[]:a}function Jk(a,c){const d=a.viewQuery;a.viewQuery=d?(f,m)=>{c(f,m),d(f,m)}:c}function eM(a,c){const d=a.contentQueries;a.contentQueries=d?(f,m,_)=>{c(f,m,_),d(f,m,_)}:c}function tM(a,c){const d=a.hostBindings;a.hostBindings=d?(f,m)=>{c(f,m),d(f,m)}:c}let Zo=null;function Wo(){if(!Zo){const a=Mn.Symbol;if(a&&a.iterator)Zo=a.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const f=c[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Zo=f)}}}return Zo}function jg(a){return!!Tv(a)&&(Array.isArray(a)||!(a instanceof Map)&&Wo()in a)}function Tv(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function qr(a,c,d){return!Object.is(a[c],d)&&(a[c]=d,!0)}function Ac(a,c,d,f){const m=qr(a,c,d);return qr(a,c+1,f)||m}function Yw(a,c,d,f){const m=pt();return qr(m,au(),c)&&(qn(),bl(jr(),m,a,c,d,f)),Yw}function Gg(a,c,d,f){return qr(a,au(),d)?c+et(d)+f:Un}function bp(a,c,d,f,m,_,x,C){const O=function Av(a,c,d,f,m){const _=Ac(a,c,d,f);return qr(a,c+2,m)||_}(a,Po(),d,m,x);return ma(3),O?c+et(d)+f+et(m)+_+et(x)+C:Un}function OD(a,c,d,f,m,_,x,C){const I=pt(),O=qn(),L=a+22,q=O.firstCreatePass?function cM(a,c,d,f,m,_,x,C,I){const O=c.consts,L=Tc(c,a,4,x||null,eo(O,C));Lw(c,d,L,eo(O,I)),vh(c,L);const q=L.tViews=Rw(2,L,f,m,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,O);return null!==c.queries&&(c.queries.template(c,L),q.queries=c.queries.embeddedTView(L)),L}(L,O,I,c,d,f,m,_,x):O.data[L];_s(q,!1);const ge=I[11].createComment("");Sc(O,I,ge,q),Us(ge,I),br(I,I[L]=Bg(ge,I,ge,q)),Xc(q)&&kw(O,I,q),null!=x&&Mw(I,q,C)}function Ka(a){return function Oo(a,c){return a[c]}(function su(){return kn.lFrame.contextLView}(),22+a)}function Cp(a,c,d){const f=pt();return qr(f,au(),c)&&zo(qn(),jr(),f,a,c,f[11],d,!1),Cp}function Kg(a,c,d,f,m){const x=m?"class":"style";xp(a,d,c.inputs[x],x,f)}function Iv(a,c,d,f){const m=pt(),_=qn(),x=22+a,C=m[11],I=m[x]=iw(C,c,function _h(){return kn.lFrame.currentNamespace}()),O=_.firstCreatePass?function uM(a,c,d,f,m,_,x){const C=c.consts,O=Tc(c,a,2,m,eo(C,_));return Lw(c,d,O,eo(C,x)),null!==O.attrs&&Ug(O,O.attrs,!1),null!==O.mergedAttrs&&Ug(O,O.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,O),O}(x,_,m,0,c,d,f):_.data[x];_s(O,!0);const L=O.mergedAttrs;null!==L&&_a(C,I,L);const q=O.classes;null!==q&&wd(C,I,q);const ge=O.styles;return null!==ge&&hw(C,I,ge),64!=(64&O.flags)&&Sc(_,m,I,O),0===function nu(){return kn.lFrame.elementDepthCount}()&&Us(I,m),function Ff(){kn.lFrame.elementDepthCount++}(),Xc(O)&&(kw(_,m,O),Lg(_,O,m)),null!==f&&Mw(m,O),Iv}function kv(){let a=mi();rd()?nc():(a=a.parent,_s(a,!1));const c=a;!function ru(){kn.lFrame.elementDepthCount--}();const d=qn();return d.firstCreatePass&&(vh(d,a),Na(a)&&d.queries.elementEnd(a)),null!=c.classesWithoutHost&&function sd(a){return 0!=(16&a.flags)}(c)&&Kg(d,c,pt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function od(a){return 0!=(32&a.flags)}(c)&&Kg(d,c,pt(),c.stylesWithoutHost,!1),kv}function Mv(a,c,d,f){return Iv(a,c,d,f),kv(),Mv}function Rv(a,c,d){const f=pt(),m=qn(),_=a+22,x=m.firstCreatePass?function dM(a,c,d,f,m){const _=c.consts,x=eo(_,f),C=Tc(c,a,8,"ng-container",x);return null!==x&&Ug(C,x,!0),Lw(c,d,C,eo(_,m)),null!==c.queries&&c.queries.elementStart(c,C),C}(_,m,f,c,d):m.data[_];_s(x,!0);const C=f[_]=f[11].createComment("");return Sc(m,f,C,x),Us(C,f),Xc(x)&&(kw(m,f,x),Lg(m,x,f)),null!=d&&Mw(f,x),Rv}function Fv(){let a=mi();const c=qn();return rd()?nc():(a=a.parent,_s(a,!1)),c.firstCreatePass&&(vh(c,a),Na(a)&&c.queries.elementEnd(a)),Fv}function ro(){return pt()}function Dp(a){return!!a&&"function"==typeof a.then}function Kw(a){return!!a&&"function"==typeof a.subscribe}const Ov=Kw;function Sp(a,c,d,f){const m=pt(),_=qn(),x=mi();return ND(_,m,m[11],x,a,c,0,f),Sp}function Xg(a,c){const d=mi(),f=pt(),m=qn();return ND(m,f,Cv(hh(m.data),d,f),d,a,c),Xg}function ND(a,c,d,f,m,_,x,C){const I=Xc(f),L=a.firstCreatePass&&AD(a),q=c[8],ge=Zk(c);let Ie=!0;if(3&f.type||C){const Gt=Wi(f,c),rn=C?C(Gt):Gt,Tn=ge.length,gt=C?sr=>C(Zr(sr[f.index])):f.index;let wn=null;if(!C&&I&&(wn=function Xw(a,c,d,f){const m=a.cleanup;if(null!=m)for(let _=0;_<m.length-1;_+=2){const x=m[_];if(x===d&&m[_+1]===f){const C=c[7],I=m[_+2];return C.length>I?C[I]:null}"string"==typeof x&&(_+=2)}return null}(a,c,m,f.index)),null!==wn)(wn.__ngLastListenerFn__||wn).__ngNextListenerFn__=_,wn.__ngLastListenerFn__=_,Ie=!1;else{_=VD(f,c,q,_,!1);const sr=d.listen(rn,m,_);ge.push(_,sr),L&&L.push(m,gt,Tn,Tn+1)}}else _=VD(f,c,q,_,!1);const ze=f.outputs;let Dt;if(Ie&&null!==ze&&(Dt=ze[m])){const Gt=Dt.length;if(Gt)for(let rn=0;rn<Gt;rn+=2){const Ar=c[Dt[rn]][Dt[rn+1]].subscribe(_),Do=ge.length;ge.push(_,Ar),L&&L.push(m,f.index,Do,-(Do+1))}}}function LD(a,c,d,f){try{return!1!==d(f)}catch(m){return Gw(a,m),!1}}function VD(a,c,d,f,m){return function _(x){if(x===Function)return f;jw(2&a.flags?lr(a.index,c):c);let I=LD(c,0,f,x),O=_.__ngNextListenerFn__;for(;O;)I=LD(c,0,O,x)&&I,O=O.__ngNextListenerFn__;return m&&!1===I&&(x.preventDefault(),x.returnValue=!1),I}}function BD(a=1){return function Ua(a){return(kn.lFrame.contextLView=function Vf(a,c){for(;a>0;)c=c[15],a--;return c}(a,kn.lFrame.contextLView))[8]}(a)}function hM(a,c){let d=null;const f=function YC(a){const c=a.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(a);for(let m=0;m<c.length;m++){const _=c[m];if("*"!==_){if(null===f?pw(a,_,!0):Hh(f,_))return m}else d=m}return d}function Tp(a){const c=pt()[16][6];if(!c.projection){const f=c.projection=Vs(a?a.length:1,null),m=f.slice();let _=c.child;for(;null!==_;){const x=a?hM(_,a):0;null!==x&&(m[x]?m[x].projectionNext=_:f[x]=_,m[x]=_),_=_.next}}}function Qw(a,c=0,d){const f=pt(),m=qn(),_=Tc(m,22+a,16,null,d||null);null===_.projection&&(_.projection=c),nc(),64!=(64&_.flags)&&function bg(a,c,d){Uh(c[11],0,c,d,lw(a,d,c),jC(d.parent||c[6],d,c))}(m,f,_)}function Ap(a,c,d){return Pv(a,"",c,"",d),Ap}function Pv(a,c,d,f,m){const _=pt(),x=Gg(_,c,d,f);return x!==Un&&zo(qn(),jr(),_,a,x,_[11],m,!1),Pv}function Vv(a,c,d,f,m){const _=a[d+1],x=null===c;let C=f?xl(_):qi(_),I=!1;for(;0!==C&&(!1===I||x);){const L=a[C+1];$D(a[C],c)&&(I=!0,a[C+1]=f?ww(L):Ig(L)),C=f?xl(L):qi(L)}I&&(a[d+1]=f?Ig(_):ww(_))}function $D(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&yo(a,c)>=0}function Ip(a,c,d){return Cl(a,c,d,!1),Ip}function rx(a,c){return Cl(a,c,null,!0),rx}function Cl(a,c,d,f){const m=pt(),_=qn(),x=ma(2);_.firstUpdatePass&&function QD(a,c,d,f){const m=a.data;if(null===m[d+1]){const _=m[Hr()],x=function XD(a,c){return c>=a.expandoStartIndex}(a,d);(function xM(a,c){return 0!=(a.flags&(c?16:32))})(_,f)&&null===c&&!x&&(c=!1),c=function yM(a,c,d,f){const m=hh(a);let _=f?c.residualClasses:c.residualStyles;if(null===m)0===(f?c.classBindings:c.styleBindings)&&(d=e0(d=Jg(null,a,c,d,f),c.attrs,f),_=null);else{const x=c.directiveStylingLast;if(-1===x||a[x]!==m)if(d=Jg(m,a,c,d,f),null===_){let I=function jv(a,c,d){const f=d?c.classBindings:c.styleBindings;if(0!==qi(f))return a[xl(f)]}(a,c,f);void 0!==I&&Array.isArray(I)&&(I=Jg(null,a,c,I[1],f),I=e0(I,c.attrs,f),function JD(a,c,d,f){a[xl(d?c.classBindings:c.styleBindings)]=f}(a,c,f,I))}else _=function eS(a,c,d){let f;const m=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<m;_++)f=e0(f,a[_].hostAttrs,d);return e0(f,c.attrs,d)}(a,c,f)}return void 0!==_&&(f?c.residualClasses=_:c.residualStyles=_),d}(m,_,c,f),function Qg(a,c,d,f,m,_){let x=_?c.classBindings:c.styleBindings,C=xl(x),I=qi(x);a[f]=d;let L,O=!1;if(Array.isArray(d)){const q=d;L=q[1],(null===L||yo(q,L)>0)&&(O=!0)}else L=d;if(m)if(0!==I){const ge=xl(a[C+1]);a[f+1]=gp(ge,C),0!==ge&&(a[ge+1]=fv(a[ge+1],f)),a[C+1]=function Dk(a,c){return 131071&a|c<<17}(a[C+1],f)}else a[f+1]=gp(C,0),0!==C&&(a[C+1]=fv(a[C+1],f)),C=f;else a[f+1]=gp(I,0),0===C?C=f:a[I+1]=fv(a[I+1],f),I=f;O&&(a[f+1]=Ig(a[f+1])),Vv(a,L,f,!0),Vv(a,L,f,!1),function pM(a,c,d,f,m){const _=m?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof c&&yo(_,c)>=0&&(d[f+1]=ww(d[f+1]))}(c,L,a,f,_),x=gp(C,I),_?c.classBindings=x:c.styleBindings=x}(m,_,c,d,x,f)}}(_,a,x,f),c!==Un&&qr(m,x,c)&&function ix(a,c,d,f,m,_,x,C){if(!(3&c.type))return;const I=a.data,O=I[C+1];t0(function _p(a){return 1==(1&a)}(O)?sx(I,c,d,m,qi(O),x):void 0)||(t0(_)||function fD(a){return 2==(2&a)}(O)&&(_=sx(I,null,d,m,C,x)),function WC(a,c,d,f,m){if(c)m?a.addClass(d,f):a.removeClass(d,f);else{let _=-1===f.indexOf("-")?void 0:Iu.DashCase;null==m?a.removeStyle(d,f,_):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),_|=Iu.Important),a.setStyle(d,f,m,_))}}(f,x,_o(Hr(),d),m,_))}(_,_.data[Hr()],m,m[11],a,m[x+1]=function rS(a,c){return null==a||("string"==typeof c?a+=c:"object"==typeof a&&(a=je(yl(a)))),a}(c,d),f,x)}function Jg(a,c,d,f,m){let _=null;const x=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<x&&(_=c[C],f=e0(f,_.hostAttrs,m),_!==a);)C++;return null!==a&&(d.directiveStylingLast=C),f}function e0(a,c,d){const f=d?1:2;let m=-1;if(null!==c)for(let _=0;_<c.length;_++){const x=c[_];"number"==typeof x?m=x:m===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),vs(a,x,!!d||c[++_]))}return void 0===a?null:a}function sx(a,c,d,f,m,_){const x=null===c;let C;for(;m>0;){const I=a[m],O=Array.isArray(I),L=O?I[1]:I,q=null===L;let ge=d[m+1];ge===Un&&(ge=q?xn:void 0);let Ie=q?yu(ge,f):L===f?ge:void 0;if(O&&!t0(Ie)&&(Ie=yu(I,f)),t0(Ie)&&(C=Ie,x))return C;const ze=a[m+1];m=x?xl(ze):qi(ze)}if(null!==c){let I=_?c.residualClasses:c.residualStyles;null!=I&&(C=yu(I,f))}return C}function t0(a){return void 0!==a}function iS(a,c=""){const d=pt(),f=qn(),m=a+22,_=f.firstCreatePass?Tc(f,m,1,c,null):f.data[m],x=d[m]=function Mu(a,c){return a.createText(c)}(d[11],c);Sc(f,d,x,_),_s(_,!1)}function sS(a){return ox("",a,""),sS}function ox(a,c,d){const f=pt(),m=Gg(f,a,c,d);return m!==Un&&Dd(f,Hr(),m),ox}function n0(a,c,d,f,m){const _=pt(),x=function $g(a,c,d,f,m,_){const C=Ac(a,Po(),d,m);return ma(2),C?c+et(d)+f+et(m)+_:Un}(_,a,c,d,f,m);return x!==Un&&Dd(_,Hr(),x),n0}function oS(a,c,d,f,m,_,x){const C=pt(),I=bp(C,a,c,d,f,m,_,x);return I!==Un&&Dd(C,Hr(),I),oS}function gx(a,c,d){const f=pt();return qr(f,au(),c)&&zo(qn(),jr(),f,a,c,f[11],d,!0),gx}function zv(a,c,d){const f=pt();if(qr(f,au(),c)){const _=qn(),x=jr();zo(_,x,f,a,c,Cv(hh(_.data),x,f),d,!0)}return zv}const zh=void 0;var sn=["en",[["a","p"],["AM","PM"],zh],[["AM","PM"],zh,zh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zh,"{1} 'at' {0}",zh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vu(a){const d=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let Td={};function kp(a){const c=function AM(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=hS(c);if(d)return d;const f=c.split("-")[0];if(d=hS(f),d)return d;if("en"===f)return sn;throw new nt(701,!1)}function Mp(a){return kp(a)[Sn.PluralCase]}function hS(a){return a in Td||(Td[a]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[a]),Td[a]}var Sn=(()=>((Sn=Sn||{})[Sn.LocaleId=0]="LocaleId",Sn[Sn.DayPeriodsFormat=1]="DayPeriodsFormat",Sn[Sn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sn[Sn.DaysFormat=3]="DaysFormat",Sn[Sn.DaysStandalone=4]="DaysStandalone",Sn[Sn.MonthsFormat=5]="MonthsFormat",Sn[Sn.MonthsStandalone=6]="MonthsStandalone",Sn[Sn.Eras=7]="Eras",Sn[Sn.FirstDayOfWeek=8]="FirstDayOfWeek",Sn[Sn.WeekendRange=9]="WeekendRange",Sn[Sn.DateFormat=10]="DateFormat",Sn[Sn.TimeFormat=11]="TimeFormat",Sn[Sn.DateTimeFormat=12]="DateTimeFormat",Sn[Sn.NumberSymbols=13]="NumberSymbols",Sn[Sn.NumberFormats=14]="NumberFormats",Sn[Sn.CurrencyCode=15]="CurrencyCode",Sn[Sn.CurrencySymbol=16]="CurrencySymbol",Sn[Sn.CurrencyName=17]="CurrencyName",Sn[Sn.Currencies=18]="Currencies",Sn[Sn.Directionality=19]="Directionality",Sn[Sn.PluralCase=20]="PluralCase",Sn[Sn.ExtraData=21]="ExtraData",Sn))();const Bu="en-US";let _x=Bu;function Lx(a,c,d,f,m){if(a=be(a),Array.isArray(a))for(let _=0;_<a.length;_++)Lx(a[_],c,d,f,m);else{const _=qn(),x=pt();let C=Su(a)?a:be(a.provide),I=G1(a);const O=mi(),L=1048575&O.providerIndexes,q=O.directiveStart,ge=O.providerIndexes>>20;if(Su(a)||!a.multi){const Ie=new to(I,m,Ag),ze=Vx(C,c,m?L:L+ge,q);-1===ze?(hl(va(O,x),_,C),Id(_,a,c.length),c.push(C),O.directiveStart++,O.directiveEnd++,m&&(O.providerIndexes+=1048576),d.push(Ie),x.push(Ie)):(d[ze]=Ie,x[ze]=Ie)}else{const Ie=Vx(C,c,L+ge,q),ze=Vx(C,c,L,L+ge),Dt=Ie>=0&&d[Ie],Gt=ze>=0&&d[ze];if(m&&!Gt||!m&&!Dt){hl(va(O,x),_,C);const rn=function NS(a,c,d,f,m){const _=new to(a,d,Ag);return _.multi=[],_.index=c,_.componentProviders=0,OS(_,m,f&&!d),_}(m?PS:qh,d.length,m,f,I);!m&&Gt&&(d[ze].providerFactory=rn),Id(_,a,c.length,0),c.push(C),O.directiveStart++,O.directiveEnd++,m&&(O.providerIndexes+=1048576),d.push(rn),x.push(rn)}else Id(_,a,Ie>-1?Ie:ze,OS(d[m?ze:Ie],I,!m&&f));!m&&f&&Gt&&d[ze].componentProviders++}}}function Id(a,c,d,f){const m=Su(c),_=function BI(a){return!!a.useClass}(c);if(m||_){const I=(_?be(c.useClass):c).prototype.ngOnDestroy;if(I){const O=a.destroyHooks||(a.destroyHooks=[]);if(!m&&c.multi){const L=O.indexOf(d);-1===L?O.push(d,[f,I]):O[L+1].push(f,I)}else O.push(d,I)}}}function OS(a,c,d){return d&&a.componentProviders++,a.multi.push(c)-1}function Vx(a,c,d,f){for(let m=d;m<f;m++)if(c[m]===a)return m;return-1}function qh(a,c,d,f){return Np(this.multi,[])}function PS(a,c,d,f){const m=this.multi;let _;if(this.providerFactory){const x=this.providerFactory.componentProviders,C=No(d,d[1],this.providerFactory.index,f);_=C.slice(0,x),Np(m,_);for(let I=x;I<C.length;I++)_.push(C[I])}else _=[],Np(m,_);return _}function Np(a,c){for(let d=0;d<a.length;d++)c.push((0,a[d])());return c}function Lp(a,c=[]){return d=>{d.providersResolver=(f,m)=>function HM(a,c,d){const f=qn();if(f.firstCreatePass){const m=Ps(a);Lx(d,f.data,f.blueprint,m,!0),Lx(c,f.data,f.blueprint,m,!1)}}(f,m?m(a):a,c)}}class Yh{}class so{}function LS(a,c){return new d0(a,c??null)}class d0 extends Yh{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dv(this);const f=mn(c);this._bootstrapComponents=$o(f.bootstrap),this._r3Injector=lv(c,d,[{provide:Yh,useValue:this},{provide:ug,useValue:this.componentFactoryResolver}],je(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class oy extends so{constructor(c){super(),this.moduleType=c}create(c){return new d0(this.moduleType,c)}}class Bx extends Yh{constructor(c,d,f){super(),this.componentFactoryResolver=new Dv(this),this.instance=null;const m=new CC([...c,{provide:Yh,useValue:this},{provide:ug,useValue:this.componentFactoryResolver}],d||Y_(),f,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function ay(a,c,d=null){return new Bx(a,c,d).injector}let VS=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const f=xC(0,d.type),m=f.length>0?ay([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,m)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=ar({token:a,providedIn:"environment",factory:()=>new a(ii(yd))}),a})();function Vp(a){a.getStandaloneInjector=c=>c.get(VS).getOrCreateStandaloneInjector(a)}function py(a,c,d,f){return function m0(a,c,d,f,m,_){const x=c+d;return qr(a,x,m)?function Ya(a,c,d){return a[c]=d}(a,x+1,_?f.call(_,m):f(m)):function Sa(a,c){const d=a[c];return d===Un?void 0:d}(a,x+1)}(pt(),function gi(){const a=kn.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}(),a,c,d,f)}function zx(a){return c=>{setTimeout(a,void 0,c)}}const qo=class XM extends l.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,f){let m=c,_=d||(()=>null),x=f;if(c&&"object"==typeof c){const I=c;m=I.next?.bind(I),_=I.error?.bind(I),x=I.complete?.bind(I)}this.__isAsync&&(_=zx(_),m&&(m=zx(m)),x&&(x=zx(x)));const C=super.subscribe({next:m,error:_,complete:x});return c instanceof te.w0&&c.add(C),C}};function kd(){return this._results[Wo()]()}class gy{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Wo(),f=gy.prototype;f[d]||(f[d]=kd)}get changes(){return this._changes||(this._changes=new qo)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const f=this;f.dirty=!1;const m=is(c);(this._changesDetected=!function Yf(a,c,d){if(a.length!==c.length)return!1;for(let f=0;f<a.length;f++){let m=a[f],_=c[f];if(d&&(m=d(m),_=d(_)),_!==m)return!1}return!0}(f._results,m,d))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Hp=(()=>{class a{}return a.__NG_ELEMENT_ID__=QM,a})();const GS=Hp,jp=class extends GS{constructor(c,d,f){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(c,d){const f=this._declarationTContainer.tViews,m=Pg(this._declarationLView,f,c,16,null,f.declTNode,null,null,null,null,d||null);m[17]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[19];return null!==x&&(m[19]=x.createEmbeddedView(f)),wv(f,m,c),new $h(m)}};function QM(){return _y(mi(),pt())}function _y(a,c){return 4&a.type?new jp(c,a,Ph(a,c)):null}let x0=(()=>{class a{}return a.__NG_ELEMENT_ID__=JM,a})();function JM(){return Wx(mi(),pt())}const $S=x0,Zx=class extends $S{constructor(c,d,f){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=f}get element(){return Ph(this._hostTNode,this._hostLView)}get injector(){return new hc(this._hostTNode,this._hostLView)}get parentInjector(){const c=mu(this._hostTNode,this._hostLView);if(Bm(c)){const d=Ha(c,this._hostLView),f=_i(c);return new hc(d[1].data[f+8],d)}return new hc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=vy(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,f){let m,_;"number"==typeof f?m=f:null!=f&&(m=f.index,_=f.injector);const x=c.createEmbeddedView(d||{},_);return this.insert(x,m),x}createComponent(c,d,f,m,_){const x=c&&!function vi(a){return"function"==typeof a}(c);let C;if(x)C=d;else{const q=d||{};C=q.index,f=q.injector,m=q.projectableNodes,_=q.environmentInjector||q.ngModuleRef}const I=x?c:new Hg(se(c)),O=f||this.parentInjector;if(!_&&null==I.ngModule){const ge=(x?O:this.parentInjector).get(yd,null);ge&&(_=ge)}const L=I.create(O,m,void 0,_);return this.insert(L.hostView,C),L}insert(c,d){const f=c._lView,m=f[1];if(function uh(a){return Ks(a[3])}(f)){const L=this.indexOf(c);if(-1!==L)this.detach(L);else{const q=f[3],ge=new Zx(q,q[6],q[3]);ge.detach(ge.indexOf(c))}}const _=this._adjustIndex(d),x=this._lContainer;!function ak(a,c,d,f){const m=10+f,_=d.length;f>0&&(d[m-1][4]=c),f<_-10?(c[4]=d[m],vu(d,10+f,c)):(d.push(c),c[4]=null),c[3]=d;const x=c[17];null!==x&&d!==x&&function ev(a,c){const d=a[9];c[16]!==c[3][3][16]&&(a[2]=!0),null===d?a[9]=[c]:d.push(c)}(x,c);const C=c[19];null!==C&&C.insertView(a),c[2]|=64}(m,f,x,_);const C=uw(_,x),I=f[11],O=iv(I,x[7]);return null!==O&&function ok(a,c,d,f,m,_){f[0]=m,f[6]=c,Ru(a,f,d,1,m,_)}(m,x[6],I,f,O,C),c.attachToViewContainerRef(),vu(b0(x),_,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=vy(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),f=tv(this._lContainer,d);f&&(ml(b0(this._lContainer),d),xg(f[1],f))}detach(c){const d=this._adjustIndex(c,-1),f=tv(this._lContainer,d);return f&&null!=ml(b0(this._lContainer),d)?new $h(f):null}_adjustIndex(c,d=0){return c??this.length+d}};function vy(a){return a[8]}function b0(a){return a[8]||(a[8]=[])}function Wx(a,c){let d;const f=c[a.index];if(Ks(f))d=f;else{let m;if(8&a.type)m=Zr(f);else{const _=c[11];m=_.createComment("");const x=Wi(a,c);Bh(_,iv(_,x),m,function lk(a,c){return a.nextSibling(c)}(_,x),!1)}c[a.index]=d=Bg(f,c,m,a),br(c,d)}return new Zx(d,a,c)}class Yx{constructor(c){this.queryList=c,this.matches=null}clone(){return new Yx(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kx{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const f=null!==c.contentQueries?c.contentQueries[0]:d.length,m=[];for(let _=0;_<f;_++){const x=d.getByIndex(_);m.push(this.queries[x.indexInDeclarationView].clone())}return new Kx(m)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==S0(c,d).matches&&this.queries[d].setDirty()}}class E0{constructor(c,d,f=null){this.predicate=c,this.flags=d,this.read=f}}class Jh{constructor(c=[]){this.queries=c}elementStart(c,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let f=0;f<this.length;f++){const m=null!==d?d.length:0,_=this.getByIndex(f).embeddedTView(c,m);_&&(_.indexInDeclarationView=f,null!==d?d.push(_):d=[_])}return null!==d?new Jh(d):null}template(c,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Gp{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Gp(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=c.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const _=f[m];this.matchTNodeWithReadOption(c,d,Xx(d,_)),this.matchTNodeWithReadOption(c,d,_u(d,c,_,!1,!1))}else f===Hp?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,_u(d,c,f,!1,!1))}matchTNodeWithReadOption(c,d,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===dg||m===x0||m===Hp&&4&d.type)this.addMatch(d.index,-2);else{const _=_u(d,c,m,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,f)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function Xx(a,c){const d=a.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===c)return d[f+1];return null}function C0(a,c,d,f){return-1===d?function ZS(a,c){return 11&a.type?Ph(a,c):4&a.type?_y(a,c):null}(c,a):-2===d?function D0(a,c,d){return d===dg?Ph(c,a):d===Hp?_y(c,a):d===x0?Wx(c,a):void 0}(a,c,f):No(a,a[1],d,c)}function WS(a,c,d,f){const m=c[19].queries[f];if(null===m.matches){const _=a.data,x=d.matches,C=[];for(let I=0;I<x.length;I+=2){const O=x[I];C.push(O<0?null:C0(c,_[O],x[I+1],d.metadata.read))}m.matches=C}return m.matches}function ki(a,c,d,f){const m=a.queries.getByIndex(d),_=m.matches;if(null!==_){const x=WS(a,c,m,d);for(let C=0;C<_.length;C+=2){const I=_[C];if(I>0)f.push(x[C/2]);else{const O=_[C+1],L=c[-I];for(let q=10;q<L.length;q++){const ge=L[q];ge[17]===ge[3]&&ki(ge[1],ge,O,f)}if(null!==L[9]){const q=L[9];for(let ge=0;ge<q.length;ge++){const Ie=q[ge];ki(Ie[1],Ie,O,f)}}}}}return f}function Qx(a){const c=pt(),d=qn(),f=lu();fh(f+1);const m=S0(d,f);if(a.dirty&&td(c)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const _=m.crossesNgTemplate?ki(d,c,f,[]):WS(d,c,m,f);a.reset(_,IC),a.notifyOnChanges()}return!0}return!1}function qS(a,c,d){const f=qn();f.firstCreatePass&&(eb(f,new E0(a,c,d),-1),2==(2&c)&&(f.staticViewQueries=!0)),Jx(f,pt(),c)}function YS(a,c,d,f){const m=qn();if(m.firstCreatePass){const _=mi();eb(m,new E0(c,d,f),_.index),function XS(a,c){const d=a.contentQueries||(a.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,c)}(m,a),2==(2&d)&&(m.staticContentQueries=!0)}Jx(m,pt(),d)}function KS(){return function eR(a,c){return a[19].queries[c].queryList}(pt(),lu())}function Jx(a,c,d){const f=new gy(4==(4&d));Fw(a,c,f,f.destroy),null===c[19]&&(c[19]=new Kx),c[19].queries.push(new Yx(f))}function eb(a,c,d){null===a.queries&&(a.queries=new Jh),a.queries.track(new Gp(c,d))}function S0(a,c){return a.queries.getByIndex(c)}function Cy(...a){}const dT=new Mr("Application Initializer");let Dy=(()=>{class a{constructor(d){this.appInits=d,this.resolve=Cy,this.reject=Cy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const _=this.appInits[m]();if(Dp(_))d.push(_);else if(Ov(_)){const x=new Promise((C,I)=>{_.subscribe({complete:C,error:I})});d.push(x)}}Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(ii(dT,8))},a.\u0275prov=ar({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const ab=new Mr("AppId",{providedIn:"root",factory:function hT(){return`${lb()}${lb()}${lb()}`}});function lb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cb=new Mr("Platform Initializer"),Vn=new Mr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sf=new Mr("appBootstrapListener"),ui=new Mr("AnimationModuleType");let An=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ar({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const ir=new Mr("LocaleId",{providedIn:"root",factory:()=>M(ir,Xt.Optional|Xt.SkipSelf)||function F0(){return typeof $localize<"u"&&$localize.locale||Bu}()}),dR=new Mr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class db{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let af=(()=>{class a{compileModuleSync(d){return new oy(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),_=$o(mn(d).declarations).reduce((x,C)=>{const I=se(C);return I&&x.push(new Hg(I)),x},[]);return new db(f,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ar({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const pb=(()=>Promise.resolve(0))();function Sy(a){typeof Zone>"u"?pb.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class ds{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qo(!1),this.onMicrotaskEmpty=new qo(!1),this.onStable=new qo(!1),this.onError=new qo(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const m=this;if(m._nesting=0,m._outer=m._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;m._inner=m._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&d,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function fT(){let a=Mn.requestAnimationFrame,c=Mn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function Al(a){const c=()=>{!function Ty(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Mn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,gb(a),a.isCheckStableRunning=!0,Ne(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),gb(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,m,_,x,C)=>{try{return qp(a),d.invokeTask(m,_,x,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&c(),Hu(a)}},onInvoke:(d,f,m,_,x,C,I)=>{try{return qp(a),d.invoke(m,_,x,C,I)}finally{a.shouldCoalesceRunChangeDetection&&c(),Hu(a)}},onHasTask:(d,f,m,_)=>{d.hasTask(m,_),f===m&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,gb(a),Ne(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,f,m,_)=>(d.handleError(m,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ds.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(ds.isInAngularZone())throw new nt(909,!1)}run(c,d,f){return this._inner.run(c,d,f)}runTask(c,d,f,m){const _=this._inner,x=_.scheduleEventTask("NgZoneEvent: "+m,c,mb,Cy,Cy);try{return _.runTask(x,d,f)}finally{_.cancelTask(x)}}runGuarded(c,d,f){return this._inner.runGuarded(c,d,f)}runOutsideAngular(c){return this._outer.run(c)}}const mb={};function Ne(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function gb(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function qp(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Hu(a){a._nesting--,Ne(a)}class mR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qo,this.onMicrotaskEmpty=new qo,this.onStable=new qo,this.onError=new qo}run(c,d,f){return c.apply(d,f)}runGuarded(c,d,f){return c.apply(d,f)}runOutsideAngular(c){return c()}runTask(c,d,f,m){return c.apply(d,f)}}const Rd=new Mr(""),_b=new Mr("");let oo,vb=(()=>{class a{constructor(d,f,m){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oo||(function gR(a){oo=a}(m),m.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ds.assertNotInAngularZone(),Sy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sy(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==_),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,m){return[]}}return a.\u0275fac=function(d){return new(d||a)(ii(ds),ii(pT),ii(_b))},a.\u0275prov=ar({token:a,factory:a.\u0275fac}),a})(),pT=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return oo?.findTestabilityInTree(this,d,f)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ar({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),ju=null;const Fd=new Mr("AllowMultipleToken"),Ay=new Mr("PlatformDestroyListeners");class mT{constructor(c,d){this.name=c,this.token=d}}function _T(a,c,d=[]){const f=`Platform: ${c}`,m=new Mr(f);return(_=[])=>{let x=O0();if(!x||x.injector.get(Fd,!1)){const C=[...d,..._,{provide:m,useValue:!0}];a?a(C):function Yp(a){if(ju&&!ju.get(Fd,!1))throw new nt(400,!1);ju=a;const c=a.get(yb);(function gT(a){const c=a.get(cb,null);c&&c.forEach(d=>d())})(a)}(function bi(a=[],c){return xo.create({name:c,providers:[{provide:ag,useValue:"platform"},{provide:Ay,useValue:new Set([()=>ju=null])},...a]})}(C,f))}return function Od(a){const c=O0();if(!c)throw new nt(401,!1);return c}()}}function O0(){return ju?.get(yb)??null}let yb=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const m=function vT(a,c){let d;return d="noop"===a?new mR:("zone.js"===a?void 0:a)||new ds(c),d}(f?.ngZone,function Xp(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(f)),_=[{provide:ds,useValue:m}];return m.run(()=>{const x=xo.create({providers:_,parent:this.injector,name:d.moduleType.name}),C=d.create(x),I=C.injector.get(pg,null);if(!I)throw new nt(402,!1);return m.runOutsideAngular(()=>{const O=m.onError.subscribe({next:L=>{I.handleError(L)}});C.onDestroy(()=>{P0(this._modules,C),O.unsubscribe()})}),function Gu(a,c,d){try{const f=d();return Dp(f)?f.catch(m=>{throw c.runOutsideAngular(()=>a.handleError(m)),m}):f}catch(f){throw c.runOutsideAngular(()=>a.handleError(f)),f}}(I,m,()=>{const O=C.injector.get(Dy);return O.runInitializers(),O.donePromise.then(()=>(function pS(a){Zn(a,"Expected localeId to be defined"),"string"==typeof a&&(_x=a.toLowerCase().replace(/_/g,"-"))}(C.injector.get(ir,Bu)||Bu),this._moduleDoBootstrap(C),C))})})}bootstrapModule(d,f=[]){const m=Qp({},f);return function Iy(a,c,d){const f=new oy(d);return Promise.resolve(f)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,m))}_moduleDoBootstrap(d){const f=d.injector.get(Pd);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new nt(403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(Ay,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(ii(xo))},a.\u0275prov=ar({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Qp(a,c){return Array.isArray(c)?c.reduce(Qp,a):{...a,...c}}let Pd=(()=>{class a{constructor(d,f,m){this._zone=d,this._injector=f,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new H.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),x=new H.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{ds.assertNotInAngularZone(),Sy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{ds.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),O.unsubscribe()}});this.isStable=(0,Me.T)(_,x.pipe((0,Pe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const m=d instanceof SC;if(!this._injector.get(Dy).done)throw!m&&Nt(d),new nt(405,false);let x;x=m?d:this._injector.get(ug).resolveComponentFactory(d),this.componentTypes.push(x.componentType);const C=function Nr(a){return a.isBoundToModule}(x)?void 0:this._injector.get(Yh),O=x.create(xo.NULL,[],f||x.selector,C),L=O.location.nativeElement,q=O.injector.get(Rd,null);return q?.registerApplication(L),O.onDestroy(()=>{this.detachView(O.hostView),P0(this.components,O),q?.unregisterApplication(L)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;P0(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(sf,[]).concat(this._bootstrapListeners).forEach(m=>m(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>P0(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new nt(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)(ii(ds),ii(yd),ii(pg))},a.\u0275prov=ar({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function P0(a,c){const d=a.indexOf(c);d>-1&&a.splice(d,1)}let Nd=!0,Il=!1;function N0(){return Il=!0,Nd}function Ld(){if(Il)throw new Error("Cannot enable prod mode after platform setup.");Nd=!1}let lf=(()=>{class a{}return a.__NG_ELEMENT_ID__=wb,a})();function wb(a){return function V0(a,c,d){if(Kc(a)&&!d){const f=lr(a.index,c);return new $h(f,f)}return 47&a.type?new $h(c[16],c):null}(mi(),pt(),16==(16&a))}class xT{constructor(){}supports(c){return jg(c)}create(c){return new DR(c)}}const CR=(a,c)=>c;class DR{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||CR}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,f=this._removalsHead,m=0,_=null;for(;d||f;){const x=!f||d&&d.currentIndex<CT(f,m,_)?d:f,C=CT(x,m,_),I=x.currentIndex;if(x===f)m--,f=f._nextRemoved;else if(d=d._next,null==x.previousIndex)m++;else{_||(_=[]);const O=C-m,L=I-m;if(O!=L){for(let ge=0;ge<O;ge++){const Ie=ge<_.length?_[ge]:_[ge]=0,ze=Ie+ge;L<=ze&&ze<O&&(_[ge]=Ie+1)}_[x.previousIndex]=L-O}}C!==I&&c(x,C,I)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!jg(c))throw new nt(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let m,_,x,d=this._itHead,f=!1;if(Array.isArray(c)){this.length=c.length;for(let C=0;C<this.length;C++)_=c[C],x=this._trackByFn(C,_),null!==d&&Object.is(d.trackById,x)?(f&&(d=this._verifyReinsertion(d,_,x,C)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,x,C),f=!0),d=d._next}else m=0,function iM(a,c){if(Array.isArray(a))for(let d=0;d<a.length;d++)c(a[d]);else{const d=a[Wo()]();let f;for(;!(f=d.next()).done;)c(f.value)}}(c,C=>{x=this._trackByFn(m,C),null!==d&&Object.is(d.trackById,x)?(f&&(d=this._verifyReinsertion(d,C,x,m)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,x,m),f=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,f,m){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,_,m)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,_,m)):c=this._addAfter(new bT(d,f),_,m),c}_verifyReinsertion(c,d,f,m){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?c=this._reinsertAfter(_,c._prev,m):c.currentIndex!=m&&(c.currentIndex=m,this._addToMoves(c,m)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const m=c._prevRemoved,_=c._nextRemoved;return null===m?this._removalsHead=_:m._nextRemoved=_,null===_?this._removalsTail=m:_._prevRemoved=m,this._insertAfter(c,d,f),this._addToMoves(c,f),c}_moveAfter(c,d,f){return this._unlink(c),this._insertAfter(c,d,f),this._addToMoves(c,f),c}_addAfter(c,d,f){return this._insertAfter(c,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,f){const m=null===d?this._itHead:d._next;return c._next=m,c._prev=d,null===m?this._itTail=c:m._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new ET),this._linkedRecords.put(c),c.currentIndex=f,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,f=c._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ET),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class bT{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SR{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,c))return f;return null}remove(c){const d=c._prevDup,f=c._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class ET{constructor(){this.map=new Map}put(c){const d=c.trackById;let f=this.map.get(d);f||(f=new SR,this.map.set(d,f)),f.add(c)}get(c,d){const m=this.map.get(c);return m?m.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CT(a,c,d){const f=a.previousIndex;if(null===f)return f;let m=0;return d&&f<d.length&&(m=d[f]),f+c+m}class DT{constructor(){}supports(c){return c instanceof Map||Tv(c)}create(){return new Bd}}class Bd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||Tv(c)))throw new nt(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(f,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(m,f);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const f=c._prev;return d._next=c,d._prev=f,c._prev=d,f&&(f._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const m=this._records.get(c);this._maybeAddToChanges(m,d);const _=m._prev,x=m._next;return _&&(_._next=x),x&&(x._prev=_),m._next=null,m._prev=null,m}const f=new Jp(c);return this._records.set(c,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(f=>d(c[f],f))}}class Jp{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ST(){return new Py([new xT])}let Py=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||ST()),deps:[[a,new En,new Pt]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new nt(901,!1)}}return a.\u0275prov=ar({token:a,providedIn:"root",factory:ST}),a})();function Rc(){return new Ny([new DT])}let Ny=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||Rc()),deps:[[a,new En,new Pt]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(f)return f;throw new nt(901,!1)}}return a.\u0275prov=ar({token:a,providedIn:"root",factory:Rc}),a})();const Db=_T(null,"core",[]);let tm=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(ii(Pd))},a.\u0275mod=vn({type:a}),a.\u0275inj=Bn({}),a})();function Yo(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(ln,ct,z)=>{z.d(ct,{Z:()=>nt});var l=z(2090),te=z(4859),H=z(9681),Me=z(1877);class Pe{constructor(et,We){this._delegate=et,this.firebase=We,(0,H._addComponent)(et,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this._delegate.automaticDataCollectionEnabled=et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(et=>{this._delegate.checkDestroyed(),et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(et,We=H._DEFAULT_ENTRY_NAME){var qt;this._delegate.checkDestroyed();const Yt=this._delegate.container.getProvider(et);return!Yt.isInitialized()&&"EXPLICIT"===(null===(qt=Yt.getComponent())||void 0===qt?void 0:qt.instantiationMode)&&Yt.initialize(),Yt.getImmediate({identifier:We})}_removeServiceInstance(et,We=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(et).clearInstance(We)}_addComponent(et){(0,H._addComponent)(this._delegate,et)}_addOrOverwriteComponent(et){(0,H._addOrOverwriteComponent)(this._delegate,et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Fe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function Qe(){const en=function je(en){const et={},We={__esModule:!0,initializeApp:function vt(ke,Le={}){const Xe=H.initializeApp(ke,Le);if((0,l.r3)(et,Xe.name))return et[Xe.name];const ye=new en(Xe,We);return et[Xe.name]=ye,ye},app:Yt,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function rt(ke){const Le=ke.name,Xe=Le.replace("-compat","");if(H._registerComponent(ke)&&"PUBLIC"===ke.type){const ye=(Ce=Yt())=>{if("function"!=typeof Ce[Xe])throw Fe.create("invalid-app-argument",{appName:Le});return Ce[Xe]()};void 0!==ke.serviceProps&&(0,l.ZB)(ye,ke.serviceProps),We[Xe]=ye,en.prototype[Xe]=function(...Ce){return this._getService.bind(this,Le).apply(this,ke.multipleInstances?Ce:[])}}return"PUBLIC"===ke.type?We[Xe]:null},removeApp:function qt(ke){delete et[ke]},useAsService:function Vt(ke,Le){return"serverAuth"===Le?null:Le},modularAPIs:H}};function Yt(ke){if(!(0,l.r3)(et,ke=ke||H._DEFAULT_ENTRY_NAME))throw Fe.create("no-app",{appName:ke});return et[ke]}return We.default=We,Object.defineProperty(We,"apps",{get:function ft(){return Object.keys(et).map(ke=>et[ke])}}),Yt.App=en,We}(Pe);return en.INTERNAL=Object.assign(Object.assign({},en.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function et(We){(0,l.ZB)(en,We)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),en}(),he=new Me.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const en=self.firebase.SDK_VERSION;en&&en.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=de;!function _t(en){(0,H.registerVersion)("@firebase/app-compat","0.1.33",en)}()},9681:(ln,ct,z)=>{z.r(ct),z.d(ct,{FirebaseError:()=>Me.ZR,SDK_VERSION:()=>Mo,_DEFAULT_ENTRY_NAME:()=>Zn,_addComponent:()=>dr,_addOrOverwriteComponent:()=>ar,_apps:()=>Cr,_clearComponents:()=>Gl,_components:()=>Kr,_getProvider:()=>Bn,_registerComponent:()=>$n,_removeServiceInstance:()=>ji,deleteApp:()=>Fo,getApp:()=>Xr,getApps:()=>Ro,initializeApp:()=>Rs,onLog:()=>Qr,registerVersion:()=>Fi,setLogLevel:()=>wr});var l=z(5861),te=z(4859),H=z(1877),Me=z(2090),Pe=z(8766);class qe{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(pe=>{if(function Fe(ie){return"VERSION"===ie.getComponent()?.type}(pe)){const at=pe.getImmediate();return`${at.library}/${at.version}`}return null}).filter(pe=>pe).join(" ")}}const je="@firebase/app",de=new H.Yd("@firebase/app"),Zn="[DEFAULT]",Bt={[je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cr=new Map,Kr=new Map;function dr(ie,fe){try{ie.container.addComponent(fe)}catch(pe){de.debug(`Component ${fe.name} failed to register with FirebaseApp ${ie.name}`,pe)}}function ar(ie,fe){ie.container.addOrOverwriteComponent(fe)}function $n(ie){const fe=ie.name;if(Kr.has(fe))return de.debug(`There were multiple attempts to register component ${fe}.`),!1;Kr.set(fe,ie);for(const pe of Cr.values())dr(pe,ie);return!0}function Bn(ie,fe){const pe=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return pe&&pe.triggerHeartbeat(),ie.container.getProvider(fe)}function ji(ie,fe,pe=Zn){Bn(ie,fe).clearInstance(pe)}function Gl(){Kr.clear()}const Br=new Me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class aa{constructor(fe,pe,at){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},pe),this._name=pe.name,this._automaticDataCollectionEnabled=pe.automaticDataCollectionEnabled,this._container=at,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const Mo="9.9.4";function Rs(ie,fe={}){"object"!=typeof fe&&(fe={name:fe});const pe=Object.assign({name:Zn,automaticDataCollectionEnabled:!1},fe),at=pe.name;if("string"!=typeof at||!at)throw Br.create("bad-app-name",{appName:String(at)});const Ft=Cr.get(at);if(Ft){if((0,Me.vZ)(ie,Ft.options)&&(0,Me.vZ)(pe,Ft.config))return Ft;throw Br.create("duplicate-app",{appName:at})}const vn=new te.H0(at);for(const hr of Kr.values())vn.addComponent(hr);const mr=new aa(ie,pe,vn);return Cr.set(at,mr),mr}function Xr(ie=Zn){const fe=Cr.get(ie);if(!fe)throw Br.create("no-app",{appName:ie});return fe}function Ro(){return Array.from(Cr.values())}function Fo(ie){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(ie){const fe=ie.name;Cr.has(fe)&&(Cr.delete(fe),yield Promise.all(ie.container.getProviders().map(pe=>pe.delete())),ie.isDeleted=!0)})).apply(this,arguments)}function Fi(ie,fe,pe){var at;let Ft=null!==(at=Bt[ie])&&void 0!==at?at:ie;pe&&(Ft+=`-${pe}`);const vn=Ft.match(/\s|\//),mr=fe.match(/\s|\//);if(vn||mr){const hr=[`Unable to register library "${Ft}" with version "${fe}":`];return vn&&hr.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),vn&&mr&&hr.push("and"),mr&&hr.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void de.warn(hr.join(" "))}$n(new te.wA(`${Ft}-version`,()=>({library:Ft,version:fe}),"VERSION"))}function Qr(ie,fe){if(null!==ie&&"function"!=typeof ie)throw Br.create("invalid-log-argument");(0,H.Am)(ie,fe)}function wr(ie){(0,H.Ub)(ie)}const kr="firebase-heartbeat-store";let Rr=null;function Sr(){return Rr||(Rr=(0,Pe.X3)("firebase-heartbeat-database",1,{upgrade:(ie,fe)=>{0===fe&&ie.createObjectStore(kr)}}).catch(ie=>{throw Br.create("idb-open",{originalErrorMessage:ie.message})})),Rr}function hn(){return(hn=(0,l.Z)(function*(ie){var fe;try{return(yield Sr()).transaction(kr).objectStore(kr).get(Oi(ie))}catch(pe){if(pe instanceof Me.ZR)de.warn(pe.message);else{const at=Br.create("idb-get",{originalErrorMessage:null===(fe=pe)||void 0===fe?void 0:fe.message});de.warn(at.message)}}})).apply(this,arguments)}function Mn(ie,fe){return gs.apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(ie,fe){var pe;try{const Ft=(yield Sr()).transaction(kr,"readwrite");return yield Ft.objectStore(kr).put(fe,Oi(ie)),Ft.done}catch(at){if(at instanceof Me.ZR)de.warn(at.message);else{const Ft=Br.create("idb-set",{originalErrorMessage:null===(pe=at)||void 0===pe?void 0:pe.message});de.warn(Ft.message)}}})).apply(this,arguments)}function Oi(ie){return`${ie.name}!${ie.options.appId}`}class ns{constructor(fe){this.container=fe,this._heartbeatsCache=null;const pe=this.container.getProvider("app").getImmediate();this._storage=new Wn(pe),this._heartbeatsCachePromise=this._storage.read().then(at=>(this._heartbeatsCache=at,at))}triggerHeartbeat(){var fe=this;return(0,l.Z)(function*(){const at=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=Rn();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!fe._heartbeatsCache.heartbeats.some(vn=>vn.date===Ft))return fe._heartbeatsCache.heartbeats.push({date:Ft,agent:at}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(vn=>{const mr=new Date(vn.date).valueOf();return Date.now()-mr<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,l.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const pe=Rn(),{heartbeatsToSend:at,unsentEntries:Ft}=function Fs(ie,fe=1024){const pe=[];let at=ie.slice();for(const Ft of ie){const vn=pe.find(mr=>mr.agent===Ft.agent);if(vn){if(vn.dates.push(Ft.date),_e(pe)>fe){vn.dates.pop();break}}else if(pe.push({agent:Ft.agent,dates:[Ft.date]}),_e(pe)>fe){pe.pop();break}at=at.slice(1)}return{heartbeatsToSend:pe,unsentEntries:at}}(fe._heartbeatsCache.heartbeats),vn=(0,Me.L)(JSON.stringify({version:2,heartbeats:at}));return fe._heartbeatsCache.lastSentHeartbeatDate=pe,Ft.length>0?(fe._heartbeatsCache.heartbeats=Ft,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),vn})()}}function Rn(){return(new Date).toISOString().substring(0,10)}class Wn{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Me.hl)()&&(0,Me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,l.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function dn(ie){return hn.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var pe=this;return(0,l.Z)(function*(){var at;if(yield pe._canUseIndexedDBPromise){const vn=yield pe.read();return Mn(pe.app,{lastSentHeartbeatDate:null!==(at=fe.lastSentHeartbeatDate)&&void 0!==at?at:vn.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var pe=this;return(0,l.Z)(function*(){var at;if(yield pe._canUseIndexedDBPromise){const vn=yield pe.read();return Mn(pe.app,{lastSentHeartbeatDate:null!==(at=fe.lastSentHeartbeatDate)&&void 0!==at?at:vn.lastSentHeartbeatDate,heartbeats:[...vn.heartbeats,...fe.heartbeats]})}})()}}function _e(ie){return(0,Me.L)(JSON.stringify({version:2,heartbeats:ie})).length}!function ce(ie){$n(new te.wA("platform-logger",fe=>new qe(fe),"PRIVATE")),$n(new te.wA("heartbeat",fe=>new ns(fe),"PRIVATE")),Fi(je,"0.7.32",ie),Fi(je,"0.7.32","esm2017"),Fi("fire-js","")}("")},4859:(ln,ct,z)=>{z.d(ct,{H0:()=>je,wA:()=>H});var l=z(5861),te=z(2090);class H{constructor(de,he,be){this.name=de,this.instanceFactory=he,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const Me="[DEFAULT]";class Pe{constructor(de,he){this.name=de,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const he=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(he)){const be=new te.BH;if(this.instancesDeferred.set(he,be),this.isInitialized(he)||this.shouldAutoInitialize())try{const kt=this.getOrInitializeService({instanceIdentifier:he});kt&&be.resolve(kt)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(de){var he;const be=this.normalizeInstanceIdentifier(de?.identifier),kt=null!==(he=de?.optional)&&void 0!==he&&he;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(kt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(_t){if(kt)return null;throw _t}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function Fe(Qe){return"EAGER"===Qe.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:Me})}catch{}for(const[he,be]of this.instancesDeferred.entries()){const kt=this.normalizeInstanceIdentifier(he);try{const _t=this.getOrInitializeService({instanceIdentifier:kt});be.resolve(_t)}catch{}}}}clearInstance(de=Me){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,l.Z)(function*(){const he=Array.from(de.instances.values());yield Promise.all([...he.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...he.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=Me){return this.instances.has(de)}getOptions(de=Me){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:he={}}=de,be=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const kt=this.getOrInitializeService({instanceIdentifier:be,options:he});for(const[_t,nt]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(_t)&&nt.resolve(kt);return kt}onInit(de,he){var be;const kt=this.normalizeInstanceIdentifier(he),_t=null!==(be=this.onInitCallbacks.get(kt))&&void 0!==be?be:new Set;_t.add(de),this.onInitCallbacks.set(kt,_t);const nt=this.instances.get(kt);return nt&&de(nt,kt),()=>{_t.delete(de)}}invokeOnInitCallbacks(de,he){const be=this.onInitCallbacks.get(he);if(be)for(const kt of be)try{kt(de,he)}catch{}}getOrInitializeService({instanceIdentifier:de,options:he={}}){let be=this.instances.get(de);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=de,Qe===Me?void 0:Qe),options:he}),this.instances.set(de,be),this.instancesOptions.set(de,he),this.invokeOnInitCallbacks(be,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,be)}catch{}var Qe;return be||null}normalizeInstanceIdentifier(de=Me){return this.component?this.component.multipleInstances?de:Me:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class je{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const he=this.getProvider(de.name);if(he.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);he.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const he=new Pe(de,this);return this.providers.set(de,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(ln,ct,z)=>{z.d(ct,{Am:()=>Qe,Ub:()=>je,Yd:()=>Fe,in:()=>te});const l=[];var te=(()=>{return(de=te||(te={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",te;var de})();const H={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},Me=te.INFO,Pe={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},qe=(de,he,...be)=>{if(he<de.logLevel)return;const kt=(new Date).toISOString(),_t=Pe[he];if(!_t)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[_t](`[${kt}]  ${de.name}:`,...be)};class Fe{constructor(he){this.name=he,this._logLevel=Me,this._logHandler=qe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in te))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?H[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...he),this._logHandler(this,te.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...he),this._logHandler(this,te.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,te.INFO,...he),this._logHandler(this,te.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,te.WARN,...he),this._logHandler(this,te.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...he),this._logHandler(this,te.ERROR,...he)}}function je(de){l.forEach(he=>{he.setLogLevel(de)})}function Qe(de,he){for(const be of l){let kt=null;he&&he.level&&(kt=H[he.level]),be.userLogHandler=null===de?null:(_t,nt,...en)=>{const et=en.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");nt>=(kt??_t.logLevel)&&de({level:te[nt].toLowerCase(),message:et,args:en,type:_t.name})}}}},8766:(ln,ct,z)=>{z.d(ct,{Lj:()=>vt,X3:()=>Yt});var l=z(5861);let H,Me;const Fe=new WeakMap,je=new WeakMap,Qe=new WeakMap,de=new WeakMap,he=new WeakMap;let _t={get(Le,Xe,ye){if(Le instanceof IDBTransaction){if("done"===Xe)return je.get(Le);if("objectStoreNames"===Xe)return Le.objectStoreNames||Qe.get(Le);if("store"===Xe)return ye.objectStoreNames[1]?void 0:ye.objectStore(ye.objectStoreNames[0])}return We(Le[Xe])},set:(Le,Xe,ye)=>(Le[Xe]=ye,!0),has:(Le,Xe)=>Le instanceof IDBTransaction&&("done"===Xe||"store"===Xe)||Xe in Le};function et(Le){return"function"==typeof Le?function en(Le){return Le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qe(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Le)?function(...Xe){return Le.apply(qt(this),Xe),We(Fe.get(this))}:function(...Xe){return We(Le.apply(qt(this),Xe))}:function(Xe,...ye){const Ce=Le.call(qt(this),Xe,...ye);return Qe.set(Ce,Xe.sort?Xe.sort():[Xe]),We(Ce)}}(Le):(Le instanceof IDBTransaction&&function kt(Le){if(je.has(Le))return;const Xe=new Promise((ye,Ce)=>{const $e=()=>{Le.removeEventListener("complete",Re),Le.removeEventListener("error",Et),Le.removeEventListener("abort",Et)},Re=()=>{ye(),$e()},Et=()=>{Ce(Le.error||new DOMException("AbortError","AbortError")),$e()};Le.addEventListener("complete",Re),Le.addEventListener("error",Et),Le.addEventListener("abort",Et)});je.set(Le,Xe)}(Le),((Le,Xe)=>Xe.some(ye=>Le instanceof ye))(Le,function Pe(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Le,_t):Le)}function We(Le){if(Le instanceof IDBRequest)return function be(Le){const Xe=new Promise((ye,Ce)=>{const $e=()=>{Le.removeEventListener("success",Re),Le.removeEventListener("error",Et)},Re=()=>{ye(We(Le.result)),$e()},Et=()=>{Ce(Le.error),$e()};Le.addEventListener("success",Re),Le.addEventListener("error",Et)});return Xe.then(ye=>{ye instanceof IDBCursor&&Fe.set(ye,Le)}).catch(()=>{}),he.set(Xe,Le),Xe}(Le);if(de.has(Le))return de.get(Le);const Xe=et(Le);return Xe!==Le&&(de.set(Le,Xe),he.set(Xe,Le)),Xe}const qt=Le=>he.get(Le);function Yt(Le,Xe,{blocked:ye,upgrade:Ce,blocking:$e,terminated:Re}={}){const Et=indexedDB.open(Le,Xe),Ct=We(Et);return Ce&&Et.addEventListener("upgradeneeded",pn=>{Ce(We(Et.result),pn.oldVersion,pn.newVersion,We(Et.transaction))}),ye&&Et.addEventListener("blocked",()=>ye()),Ct.then(pn=>{Re&&pn.addEventListener("close",()=>Re()),$e&&pn.addEventListener("versionchange",()=>$e())}).catch(()=>{}),Ct}function vt(Le,{blocked:Xe}={}){const ye=indexedDB.deleteDatabase(Le);return Xe&&ye.addEventListener("blocked",()=>Xe()),We(ye).then(()=>{})}const ft=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],Vt=new Map;function ke(Le,Xe){if(!(Le instanceof IDBDatabase)||Xe in Le||"string"!=typeof Xe)return;if(Vt.get(Xe))return Vt.get(Xe);const ye=Xe.replace(/FromIndex$/,""),Ce=Xe!==ye,$e=rt.includes(ye);if(!(ye in(Ce?IDBIndex:IDBObjectStore).prototype)||!$e&&!ft.includes(ye))return;const Re=function(){var Et=(0,l.Z)(function*(Ct,...pn){const rr=this.transaction(Ct,$e?"readwrite":"readonly");let Zn=rr.store;return Ce&&(Zn=Zn.index(pn.shift())),(yield Promise.all([Zn[ye](...pn),$e&&rr.done]))[0]});return function(pn){return Et.apply(this,arguments)}}();return Vt.set(Xe,Re),Re}!function nt(Le){_t=Le(_t)}(Le=>({...Le,get:(Xe,ye,Ce)=>ke(Xe,ye)||Le.get(Xe,ye,Ce),has:(Xe,ye)=>!!ke(Xe,ye)||Le.has(Xe,ye)}))},5861:(ln,ct,z)=>{function l(H,Me,Pe,qe,Fe,je,Qe){try{var de=H[je](Qe),he=de.value}catch(be){return void Pe(be)}de.done?Me(he):Promise.resolve(he).then(qe,Fe)}function te(H){return function(){var Me=this,Pe=arguments;return new Promise(function(qe,Fe){var je=H.apply(Me,Pe);function Qe(he){l(je,qe,Fe,Qe,de,"next",he)}function de(he){l(je,qe,Fe,Qe,de,"throw",he)}Qe(void 0)})}}z.d(ct,{Z:()=>te})}},ln=>{ln(ln.s=3671)}]);